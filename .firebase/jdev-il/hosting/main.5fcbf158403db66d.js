"use strict";var BE=Object.defineProperty,VE=(Hn,Mt,z)=>Mt in Hn?BE(Hn,Mt,{enumerable:!0,configurable:!0,writable:!0,value:z}):Hn[Mt]=z,ki=(Hn,Mt,z)=>(VE(Hn,"symbol"!=typeof Mt?Mt+"":Mt,z),z);(self.webpackChunkwewebs_client=self.webpackChunkwewebs_client||[]).push([[179],{6217:(Hn,Mt,z)=>{z.d(Mt,{nm:()=>aa});var M=z(8623);z(4650),z(259);var _t=z(5861),je=z(2951),Te=z(4859),Be=z(2090),ct=z(1877);const lt=new Map,ut={activated:!1,tokenObservers:[]},vn={initialized:!1,enabled:!1};function pn(zt){return lt.get(zt)||Object.assign({},ut)}function Gn(){return vn}class qt{constructor(Pt,Xt,Dn,Wn,Li){if(this.operation=Pt,this.retryPolicy=Xt,this.getWaitDuration=Dn,this.lowerBound=Wn,this.upperBound=Li,this.pending=null,this.nextErrorWaitInterval=Wn,Wn>Li)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Pt){var Xt=this;return(0,_t.Z)(function*(){Xt.stop();try{Xt.pending=new Be.BH,yield function en(zt){return new Promise(Pt=>{setTimeout(Pt,zt)})}(Xt.getNextRun(Pt)),Xt.pending.resolve(),yield Xt.pending.promise,Xt.pending=new Be.BH,yield Xt.operation(),Xt.pending.resolve(),yield Xt.pending.promise,Xt.process(!0).catch(()=>{})}catch(Dn){Xt.retryPolicy(Dn)?Xt.process(!1).catch(()=>{}):Xt.stop()}})()}getNextRun(Pt){if(Pt)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Xt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Xt}}}const Dt=new Be.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function St(zt){if(!pn(zt).activated)throw Dt.create("use-before-activation",{appName:zt.name})}function Cn(zt,Pt){return tn.apply(this,arguments)}function tn(){return(tn=(0,_t.Z)(function*({url:zt,body:Pt},Xt){const Dn={"Content-Type":"application/json"},Wn=Xt.getImmediate({optional:!0});if(Wn){const Lo=yield Wn.getHeartbeatsHeader();Lo&&(Dn["X-Firebase-Client"]=Lo)}const Li={method:"POST",body:JSON.stringify(Pt),headers:Dn};let nr,lr;try{nr=yield fetch(zt,Li)}catch(Lo){throw Dt.create("fetch-network-error",{originalErrorMessage:Lo?.message})}if(200!==nr.status)throw Dt.create("fetch-status-error",{httpStatus:nr.status});try{lr=yield nr.json()}catch(Lo){throw Dt.create("fetch-parse-error",{originalErrorMessage:Lo?.message})}const Ui=lr.ttl.match(/^([\d.]+)(s)$/);if(!Ui||!Ui[2]||isNaN(Number(Ui[1])))throw Dt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${lr.ttl}`});const go=1e3*Number(Ui[1]),Qo=Date.now();return{token:lr.token,expireTimeMillis:Qo+go,issuedAtTimeMillis:Qo}})).apply(this,arguments)}function wn(zt,Pt){const{projectId:Xt,appId:Dn,apiKey:Wn}=zt.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${Xt}/apps/${Dn}:exchangeDebugToken?key=${Wn}`,body:{debug_token:Pt}}}const mi="firebase-app-check-store";let li=null;function bn(){return li||(li=new Promise((zt,Pt)=>{try{const Xt=indexedDB.open("firebase-app-check-database",1);Xt.onsuccess=Dn=>{zt(Dn.target.result)},Xt.onerror=Dn=>{var Wn;Pt(Dt.create("storage-open",{originalErrorMessage:null===(Wn=Dn.target.error)||void 0===Wn?void 0:Wn.message}))},Xt.onupgradeneeded=Dn=>{0===Dn.oldVersion&&Dn.target.result.createObjectStore(mi,{keyPath:"compositeKey"})}}catch(Xt){Pt(Dt.create("storage-open",{originalErrorMessage:Xt?.message}))}}),li)}function ze(){return(ze=(0,_t.Z)(function*(zt,Pt){const Dn=(yield bn()).transaction(mi,"readwrite"),Li=Dn.objectStore(mi).put({compositeKey:zt,value:Pt});return new Promise((nr,lr)=>{Li.onsuccess=Ui=>{nr()},Dn.onerror=Ui=>{var go;lr(Dt.create("storage-set",{originalErrorMessage:null===(go=Ui.target.error)||void 0===go?void 0:go.message}))}})})).apply(this,arguments)}const Zt=new ct.Yd("@firebase/app-check");function Fn(zt,Pt){return(0,Be.hl)()?function Qt(zt,Pt){return function Ot(zt,Pt){return ze.apply(this,arguments)}(function Ze(zt){return`${zt.options.appId}-${zt.name}`}(zt),Pt)}(zt,Pt).catch(Xt=>{Zt.warn(`Failed to write token to IndexedDB. Error: ${Xt}`)}):Promise.resolve()}function Ye(){return Gn().enabled}function Ke(){return Je.apply(this,arguments)}function Je(){return(Je=(0,_t.Z)(function*(){const zt=Gn();if(zt.enabled&&zt.token)return zt.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const ti={error:"UNKNOWN_ERROR"};function Fi(zt){return Be.US.encodeString(JSON.stringify(zt),!1)}function Pi(zt){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,_t.Z)(function*(zt,Pt=!1){const Xt=zt.app;St(Xt);const Dn=pn(Xt);let Li,Wn=Dn.token;if(Wn&&!Ce(Wn)&&(Dn.token=void 0,Wn=void 0),!Wn){const Ui=yield Dn.cachedTokenPromise;Ui&&(Ce(Ui)?Wn=Ui:yield Fn(Xt,void 0))}if(!Pt&&Wn&&Ce(Wn))return{token:Wn.token};let lr,nr=!1;if(Ye()){Dn.exchangeTokenPromise||(Dn.exchangeTokenPromise=Cn(wn(Xt,yield Ke()),zt.heartbeatServiceProvider).finally(()=>{Dn.exchangeTokenPromise=void 0}),nr=!0);const Ui=yield Dn.exchangeTokenPromise;return yield Fn(Xt,Ui),Dn.token=Ui,{token:Ui.token}}try{Dn.exchangeTokenPromise||(Dn.exchangeTokenPromise=Dn.provider.getToken().finally(()=>{Dn.exchangeTokenPromise=void 0}),nr=!0),Wn=yield pn(Xt).exchangeTokenPromise}catch(Ui){"appCheck/throttled"===Ui.code?Zt.warn(Ui.message):Zt.error(Ui),Li=Ui}return Wn?Li?lr=Ce(Wn)?{token:Wn.token,internalError:Li}:gt(Li):(lr={token:Wn.token},Dn.token=Wn,yield Fn(Xt,Wn)):lr=gt(Li),nr&&_e(Xt,lr),lr})).apply(this,arguments)}function br(){return(br=(0,_t.Z)(function*(zt){const Pt=zt.app;St(Pt);const{provider:Xt}=pn(Pt);if(Ye()){const Dn=yield Ke(),{token:Wn}=yield Cn(wn(Pt,Dn),zt.heartbeatServiceProvider);return{token:Wn}}{const{token:Dn}=yield Xt.getToken();return{token:Dn}}})).apply(this,arguments)}function mt(zt,Pt){const Xt=pn(zt),Dn=Xt.tokenObservers.filter(Wn=>Wn.next!==Pt);0===Dn.length&&Xt.tokenRefresher&&Xt.tokenRefresher.isRunning()&&Xt.tokenRefresher.stop(),Xt.tokenObservers=Dn}function Me(zt){const{app:Pt}=zt,Xt=pn(Pt);let Dn=Xt.tokenRefresher;Dn||(Dn=function Qe(zt){const{app:Pt}=zt;return new qt((0,_t.Z)(function*(){let Dn;if(Dn=pn(Pt).token?yield Pi(zt,!0):yield Pi(zt),Dn.error)throw Dn.error;if(Dn.internalError)throw Dn.internalError}),()=>!0,()=>{const Xt=pn(Pt);if(Xt.token){let Dn=Xt.token.issuedAtTimeMillis+.5*(Xt.token.expireTimeMillis-Xt.token.issuedAtTimeMillis)+3e5;return Dn=Math.min(Dn,Xt.token.expireTimeMillis-3e5),Math.max(0,Dn-Date.now())}return 0},3e4,96e4)}(zt),Xt.tokenRefresher=Dn),!Dn.isRunning()&&Xt.isTokenAutoRefreshEnabled&&Dn.start()}function _e(zt,Pt){const Xt=pn(zt).tokenObservers;for(const Dn of Xt)try{"EXTERNAL"===Dn.type&&null!=Pt.error?Dn.error(Pt.error):Dn.next(Pt)}catch{}}function Ce(zt){return zt.expireTimeMillis-Date.now()>0}function gt(zt){return{token:Fi(ti),error:zt}}class We{constructor(Pt,Xt){this.app=Pt,this.heartbeatServiceProvider=Xt}_delete(){const{tokenObservers:Pt}=pn(this.app);for(const Xt of Pt)mt(this.app,Xt.next);return Promise.resolve()}}const pr="app-check-internal";!function Er(){(0,je._registerComponent)(new Te.wA("app-check",zt=>function et(zt,Pt){return new We(zt,Pt)}(zt.getProvider("app").getImmediate(),zt.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((zt,Pt,Xt)=>{zt.getProvider(pr).initialize()})),(0,je._registerComponent)(new Te.wA(pr,zt=>function $e(zt){return{getToken:Pt=>Pi(zt,Pt),getLimitedUseToken:()=>function Ii(zt){return br.apply(this,arguments)}(zt),addTokenListener:Pt=>function Gi(zt,Pt,Xt,Dn){const{app:Wn}=zt,Li=pn(Wn);if(Li.tokenObservers=[...Li.tokenObservers,{next:Xt,error:Dn,type:Pt}],Li.token&&Ce(Li.token)){const lr=Li.token;Promise.resolve().then(()=>{Xt({token:lr.token}),Me(zt)}).catch(()=>{})}Li.cachedTokenPromise.then(()=>Me(zt))}(zt,"INTERNAL",Pt),removeTokenListener:Pt=>mt(zt.app,Pt)}}(zt.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,je.registerVersion)("@firebase/app-check","0.8.0")}();class aa{constructor(){return(0,M.vb)("app-check")}}typeof window<"u"&&window},1205:(Hn,Mt,z)=>{z.d(Mt,{zQ:()=>Qi,ww:()=>or,rT:()=>vn,f7:()=>ai,L6:()=>lt,_Q:()=>ut,lh:()=>pn,Qv:()=>ct,nw:()=>Gn});var M=z(4650),J=z(7579),W=z(9646),Le=z(9751),b=z(8996),be=z(6451),at=z(5363),Ve=z(3900),qe=z(4004),Ae=z(6063);class Ue extends J.x{constructor(yi=1/0,bt=1/0,It=Ae.l){super(),this._bufferSize=yi,this._windowTime=bt,this._timestampProvider=It,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=bt===1/0,this._bufferSize=Math.max(1,yi),this._windowTime=Math.max(1,bt)}next(yi){const{isStopped:bt,_buffer:It,_infiniteTimeWindow:qt,_timestampProvider:en,_windowTime:Ht}=this;bt||(It.push(yi),!qt&&It.push(en.now()+Ht)),this._trimBuffer(),super.next(yi)}_subscribe(yi){this._throwIfClosed(),this._trimBuffer();const bt=this._innerSubscribe(yi),{_infiniteTimeWindow:It,_buffer:qt}=this,en=qt.slice();for(let Ht=0;Ht<en.length&&!yi.closed;Ht+=It?1:2)yi.next(en[Ht]);return this._checkFinalizedStatuses(yi),bt}_trimBuffer(){const{_bufferSize:yi,_timestampProvider:bt,_buffer:It,_infiniteTimeWindow:qt}=this,en=(qt?1:2)*yi;if(yi<1/0&&en<It.length&&It.splice(0,It.length-en),!qt){const Ht=bt.now();let Dt=0;for(let xn=1;xn<It.length&&It[xn]<=Ht;xn+=2)Dt=xn;Dt&&It.splice(0,Dt+1)}}}var Ge=z(3099);function kt(Ei,yi,bt){let It,qt=!1;return Ei&&"object"==typeof Ei?({bufferSize:It=1/0,windowTime:yi=1/0,refCount:qt=!1,scheduler:bt}=Ei):It=Ei??1/0,(0,Ge.B)({connector:()=>new Ue(It,yi,bt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:qt})}var it=z(590),tt=z(576);function xt(Ei,yi){return(0,tt.m)(yi)?(0,Ve.w)(()=>Ei,yi):(0,Ve.w)(()=>Ei)}var Rt=z(9468),Ct=z(9300),pt=z(8623),En=z(2011),_t=z(6895),je=z(6217),Te=z(9260);const ct=new M.OlP("angularfire2.auth.use-emulator"),lt=new M.OlP("angularfire2.auth.settings"),ut=new M.OlP("angularfire2.auth.tenant-id"),vn=new M.OlP("angularfire2.auth.langugage-code"),pn=new M.OlP("angularfire2.auth.use-device-language"),ai=new M.OlP("angularfire.auth.persistence"),Gn=(Ei,yi,bt,It,qt,en,Ht,Dt)=>(0,En.cc)(`${Ei.name}.auth`,"AngularFireAuth",Ei.name,()=>{const xn=yi.runOutsideAngular(()=>Ei.auth());if(bt&&xn.useEmulator(...bt),It&&(xn.tenantId=It),xn.languageCode=qt,en&&xn.useDeviceLanguage(),Ht)for(const[St,Vt]of Object.entries(Ht))xn.settings[St]=Vt;return Dt&&xn.setPersistence(Dt),xn},[bt,It,qt,en,Ht,Dt]);let Qi=(()=>{class Ei{constructor(bt,It,qt,en,Ht,Dt,xn,St,Vt,on,Cn,tn){const Mn=new J.x,jt=(0,W.of)(void 0).pipe((0,at.Q)(Ht.outsideAngular),(0,Ve.w)(()=>en.runOutsideAngular(()=>Promise.resolve().then(z.bind(z,2644)))),(0,qe.U)(()=>(0,En.on)(bt,en,It)),(0,qe.U)(wn=>Gn(wn,en,Dt,St,Vt,on,xn,Cn)),kt({bufferSize:1,refCount:!1}));if((0,_t.PM)(qt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,W.of)(null);else{jt.pipe((0,it.P)()).subscribe();const oi=jt.pipe((0,Ve.w)(dn=>dn.getRedirectResult().then(li=>li,()=>null)),pt.iC,kt({bufferSize:1,refCount:!1})),qn=jt.pipe((0,Ve.w)(dn=>new Le.y(li=>({unsubscribe:en.runOutsideAngular(()=>dn.onAuthStateChanged(bn=>li.next(bn),bn=>li.error(bn),()=>li.complete()))})))),mi=jt.pipe((0,Ve.w)(dn=>new Le.y(li=>({unsubscribe:en.runOutsideAngular(()=>dn.onIdTokenChanged(bn=>li.next(bn),bn=>li.error(bn),()=>li.complete()))}))));this.authState=oi.pipe(xt(qn),(0,Rt.R)(Ht.outsideAngular),(0,at.Q)(Ht.insideAngular)),this.user=oi.pipe(xt(mi),(0,Rt.R)(Ht.outsideAngular),(0,at.Q)(Ht.insideAngular)),this.idToken=this.user.pipe((0,Ve.w)(dn=>dn?(0,b.D)(dn.getIdToken()):(0,W.of)(null))),this.idTokenResult=this.user.pipe((0,Ve.w)(dn=>dn?(0,b.D)(dn.getIdTokenResult()):(0,W.of)(null))),this.credential=(0,be.T)(oi,Mn,this.authState.pipe((0,Ct.h)(dn=>!dn))).pipe((0,qe.U)(dn=>dn?.user?dn:null),(0,Rt.R)(Ht.outsideAngular),(0,at.Q)(Ht.insideAngular))}return(0,En.pX)(this,jt,en,{spy:{apply:(wn,oi,qn)=>{(wn.startsWith("signIn")||wn.startsWith("createUser"))&&qn.then(mi=>Mn.next(mi))}}})}}return Ei.\u0275fac=function(bt){return new(bt||Ei)(M.LFG(En.Dh),M.LFG(En.xv,8),M.LFG(M.Lbi),M.LFG(M.R0b),M.LFG(pt.HU),M.LFG(ct,8),M.LFG(lt,8),M.LFG(ut,8),M.LFG(vn,8),M.LFG(pn,8),M.LFG(ai,8),M.LFG(je.nm,8))},Ei.\u0275prov=M.Yz7({token:Ei,factory:Ei.\u0275fac,providedIn:"any"}),Ei})(),or=(()=>{class Ei{constructor(){Te.Z.registerVersion("angularfire",pt.q4.full,"auth-compat")}}return Ei.\u0275fac=function(bt){return new(bt||Ei)},Ei.\u0275mod=M.oAB({type:Ei}),Ei.\u0275inj=M.cJS({providers:[Qi]}),Ei})()},1762:(Hn,Mt,z)=>{z.d(Mt,{ST:()=>Ab,yb:()=>ob});var M=z(4650),J=z(4986),W=z(9751),Le=z(8996),b=z(9646),be=z(8623),at=z(8675),Ve=z(4482),qe=z(5403);function Ae(){return(0,Ve.e)((r,e)=>{let t,c=!1;r.subscribe((0,qe.x)(e,m=>{const C=t;t=m,c&&e.next([C,m]),c=!0}))})}var lt,Ue=z(4004),Ge=z(5026),kt=z(1884),it=z(9300),tt=z(2011),xt=z(6895),Ct=(z(2644),z(3942)),pt=z(5861),En=z(2951),_t=z(4859),je=z(1877),Te=z(2090),Be=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ct={},ut=ut||{},vn=Be||self;function pn(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function ai(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var Qi="closure_uid_"+(1e9*Math.random()>>>0),or=0;function Ei(r,e,t){return r.call.apply(r.bind,arguments)}function yi(r,e,t){if(!r)throw Error();if(2<arguments.length){var c=Array.prototype.slice.call(arguments,2);return function(){var m=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(m,c),r.apply(e,m)}}return function(){return r.apply(e,arguments)}}function bt(r,e,t){return(bt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ei:yi).apply(null,arguments)}function It(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var c=t.slice();return c.push.apply(c,arguments),r.apply(this,c)}}function qt(r,e){function t(){}t.prototype=e.prototype,r.$=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.ac=function(c,m,C){for(var R=Array(arguments.length-2),Y=2;Y<arguments.length;Y++)R[Y-2]=arguments[Y];return e.prototype[m].apply(c,R)}}function en(){this.s=this.s,this.o=this.o}en.prototype.s=!1,en.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Gn(r){Object.prototype.hasOwnProperty.call(r,Qi)&&r[Qi]||(r[Qi]=++or)}(this)},en.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Dt=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function xn(r){const e=r.length;if(0<e){const t=Array(e);for(let c=0;c<e;c++)t[c]=r[c];return t}return[]}function St(r,e){for(let t=1;t<arguments.length;t++){const c=arguments[t];if(pn(c)){const m=r.length||0,C=c.length||0;r.length=m+C;for(let R=0;R<C;R++)r[m+R]=c[R]}else r.push(c)}}function Vt(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}Vt.prototype.h=function(){this.defaultPrevented=!0};var on=function(){if(!vn.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{vn.addEventListener("test",()=>{},e),vn.removeEventListener("test",()=>{},e)}catch{}return r}();function Cn(r){return/^[\s\xa0]*$/.test(r)}function tn(){var r=vn.navigator;return r&&(r=r.userAgent)?r:""}function Mn(r){return-1!=tn().indexOf(r)}function jt(r){return jt[" "](r),r}jt[" "]=function(){};var Qt,r,oi=Mn("Opera"),qn=Mn("Trident")||Mn("MSIE"),mi=Mn("Edge"),dn=mi||qn,li=Mn("Gecko")&&!(-1!=tn().toLowerCase().indexOf("webkit")&&!Mn("Edge"))&&!(Mn("Trident")||Mn("MSIE"))&&!Mn("Edge"),bn=-1!=tn().toLowerCase().indexOf("webkit")&&!Mn("Edge");function On(){var r=vn.document;return r?r.documentMode:void 0}e:{var Nn="",$n=(r=tn(),li?/rv:([^\);]+)(\)|;)/.exec(r):mi?/Edge\/([\d\.]+)/.exec(r):qn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):bn?/WebKit\/(\S+)/.exec(r):oi?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if($n&&(Nn=$n?$n[1]:""),qn){var Ot=On();if(null!=Ot&&Ot>parseFloat(Nn)){Qt=String(Ot);break e}}Qt=Nn}var ke=vn.document&&qn&&(On()||parseInt(Qt,10))||void 0;function Ze(r,e){if(Vt.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,c=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(li){e:{try{jt(e.nodeName);var m=!0;break e}catch{}m=!1}m||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,c?(this.clientX=void 0!==c.clientX?c.clientX:c.pageX,this.clientY=void 0!==c.clientY?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:Zt[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&Ze.$.h.call(this)}}qt(Ze,Vt);var Zt={2:"touch",3:"pen",4:"mouse"};Ze.prototype.h=function(){Ze.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var _n="closure_listenable_"+(1e6*Math.random()|0),Zn=0;function Fn(r,e,t,c,m){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!c,this.la=m,this.key=++Zn,this.fa=this.ia=!1}function Lt(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function sn(r,e,t){for(const c in r)e.call(t,r[c],c,r)}function Ke(r){const e={};for(const t in r)e[t]=r[t];return e}const Je="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Jt(r,e){let t,c;for(let m=1;m<arguments.length;m++){for(t in c=arguments[m],c)r[t]=c[t];for(let C=0;C<Je.length;C++)t=Je[C],Object.prototype.hasOwnProperty.call(c,t)&&(r[t]=c[t])}}function ti(r){this.src=r,this.g={},this.h=0}function Fi(r,e){var t=e.type;if(t in r.g){var C,c=r.g[t],m=Dt(c,e);(C=0<=m)&&Array.prototype.splice.call(c,m,1),C&&(Lt(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function Pi(r,e,t,c){for(var m=0;m<r.length;++m){var C=r[m];if(!C.fa&&C.listener==e&&C.capture==!!t&&C.la==c)return m}return-1}ti.prototype.add=function(r,e,t,c,m){var C=r.toString();(r=this.g[C])||(r=this.g[C]=[],this.h++);var R=Pi(r,e,c,m);return-1<R?(e=r[R],t||(e.ia=!1)):((e=new Fn(e,this.src,C,!!c,m)).ia=t,r.push(e)),e};var Bi="closure_lm_"+(1e6*Math.random()|0),Ii={};function br(r,e,t,c,m){if(c&&c.once)return Me(r,e,t,c,m);if(Array.isArray(e)){for(var C=0;C<e.length;C++)br(r,e[C],t,c,m);return null}return t=$e(t),r&&r[_n]?r.O(e,t,ai(c)?!!c.capture:!!c,m):Gi(r,e,t,!1,c,m)}function Gi(r,e,t,c,m,C){if(!e)throw Error("Invalid event type");var R=ai(m)?!!m.capture:!!m,Y=We(r);if(Y||(r[Bi]=Y=new ti(r)),(t=Y.add(e,t,c,R,C)).proxy)return t;if(c=function mt(){const e=gt;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=c,c.src=r,c.listener=t,r.addEventListener)on||(m=R),void 0===m&&(m=!1),r.addEventListener(e.toString(),c,m);else if(r.attachEvent)r.attachEvent(Ce(e.toString()),c);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(c)}return t}function Me(r,e,t,c,m){if(Array.isArray(e)){for(var C=0;C<e.length;C++)Me(r,e[C],t,c,m);return null}return t=$e(t),r&&r[_n]?r.P(e,t,ai(c)?!!c.capture:!!c,m):Gi(r,e,t,!0,c,m)}function Qe(r,e,t,c,m){if(Array.isArray(e))for(var C=0;C<e.length;C++)Qe(r,e[C],t,c,m);else c=ai(c)?!!c.capture:!!c,t=$e(t),r&&r[_n]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=Pi(C=r.g[e],t,c,m))&&(Lt(C[t]),Array.prototype.splice.call(C,t,1),0==C.length&&(delete r.g[e],r.h--))):r&&(r=We(r))&&(e=r.g[e.toString()],r=-1,e&&(r=Pi(e,t,c,m)),(t=-1<r?e[r]:null)&&_e(t))}function _e(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[_n])Fi(e.i,r);else{var t=r.type,c=r.proxy;e.removeEventListener?e.removeEventListener(t,c,r.capture):e.detachEvent?e.detachEvent(Ce(t),c):e.addListener&&e.removeListener&&e.removeListener(c),(t=We(e))?(Fi(t,r),0==t.h&&(t.src=null,e[Bi]=null)):Lt(r)}}}function Ce(r){return r in Ii?Ii[r]:Ii[r]="on"+r}function gt(r,e){if(r.fa)r=!0;else{e=new Ze(e,this);var t=r.listener,c=r.la||r.src;r.ia&&_e(r),r=t.call(c,e)}return r}function We(r){return(r=r[Bi])instanceof ti?r:null}var et="__closure_events_fn_"+(1e9*Math.random()>>>0);function $e(r){return"function"==typeof r?r:(r[et]||(r[et]=function(e){return r.handleEvent(e)}),r[et])}function pe(){en.call(this),this.i=new ti(this),this.S=this,this.J=null}function Ee(r,e){var t,c=r.J;if(c)for(t=[];c;c=c.J)t.push(c);if(r=r.S,c=e.type||e,"string"==typeof e)e=new Vt(e,r);else if(e instanceof Vt)e.target=e.target||r;else{var m=e;Jt(e=new Vt(c,r),m)}if(m=!0,t)for(var C=t.length-1;0<=C;C--){var R=e.g=t[C];m=De(R,c,!0,e)&&m}if(m=De(R=e.g=r,c,!0,e)&&m,m=De(R,c,!1,e)&&m,t)for(C=0;C<t.length;C++)m=De(R=e.g=t[C],c,!1,e)&&m}function De(r,e,t,c){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var m=!0,C=0;C<e.length;++C){var R=e[C];if(R&&!R.fa&&R.capture==t){var Y=R.listener,le=R.la||R.src;R.ia&&Fi(r.i,R),m=!1!==Y.call(le,c)&&m}}return m&&!c.defaultPrevented}qt(pe,en),pe.prototype[_n]=!0,pe.prototype.removeEventListener=function(r,e,t,c){Qe(this,r,e,t,c)},pe.prototype.N=function(){if(pe.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],c=0;c<t.length;c++)Lt(t[c]);delete r.g[e],r.h--}}this.J=null},pe.prototype.O=function(r,e,t,c){return this.i.add(String(r),e,!1,t,c)},pe.prototype.P=function(r,e,t,c){return this.i.add(String(r),e,!0,t,c)};var ft=vn.JSON.stringify;function Qn(){var r=Ji;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var Wt=new class cn{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new $t,r=>r.reset());class $t{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Sn(r){var e=1;r=r.split(":");const t=[];for(;0<e&&r.length;)t.push(r.shift()),e--;return r.length&&t.push(r.join(":")),t}function Ln(r){vn.setTimeout(()=>{throw r},0)}let fi,Yi=!1,Ji=new class Ri{constructor(){this.h=this.g=null}add(e,t){const c=Wt.get();c.set(e,t),this.h?this.h.next=c:this.g=c,this.h=c}},er=()=>{const r=vn.Promise.resolve(void 0);fi=()=>{r.then(tr)}};var tr=()=>{for(var r;r=Qn();){try{r.h.call(r.g)}catch(t){Ln(t)}var e=Wt;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}Yi=!1};function es(r,e){pe.call(this),this.h=r||1,this.g=e||vn,this.j=bt(this.qb,this),this.l=Date.now()}function Ms(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function Ys(r,e,t){if("function"==typeof r)t&&(r=bt(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=bt(r.handleEvent,r)}return 2147483647<Number(e)?-1:vn.setTimeout(r,e||0)}function Zo(r){r.g=Ys(()=>{r.g=null,r.i&&(r.i=!1,Zo(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}qt(es,pe),(lt=es.prototype).ga=!1,lt.T=null,lt.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ee(this,"tick"),this.ga&&(Ms(this),this.start()))}},lt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},lt.N=function(){es.$.N.call(this),Ms(this),delete this.g};class Ea extends en{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Zo(this)}N(){super.N(),this.g&&(vn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Or(r){en.call(this),this.h=r,this.g={}}qt(Or,en);var Is=[];function Ft(r,e,t,c){Array.isArray(t)||(t&&(Is[0]=t.toString()),t=Is);for(var m=0;m<t.length;m++){var C=br(e,t[m],c||r.handleEvent,!1,r.h||r);if(!C)break;r.g[C.key]=C}}function to(r){sn(r.g,function(e,t){this.g.hasOwnProperty(t)&&_e(e)},r),r.g={}}function Da(){this.g=!0}function hs(r,e,t,c){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function aa(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var c=t[r];if(!(2>c.length)){var m=c[1];if(Array.isArray(m)&&!(1>m.length)){var C=m[0];if("noop"!=C&&"stop"!=C&&"close"!=C)for(var R=1;R<m.length;R++)m[R]=""}}}return ft(t)}catch{return e}}(r,t)+(c?" "+c:"")})}Or.prototype.N=function(){Or.$.N.call(this),to(this)},Or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Da.prototype.Ea=function(){this.g=!1},Da.prototype.info=function(){};var Kr={},Fs=null;function la(){return Fs=Fs||new pe}function xa(r){Vt.call(this,Kr.Ta,r)}function po(r){const e=la();Ee(e,new xa(e))}function mo(r,e){Vt.call(this,Kr.STAT_EVENT,r),this.stat=e}function gs(r){const e=la();Ee(e,new mo(e,r))}function uc(r,e){Vt.call(this,Kr.Ua,r),this.size=e}function Ua(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return vn.setTimeout(function(){r()},e)}Kr.Ta="serverreachability",qt(xa,Vt),Kr.STAT_EVENT="statevent",qt(mo,Vt),Kr.Ua="timingevent",qt(uc,Vt);var Fo={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},dc={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Pr(){}function Za(){}Pr.prototype.h=null;var Xt,ca={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function zt(){Vt.call(this,"d")}function Pt(){Vt.call(this,"c")}function Dn(){}function Wn(r,e,t,c){this.l=r,this.j=e,this.m=t,this.W=c||1,this.U=new Or(this),this.P=nr,this.V=new es(r=dn?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Li}function Li(){this.i=null,this.g="",this.h=!1}qt(zt,Vt),qt(Pt,Vt),qt(Dn,Pr),Dn.prototype.g=function(){return new XMLHttpRequest},Dn.prototype.i=function(){return{}},Xt=new Dn;var nr=45e3,lr={},Ui={};function go(r,e,t){r.L=1,r.v=Zr(ts(e)),r.s=t,r.S=!0,Qo(r,null)}function Qo(r,e){r.G=Date.now(),Ks(r),r.A=ts(r.v);var t=r.A,c=r.W;Array.isArray(c)||(c=[String(c)]),Sa(t.i,"t",c),r.C=0,t=r.l.J,r.h=new Li,r.g=Xe(r.l,t?e:null,!r.s),0<r.O&&(r.M=new Ea(bt(r.Pa,r,r.g),r.O)),Ft(r.U,r.g,"readystatechange",r.nb),e=r.I?Ke(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),po(),function pr(r,e,t,c,m,C){r.info(function(){if(r.g)if(C)for(var R="",Y=C.split("&"),le=0;le<Y.length;le++){var ge=Y[le].split("=");if(1<ge.length){var Ne=ge[0];ge=ge[1];var wt=Ne.split("_");R=2<=wt.length&&"type"==wt[1]?R+(Ne+"=")+ge+"&":R+(Ne+"=redacted&")}}else R=null;else R=C;return"XMLHTTP REQ ("+c+") [attempt "+m+"]: "+e+"\n"+t+"\n"+R})}(r.j,r.u,r.A,r.m,r.W,r.s)}function Lo(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function _o(r,e,t){let m,c=!0;for(;!r.J&&r.C<t.length;){if(m=Bo(r,t),m==Ui){4==e&&(r.o=4,gs(14),c=!1),hs(r.j,r.m,null,"[Incomplete Response]");break}if(m==lr){r.o=4,gs(15),hs(r.j,r.m,t,"[Invalid Chunk]"),c=!1;break}hs(r.j,r.m,m,null),al(r,m)}Lo(r)&&m!=Ui&&m!=lr&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,gs(16),c=!1),r.i=r.i&&c,c?0<t.length&&!r.ba&&(r.ba=!0,(e=r.l).g==r&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Al(e),e.M=!0,gs(11))):(hs(r.j,r.m,t,"[Invalid Chunked Response]"),Mo(r),ua(r))}function Bo(r,e){var t=r.C,c=e.indexOf("\n",t);return-1==c?Ui:(t=Number(e.substring(t,c)),isNaN(t)?lr:(c+=1)+t>e.length?Ui:(e=e.slice(c,c+t),r.C=c+t,e))}function Ks(r){r.Y=Date.now()+r.P,zl(r,r.P)}function zl(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=Ua(bt(r.lb,r),e)}function qr(r){r.B&&(vn.clearTimeout(r.B),r.B=null)}function ua(r){0==r.l.H||r.J||fl(r.l,r)}function Mo(r){qr(r);var e=r.M;e&&"function"==typeof e.sa&&e.sa(),r.M=null,Ms(r.V),to(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.sa())}function al(r,e){try{var t=r.l;if(0!=t.H&&(t.g==r||yo(t.i,r)))if(!r.K&&yo(t.i,r)&&3==t.H){try{var c=t.Ja.g.parse(e)}catch{c=null}if(Array.isArray(c)&&3==c.length){var m=c;if(0==m[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<r.G))break e;ro(t),pc(t)}ss(t),gs(18)}}else t.Fa=m[1],0<t.Fa-t.V&&37500>m[2]&&t.G&&0==t.A&&!t.v&&(t.v=Ua(bt(t.ib,t),6e3));if(1>=Ia(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else el(t,11)}else if((r.K||t.g==r)&&ro(t),!Cn(e))for(m=t.Ja.g.parse(e),e=0;e<m.length;e++){let ge=m[e];if(t.V=ge[0],ge=ge[1],2==t.H)if("c"==ge[0]){t.K=ge[1],t.pa=ge[2];const Ne=ge[3];null!=Ne&&(t.ra=Ne,t.l.info("VER="+t.ra));const wt=ge[4];null!=wt&&(t.Ga=wt,t.l.info("SVER="+t.Ga));const an=ge[5];null!=an&&"number"==typeof an&&0<an&&(t.L=c=1.5*an,t.l.info("backChannelRequestTimeoutMs_="+c)),c=t;const Rn=r.g;if(Rn){const ui=Rn.g?Rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ui){var C=c.i;C.g||-1==ui.indexOf("spdy")&&-1==ui.indexOf("quic")&&-1==ui.indexOf("h2")||(C.j=C.l,C.g=new Set,C.h&&(Ta(C,C.h),C.h=null))}if(c.F){const Ti=Rn.g?Rn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ti&&(c.Da=Ti,ls(c.I,c.F,Ti))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-r.G,t.l.info("Handshake RTT: "+t.S+"ms"));var R=r;if((c=t).wa=Oa(c,c.J?c.pa:null,c.Y),R.K){Tl(c.i,R);var Y=R,le=c.L;le&&Y.setTimeout(le),Y.B&&(qr(Y),Ks(Y)),c.g=R}else na(c);0<t.j.length&&Tc(t)}else"stop"!=ge[0]&&"close"!=ge[0]||el(t,7);else 3==t.H&&("stop"==ge[0]||"close"==ge[0]?"stop"==ge[0]?el(t,7):Kl(t):"noop"!=ge[0]&&t.h&&t.h.Aa(ge),t.A=0)}po()}catch{}}function Gl(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(pn(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function mu(r){if(r.ta&&"function"==typeof r.ta)return r.ta();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(pn(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const c in r)e[t++]=c;return e}}}(r),c=function Qa(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(pn(r)){for(var e=[],t=r.length,c=0;c<t;c++)e.push(r[c]);return e}for(c in e=[],t=0,r)e[t++]=r[c];return e}(r),m=c.length,C=0;C<m;C++)e.call(void 0,c[C],t&&t[C],r)}(lt=Wn.prototype).setTimeout=function(r){this.P=r},lt.nb=function(r){r=r.target;const e=this.M;e&&3==ea(r)?e.l():this.Pa(r)},lt.Pa=function(r){try{if(r==this.g)e:{const Ne=ea(this.g);var e=this.g.Ia();if(this.g.da(),!(3>Ne)&&(3!=Ne||dn||this.g&&(this.h.h||this.g.ja()||hl(this.g)))){this.J||4!=Ne||7==e||po(),qr(this);var t=this.g.da();this.ca=t;t:if(Lo(this)){var c=hl(this.g);r="";var m=c.length,C=4==ea(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Mo(this),ua(this);var R="";break t}this.h.i=new vn.TextDecoder}for(e=0;e<m;e++)this.h.h=!0,r+=this.h.i.decode(c[e],{stream:C&&e==m-1});c.splice(0,m),this.h.g+=r,this.C=0,R=this.h.g}else R=this.g.ja();if(this.i=200==t,function Er(r,e,t,c,m,C,R){r.info(function(){return"XMLHTTP RESP ("+c+") [ attempt "+m+"]: "+e+"\n"+t+"\n"+C+" "+R})}(this.j,this.u,this.A,this.m,this.W,Ne,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var Y,le=this.g;if((Y=le.g?le.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Cn(Y)){var ge=Y;break t}}ge=null}if(!(t=ge)){this.i=!1,this.o=3,gs(12),Mo(this),ua(this);break e}hs(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,al(this,t)}this.S?(_o(this,Ne,R),dn&&this.i&&3==Ne&&(Ft(this.U,this.V,"tick",this.mb),this.V.start())):(hs(this.j,this.m,R,null),al(this,R)),4==Ne&&Mo(this),this.i&&!this.J&&(4==Ne?fl(this.l,this):(this.i=!1,Ks(this)))}else(function fc(r){const e={};r=(r.g&&2<=ea(r)&&r.g.getAllResponseHeaders()||"").split("\r\n");for(let c=0;c<r.length;c++){if(Cn(r[c]))continue;var t=Sn(r[c]);const m=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const C=e[m]||[];e[m]=C,C.push(t)}!function Ye(r,e){for(const t in r)e.call(void 0,r[t],t,r)}(e,function(c){return c.join(", ")})})(this.g),400==t&&0<R.indexOf("Unknown SID")?(this.o=3,gs(12)):(this.o=0,gs(13)),Mo(this),ua(this)}}}catch{}},lt.mb=function(){if(this.g){var r=ea(this.g),e=this.g.ja();this.C<e.length&&(qr(this),_o(this,r,e),this.i&&4!=r&&Ks(this))}},lt.cancel=function(){this.J=!0,Mo(this)},lt.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function Lr(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(po(),gs(17)),Mo(this),this.o=2,ua(this)):zl(this,this.Y-r)};var $l=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mr(r){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof Mr){this.h=r.h,xl(this,r.j),this.s=r.s,this.g=r.g,Sl(this,r.m),this.l=r.l;var e=r.i,t=new Io;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),da(this,t),this.o=r.o}else r&&(e=String(r).match($l))?(this.h=!1,xl(this,e[1]||"",!0),this.s=no(e[2]||""),this.g=no(e[3]||"",!0),Sl(this,e[4]),this.l=no(e[5]||"",!0),da(this,e[6]||"",!0),this.o=no(e[7]||"")):(this.h=!1,this.i=new Io(null,this.h))}function ts(r){return new Mr(r)}function xl(r,e,t){r.j=t?no(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function Sl(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function da(r,e,t){e instanceof Io?(r.i=e,function $i(r,e){e&&!r.j&&(zr(r),r.i=null,r.g.forEach(function(t,c){var m=c.toLowerCase();c!=m&&(Ml(this,c),Sa(this,m,t))},r)),r.j=e}(r.i,r.h)):(t||(e=_s(e,io)),r.i=new Io(e,r.h))}function ls(r,e,t){r.i.set(e,t)}function Zr(r){return ls(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function no(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function _s(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,jr),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function jr(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}Mr.prototype.toString=function(){var r=[],e=this.j;e&&r.push(_s(e,qs,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(_s(e,qs,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(_s(t,"/"==t.charAt(0)?Xo:ll,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",_s(t,Qr)),r.join("")};var qs=/[#\/\?@]/g,ll=/[#\?:]/g,Xo=/[#\?]/g,io=/[#\?@]/g,Qr=/#/g;function Io(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function zr(r){r.g||(r.g=new Map,r.h=0,r.i&&function Wl(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var c=r[t].indexOf("="),m=null;if(0<=c){var C=r[t].substring(0,c);m=r[t].substring(c+1)}else C=r[t];e(C,m?decodeURIComponent(m.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Ml(r,e){zr(r),e=Ls(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function Zs(r,e){return zr(r),e=Ls(r,e),r.g.has(e)}function Sa(r,e,t){Ml(r,e),0<t.length&&(r.i=null,r.g.set(Ls(r,e),xn(t)),r.h+=t.length)}function Ls(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function gu(r){this.l=r||Il,r=vn.PerformanceNavigationTiming?0<(r=vn.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(vn.g&&vn.g.Ka&&vn.g.Ka()&&vn.g.Ka().ec),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(lt=Io.prototype).add=function(r,e){zr(this),this.i=null,r=Ls(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},lt.forEach=function(r,e){zr(this),this.g.forEach(function(t,c){t.forEach(function(m){r.call(e,m,c,this)},this)},this)},lt.ta=function(){zr(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let c=0;c<e.length;c++){const m=r[c];for(let C=0;C<m.length;C++)t.push(e[c])}return t},lt.Z=function(r){zr(this);let e=[];if("string"==typeof r)Zs(this,r)&&(e=e.concat(this.g.get(Ls(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},lt.set=function(r,e){return zr(this),this.i=null,Zs(this,r=Ls(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},lt.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},lt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var c=e[t];const C=encodeURIComponent(String(c)),R=this.Z(c);for(c=0;c<R.length;c++){var m=C;""!==R[c]&&(m+="="+encodeURIComponent(String(R[c]))),r.push(m)}}return this.i=r.join("&")};var Il=10;function Ma(r){return!!r.h||!!r.g&&r.g.size>=r.j}function Ia(r){return r.h?1:r.g?r.g.size:0}function yo(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function Ta(r,e){r.g?r.g.add(e):r.h=e}function Tl(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function Un(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.F);return e}return xn(r.i)}function Ha(){this.g=new class{stringify(r){return vn.JSON.stringify(r,void 0)}parse(r){return vn.JSON.parse(r,void 0)}}}function hc(r,e,t){const c=t||"";try{Gl(r,function(m,C){let R=m;ai(m)&&(R=ft(m)),e.push(c+C+"="+encodeURIComponent(R))})}catch(m){throw e.push(c+"type="+encodeURIComponent("_badmap")),m}}function ce(r,e,t,c,m){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,m(c)}catch{}}function oe(r){this.l=r.fc||null,this.j=r.ob||!1}function te(r,e){pe.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=Oe,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}gu.prototype.cancel=function(){if(this.i=Un(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}},qt(oe,Pr),oe.prototype.g=function(){return new te(this.l,this.j)},oe.prototype.i=function(r){return function(){return r}}({}),qt(te,pe);var Oe=0;function hn(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function gi(r){r.readyState=4,r.l=null,r.j=null,r.A=null,Wi(r)}function Wi(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(lt=te.prototype).open=function(r,e){if(this.readyState!=Oe)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,Wi(this)},lt.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||vn).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},lt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,gi(this)),this.readyState=Oe},lt.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,Wi(this)),this.g&&(this.readyState=3,Wi(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof vn.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hn(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},lt.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?gi(this):Wi(this),3==this.readyState&&hn(this)}},lt.Za=function(r){this.g&&(this.response=this.responseText=r,gi(this))},lt.Ya=function(r){this.g&&(this.response=r,gi(this))},lt.ka=function(){this.g&&gi(this)},lt.setRequestHeader=function(r,e){this.v.append(r,e)},lt.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},lt.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(te.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var cl=vn.JSON.parse;function ar(r){pe.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Ds,this.L=this.M=!1}qt(ar,pe);var Ds="",Jo=/^https?$/i,ul=["POST","PUT"];function ha(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,ka(r),Yl(r)}function ka(r){r.F||(r.F=!0,Ee(r,"complete"),Ee(r,"error"))}function dl(r){if(r.h&&typeof ut<"u"&&(!r.C[1]||4!=ea(r)||2!=r.da()))if(r.v&&4==ea(r))Ys(r.La,0,r);else if(Ee(r,"readystatechange"),4==ea(r)){r.h=!1;try{const R=r.da();e:switch(R){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var c;if(c=0===R){var m=String(r.I).match($l)[1]||null;!m&&vn.self&&vn.self.location&&(m=vn.self.location.protocol.slice(0,-1)),c=!Jo.test(m?m.toLowerCase():"")}t=c}if(t)Ee(r,"complete"),Ee(r,"success");else{r.m=6;try{var C=2<ea(r)?r.g.statusText:""}catch{C=""}r.j=C+" ["+r.da()+"]",ka(r)}}finally{Yl(r)}}}function Yl(r,e){if(r.g){Ra(r);const t=r.g,c=r.C[0]?()=>{}:null;r.g=null,r.C=null,e||Ee(r,"ready");try{t.onreadystatechange=c}catch{}}}function Ra(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(vn.clearTimeout(r.A),r.A=null)}function ea(r){return r.g?r.g.readyState:0}function hl(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case Ds:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function bo(r){let e="";return sn(r,function(t,c){e+=c,e+=":",e+=t,e+="\r\n"}),e}function Mc(r,e,t){e:{for(c in t){var c=!1;break e}c=!0}c||(t=bo(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):ls(r,e,t))}function Xa(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function Ja(r){this.Ga=0,this.j=[],this.l=new Da,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Xa("failFast",!1,r),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Xa("baseRetryDelayMs",5e3,r),this.hb=Xa("retryDelaySeedMs",1e4,r),this.eb=Xa("forwardChannelMaxRetries",2,r),this.xa=Xa("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.dc||!1,this.L=void 0,this.J=r&&r.supportsCrossDomainXhr||!1,this.K="",this.i=new gu(r&&r.concurrentRequestLimit),this.Ja=new Ha,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.l.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.qa=void 0,r&&r.longPollingTimeout&&0<r.longPollingTimeout&&(this.qa=r.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Kl(r){if(Ic(r),3==r.H){var e=r.W++,t=ts(r.I);if(ls(t,"SID",r.K),ls(t,"RID",e),ls(t,"TYPE","terminate"),ta(r,t),(e=new Wn(r,r.l,e)).L=2,e.v=Zr(ts(t)),t=!1,vn.navigator&&vn.navigator.sendBeacon)try{t=vn.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&vn.Image&&((new Image).src=e.v,t=!0),t||(e.g=Xe(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Ks(e)}ja(r)}function pc(r){r.g&&(Al(r),r.g.cancel(),r.g=null)}function Ic(r){pc(r),r.u&&(vn.clearTimeout(r.u),r.u=null),ro(r),r.i.cancel(),r.m&&("number"==typeof r.m&&vn.clearTimeout(r.m),r.m=null)}function Tc(r){if(!Ma(r.i)&&!r.m){r.m=!0;var e=r.Na;fi||er(),Yi||(fi(),Yi=!0),Ji.add(e,r),r.C=0}}function mc(r,e){var t;t=e?e.m:r.W++;const c=ts(r.I);ls(c,"SID",r.K),ls(c,"RID",t),ls(c,"AID",r.V),ta(r,c),r.o&&r.s&&Mc(c,r.o,r.s),t=new Wn(r,r.l,t,r.C+1),null===r.o&&(t.I=r.s),e&&(r.j=e.F.concat(r.j)),e=ns(r,t,1e3),t.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),Ta(r.i,t),go(t,c,e)}function ta(r,e){r.na&&sn(r.na,function(t,c){ls(e,c,t)}),r.h&&Gl({},function(t,c){ls(e,c,t)})}function ns(r,e,t){t=Math.min(r.j.length,t);var c=r.h?bt(r.h.Va,r.h,r):null;e:{var m=r.j;let C=-1;for(;;){const R=["count="+t];-1==C?0<t?(C=m[0].g,R.push("ofs="+C)):C=0:R.push("ofs="+C);let Y=!0;for(let le=0;le<t;le++){let ge=m[le].g;const Ne=m[le].map;if(ge-=C,0>ge)C=Math.max(0,m[le].g-100),Y=!1;else try{hc(Ne,R,"req"+ge+"_")}catch{c&&c(Ne)}}if(Y){c=R.join("&");break e}}}return r=r.j.splice(0,t),e.F=r,c}function na(r){if(!r.g&&!r.u){r.ba=1;var e=r.Ma;fi||er(),Yi||(fi(),Yi=!0),Ji.add(e,r),r.A=0}}function ss(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=Ua(bt(r.Ma,r),uo(r,r.A)),r.A++,0))}function Al(r){null!=r.B&&(vn.clearTimeout(r.B),r.B=null)}function qu(r){r.g=new Wn(r,r.l,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=ts(r.wa);ls(e,"RID","rpc"),ls(e,"SID",r.K),ls(e,"AID",r.V),ls(e,"CI",r.G?"0":"1"),!r.G&&r.qa&&ls(e,"TO",r.qa),ls(e,"TYPE","xmlhttp"),ta(r,e),r.o&&r.s&&Mc(e,r.o,r.s),r.L&&r.g.setTimeout(r.L);var t=r.g;r=r.pa,t.L=1,t.v=Zr(ts(e)),t.s=null,t.S=!0,Qo(t,r)}function ro(r){null!=r.v&&(vn.clearTimeout(r.v),r.v=null)}function fl(r,e){var t=null;if(r.g==e){ro(r),Al(r),r.g=null;var c=2}else{if(!yo(r.i,e))return;t=e.F,Tl(r.i,e),c=1}if(0!=r.H)if(e.i)if(1==c){t=e.s?e.s.length:0,e=Date.now()-e.G;var m=r.C;Ee(c=la(),new uc(c,t)),Tc(r)}else na(r);else if(3==(m=e.o)||0==m&&0<e.ca||!(1==c&&function fa(r,e){return!(Ia(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.j=e.F.concat(r.j),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=Ua(bt(r.Na,r,e),uo(r,r.C)),r.C++,0)))}(r,e)||2==c&&ss(r)))switch(t&&0<t.length&&(e=r.i,e.i=e.i.concat(t)),m){case 1:el(r,5);break;case 4:el(r,10);break;case 3:el(r,6);break;default:el(r,2)}}function uo(r,e){let t=r.ab+Math.floor(Math.random()*r.hb);return r.isActive()||(t*=2),t*e}function el(r,e){if(r.l.info("Error code "+e),2==e){var t=null;r.h&&(t=null);var c=bt(r.pb,r);t||(t=new Mr("//www.google.com/images/cleardot.gif"),vn.location&&"http"==vn.location.protocol||xl(t,"https"),Zr(t)),function Br(r,e){const t=new Da;if(vn.Image){const c=new Image;c.onload=It(ce,t,c,"TestLoadImage: loaded",!0,e),c.onerror=It(ce,t,c,"TestLoadImage: error",!1,e),c.onabort=It(ce,t,c,"TestLoadImage: abort",!1,e),c.ontimeout=It(ce,t,c,"TestLoadImage: timeout",!1,e),vn.setTimeout(function(){c.ontimeout&&c.ontimeout()},1e4),c.src=r}else e(!1)}(t.toString(),c)}else gs(2);r.H=0,r.h&&r.h.za(e),ja(r),Ic(r)}function ja(r){if(r.H=0,r.ma=[],r.h){const e=Un(r.i);(0!=e.length||0!=r.j.length)&&(St(r.ma,e),St(r.ma,r.j),r.i.i.length=0,xn(r.j),r.j.length=0),r.h.ya()}}function Oa(r,e,t){var c=t instanceof Mr?ts(t):new Mr(t);if(""!=c.g)e&&(c.g=e+"."+c.g),Sl(c,c.m);else{var m=vn.location;c=m.protocol,e=e?e+"."+m.hostname:m.hostname,m=+m.port;var C=new Mr(null);c&&xl(C,c),e&&(C.g=e),m&&Sl(C,m),t&&(C.l=t),c=C}return e=r.Da,(t=r.F)&&e&&ls(c,t,e),ls(c,"VER",r.ra),ta(r,c),c}function Xe(r,e,t){if(e&&!r.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ar(t&&r.Ha&&!r.va?new oe({ob:!0}):r.va)).Oa(r.J),e}function kl(){}function To(){if(qn&&!(10<=Number(ke)))throw Error("Environmental error: no available transport.")}function ia(r,e){pe.call(this),this.g=new Ja(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!Cn(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Cn(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new Bs(this)}function pa(r){zt.call(this),r.__headers__&&(this.headers=r.__headers__,this.statusCode=r.__status__,delete r.__headers__,delete r.__status__);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function gc(){Pt.call(this),this.status=1}function Bs(r){this.g=r}function cr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function za(r,e,t){t||(t=0);var c=Array(16);if("string"==typeof e)for(var m=0;16>m;++m)c[m]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(m=0;16>m;++m)c[m]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var C=r.g[3],R=(e=r.g[0])+(C^(t=r.g[1])&((m=r.g[2])^C))+c[0]+3614090360&4294967295;R=(t=(m=(C=(e=(t=(m=(C=(e=(t=(m=(C=(e=(t=(m=(C=(e=(t=(m=(C=(e=(t=(m=(C=(e=(t=(m=(C=(e=(t=(m=(C=(e=(t=(m=(C=(e=(t=(m=(C=(e=(t=(m=(C=(e=(t=(m=(C=(e=(t=(m=(C=(e=(t=(m=(C=(e=(t=(m=(C=(e=t+(R<<7&4294967295|R>>>25))+((R=C+(m^e&(t^m))+c[1]+3905402710&4294967295)<<12&4294967295|R>>>20))+((R=m+(t^C&(e^t))+c[2]+606105819&4294967295)<<17&4294967295|R>>>15))+((R=t+(e^m&(C^e))+c[3]+3250441966&4294967295)<<22&4294967295|R>>>10))+((R=e+(C^t&(m^C))+c[4]+4118548399&4294967295)<<7&4294967295|R>>>25))+((R=C+(m^e&(t^m))+c[5]+1200080426&4294967295)<<12&4294967295|R>>>20))+((R=m+(t^C&(e^t))+c[6]+2821735955&4294967295)<<17&4294967295|R>>>15))+((R=t+(e^m&(C^e))+c[7]+4249261313&4294967295)<<22&4294967295|R>>>10))+((R=e+(C^t&(m^C))+c[8]+1770035416&4294967295)<<7&4294967295|R>>>25))+((R=C+(m^e&(t^m))+c[9]+2336552879&4294967295)<<12&4294967295|R>>>20))+((R=m+(t^C&(e^t))+c[10]+4294925233&4294967295)<<17&4294967295|R>>>15))+((R=t+(e^m&(C^e))+c[11]+2304563134&4294967295)<<22&4294967295|R>>>10))+((R=e+(C^t&(m^C))+c[12]+1804603682&4294967295)<<7&4294967295|R>>>25))+((R=C+(m^e&(t^m))+c[13]+4254626195&4294967295)<<12&4294967295|R>>>20))+((R=m+(t^C&(e^t))+c[14]+2792965006&4294967295)<<17&4294967295|R>>>15))+((R=t+(e^m&(C^e))+c[15]+1236535329&4294967295)<<22&4294967295|R>>>10))+((R=e+(m^C&(t^m))+c[1]+4129170786&4294967295)<<5&4294967295|R>>>27))+((R=C+(t^m&(e^t))+c[6]+3225465664&4294967295)<<9&4294967295|R>>>23))+((R=m+(e^t&(C^e))+c[11]+643717713&4294967295)<<14&4294967295|R>>>18))+((R=t+(C^e&(m^C))+c[0]+3921069994&4294967295)<<20&4294967295|R>>>12))+((R=e+(m^C&(t^m))+c[5]+3593408605&4294967295)<<5&4294967295|R>>>27))+((R=C+(t^m&(e^t))+c[10]+38016083&4294967295)<<9&4294967295|R>>>23))+((R=m+(e^t&(C^e))+c[15]+3634488961&4294967295)<<14&4294967295|R>>>18))+((R=t+(C^e&(m^C))+c[4]+3889429448&4294967295)<<20&4294967295|R>>>12))+((R=e+(m^C&(t^m))+c[9]+568446438&4294967295)<<5&4294967295|R>>>27))+((R=C+(t^m&(e^t))+c[14]+3275163606&4294967295)<<9&4294967295|R>>>23))+((R=m+(e^t&(C^e))+c[3]+4107603335&4294967295)<<14&4294967295|R>>>18))+((R=t+(C^e&(m^C))+c[8]+1163531501&4294967295)<<20&4294967295|R>>>12))+((R=e+(m^C&(t^m))+c[13]+2850285829&4294967295)<<5&4294967295|R>>>27))+((R=C+(t^m&(e^t))+c[2]+4243563512&4294967295)<<9&4294967295|R>>>23))+((R=m+(e^t&(C^e))+c[7]+1735328473&4294967295)<<14&4294967295|R>>>18))+((R=t+(C^e&(m^C))+c[12]+2368359562&4294967295)<<20&4294967295|R>>>12))+((R=e+(t^m^C)+c[5]+4294588738&4294967295)<<4&4294967295|R>>>28))+((R=C+(e^t^m)+c[8]+2272392833&4294967295)<<11&4294967295|R>>>21))+((R=m+(C^e^t)+c[11]+1839030562&4294967295)<<16&4294967295|R>>>16))+((R=t+(m^C^e)+c[14]+4259657740&4294967295)<<23&4294967295|R>>>9))+((R=e+(t^m^C)+c[1]+2763975236&4294967295)<<4&4294967295|R>>>28))+((R=C+(e^t^m)+c[4]+1272893353&4294967295)<<11&4294967295|R>>>21))+((R=m+(C^e^t)+c[7]+4139469664&4294967295)<<16&4294967295|R>>>16))+((R=t+(m^C^e)+c[10]+3200236656&4294967295)<<23&4294967295|R>>>9))+((R=e+(t^m^C)+c[13]+681279174&4294967295)<<4&4294967295|R>>>28))+((R=C+(e^t^m)+c[0]+3936430074&4294967295)<<11&4294967295|R>>>21))+((R=m+(C^e^t)+c[3]+3572445317&4294967295)<<16&4294967295|R>>>16))+((R=t+(m^C^e)+c[6]+76029189&4294967295)<<23&4294967295|R>>>9))+((R=e+(t^m^C)+c[9]+3654602809&4294967295)<<4&4294967295|R>>>28))+((R=C+(e^t^m)+c[12]+3873151461&4294967295)<<11&4294967295|R>>>21))+((R=m+(C^e^t)+c[15]+530742520&4294967295)<<16&4294967295|R>>>16))+((R=t+(m^C^e)+c[2]+3299628645&4294967295)<<23&4294967295|R>>>9))+((R=e+(m^(t|~C))+c[0]+4096336452&4294967295)<<6&4294967295|R>>>26))+((R=C+(t^(e|~m))+c[7]+1126891415&4294967295)<<10&4294967295|R>>>22))+((R=m+(e^(C|~t))+c[14]+2878612391&4294967295)<<15&4294967295|R>>>17))+((R=t+(C^(m|~e))+c[5]+4237533241&4294967295)<<21&4294967295|R>>>11))+((R=e+(m^(t|~C))+c[12]+1700485571&4294967295)<<6&4294967295|R>>>26))+((R=C+(t^(e|~m))+c[3]+2399980690&4294967295)<<10&4294967295|R>>>22))+((R=m+(e^(C|~t))+c[10]+4293915773&4294967295)<<15&4294967295|R>>>17))+((R=t+(C^(m|~e))+c[1]+2240044497&4294967295)<<21&4294967295|R>>>11))+((R=e+(m^(t|~C))+c[8]+1873313359&4294967295)<<6&4294967295|R>>>26))+((R=C+(t^(e|~m))+c[15]+4264355552&4294967295)<<10&4294967295|R>>>22))+((R=m+(e^(C|~t))+c[6]+2734768916&4294967295)<<15&4294967295|R>>>17))+((R=t+(C^(m|~e))+c[13]+1309151649&4294967295)<<21&4294967295|R>>>11))+((C=(e=t+((R=e+(m^(t|~C))+c[4]+4149444226&4294967295)<<6&4294967295|R>>>26))+((R=C+(t^(e|~m))+c[11]+3174756917&4294967295)<<10&4294967295|R>>>22))^((m=C+((R=m+(e^(C|~t))+c[2]+718787259&4294967295)<<15&4294967295|R>>>17))|~e))+c[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(m+(R<<21&4294967295|R>>>11))&4294967295,r.g[2]=r.g[2]+m&4294967295,r.g[3]=r.g[3]+C&4294967295}function Vr(r,e){this.h=e;for(var t=[],c=!0,m=r.length-1;0<=m;m--){var C=0|r[m];c&&C==e||(t[m]=C,c=!1)}this.g=t}(lt=ar.prototype).Oa=function(r){this.M=r},lt.ha=function(r,e,t,c){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Xt.g(),this.C=function Dl(r){return r.h||(r.h=r.i())}(this.u?this.u:Xt),this.g.onreadystatechange=bt(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(C){return void ha(this,C)}if(r=t||"",t=new Map(this.headers),c)if(Object.getPrototypeOf(c)===Object.prototype)for(var m in c)t.set(m,c[m]);else{if("function"!=typeof c.keys||"function"!=typeof c.get)throw Error("Unknown input type for opt_headers: "+String(c));for(const C of c.keys())t.set(C,c.get(C))}c=Array.from(t.keys()).find(C=>"content-type"==C.toLowerCase()),m=vn.FormData&&r instanceof vn.FormData,!(0<=Dt(ul,e))||c||m||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[C,R]of t)this.g.setRequestHeader(C,R);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Ra(this),0<this.B&&((this.L=function Aa(r){return qn&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=bt(this.ua,this)):this.A=Ys(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(C){ha(this,C)}},lt.ua=function(){typeof ut<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ee(this,"timeout"),this.abort(8))},lt.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,Ee(this,"complete"),Ee(this,"abort"),Yl(this))},lt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Yl(this,!0)),ar.$.N.call(this)},lt.La=function(){this.s||(this.G||this.v||this.l?dl(this):this.kb())},lt.kb=function(){dl(this)},lt.isActive=function(){return!!this.g},lt.da=function(){try{return 2<ea(this)?this.g.status:-1}catch{return-1}},lt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},lt.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),cl(e)}},lt.Ia=function(){return this.m},lt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(lt=Ja.prototype).ra=8,lt.H=1,lt.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const m=new Wn(this,this.l,r);let C=this.s;if(this.U&&(C?(C=Ke(C),Jt(C,this.U)):C=this.U),null!==this.o||this.O||(m.I=C,C=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var c=this.j[t];if(void 0===(c="__data__"in c.map&&"string"==typeof(c=c.map.__data__)?c.length:void 0))break;if(4096<(e+=c)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=ns(this,m,e),ls(t=ts(this.I),"RID",r),ls(t,"CVER",22),this.F&&ls(t,"X-HTTP-Session-Id",this.F),ta(this,t),C&&(this.O?e="headers="+encodeURIComponent(String(bo(C)))+"&"+e:this.o&&Mc(t,this.o,C)),Ta(this.i,m),this.bb&&ls(t,"TYPE","init"),this.P?(ls(t,"$req",e),ls(t,"SID","null"),m.aa=!0,go(m,t,null)):go(m,t,e),this.H=2}}else 3==this.H&&(r?mc(this,r):0==this.j.length||Ma(this.i)||mc(this))},lt.Ma=function(){if(this.u=null,qu(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var r=2*this.S;this.l.info("BP detection timer enabled: "+r),this.B=Ua(bt(this.jb,this),r)}},lt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,gs(10),pc(this),qu(this))},lt.ib=function(){null!=this.v&&(this.v=null,pc(this),ss(this),gs(19))},lt.pb=function(r){r?(this.l.info("Successfully pinged google.com"),gs(2)):(this.l.info("Failed to ping google.com"),gs(1))},lt.isActive=function(){return!!this.h&&this.h.isActive(this)},(lt=kl.prototype).Ba=function(){},lt.Aa=function(){},lt.za=function(){},lt.ya=function(){},lt.isActive=function(){return!0},lt.Va=function(){},To.prototype.g=function(r,e){return new ia(r,e)},qt(ia,pe),ia.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var r=this.g,e=this.l,t=this.h||void 0;gs(0),r.Y=e,r.na=t||{},r.G=r.aa,r.I=Oa(r,null,r.Y),Tc(r)},ia.prototype.close=function(){Kl(this.g)},ia.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=ft(r),r=t);e.j.push(new class{constructor(r,e){this.g=r,this.map=e}}(e.fb++,r)),3==e.H&&Tc(e)},ia.prototype.N=function(){this.g.h=null,delete this.j,Kl(this.g),delete this.g,ia.$.N.call(this)},qt(pa,zt),qt(gc,Pt),qt(Bs,kl),Bs.prototype.Ba=function(){Ee(this.g,"a")},Bs.prototype.Aa=function(r){Ee(this.g,new pa(r))},Bs.prototype.za=function(r){Ee(this.g,new gc)},Bs.prototype.ya=function(){Ee(this.g,"b")},qt(cr,function Ts(){this.blockSize=-1}),cr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},cr.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var t=e-this.blockSize,c=this.m,m=this.h,C=0;C<e;){if(0==m)for(;C<=t;)za(this,r,C),C+=this.blockSize;if("string"==typeof r){for(;C<e;)if(c[m++]=r.charCodeAt(C++),m==this.blockSize){za(this,c),m=0;break}}else for(;C<e;)if(c[m++]=r[C++],m==this.blockSize){za(this,c),m=0;break}}this.h=m,this.i+=e},cr.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var t=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&t,t/=256;for(this.j(r),r=Array(16),e=t=0;4>e;++e)for(var c=0;32>c;c+=8)r[t++]=this.g[e]>>>c&255;return r};var X={};function me(r){return-128<=r&&128>r?function wn(r,e){var t=X;return Object.prototype.hasOwnProperty.call(t,r)?t[r]:t[r]=e(r)}(r,function(e){return new Vr([0|e],0>e?-1:0)}):new Vr([0|r],0>r?-1:0)}function re(r){if(isNaN(r)||!isFinite(r))return ln;if(0>r)return ur(re(-r));for(var e=[],t=1,c=0;r>=t;c++)e[c]=r/t|0,t*=Et;return new Vr(e,0)}var Et=4294967296,ln=me(0),Pn=me(1),Di=me(16777216);function yr(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function sr(r){return-1==r.h}function ur(r){for(var e=r.g.length,t=[],c=0;c<e;c++)t[c]=~r.g[c];return new Vr(t,~r.h).add(Pn)}function hr(r,e){return r.add(ur(e))}function Vs(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function Dr(r,e){this.g=r,this.h=e}function Ar(r,e){if(yr(e))throw Error("division by zero");if(yr(r))return new Dr(ln,ln);if(sr(r))return e=Ar(ur(r),e),new Dr(ur(e.g),ur(e.h));if(sr(e))return e=Ar(r,ur(e)),new Dr(ur(e.g),e.h);if(30<r.g.length){if(sr(r)||sr(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Pn,c=e;0>=c.X(r);)t=Ao(t),c=Ao(c);var m=ho(t,1),C=ho(c,1);for(c=ho(c,2),t=ho(t,2);!yr(c);){var R=C.add(c);0>=R.X(r)&&(m=m.add(t),C=R),c=ho(c,1),t=ho(t,1)}return e=hr(r,m.R(e)),new Dr(m,e)}for(m=ln;0<=r.X(e);){for(t=Math.max(1,Math.floor(r.ea()/e.ea())),c=48>=(c=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,c-48),R=(C=re(t)).R(e);sr(R)||0<R.X(r);)R=(C=re(t-=c)).R(e);yr(C)&&(C=Pn),m=m.add(C),r=hr(r,R)}return new Dr(m,r)}function Ao(r){for(var e=r.g.length+1,t=[],c=0;c<e;c++)t[c]=r.D(c)<<1|r.D(c-1)>>>31;return new Vr(t,r.h)}function ho(r,e){var t=e>>5;e%=32;for(var c=r.g.length-t,m=[],C=0;C<c;C++)m[C]=0<e?r.D(C+t)>>>e|r.D(C+t+1)<<32-e:r.D(C+t);return new Vr(m,r.h)}(lt=Vr.prototype).ea=function(){if(sr(this))return-ur(this).ea();for(var r=0,e=1,t=0;t<this.g.length;t++){var c=this.D(t);r+=(0<=c?c:Et+c)*e,e*=Et}return r},lt.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(yr(this))return"0";if(sr(this))return"-"+ur(this).toString(r);for(var e=re(Math.pow(r,6)),t=this,c="";;){var m=Ar(t,e).g,C=((0<(t=hr(t,m.R(e))).g.length?t.g[0]:t.h)>>>0).toString(r);if(yr(t=m))return C+c;for(;6>C.length;)C="0"+C;c=C+c}},lt.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},lt.X=function(r){return sr(r=hr(this,r))?-1:yr(r)?0:1},lt.abs=function(){return sr(this)?ur(this):this},lt.add=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],c=0,m=0;m<=e;m++){var C=c+(65535&this.D(m))+(65535&r.D(m)),R=(C>>>16)+(this.D(m)>>>16)+(r.D(m)>>>16);c=R>>>16,t[m]=(R&=65535)<<16|(C&=65535)}return new Vr(t,-2147483648&t[t.length-1]?-1:0)},lt.R=function(r){if(yr(this)||yr(r))return ln;if(sr(this))return sr(r)?ur(this).R(ur(r)):ur(ur(this).R(r));if(sr(r))return ur(this.R(ur(r)));if(0>this.X(Di)&&0>r.X(Di))return re(this.ea()*r.ea());for(var e=this.g.length+r.g.length,t=[],c=0;c<2*e;c++)t[c]=0;for(c=0;c<this.g.length;c++)for(var m=0;m<r.g.length;m++){var C=this.D(c)>>>16,R=65535&this.D(c),Y=r.D(m)>>>16,le=65535&r.D(m);t[2*c+2*m]+=R*le,Vs(t,2*c+2*m),t[2*c+2*m+1]+=C*le,Vs(t,2*c+2*m+1),t[2*c+2*m+1]+=R*Y,Vs(t,2*c+2*m+1),t[2*c+2*m+2]+=C*Y,Vs(t,2*c+2*m+2)}for(c=0;c<e;c++)t[c]=t[2*c+1]<<16|t[2*c];for(c=e;c<2*e;c++)t[c]=0;return new Vr(t,0)},lt.gb=function(r){return Ar(this,r).h},lt.and=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],c=0;c<e;c++)t[c]=this.D(c)&r.D(c);return new Vr(t,this.h&r.h)},lt.or=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],c=0;c<e;c++)t[c]=this.D(c)|r.D(c);return new Vr(t,this.h|r.h)},lt.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],c=0;c<e;c++)t[c]=this.D(c)^r.D(c);return new Vr(t,this.h^r.h)},To.prototype.createWebChannel=To.prototype.g,ia.prototype.send=ia.prototype.u,ia.prototype.open=ia.prototype.m,ia.prototype.close=ia.prototype.close,Fo.NO_ERROR=0,Fo.TIMEOUT=8,Fo.HTTP_ERROR=6,dc.COMPLETE="complete",Za.EventType=ca,ca.OPEN="a",ca.CLOSE="b",ca.ERROR="c",ca.MESSAGE="d",pe.prototype.listen=pe.prototype.O,ar.prototype.listenOnce=ar.prototype.P,ar.prototype.getLastError=ar.prototype.Sa,ar.prototype.getLastErrorCode=ar.prototype.Ia,ar.prototype.getStatus=ar.prototype.da,ar.prototype.getResponseJson=ar.prototype.Wa,ar.prototype.getResponseText=ar.prototype.ja,ar.prototype.send=ar.prototype.ha,ar.prototype.setWithCredentials=ar.prototype.Oa,cr.prototype.digest=cr.prototype.l,cr.prototype.reset=cr.prototype.reset,cr.prototype.update=cr.prototype.j,Vr.prototype.add=Vr.prototype.add,Vr.prototype.multiply=Vr.prototype.R,Vr.prototype.modulo=Vr.prototype.gb,Vr.prototype.compare=Vr.prototype.X,Vr.prototype.toNumber=Vr.prototype.ea,Vr.prototype.toString=Vr.prototype.toString,Vr.prototype.getBits=Vr.prototype.D,Vr.fromNumber=re,Vr.fromString=function Re(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return ur(Re(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=re(Math.pow(e,8)),c=ln,m=0;m<r.length;m+=8){var C=Math.min(8,r.length-m),R=parseInt(r.substring(m,m+C),e);8>C?(C=re(Math.pow(e,C)),c=c.R(C).add(re(R))):c=(c=c.R(t)).add(re(R))}return c};var As=ct.createWebChannelTransport=function(){return new To},ks=ct.getStatEventTarget=function(){return la()},Us=ct.ErrorCode=Fo,xs=ct.EventType=dc,ql=ct.Event=Kr,so=ct.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},_c=ct.FetchXmlHttpFactory=oe,vc=ct.WebChannel=Za,_u=ct.XhrIo=ar,vu=ct.Md5=cr,yc=ct.Integer=Vr;const Qs="@firebase/firestore";class Gs{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gs.UNAUTHENTICATED=new Gs(null),Gs.GOOGLE_CREDENTIALS=new Gs("google-credentials-uid"),Gs.FIRST_PARTY=new Gs("first-party-uid"),Gs.MOCK_USER=new Gs("mock-user");let Ga="9.23.0";const Co=new je.Yd("@firebase/firestore");function Pa(){return Co.logLevel}function Kn(r,...e){if(Co.logLevel<=je.in.DEBUG){const t=e.map(Zu);Co.debug(`Firestore (${Ga}): ${r}`,...t)}}function Rs(r,...e){if(Co.logLevel<=je.in.ERROR){const t=e.map(Zu);Co.error(`Firestore (${Ga}): ${r}`,...t)}}function Os(r,...e){if(Co.logLevel<=je.in.WARN){const t=e.map(Zu);Co.warn(`Firestore (${Ga}): ${r}`,...t)}}function Zu(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function ni(r="Unexpected state"){const e=`FIRESTORE (${Ga}) INTERNAL ASSERTION FAILED: `+r;throw Rs(e),new Error(e)}function Ni(r,e){r||ni()}function ci(r,e){return r}const fn={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class kn extends Te.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class is{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Hs{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Id{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Gs.UNAUTHENTICATED))}shutdown(){}}class $a{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class bc{constructor(e){this.t=e,this.currentUser=Gs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var c=this;let m=this.i;const C=ge=>this.i!==m?(m=this.i,t(ge)):Promise.resolve();let R=new is;this.o=()=>{this.i++,this.currentUser=this.u(),R.resolve(),R=new is,e.enqueueRetryable(()=>C(this.currentUser))};const Y=()=>{const ge=R;e.enqueueRetryable((0,pt.Z)(function*(){yield ge.promise,yield C(c.currentUser)}))},le=ge=>{Kn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=ge,this.auth.addAuthTokenListener(this.o),Y()};this.t.onInit(ge=>le(ge)),setTimeout(()=>{if(!this.auth){const ge=this.t.getImmediate({optional:!0});ge?le(ge):(Kn("FirebaseAuthCredentialsProvider","Auth not yet detected"),R.resolve(),R=new is)}},0),Y()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(c=>this.i!==e?(Kn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):c?(Ni("string"==typeof c.accessToken),new Hs(c.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ni(null===e||"string"==typeof e),new Gs(e)}}class Zl{constructor(e,t,c){this.h=e,this.l=t,this.m=c,this.type="FirstParty",this.user=Gs.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Qu{constructor(e,t,c){this.h=e,this.l=t,this.m=c}getToken(){return Promise.resolve(new Zl(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Gs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class os{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yu{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const c=C=>{null!=C.error&&Kn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${C.error.message}`);const R=C.token!==this.T;return this.T=C.token,Kn("FirebaseAppCheckTokenProvider",`Received ${R?"new":"existing"} token.`),R?t(C.token):Promise.resolve()};this.o=C=>{e.enqueueRetryable(()=>c(C))};const m=C=>{Kn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=C,this.appCheck.addTokenListener(this.o)};this.I.onInit(C=>m(C)),setTimeout(()=>{if(!this.appCheck){const C=this.I.getImmediate({optional:!0});C?m(C):Kn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ni("string"==typeof t.token),this.T=t.token,new os(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Rh(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let c=0;c<r;c++)t[c]=Math.floor(256*Math.random());return t}class ml{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let c="";for(;c.length<20;){const m=Rh(40);for(let C=0;C<m.length;++C)c.length<20&&m[C]<t&&(c+=e.charAt(m[C]%e.length))}return c}}function Zi(r,e){return r<e?-1:r>e?1:0}function Ac(r,e,t){return r.length===e.length&&r.every((c,m)=>t(c,e[m]))}function bu(r){return r+"\0"}class as{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new kn(fn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new kn(fn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new kn(fn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new kn(fn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return as.fromMillis(Date.now())}static fromDate(e){return as.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),c=Math.floor(1e6*(e-1e3*t));return new as(t,c)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Zi(this.nanoseconds,e.nanoseconds):Zi(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ki{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ki(e)}static min(){return new Ki(new as(0,0))}static max(){return new Ki(new as(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class js{constructor(e,t,c){void 0===t?t=0:t>e.length&&ni(),void 0===c?c=e.length-t:c>e.length-t&&ni(),this.segments=e,this.offset=t,this.len=c}get length(){return this.len}isEqual(e){return 0===js.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof js?e.forEach(c=>{t.push(c)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,c=this.limit();t<c;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const c=Math.min(e.length,t.length);for(let m=0;m<c;m++){const C=e.get(m),R=t.get(m);if(C<R)return-1;if(C>R)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class qi extends js{construct(e,t,c){return new qi(e,t,c)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const c of e){if(c.indexOf("//")>=0)throw new kn(fn.INVALID_ARGUMENT,`Invalid segment (${c}). Paths must not contain // in them.`);t.push(...c.split("/").filter(m=>m.length>0))}return new qi(t)}static emptyPath(){return new qi([])}}const Xu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rs extends js{construct(e,t,c){return new rs(e,t,c)}static isValidIdentifier(e){return Xu.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rs.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new rs(["__name__"])}static fromServerFormat(e){const t=[];let c="",m=0;const C=()=>{if(0===c.length)throw new kn(fn.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(c),c=""};let R=!1;for(;m<e.length;){const Y=e[m];if("\\"===Y){if(m+1===e.length)throw new kn(fn.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const le=e[m+1];if("\\"!==le&&"."!==le&&"`"!==le)throw new kn(fn.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);c+=le,m+=2}else"`"===Y?(R=!R,m++):"."!==Y||R?(c+=Y,m++):(C(),m++)}if(C(),R)throw new kn(fn.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rs(t)}static emptyPath(){return new rs([])}}class vi{constructor(e){this.path=e}static fromPath(e){return new vi(qi.fromString(e))}static fromName(e){return new vi(qi.fromString(e).popFirst(5))}static empty(){return new vi(qi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===qi.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return qi.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new vi(new qi(e.slice()))}}class Cu{constructor(e,t,c,m){this.indexId=e,this.collectionGroup=t,this.fields=c,this.indexState=m}}function wo(r){return r.fields.find(e=>2===e.kind)}function oo(r){return r.fields.filter(e=>2!==e.kind)}Cu.UNKNOWN_ID=-1;class G{constructor(e,t){this.fieldPath=e,this.kind=t}}class V{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new V(0,Ie.min())}}function ie(r,e){const t=r.toTimestamp().seconds,c=r.toTimestamp().nanoseconds+1,m=Ki.fromTimestamp(1e9===c?new as(t+1,0):new as(t,c));return new Ie(m,vi.empty(),e)}function ae(r){return new Ie(r.readTime,r.key,-1)}class Ie{constructor(e,t,c){this.readTime=e,this.documentKey=t,this.largestBatchId=c}static min(){return new Ie(Ki.min(),vi.empty(),-1)}static max(){return new Ie(Ki.max(),vi.empty(),-1)}}function st(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=vi.comparator(r.documentKey,e.documentKey),0!==t?t:Zi(r.largestBatchId,e.largestBatchId))}const vt="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mn{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ii(r){return ir.apply(this,arguments)}function ir(){return ir=(0,pt.Z)(function*(r){if(r.code!==fn.FAILED_PRECONDITION||r.message!==vt)throw r;Kn("LocalStore","Unexpectedly lost primary lease")}),ir.apply(this,arguments)}class Tt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ni(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Tt((c,m)=>{this.nextCallback=C=>{this.wrapSuccess(e,C).next(c,m)},this.catchCallback=C=>{this.wrapFailure(t,C).next(c,m)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Tt?t:Tt.resolve(t)}catch(t){return Tt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Tt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Tt.reject(t)}static resolve(e){return new Tt((t,c)=>{t(e)})}static reject(e){return new Tt((t,c)=>{c(e)})}static waitFor(e){return new Tt((t,c)=>{let m=0,C=0,R=!1;e.forEach(Y=>{++m,Y.next(()=>{++C,R&&C===m&&t()},le=>c(le))}),R=!0,C===m&&t()})}static or(e){let t=Tt.resolve(!1);for(const c of e)t=t.next(m=>m?Tt.resolve(m):c());return t}static forEach(e,t){const c=[];return e.forEach((m,C)=>{c.push(t.call(this,m,C))}),this.waitFor(c)}static mapArray(e,t){return new Tt((c,m)=>{const C=e.length,R=new Array(C);let Y=0;for(let le=0;le<C;le++){const ge=le;t(e[ge]).next(Ne=>{R[ge]=Ne,++Y,Y===C&&c(R)},Ne=>m(Ne))}})}static doWhile(e,t){return new Tt((c,m)=>{const C=()=>{!0===e()?t().next(()=>{C()},m):c()};C()})}}class kr{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new is,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new ko(e,t.error)):this.v.resolve()},this.transaction.onerror=c=>{const m=Du(c.target.error);this.v.reject(new ko(e,m))}}static open(e,t,c,m){try{return new kr(t,e.transaction(m,c))}catch(C){throw new ko(t,C)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Kn("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new jc(t)}}class fs{constructor(e,t,c){this.name=e,this.version=t,this.V=c,12.2===fs.S((0,Te.z$)())&&Rs("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Kn("SimpleDb","Removing database:",e),Wa(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Te.hl)())return!1;if(fs.C())return!0;const e=(0,Te.z$)(),t=fs.S(e),c=0<t&&t<10,m=fs.N(e),C=0<m&&m<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||c||C)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),c=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(c)}static N(e){const t=e.match(/Android ([\d.]+)/i),c=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(c)}$(e){var t=this;return(0,pt.Z)(function*(){return t.db||(Kn("SimpleDb","Opening database:",t.name),t.db=yield new Promise((c,m)=>{const C=indexedDB.open(t.name,t.version);C.onsuccess=R=>{c(R.target.result)},C.onblocked=()=>{m(new ko(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},C.onerror=R=>{const Y=R.target.error;m("VersionError"===Y.name?new kn(fn.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===Y.name?new kn(fn.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+Y):new ko(e,Y))},C.onupgradeneeded=R=>{Kn("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',R.oldVersion),t.V.O(R.target.result,C.transaction,R.oldVersion,t.version).next(()=>{Kn("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=c=>t.F(c)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,c,m){var C=this;return(0,pt.Z)(function*(){const R="readonly"===t;let Y=0;for(;;){++Y;try{C.db=yield C.$(e);const le=kr.open(C.db,e,R?"readonly":"readwrite",c),ge=m(le).next(Ne=>(le.P(),Ne)).catch(Ne=>(le.abort(Ne),Tt.reject(Ne))).toPromise();return ge.catch(()=>{}),yield le.R,ge}catch(le){const ge=le,Ne="FirebaseError"!==ge.name&&Y<3;if(Kn("SimpleDb","Transaction failed with error:",ge.message,"Retrying:",Ne),C.close(),!Ne)return Promise.reject(ge)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Rl{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Wa(this.L.delete())}}class ko extends kn{constructor(e,t){super(fn.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Eo(r){return"IndexedDbTransactionError"===r.name}class jc{constructor(e){this.store=e}put(e,t){let c;return void 0!==t?(Kn("SimpleDb","PUT",this.store.name,e,t),c=this.store.put(t,e)):(Kn("SimpleDb","PUT",this.store.name,"<auto-key>",e),c=this.store.put(e)),Wa(c)}add(e){return Kn("SimpleDb","ADD",this.store.name,e,e),Wa(this.store.add(e))}get(e){return Wa(this.store.get(e)).next(t=>(void 0===t&&(t=null),Kn("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Kn("SimpleDb","DELETE",this.store.name,e),Wa(this.store.delete(e))}count(){return Kn("SimpleDb","COUNT",this.store.name),Wa(this.store.count())}j(e,t){const c=this.options(e,t);if(c.index||"function"!=typeof this.store.getAll){const m=this.cursor(c),C=[];return this.W(m,(R,Y)=>{C.push(Y)}).next(()=>C)}{const m=this.store.getAll(c.range);return new Tt((C,R)=>{m.onerror=Y=>{R(Y.target.error)},m.onsuccess=Y=>{C(Y.target.result)}})}}H(e,t){const c=this.store.getAll(e,null===t?void 0:t);return new Tt((m,C)=>{c.onerror=R=>{C(R.target.error)},c.onsuccess=R=>{m(R.target.result)}})}J(e,t){Kn("SimpleDb","DELETE ALL",this.store.name);const c=this.options(e,t);c.Y=!1;const m=this.cursor(c);return this.W(m,(C,R,Y)=>Y.delete())}X(e,t){let c;t?c=e:(c={},t=e);const m=this.cursor(c);return this.W(m,t)}Z(e){const t=this.cursor({});return new Tt((c,m)=>{t.onerror=C=>{const R=Du(C.target.error);m(R)},t.onsuccess=C=>{const R=C.target.result;R?e(R.primaryKey,R.value).next(Y=>{Y?R.continue():c()}):c()}})}W(e,t){const c=[];return new Tt((m,C)=>{e.onerror=R=>{C(R.target.error)},e.onsuccess=R=>{const Y=R.target.result;if(!Y)return void m();const le=new Rl(Y),ge=t(Y.primaryKey,Y.value,le);if(ge instanceof Tt){const Ne=ge.catch(wt=>(le.done(),Tt.reject(wt)));c.push(Ne)}le.isDone?m():null===le.K?Y.continue():Y.continue(le.K)}}).next(()=>Tt.waitFor(c))}options(e,t){let c;return void 0!==e&&("string"==typeof e?c=e:t=e),{index:c,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const c=this.store.index(e.index);return e.Y?c.openKeyCursor(e.range,t):c.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Wa(r){return new Tt((e,t)=>{r.onsuccess=c=>{e(c.target.result)},r.onerror=c=>{const m=Du(c.target.error);t(m)}})}let Eu=!1;function Du(r){const e=fs.S((0,Te.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const c=new kn("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Eu||(Eu=!0,setTimeout(()=>{throw c},0)),c}}return r}class sh{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Kn("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,pt.Z)(function*(){t.task=null;try{Kn("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(c){Eo(c)?Kn("IndexBackiller","Ignoring IndexedDB error during index backfill: ",c):yield ii(c)}yield t.et(6e4)}))}}class kc{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,pt.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",c=>t.st(c,e))})()}st(e,t){const c=new Set;let m=t,C=!0;return Tt.doWhile(()=>!0===C&&m>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(R=>{if(null!==R&&!c.has(R))return Kn("IndexBackiller",`Processing collection: ${R}`),this.it(e,R,m).next(Y=>{m-=Y,c.add(R)});C=!1})).next(()=>t-m)}it(e,t,c){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(m=>this.localStore.localDocuments.getNextDocuments(e,t,m,c).next(C=>{const R=C.changes;return this.localStore.indexManager.updateIndexEntries(e,R).next(()=>this.rt(m,C)).next(Y=>(Kn("IndexBackiller",`Updating offset: ${Y}`),this.localStore.indexManager.updateCollectionGroup(e,t,Y))).next(()=>R.size)}))}rt(e,t){let c=e;return t.changes.forEach((m,C)=>{const R=ae(C);st(R,c)>0&&(c=R)}),new Ie(c.readTime,c.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Vo=(()=>{class r{constructor(t,c){this.previousValue=t,c&&(c.sequenceNumberHandler=m=>this.ot(m),this.ut=m=>c.writeSequenceNumber(m))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return r.ct=-1,r})();function Ql(r){return null==r}function Ya(r){return 0===r&&1/r==-1/0}function kf(r){return"number"==typeof r&&Number.isInteger(r)&&!Ya(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}function vs(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=xu(e)),e=Ad(r.get(t),e);return xu(e)}function Ad(r,e){let t=e;const c=r.length;for(let m=0;m<c;m++){const C=r.charAt(m);switch(C){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=C}}return t}function xu(r){return r+"\x01\x01"}function Uo(r){const e=r.length;if(Ni(e>=2),2===e)return Ni("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),qi.emptyPath();const t=e-2,c=[];let m="";for(let C=0;C<e;){const R=r.indexOf("\x01",C);switch((R<0||R>t)&&ni(),r.charAt(R+1)){case"\x01":const Y=r.substring(C,R);let le;0===m.length?le=Y:(m+=Y,le=m,m=""),c.push(le);break;case"\x10":m+=r.substring(C,R),m+="\0";break;case"\x11":m+=r.substring(C,R+1);break;default:ni()}C=R+2}return new qi(c)}const kd=["userId","batchId"];function ao(r,e){return[r,vs(e)]}function Zh(r,e,t){return[r,vs(e),t]}const Do={},Ju=["prefixPath","collectionGroup","readTime","documentId"],Su=["prefixPath","collectionGroup","documentId"],Qh=["collectionGroup","readTime","prefixPath","documentId"],oh=["canonicalId","targetId"],Xl=["targetId","path"],Ol=["path","targetId"],Mu=["collectionId","parent"],Rd=["indexId","uid"],Rc=["uid","sequenceNumber"],Od=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Iu=["indexId","uid","orderedDocumentKey"],Oc=["userId","collectionPath","documentId"],Pd=["userId","collectionPath","largestBatchId"],ah=["userId","collectionGroup","largestBatchId"],Xh=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Nd=[...Xh,"documentOverlays"],ra=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Fd=ra,dp=[...Fd,"indexConfiguration","indexState","indexEntries"];class Jl extends mn{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Ho(r,e){const t=ci(r);return fs.M(t.ht,e)}function Tu(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function ec(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Rf(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ps{constructor(e,t){this.comparator=e,this.root=t||Xs.EMPTY}insert(e,t){return new ps(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xs.BLACK,null,null))}remove(e){return new ps(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const c=this.comparator(e,t.key);if(0===c)return t.value;c<0?t=t.left:c>0&&(t=t.right)}return null}indexOf(e){let t=0,c=this.root;for(;!c.isEmpty();){const m=this.comparator(e,c.key);if(0===m)return t+c.left.size;m<0?c=c.left:(t+=c.left.size+1,c=c.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,c)=>(e(t,c),!1))}toString(){const e=[];return this.inorderTraversal((t,c)=>(e.push(`${t}:${c}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zc(this.root,e,this.comparator,!1)}getReverseIterator(){return new zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zc(this.root,e,this.comparator,!0)}}class zc{constructor(e,t,c,m){this.isReverse=m,this.nodeStack=[];let C=1;for(;!e.isEmpty();)if(C=t?c(e.key,t):1,t&&m&&(C*=-1),C<0)e=this.isReverse?e.left:e.right;else{if(0===C){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xs{constructor(e,t,c,m,C){this.key=e,this.value=t,this.color=c??Xs.RED,this.left=m??Xs.EMPTY,this.right=C??Xs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,c,m,C){return new Xs(e??this.key,t??this.value,c??this.color,m??this.left,C??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,c){let m=this;const C=c(e,m.key);return m=C<0?m.copy(null,null,null,m.left.insert(e,t,c),null):0===C?m.copy(null,t,null,null,null):m.copy(null,null,null,null,m.right.insert(e,t,c)),m.fixUp()}removeMin(){if(this.left.isEmpty())return Xs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let c,m=this;if(t(e,m.key)<0)m.left.isEmpty()||m.left.isRed()||m.left.left.isRed()||(m=m.moveRedLeft()),m=m.copy(null,null,null,m.left.remove(e,t),null);else{if(m.left.isRed()&&(m=m.rotateRight()),m.right.isEmpty()||m.right.isRed()||m.right.left.isRed()||(m=m.moveRedRight()),0===t(e,m.key)){if(m.right.isEmpty())return Xs.EMPTY;c=m.right.min(),m=m.copy(c.key,c.value,null,null,m.right.removeMin())}m=m.copy(null,null,null,null,m.right.remove(e,t))}return m.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ni();const e=this.left.check();if(e!==this.right.check())throw ni();return e+(this.isRed()?0:1)}}Xs.EMPTY=null,Xs.RED=!0,Xs.BLACK=!1,Xs.EMPTY=new class{constructor(){this.size=0}get key(){throw ni()}get value(){throw ni()}get color(){throw ni()}get left(){throw ni()}get right(){throw ni()}copy(r,e,t,c,m){return this}insert(r,e,t){return new Xs(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ys{constructor(e){this.comparator=e,this.data=new ps(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,c)=>(e(t),!1))}forEachInRange(e,t){const c=this.data.getIteratorFrom(e[0]);for(;c.hasNext();){const m=c.getNext();if(this.comparator(m.key,e[1])>=0)return;t(m.key)}}forEachWhile(e,t){let c;for(c=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();c.hasNext();)if(!e(c.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Z(this.data.getIterator())}getIteratorFrom(e){return new Z(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(c=>{t=t.add(c)}),t}isEqual(e){if(!(e instanceof ys)||this.size!==e.size)return!1;const t=this.data.getIterator(),c=e.data.getIterator();for(;t.hasNext();){const m=t.getNext().key,C=c.getNext().key;if(0!==this.comparator(m,C))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ys(this.comparator);return t.data=e,t}}class Z{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function se(r){return r.hasNext()?r.getNext():void 0}class ve{constructor(e){this.fields=e,e.sort(rs.comparator)}static empty(){return new ve([])}unionWith(e){let t=new ys(rs.comparator);for(const c of this.fields)t=t.add(c);for(const c of e)t=t.add(c);return new ve(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ac(this.fields,e.fields,(t,c)=>t.isEqual(c))}}class ot extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(c){try{return atob(c)}catch(m){throw typeof DOMException<"u"&&m instanceof DOMException?new ot("Invalid base64 string: "+m):m}}(e);return new Yt(t)}static fromUint8Array(e){const t=function(c){let m="";for(let C=0;C<c.length;++C)m+=String.fromCharCode(c[C]);return m}(e);return new Yt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let c=0;c<e.length;c++)t[c]=e.charCodeAt(c);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Zi(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const Bn=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pi(r){if(Ni(!!r),"string"==typeof r){let e=0;const t=Bn.exec(r);if(Ni(!!t),t[1]){let m=t[1];m=(m+"000000000").substr(0,9),e=Number(m)}const c=new Date(r);return{seconds:Math.floor(c.getTime()/1e3),nanos:e}}return{seconds:ri(r.seconds),nanos:ri(r.nanos)}}function ri(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function Ai(r){return"string"==typeof r?Yt.fromBase64String(r):Yt.fromUint8Array(r)}function mr(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function dr(r){const e=r.mapValue.fields.__previous_value__;return mr(e)?dr(e):e}function Ka(r){const e=pi(r.mapValue.fields.__local_write_time__.timestampValue);return new as(e.seconds,e.nanos)}class qa{constructor(e,t,c,m,C,R,Y,le,ge){this.databaseId=e,this.appId=t,this.persistenceKey=c,this.host=m,this.ssl=C,this.forceLongPolling=R,this.autoDetectLongPolling=Y,this.longPollingOptions=le,this.useFetchStreams=ge}}class Cc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Cc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Cc&&e.projectId===this.projectId&&e.database===this.database}}const Pl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},wc={nullValue:"NULL_VALUE"};function jo(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?mr(r)?4:ku(r)?9007199254740991:10:ni()}function Ro(r,e){if(r===e)return!0;const t=jo(r);if(t!==jo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ka(r).isEqual(Ka(e));case 3:return function(c,m){if("string"==typeof c.timestampValue&&"string"==typeof m.timestampValue&&c.timestampValue.length===m.timestampValue.length)return c.timestampValue===m.timestampValue;const C=pi(c.timestampValue),R=pi(m.timestampValue);return C.seconds===R.seconds&&C.nanos===R.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return m=e,Ai(r.bytesValue).isEqual(Ai(m.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(c,m){return ri(c.geoPointValue.latitude)===ri(m.geoPointValue.latitude)&&ri(c.geoPointValue.longitude)===ri(m.geoPointValue.longitude)}(r,e);case 2:return function(c,m){if("integerValue"in c&&"integerValue"in m)return ri(c.integerValue)===ri(m.integerValue);if("doubleValue"in c&&"doubleValue"in m){const C=ri(c.doubleValue),R=ri(m.doubleValue);return C===R?Ya(C)===Ya(R):isNaN(C)&&isNaN(R)}return!1}(r,e);case 9:return Ac(r.arrayValue.values||[],e.arrayValue.values||[],Ro);case 10:return function(c,m){const C=c.mapValue.fields||{},R=m.mapValue.fields||{};if(Tu(C)!==Tu(R))return!1;for(const Y in C)if(C.hasOwnProperty(Y)&&(void 0===R[Y]||!Ro(C[Y],R[Y])))return!1;return!0}(r,e);default:return ni()}var m}function Au(r,e){return void 0!==(r.values||[]).find(t=>Ro(t,e))}function tc(r,e){if(r===e)return 0;const t=jo(r),c=jo(e);if(t!==c)return Zi(t,c);switch(t){case 0:case 9007199254740991:return 0;case 1:return Zi(r.booleanValue,e.booleanValue);case 2:return function(m,C){const R=ri(m.integerValue||m.doubleValue),Y=ri(C.integerValue||C.doubleValue);return R<Y?-1:R>Y?1:R===Y?0:isNaN(R)?isNaN(Y)?0:-1:1}(r,e);case 3:return lh(r.timestampValue,e.timestampValue);case 4:return lh(Ka(r),Ka(e));case 5:return Zi(r.stringValue,e.stringValue);case 6:return function(m,C){const R=Ai(m),Y=Ai(C);return R.compareTo(Y)}(r.bytesValue,e.bytesValue);case 7:return function(m,C){const R=m.split("/"),Y=C.split("/");for(let le=0;le<R.length&&le<Y.length;le++){const ge=Zi(R[le],Y[le]);if(0!==ge)return ge}return Zi(R.length,Y.length)}(r.referenceValue,e.referenceValue);case 8:return function(m,C){const R=Zi(ri(m.latitude),ri(C.latitude));return 0!==R?R:Zi(ri(m.longitude),ri(C.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(m,C){const R=m.values||[],Y=C.values||[];for(let le=0;le<R.length&&le<Y.length;++le){const ge=tc(R[le],Y[le]);if(ge)return ge}return Zi(R.length,Y.length)}(r.arrayValue,e.arrayValue);case 10:return function(m,C){if(m===Pl.mapValue&&C===Pl.mapValue)return 0;if(m===Pl.mapValue)return 1;if(C===Pl.mapValue)return-1;const R=m.fields||{},Y=Object.keys(R),le=C.fields||{},ge=Object.keys(le);Y.sort(),ge.sort();for(let Ne=0;Ne<Y.length&&Ne<ge.length;++Ne){const wt=Zi(Y[Ne],ge[Ne]);if(0!==wt)return wt;const an=tc(R[Y[Ne]],le[ge[Ne]]);if(0!==an)return an}return Zi(Y.length,ge.length)}(r.mapValue,e.mapValue);default:throw ni()}}function lh(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return Zi(r,e);const t=pi(r),c=pi(e),m=Zi(t.seconds,c.seconds);return 0!==m?m:Zi(t.nanos,c.nanos)}function tl(r){return Gc(r)}function Gc(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(c){const m=pi(c);return`time(${m.seconds},${m.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?Ai(r.bytesValue).toBase64():"referenceValue"in r?vi.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(c){let m="[",C=!0;for(const R of c.values||[])C?C=!1:m+=",",m+=Gc(R);return m+"]"}(r.arrayValue):"mapValue"in r?function(c){const m=Object.keys(c.fields||{}).sort();let C="{",R=!0;for(const Y of m)R?R=!1:C+=",",C+=`${Y}:${Gc(c.fields[Y])}`;return C+"}"}(r.mapValue):ni();var e}function Ec(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function ef(r){return!!r&&"integerValue"in r}function Nl(r){return!!r&&"arrayValue"in r}function hp(r){return!!r&&"nullValue"in r}function fp(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Oh(r){return!!r&&"mapValue"in r}function ed(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ec(r.mapValue.fields,(t,c)=>e.mapValue.fields[t]=ed(c)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ed(r.arrayValue.values[t]);return e}return Object.assign({},r)}function ku(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ph(r){return"nullValue"in r?wc:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?Ec(Cc.empty(),vi.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:ni()}function nl(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?Ec(Cc.empty(),vi.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?Pl:ni()}function ch(r,e){const t=tc(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function Ld(r,e){const t=tc(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class zo{constructor(e){this.value=e}static empty(){return new zo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let c=0;c<e.length-1;++c)if(t=(t.mapValue.fields||{})[e.get(c)],!Oh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ed(t)}setAll(e){let t=rs.emptyPath(),c={},m=[];e.forEach((R,Y)=>{if(!t.isImmediateParentOf(Y)){const le=this.getFieldsMap(t);this.applyChanges(le,c,m),c={},m=[],t=Y.popLast()}R?c[Y.lastSegment()]=ed(R):m.push(Y.lastSegment())});const C=this.getFieldsMap(t);this.applyChanges(C,c,m)}delete(e){const t=this.field(e.popLast());Oh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ro(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let c=0;c<e.length;++c){let m=t.mapValue.fields[e.get(c)];Oh(m)&&m.mapValue.fields||(m={mapValue:{fields:{}}},t.mapValue.fields[e.get(c)]=m),t=m}return t.mapValue.fields}applyChanges(e,t,c){ec(t,(m,C)=>e[m]=C);for(const m of c)delete e[m]}clone(){return new zo(ed(this.value))}}function Na(r){const e=[];return ec(r.fields,(t,c)=>{const m=new rs([t]);if(Oh(c)){const C=Na(c.mapValue).fields;if(0===C.length)e.push(m);else for(const R of C)e.push(m.child(R))}else e.push(m)}),new ve(e)}class zs{constructor(e,t,c,m,C,R,Y){this.key=e,this.documentType=t,this.version=c,this.readTime=m,this.createTime=C,this.data=R,this.documentState=Y}static newInvalidDocument(e){return new zs(e,0,Ki.min(),Ki.min(),Ki.min(),zo.empty(),0)}static newFoundDocument(e,t,c,m){return new zs(e,1,t,Ki.min(),c,m,0)}static newNoDocument(e,t){return new zs(e,2,t,Ki.min(),Ki.min(),zo.empty(),0)}static newUnknownDocument(e,t){return new zs(e,3,t,Ki.min(),Ki.min(),zo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ki.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ki.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof zs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Fl{constructor(e,t){this.position=e,this.inclusive=t}}function Hp(r,e,t){let c=0;for(let m=0;m<r.position.length;m++){const C=e[m],R=r.position[m];if(c=C.field.isKeyField()?vi.comparator(vi.fromName(R.referenceValue),t.key):tc(R,t.data.field(C.field)),"desc"===C.dir&&(c*=-1),0!==c)break}return c}function Of(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Ro(r.position[t],e.position[t]))return!1;return!0}class td{constructor(e,t="asc"){this.field=e,this.dir=t}}function pp(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Pf{}class Ur extends Pf{constructor(e,t,c){super(),this.field=e,this.op=t,this.value=c}static create(e,t,c){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,c):new mp(e,t,c):"array-contains"===t?new $c(e,c):"in"===t?new sf(e,c):"not-in"===t?new Hd(e,c):"array-contains-any"===t?new Pc(e,c):new Ur(e,t,c)}static createKeyFieldInFilter(e,t,c){return"in"===t?new rf(e,c):new Nf(e,c)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(tc(t,this.value)):null!==t&&jo(this.value)===jo(t)&&this.matchesComparison(tc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ni()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class bs extends Pf{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new bs(e,t)}matches(e){return Bd(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Bd(r){return"and"===r.op}function Dc(r){return"or"===r.op}function nd(r){return Ru(r)&&Bd(r)}function Ru(r){for(const e of r.filters)if(e instanceof bs)return!1;return!0}function tf(r){if(r instanceof Ur)return r.field.canonicalString()+r.op.toString()+tl(r.value);if(nd(r))return r.filters.map(e=>tf(e)).join(",");{const e=r.filters.map(t=>tf(t)).join(",");return`${r.op}(${e})`}}function Ou(r,e){return r instanceof Ur?(t=r,(c=e)instanceof Ur&&t.op===c.op&&t.field.isEqual(c.field)&&Ro(t.value,c.value)):r instanceof bs?function(t,c){return c instanceof bs&&t.op===c.op&&t.filters.length===c.filters.length&&t.filters.reduce((m,C,R)=>m&&Ou(C,c.filters[R]),!0)}(r,e):void ni();var t,c}function nf(r,e){const t=r.filters.concat(e);return bs.create(t,r.op)}function Vd(r){return r instanceof Ur?`${(e=r).field.canonicalString()} ${e.op} ${tl(e.value)}`:r instanceof bs?function(e){return e.op.toString()+" {"+e.getFilters().map(Vd).join(" ,")+"}"}(r):"Filter";var e}class mp extends Ur{constructor(e,t,c){super(e,t,c),this.key=vi.fromName(c.referenceValue)}matches(e){const t=vi.comparator(e.key,this.key);return this.matchesComparison(t)}}class rf extends Ur{constructor(e,t){super(e,"in",t),this.keys=Ud(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Nf extends Ur{constructor(e,t){super(e,"not-in",t),this.keys=Ud(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ud(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(c=>vi.fromName(c.referenceValue))}class $c extends Ur{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Nl(t)&&Au(t.arrayValue,this.value)}}class sf extends Ur{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Au(this.value.arrayValue,t)}}class Hd extends Ur{constructor(e,t){super(e,"not-in",t)}matches(e){if(Au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Au(this.value.arrayValue,t)}}class Pc extends Ur{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Nl(t)||!t.arrayValue.values)&&t.arrayValue.values.some(c=>Au(this.value.arrayValue,c))}}class jd{constructor(e,t=null,c=[],m=[],C=null,R=null,Y=null){this.path=e,this.collectionGroup=t,this.orderBy=c,this.filters=m,this.limit=C,this.startAt=R,this.endAt=Y,this.dt=null}}function uh(r,e=null,t=[],c=[],m=null,C=null,R=null){return new jd(r,e,t,c,m,C,R)}function Ll(r){const e=ci(r);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(c=>tf(c)).join(","),t+="|ob:",t+=e.orderBy.map(c=>{return(m=c).field.canonicalString()+m.dir;var m}).join(","),Ql(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(c=>tl(c)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(c=>tl(c)).join(",")),e.dt=t}return e.dt}function Wc(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!pp(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Ou(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Of(r.startAt,e.startAt)&&Of(r.endAt,e.endAt)}function zd(r){return vi.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function id(r,e){return r.filters.filter(t=>t instanceof Ur&&t.field.isEqual(e))}function gp(r,e,t){let c=wc,m=!0;for(const C of id(r,e)){let R=wc,Y=!0;switch(C.op){case"<":case"<=":R=Ph(C.value);break;case"==":case"in":case">=":R=C.value;break;case">":R=C.value,Y=!1;break;case"!=":case"not-in":R=wc}ch({value:c,inclusive:m},{value:R,inclusive:Y})<0&&(c=R,m=Y)}if(null!==t)for(let C=0;C<r.orderBy.length;++C)if(r.orderBy[C].field.isEqual(e)){const R=t.position[C];ch({value:c,inclusive:m},{value:R,inclusive:t.inclusive})<0&&(c=R,m=t.inclusive);break}return{value:c,inclusive:m}}function Nh(r,e,t){let c=Pl,m=!0;for(const C of id(r,e)){let R=Pl,Y=!0;switch(C.op){case">=":case">":R=nl(C.value),Y=!1;break;case"==":case"in":case"<=":R=C.value;break;case"<":R=C.value,Y=!1;break;case"!=":case"not-in":R=Pl}Ld({value:c,inclusive:m},{value:R,inclusive:Y})>0&&(c=R,m=Y)}if(null!==t)for(let C=0;C<r.orderBy.length;++C)if(r.orderBy[C].field.isEqual(e)){const R=t.position[C];Ld({value:c,inclusive:m},{value:R,inclusive:t.inclusive})>0&&(c=R,m=t.inclusive);break}return{value:c,inclusive:m}}class Go{constructor(e,t=null,c=[],m=[],C=null,R="F",Y=null,le=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=c,this.filters=m,this.limit=C,this.limitType=R,this.startAt=Y,this.endAt=le,this.wt=null,this._t=null}}function Fa(r,e,t,c,m,C,R,Y){return new Go(r,e,t,c,m,C,R,Y)}function Pu(r){return new Go(r)}function af(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function lo(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function Yc(r){for(const e of r.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Nu(r){return null!==r.collectionGroup}function ma(r){const e=ci(r);if(null===e.wt){e.wt=[];const t=Yc(e),c=lo(e);if(null!==t&&null===c)t.isKeyField()||e.wt.push(new td(t)),e.wt.push(new td(rs.keyField(),"asc"));else{let m=!1;for(const C of e.explicitOrderBy)e.wt.push(C),C.field.isKeyField()&&(m=!0);if(!m){const C=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new td(rs.keyField(),C))}}}return e.wt}function Ss(r){const e=ci(r);if(!e._t)if("F"===e.limitType)e._t=uh(e.path,e.collectionGroup,ma(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const C of ma(e))t.push(new td(C.field,"desc"===C.dir?"asc":"desc"));const c=e.endAt?new Fl(e.endAt.position,e.endAt.inclusive):null,m=e.startAt?new Fl(e.startAt.position,e.startAt.inclusive):null;e._t=uh(e.path,e.collectionGroup,t,e.filters,e.limit,c,m)}return e._t}function nc(r,e){e.getFirstInequalityField(),Yc(r);const t=r.filters.concat([e]);return new Go(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Kc(r,e,t){return new Go(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function rd(r,e){return Wc(Ss(r),Ss(e))&&r.limitType===e.limitType}function qc(r){return`${Ll(Ss(r))}|lt:${r.limitType}`}function Bl(r){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(c=>Vd(c)).join(", ")}]`),Ql(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(c=>{return`${(m=c).field.canonicalString()} (${m.dir})`;var m}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(c=>tl(c)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(c=>tl(c)).join(",")),`Target(${t})`}(Ss(r))}; limitType=${r.limitType})`}function gl(r,e){return e.isFoundDocument()&&function(t,c){const m=c.key.path;return null!==t.collectionGroup?c.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(m):vi.isDocumentKey(t.path)?t.path.isEqual(m):t.path.isImmediateParentOf(m)}(r,e)&&function(t,c){for(const m of ma(t))if(!m.field.isKeyField()&&null===c.data.field(m.field))return!1;return!0}(r,e)&&function(t,c){for(const m of t.filters)if(!m.matches(c))return!1;return!0}(r,e)&&(c=e,!((t=r).startAt&&!function(m,C,R){const Y=Hp(m,C,R);return m.inclusive?Y<=0:Y<0}(t.startAt,ma(t),c)||t.endAt&&!function(m,C,R){const Y=Hp(m,C,R);return m.inclusive?Y>=0:Y>0}(t.endAt,ma(t),c)));var t,c}function lf(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Gd(r){return(e,t)=>{let c=!1;for(const m of ma(r)){const C=Fh(m,e,t);if(0!==C)return C;c=c||m.field.isKeyField()}return 0}}function Fh(r,e,t){const c=r.field.isKeyField()?vi.comparator(e.key,t.key):function(m,C,R){const Y=C.data.field(m),le=R.data.field(m);return null!==Y&&null!==le?tc(Y,le):ni()}(r.field,e,t);switch(r.dir){case"asc":return c;case"desc":return-1*c;default:return ni()}}class Zc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),c=this.inner[t];if(void 0!==c)for(const[m,C]of c)if(this.equalsFn(m,e))return C}has(e){return void 0!==this.get(e)}set(e,t){const c=this.mapKeyFn(e),m=this.inner[c];if(void 0===m)return this.inner[c]=[[e,t]],void this.innerSize++;for(let C=0;C<m.length;C++)if(this.equalsFn(m[C][0],e))return void(m[C]=[e,t]);m.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),c=this.inner[t];if(void 0===c)return!1;for(let m=0;m<c.length;m++)if(this.equalsFn(c[m][0],e))return 1===c.length?delete this.inner[t]:c.splice(m,1),this.innerSize--,!0;return!1}forEach(e){ec(this.inner,(t,c)=>{for(const[m,C]of c)e(m,C)})}isEmpty(){return Rf(this.inner)}size(){return this.innerSize}}const $o=new ps(vi.comparator);function _l(){return $o}const cf=new ps(vi.comparator);function Nc(...r){let e=cf;for(const t of r)e=e.insert(t.key,t);return e}function Ff(r){let e=cf;return r.forEach((t,c)=>e=e.insert(t,c.overlayedDocument)),e}function ic(){return sd()}function dh(){return sd()}function sd(){return new Zc(r=>r.toString(),(r,e)=>r.isEqual(e))}const hh=new ps(vi.comparator),$d=new ys(vi.comparator);function wr(...r){let e=$d;for(const t of r)e=e.add(t);return e}const Wd=new ys(Zi);function Yd(){return Wd}function uf(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ya(e)?"-0":e}}function Qc(r){return{integerValue:""+r}}function Xc(r,e){return kf(e)?Qc(e):uf(r,e)}class fh{constructor(){this._=void 0}}function sa(r,e,t){return r instanceof mh?function(c,m){const C={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:c.seconds,nanos:c.nanoseconds}}}};return m&&mr(m)&&(m=dr(m)),m&&(C.fields.__previous_value__=m),{mapValue:C}}(t,e):r instanceof Jc?od(r,e):r instanceof eu?gh(r,e):function(c,m){const C=ph(c,m),R=rc(C)+rc(c.gt);return ef(C)&&ef(c.gt)?Qc(R):uf(c.serializer,R)}(r,e)}function Lh(r,e,t){return r instanceof Jc?od(r,e):r instanceof eu?gh(r,e):t}function ph(r,e){return r instanceof Fc?ef(t=e)||(c=t)&&"doubleValue"in c?e:{integerValue:0}:null;var c,t}class mh extends fh{}class Jc extends fh{constructor(e){super(),this.elements=e}}function od(r,e){const t=df(e);for(const c of r.elements)t.some(m=>Ro(m,c))||t.push(c);return{arrayValue:{values:t}}}class eu extends fh{constructor(e){super(),this.elements=e}}function gh(r,e){let t=df(e);for(const c of r.elements)t=t.filter(m=>!Ro(m,c));return{arrayValue:{values:t}}}class Fc extends fh{constructor(e,t){super(),this.serializer=e,this.gt=t}}function rc(r){return ri(r.integerValue||r.doubleValue)}function df(r){return Nl(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Fu{constructor(e,t){this.field=e,this.transform=t}}class Lu{constructor(e,t){this.version=e,this.transformResults=t}}class Cs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Cs}static exists(e){return new Cs(void 0,e)}static updateTime(e){return new Cs(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ga(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class tu{}function sc(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new ad(r.key,Cs.none()):new Bu(r.key,r.data,Cs.none());{const t=r.data,c=zo.empty();let m=new ys(rs.comparator);for(let C of e.fields)if(!m.has(C)){let R=t.field(C);null===R&&C.length>1&&(C=C.popLast(),R=t.field(C)),null===R?c.delete(C):c.set(C,R),m=m.add(C)}return new iu(r.key,c,new ve(m.toArray()),Cs.none())}}function nu(r,e,t){r instanceof Bu?function(c,m,C){const R=c.value.clone(),Y=ff(c.fieldTransforms,m,C.transformResults);R.setAll(Y),m.convertToFoundDocument(C.version,R).setHasCommittedMutations()}(r,e,t):r instanceof iu?function(c,m,C){if(!ga(c.precondition,m))return void m.convertToUnknownDocument(C.version);const R=ff(c.fieldTransforms,m,C.transformResults),Y=m.data;Y.setAll(_h(c)),Y.setAll(R),m.convertToFoundDocument(C.version,Y).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Wo(r,e,t,c){return r instanceof Bu?function(m,C,R,Y){if(!ga(m.precondition,C))return R;const le=m.value.clone(),ge=vp(m.fieldTransforms,Y,C);return le.setAll(ge),C.convertToFoundDocument(C.version,le).setHasLocalMutations(),null}(r,e,t,c):r instanceof iu?function(m,C,R,Y){if(!ga(m.precondition,C))return R;const le=vp(m.fieldTransforms,Y,C),ge=C.data;return ge.setAll(_h(m)),ge.setAll(le),C.convertToFoundDocument(C.version,ge).setHasLocalMutations(),null===R?null:R.unionWith(m.fieldMask.fields).unionWith(m.fieldTransforms.map(Ne=>Ne.field))}(r,e,t,c):(R=t,ga(r.precondition,C=e)?(C.convertToNoDocument(C.version).setHasLocalMutations(),null):R);var C,R}function Lc(r,e){let t=null;for(const c of r.fieldTransforms){const m=e.data.field(c.field),C=ph(c.transform,m||null);null!=C&&(null===t&&(t=zo.empty()),t.set(c.field,C))}return t||null}function _p(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(c=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===c||t&&c&&Ac(t,c,(m,C)=>function hf(r,e){return r.field.isEqual(e.field)&&(c=e.transform,(t=r.transform)instanceof Jc&&c instanceof Jc||t instanceof eu&&c instanceof eu?Ac(t.elements,c.elements,Ro):t instanceof Fc&&c instanceof Fc?Ro(t.gt,c.gt):t instanceof mh&&c instanceof mh);var t,c}(m,C))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,c}class Bu extends tu{constructor(e,t,c,m=[]){super(),this.key=e,this.value=t,this.precondition=c,this.fieldTransforms=m,this.type=0}getFieldMask(){return null}}class iu extends tu{constructor(e,t,c,m,C=[]){super(),this.key=e,this.data=t,this.fieldMask=c,this.precondition=m,this.fieldTransforms=C,this.type=1}getFieldMask(){return this.fieldMask}}function _h(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const c=r.data.field(t);e.set(t,c)}}),e}function ff(r,e,t){const c=new Map;Ni(r.length===t.length);for(let m=0;m<t.length;m++){const C=r[m],R=C.transform,Y=e.data.field(C.field);c.set(C.field,Lh(R,Y,t[m]))}return c}function vp(r,e,t){const c=new Map;for(const m of r){const C=m.transform,R=t.data.field(m.field);c.set(m.field,sa(C,R,e))}return c}class ad extends tu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vh extends tu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class L{constructor(e,t,c,m){this.batchId=e,this.localWriteTime=t,this.baseMutations=c,this.mutations=m}applyToRemoteDocument(e,t){const c=t.mutationResults;for(let m=0;m<this.mutations.length;m++){const C=this.mutations[m];C.key.isEqual(e.key)&&nu(C,e,c[m])}}applyToLocalView(e,t){for(const c of this.baseMutations)c.key.isEqual(e.key)&&(t=Wo(c,e,t,this.localWriteTime));for(const c of this.mutations)c.key.isEqual(e.key)&&(t=Wo(c,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const c=dh();return this.mutations.forEach(m=>{const C=e.get(m.key),R=C.overlayedDocument;let Y=this.applyToLocalView(R,C.mutatedFields);Y=t.has(m.key)?null:Y;const le=sc(R,Y);null!==le&&c.set(m.key,le),R.isValidDocument()||R.convertToNoDocument(Ki.min())}),c}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),wr())}isEqual(e){return this.batchId===e.batchId&&Ac(this.mutations,e.mutations,(t,c)=>_p(t,c))&&Ac(this.baseMutations,e.baseMutations,(t,c)=>_p(t,c))}}class D{constructor(e,t,c,m){this.batch=e,this.commitVersion=t,this.mutationResults=c,this.docVersions=m}static from(e,t,c){Ni(e.mutations.length===c.length);let m=hh;const C=e.mutations;for(let R=0;R<C.length;R++)m=m.insert(C[R].key,c[R].version);return new D(e,t,c,m)}}class T{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ue{constructor(e,t){this.count=e,this.unchangedNames=t}}var xe,dt;function nn(r){switch(r){default:return ni();case fn.CANCELLED:case fn.UNKNOWN:case fn.DEADLINE_EXCEEDED:case fn.RESOURCE_EXHAUSTED:case fn.INTERNAL:case fn.UNAVAILABLE:case fn.UNAUTHENTICATED:return!1;case fn.INVALID_ARGUMENT:case fn.NOT_FOUND:case fn.ALREADY_EXISTS:case fn.PERMISSION_DENIED:case fn.FAILED_PRECONDITION:case fn.ABORTED:case fn.OUT_OF_RANGE:case fn.UNIMPLEMENTED:case fn.DATA_LOSS:return!0}}function Yn(r){if(void 0===r)return Rs("GRPC error has no .code"),fn.UNKNOWN;switch(r){case xe.OK:return fn.OK;case xe.CANCELLED:return fn.CANCELLED;case xe.UNKNOWN:return fn.UNKNOWN;case xe.DEADLINE_EXCEEDED:return fn.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return fn.RESOURCE_EXHAUSTED;case xe.INTERNAL:return fn.INTERNAL;case xe.UNAVAILABLE:return fn.UNAVAILABLE;case xe.UNAUTHENTICATED:return fn.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return fn.INVALID_ARGUMENT;case xe.NOT_FOUND:return fn.NOT_FOUND;case xe.ALREADY_EXISTS:return fn.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return fn.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return fn.FAILED_PRECONDITION;case xe.ABORTED:return fn.ABORTED;case xe.OUT_OF_RANGE:return fn.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return fn.UNIMPLEMENTED;case xe.DATA_LOSS:return fn.DATA_LOSS;default:return ni()}}(dt=xe||(xe={}))[dt.OK=0]="OK",dt[dt.CANCELLED=1]="CANCELLED",dt[dt.UNKNOWN=2]="UNKNOWN",dt[dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dt[dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dt[dt.NOT_FOUND=5]="NOT_FOUND",dt[dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",dt[dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",dt[dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",dt[dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dt[dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dt[dt.ABORTED=10]="ABORTED",dt[dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",dt[dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",dt[dt.INTERNAL=13]="INTERNAL",dt[dt.UNAVAILABLE=14]="UNAVAILABLE",dt[dt.DATA_LOSS=15]="DATA_LOSS";class di{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return xi}static getOrCreateInstance(){return null===xi&&(xi=new di),xi}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let xi=null;function Si(){return new TextEncoder}const $s=new yc([4294967295,4294967295],0);function vl(r){const e=Si().encode(r),t=new vu;return t.update(e),new Uint8Array(t.digest())}function Bh(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),c=e.getUint32(4,!0),m=e.getUint32(8,!0),C=e.getUint32(12,!0);return[new yc([t,c],0),new yc([m,C],0)]}class Vu{constructor(e,t,c){if(this.bitmap=e,this.padding=t,this.hashCount=c,t<0||t>=8)throw new Uu(`Invalid padding: ${t}`);if(c<0)throw new Uu(`Invalid hash count: ${c}`);if(e.length>0&&0===this.hashCount)throw new Uu(`Invalid hash count: ${c}`);if(0===e.length&&0!==t)throw new Uu(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=yc.fromNumber(this.It)}Et(e,t,c){let m=e.add(t.multiply(yc.fromNumber(c)));return 1===m.compare($s)&&(m=new yc([m.getBits(0),m.getBits(1)],0)),m.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=vl(e),[c,m]=Bh(t);for(let C=0;C<this.hashCount;C++){const R=this.Et(c,m,C);if(!this.At(R))return!1}return!0}static create(e,t,c){const m=e%8==0?0:8-e%8,C=new Uint8Array(Math.ceil(e/8)),R=new Vu(C,m,t);return c.forEach(Y=>R.insert(Y)),R}insert(e){if(0===this.It)return;const t=vl(e),[c,m]=Bh(t);for(let C=0;C<this.hashCount;C++){const R=this.Et(c,m,C);this.Rt(R)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Uu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class oc{constructor(e,t,c,m,C){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=c,this.documentUpdates=m,this.resolvedLimboDocuments=C}static createSynthesizedRemoteEventForCurrentChange(e,t,c){const m=new Map;return m.set(e,yl.createSynthesizedTargetChangeForCurrentChange(e,t,c)),new oc(Ki.min(),m,new ps(Zi),_l(),wr())}}class yl{constructor(e,t,c,m,C){this.resumeToken=e,this.current=t,this.addedDocuments=c,this.modifiedDocuments=m,this.removedDocuments=C}static createSynthesizedTargetChangeForCurrentChange(e,t,c){return new yl(c,t,wr(),wr(),wr())}}class ld{constructor(e,t,c,m){this.Pt=e,this.removedTargetIds=t,this.key=c,this.bt=m}}class Vh{constructor(e,t){this.targetId=e,this.Vt=t}}class pf{constructor(e,t,c=Yt.EMPTY_BYTE_STRING,m=null){this.state=e,this.targetIds=t,this.resumeToken=c,this.cause=m}}class cd{constructor(){this.St=0,this.Dt=bh(),this.Ct=Yt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=wr(),t=wr(),c=wr();return this.Dt.forEach((m,C)=>{switch(C){case 0:e=e.add(m);break;case 2:t=t.add(m);break;case 1:c=c.add(m);break;default:ni()}}),new yl(this.Ct,this.xt,e,t,c)}Ft(){this.Nt=!1,this.Dt=bh()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class yh{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=_l(),this.zt=Kd(),this.Wt=new ps(Zi)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const c=this.Zt(t);switch(e.state){case 0:this.te(t)&&c.$t(e.resumeToken);break;case 1:c.Ut(),c.kt||c.Ft(),c.$t(e.resumeToken);break;case 2:c.Ut(),c.kt||this.removeTarget(t);break;case 3:this.te(t)&&(c.Kt(),c.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),c.$t(e.resumeToken));break;default:ni()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((c,m)=>{this.te(m)&&t(m)})}ne(e){var t;const c=e.targetId,m=e.Vt.count,C=this.se(c);if(C){const R=C.target;if(zd(R))if(0===m){const Y=new vi(R.path);this.Yt(c,Y,zs.newNoDocument(Y,Ki.min()))}else Ni(1===m);else{const Y=this.ie(c);if(Y!==m){const le=this.re(e,Y);0!==le&&(this.ee(c),this.Wt=this.Wt.insert(c,2===le?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=di.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(ge,Ne,wt){var an,Rn,ui,Ti,Vi,Wr;const Ns={localCacheCount:Ne,existenceFilterCount:wt.count},Yr=wt.unchangedNames;return Yr&&(Ns.bloomFilter={applied:0===ge,hashCount:null!==(an=Yr?.hashCount)&&void 0!==an?an:0,bitmapLength:null!==(Ti=null===(ui=null===(Rn=Yr?.bits)||void 0===Rn?void 0:Rn.bitmap)||void 0===ui?void 0:ui.length)&&void 0!==Ti?Ti:0,padding:null!==(Wr=null===(Vi=Yr?.bits)||void 0===Vi?void 0:Vi.padding)&&void 0!==Wr?Wr:0}),Ns}(le,Y,e.Vt))}}}}re(e,t){const{unchangedNames:c,count:m}=e.Vt;if(!c||!c.bits)return 1;const{bits:{bitmap:C="",padding:R=0},hashCount:Y=0}=c;let le,ge;try{le=Ai(C).toUint8Array()}catch(Ne){if(Ne instanceof ot)return Os("Decoding the base64 bloom filter in existence filter failed ("+Ne.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw Ne}try{ge=new Vu(le,R,Y)}catch(Ne){return Os(Ne instanceof Uu?"BloomFilter error: ":"Applying bloom filter failed: ",Ne),1}return 0===ge.It?1:m!==t-this.oe(e.targetId,ge)?2:0}oe(e,t){const c=this.Gt.getRemoteKeysForTarget(e);let m=0;return c.forEach(C=>{const R=this.Gt.ue(),Y=`projects/${R.projectId}/databases/${R.database}/documents/${C.path.canonicalString()}`;t.vt(Y)||(this.Yt(e,C,null),m++)}),m}ce(e){const t=new Map;this.Qt.forEach((C,R)=>{const Y=this.se(R);if(Y){if(C.current&&zd(Y.target)){const le=new vi(Y.target.path);null!==this.jt.get(le)||this.ae(R,le)||this.Yt(R,le,zs.newNoDocument(le,e))}C.Mt&&(t.set(R,C.Ot()),C.Ft())}});let c=wr();this.zt.forEach((C,R)=>{let Y=!0;R.forEachWhile(le=>{const ge=this.se(le);return!ge||"TargetPurposeLimboResolution"===ge.purpose||(Y=!1,!1)}),Y&&(c=c.add(C))}),this.jt.forEach((C,R)=>R.setReadTime(e));const m=new oc(e,t,this.Wt,this.jt,c);return this.jt=_l(),this.zt=Kd(),this.Wt=new ps(Zi),m}Jt(e,t){if(!this.te(e))return;const c=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,c),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,c){if(!this.te(e))return;const m=this.Zt(e);this.ae(e,t)?m.Bt(t,1):m.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),c&&(this.jt=this.jt.insert(t,c))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new cd,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new ys(Zi),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Kn("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new cd),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Kd(){return new ps(vi.comparator)}function bh(){return new ps(vi.comparator)}const fo={asc:"ASCENDING",desc:"DESCENDING"},jp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hg={and:"AND",or:"OR"};class zp{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function mf(r,e){return r.useProto3Json||Ql(e)?e:{value:e}}function Ch(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Rm(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Ws(r,e){return Ch(r,e.toTimestamp())}function fr(r){return Ni(!!r),Ki.fromTimestamp(function(e){const t=pi(e);return new as(t.seconds,t.nanos)}(r))}function Hr(r,e){return(t=r,new qi(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Uh(r){const e=qi.fromString(r);return Ni(g(e)),e}function Ps(r,e){return Hr(r.databaseId,e.path)}function _a(r,e){const t=Uh(e);if(t.get(1)!==r.databaseId.projectId)throw new kn(fn.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new kn(fn.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new vi(Gr(t))}function Lf(r,e){return Hr(r.databaseId,e)}function xc(r){const e=Uh(r);return 4===e.length?qi.emptyPath():Gr(e)}function ud(r){return new qi(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Gr(r){return Ni(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function Fr(r,e,t){return{name:Ps(r,e),fields:t.value.mapValue.fields}}function il(r,e,t){const c=_a(r,e.name),m=fr(e.updateTime),C=e.createTime?fr(e.createTime):Ki.min(),R=new zo({mapValue:{fields:e.fields}}),Y=zs.newFoundDocument(c,m,C,R);return t&&Y.setHasCommittedMutations(),t?Y.setHasCommittedMutations():Y}function Vl(r,e){let t;if(e instanceof Bu)t={update:Fr(r,e.key,e.value)};else if(e instanceof ad)t={delete:Ps(r,e.key)};else if(e instanceof iu)t={update:Fr(r,e.key,e.data),updateMask:h(e.fieldMask)};else{if(!(e instanceof vh))return ni();t={verify:Ps(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(c=>function(m,C){const R=C.transform;if(R instanceof mh)return{fieldPath:C.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(R instanceof Jc)return{fieldPath:C.field.canonicalString(),appendMissingElements:{values:R.elements}};if(R instanceof eu)return{fieldPath:C.field.canonicalString(),removeAllFromArray:{values:R.elements}};if(R instanceof Fc)return{fieldPath:C.field.canonicalString(),increment:R.gt};throw ni()}(0,c))),e.precondition.isNone||(t.currentDocument=void 0!==(m=e.precondition).updateTime?{updateTime:Ws(r,m.updateTime)}:void 0!==m.exists?{exists:m.exists}:ni()),t;var m}function $p(r,e){const t=e.currentDocument?void 0!==(m=e.currentDocument).updateTime?Cs.updateTime(fr(m.updateTime)):void 0!==m.exists?Cs.exists(m.exists):Cs.none():Cs.none(),c=e.updateTransforms?e.updateTransforms.map(m=>function(C,R){let Y=null;"setToServerValue"in R?(Ni("REQUEST_TIME"===R.setToServerValue),Y=new mh):"appendMissingElements"in R?Y=new Jc(R.appendMissingElements.values||[]):"removeAllFromArray"in R?Y=new eu(R.removeAllFromArray.values||[]):"increment"in R?Y=new Fc(C,R.increment):ni();const le=rs.fromServerFormat(R.fieldPath);return new Fu(le,Y)}(r,m)):[];var m;if(e.update){const m=_a(r,e.update.name),C=new zo({mapValue:{fields:e.update.fields}});if(e.updateMask){const R=new ve((e.updateMask.fieldPaths||[]).map(ge=>rs.fromServerFormat(ge)));return new iu(m,C,R,t,c)}return new Bu(m,C,t,c)}if(e.delete){const m=_a(r,e.delete);return new ad(m,t)}if(e.verify){const m=_a(r,e.verify);return new vh(m,t)}return ni()}function yp(r,e){return{documents:[Lf(r,e.path)]}}function qd(r,e){const t={structuredQuery:{}},c=e.path;null!==e.collectionGroup?(t.parent=Lf(r,c),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Lf(r,c.popLast()),t.structuredQuery.from=[{collectionId:c.lastSegment()}]);const m=function(le){if(0!==le.length)return l(bs.create(le,"and"))}(e.filters);m&&(t.structuredQuery.where=m);const C=function(le){if(0!==le.length)return le.map(ge=>{return{field:dd((Ne=ge).field),direction:Yp(Ne.dir)};var Ne})}(e.orderBy);C&&(t.structuredQuery.orderBy=C);const R=mf(r,e.limit);var Y,le;return null!==R&&(t.structuredQuery.limit=R),e.startAt&&(t.structuredQuery.startAt={before:(Y=e.startAt).inclusive,values:Y.position}),e.endAt&&(t.structuredQuery.endAt={before:!(le=e.endAt).inclusive,values:le.position}),t}function bl(r){let e=xc(r.parent);const t=r.structuredQuery,c=t.from?t.from.length:0;let m=null;if(c>0){Ni(1===c);const Ne=t.from[0];Ne.allDescendants?m=Ne.collectionId:e=e.child(Ne.collectionId)}let C=[];t.where&&(C=function(Ne){const wt=Hh(Ne);return wt instanceof bs&&nd(wt)?wt.getFilters():[wt]}(t.where));let R=[];t.orderBy&&(R=t.orderBy.map(Ne=>{return new td(f((wt=Ne).field),function(an){switch(an){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(wt.direction));var wt}));let Y=null;t.limit&&(Y=function(Ne){let wt;return wt="object"==typeof Ne?Ne.value:Ne,Ql(wt)?null:wt}(t.limit));let le=null;var Ne;t.startAt&&(le=new Fl((Ne=t.startAt).values||[],!!Ne.before));let ge=null;return t.endAt&&(ge=function(Ne){return new Fl(Ne.values||[],!Ne.before)}(t.endAt)),Fa(e,m,R,C,Y,"F",le,ge)}function Hh(r){return void 0!==r.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=f(e.unaryFilter.field);return Ur.create(t,"==",{doubleValue:NaN});case"IS_NULL":const c=f(e.unaryFilter.field);return Ur.create(c,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const m=f(e.unaryFilter.field);return Ur.create(m,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const C=f(e.unaryFilter.field);return Ur.create(C,"!=",{nullValue:"NULL_VALUE"});default:return ni()}}(r):void 0!==r.fieldFilter?Ur.create(f((e=r).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ni()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==r.compositeFilter?function(e){return bs.create(e.compositeFilter.filters.map(t=>Hh(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ni()}}(e.compositeFilter.op))}(r):ni();var e}function Yp(r){return fo[r]}function fg(r){return jp[r]}function Om(r){return hg[r]}function dd(r){return{fieldPath:r.canonicalString()}}function f(r){return rs.fromServerFormat(r.fieldPath)}function l(r){return r instanceof Ur?function(e){if("=="===e.op){if(fp(e.value))return{unaryFilter:{field:dd(e.field),op:"IS_NAN"}};if(hp(e.value))return{unaryFilter:{field:dd(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(fp(e.value))return{unaryFilter:{field:dd(e.field),op:"IS_NOT_NAN"}};if(hp(e.value))return{unaryFilter:{field:dd(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dd(e.field),op:fg(e.op),value:e.value}}}(r):r instanceof bs?function(e){const t=e.getFilters().map(c=>l(c));return 1===t.length?t[0]:{compositeFilter:{op:Om(e.op),filters:t}}}(r):ni()}function h(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function g(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class y{constructor(e,t,c,m,C=Ki.min(),R=Ki.min(),Y=Yt.EMPTY_BYTE_STRING,le=null){this.target=e,this.targetId=t,this.purpose=c,this.sequenceNumber=m,this.snapshotVersion=C,this.lastLimboFreeSnapshotVersion=R,this.resumeToken=Y,this.expectedCount=le}withSequenceNumber(e){return new y(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new y(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new y(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new y(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class I{constructor(e){this.fe=e}}function F(r,e){const t=e.key,c={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:j(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())c.document={name:Ps(m=r.fe,(C=e).key),fields:C.data.value.mapValue.fields,updateTime:Ch(m,C.version.toTimestamp()),createTime:Ch(m,C.createTime.toTimestamp())};else if(e.isNoDocument())c.noDocument={path:t.path.toArray(),readTime:Q(e.version)};else{if(!e.isUnknownDocument())return ni();c.unknownDocument={path:t.path.toArray(),version:Q(e.version)}}var m,C;return c}function j(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function Q(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function de(r){const e=new as(r.seconds,r.nanoseconds);return Ki.fromTimestamp(e)}function ye(r,e){const t=(e.baseMutations||[]).map(C=>$p(r.fe,C));for(let C=0;C<e.mutations.length-1;++C){const R=e.mutations[C];C+1<e.mutations.length&&void 0!==e.mutations[C+1].transform&&(R.updateTransforms=e.mutations[C+1].transform.fieldTransforms,e.mutations.splice(C+1,1),++C)}const c=e.mutations.map(C=>$p(r.fe,C)),m=as.fromMillis(e.localWriteTimeMs);return new L(e.batchId,m,t,c)}function Fe(r){const e=de(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?de(r.lastLimboFreeSnapshotVersion):Ki.min();let c;var m;return void 0!==r.query.documents?(Ni(1===(m=r.query).documents.length),c=Ss(Pu(xc(m.documents[0])))):c=Ss(bl(r.query)),new y(c,r.targetId,"TargetPurposeListen",r.lastListenSequenceNumber,e,t,Yt.fromBase64String(r.resumeToken))}function nt(r,e){const t=Q(e.snapshotVersion),c=Q(e.lastLimboFreeSnapshotVersion);let m;m=zd(e.target)?yp(r.fe,e.target):qd(r.fe,e.target);const C=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ll(e.target),readTime:t,resumeToken:C,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:c,query:m}}function At(r){const e=bl({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?Kc(e,e.limit,"L"):e}function Bt(r,e){return new T(e.largestBatchId,$p(r.fe,e.overlayMutation))}function Kt(r,e){const t=e.path.lastSegment();return[r,vs(e.path.popLast()),t]}function gn(r,e,t,c){return{indexId:r,uid:e.uid||"",sequenceNumber:t,readTime:Q(c.readTime),documentKey:vs(c.documentKey.path),largestBatchId:c.largestBatchId}}class Tn{getBundleMetadata(e,t){return si(e).get(t).next(c=>{if(c)return{id:(m=c).bundleId,createTime:de(m.createTime),version:m.version};var m})}saveBundleMetadata(e,t){return si(e).put({bundleId:(c=t).id,createTime:Q(fr(c.createTime)),version:c.version});var c}getNamedQuery(e,t){return Jn(e).get(t).next(c=>{if(c)return{name:(m=c).name,query:At(m.bundledQuery),readTime:de(m.readTime)};var m})}saveNamedQuery(e,t){return Jn(e).put({name:(c=t).name,readTime:Q(fr(c.readTime)),bundledQuery:c.bundledQuery});var c}}function si(r){return Ho(r,"bundles")}function Jn(r){return Ho(r,"namedQueries")}class jn{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new jn(e,t.uid||"")}getOverlay(e,t){return bi(e).get(Kt(this.userId,t)).next(c=>c?Bt(this.serializer,c):null)}getOverlays(e,t){const c=ic();return Tt.forEach(t,m=>this.getOverlay(e,m).next(C=>{null!==C&&c.set(m,C)})).next(()=>c)}saveOverlays(e,t,c){const m=[];return c.forEach((C,R)=>{const Y=new T(t,R);m.push(this.we(e,Y))}),Tt.waitFor(m)}removeOverlaysForBatchId(e,t,c){const m=new Set;t.forEach(R=>m.add(vs(R.getCollectionPath())));const C=[];return m.forEach(R=>{const Y=IDBKeyRange.bound([this.userId,R,c],[this.userId,R,c+1],!1,!0);C.push(bi(e).J("collectionPathOverlayIndex",Y))}),Tt.waitFor(C)}getOverlaysForCollection(e,t,c){const m=ic(),C=vs(t),R=IDBKeyRange.bound([this.userId,C,c],[this.userId,C,Number.POSITIVE_INFINITY],!0);return bi(e).j("collectionPathOverlayIndex",R).next(Y=>{for(const le of Y){const ge=Bt(this.serializer,le);m.set(ge.getKey(),ge)}return m})}getOverlaysForCollectionGroup(e,t,c,m){const C=ic();let R;const Y=IDBKeyRange.bound([this.userId,t,c],[this.userId,t,Number.POSITIVE_INFINITY],!0);return bi(e).X({index:"collectionGroupOverlayIndex",range:Y},(le,ge,Ne)=>{const wt=Bt(this.serializer,ge);C.size()<m||wt.largestBatchId===R?(C.set(wt.getKey(),wt),R=wt.largestBatchId):Ne.done()}).next(()=>C)}we(e,t){return bi(e).put(function(c,m,C){const[R,Y,le]=Kt(m,C.mutation.key);return{userId:m,collectionPath:Y,documentId:le,collectionGroup:C.mutation.key.getCollectionGroup(),largestBatchId:C.largestBatchId,overlayMutation:Vl(c.fe,C.mutation)}}(this.serializer,this.userId,t))}}function bi(r){return Ho(r,"documentOverlays")}class Ci{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(ri(e.integerValue));else if("doubleValue"in e){const c=ri(e.doubleValue);isNaN(c)?this.ye(t,13):(this.ye(t,15),Ya(c)?t.pe(0):t.pe(c))}else if("timestampValue"in e){const c=e.timestampValue;this.ye(t,20),"string"==typeof c?t.Ie(c):(t.Ie(`${c.seconds||""}`),t.pe(c.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Ai(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const c=e.geoPointValue;this.ye(t,45),t.pe(c.latitude||0),t.pe(c.longitude||0)}else"mapValue"in e?ku(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):ni()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const c=e.fields||{};this.ye(t,55);for(const m of Object.keys(c))this.Te(m,t),this.me(c[m],t)}Pe(e,t){const c=e.values||[];this.ye(t,50);for(const m of c)this.me(m,t)}ve(e,t){this.ye(t,37),vi.fromName(e).path.forEach(c=>{this.ye(t,60),this.be(c,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function Mi(r){if(0===r)return 8;let e=0;return r>>4==0&&(e+=4,r<<=4),r>>6==0&&(e+=2,r<<=2),r>>7==0&&(e+=1),e}function wi(r){const e=64-function(t){let c=0;for(let m=0;m<8;++m){const C=Mi(255&t[m]);if(c+=C,8!==C)break}return c}(r);return Math.ceil(e/8)}Ci.Ve=new Ci;class $r{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let c=t.next();for(;!c.done;)this.De(c.value),c=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let c=t.next();for(;!c.done;)this.Ne(c.value),c=t.next();this.ke()}Me(e){for(const t of e){const c=t.charCodeAt(0);if(c<128)this.De(c);else if(c<2048)this.De(960|c>>>6),this.De(128|63&c);else if(t<"\ud800"||"\udbff"<t)this.De(480|c>>>12),this.De(128|63&c>>>6),this.De(128|63&c);else{const m=t.codePointAt(0);this.De(240|m>>>18),this.De(128|63&m>>>12),this.De(128|63&m>>>6),this.De(128|63&m)}}this.Ce()}$e(e){for(const t of e){const c=t.charCodeAt(0);if(c<128)this.Ne(c);else if(c<2048)this.Ne(960|c>>>6),this.Ne(128|63&c);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|c>>>12),this.Ne(128|63&c>>>6),this.Ne(128|63&c);else{const m=t.codePointAt(0);this.Ne(240|m>>>18),this.Ne(128|63&m>>>12),this.Ne(128|63&m>>>6),this.Ne(128|63&m)}}this.ke()}Oe(e){const t=this.Fe(e),c=wi(t);this.Be(1+c),this.buffer[this.position++]=255&c;for(let m=t.length-c;m<t.length;++m)this.buffer[this.position++]=255&t[m]}Le(e){const t=this.Fe(e),c=wi(t);this.Be(1+c),this.buffer[this.position++]=~(255&c);for(let m=t.length-c;m<t.length;++m)this.buffer[this.position++]=~(255&t[m])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(m){const C=new DataView(new ArrayBuffer(8));return C.setFloat64(0,m,!1),new Uint8Array(C.buffer)}(e),c=0!=(128&t[0]);t[0]^=c?255:128;for(let m=1;m<t.length;++m)t[m]^=c?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let c=2*this.buffer.length;c<t&&(c=t);const m=new Uint8Array(c);m.set(this.buffer),this.buffer=m}}class Xr{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class Jr{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Yo{constructor(){this.je=new $r,this.ze=new Xr(this.je),this.We=new Jr(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class xo{constructor(e,t,c,m){this.indexId=e,this.documentKey=t,this.arrayValue=c,this.directionalValue=m}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,c=new Uint8Array(t);return c.set(this.directionalValue,0),t!==e?c.set([0],this.directionalValue.length):++c[c.length-1],new xo(this.indexId,this.documentKey,this.arrayValue,c)}}function Ir(r,e){let t=r.indexId-e.indexId;return 0!==t?t:(t=Js(r.arrayValue,e.arrayValue),0!==t?t:(t=Js(r.directionalValue,e.directionalValue),0!==t?t:vi.comparator(r.documentKey,e.documentKey)))}function Js(r,e){for(let t=0;t<r.length&&t<e.length;++t){const c=r[t]-e[t];if(0!==c)return c}return r.length-e.length}class Hi{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const c=t;c.isInequality()?this.Ze=c:this.Xe.push(c)}}tn(e){Ni(e.collectionGroup===this.collectionId);const t=wo(e);if(void 0!==t&&!this.en(t))return!1;const c=oo(e);let m=new Set,C=0,R=0;for(;C<c.length&&this.en(c[C]);++C)m=m.add(c[C].fieldPath.canonicalString());if(C===c.length)return!0;if(void 0!==this.Ze){if(!m.has(this.Ze.field.canonicalString())){const Y=c[C];if(!this.nn(this.Ze,Y)||!this.sn(this.Ye[R++],Y))return!1}++C}for(;C<c.length;++C){const Y=c[C];if(R>=this.Ye.length||!this.sn(this.Ye[R++],Y))return!1}return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function ac(r){var e,t;if(Ni(r instanceof Ur||r instanceof bs),r instanceof Ur){if(r instanceof sf){const m=(null===(t=null===(e=r.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(C=>Ur.create(r.field,"==",C)))||[];return bs.create(m,"or")}return r}const c=r.filters.map(m=>ac(m));return bs.create(c,r.op)}function La(r){if(0===r.getFilters().length)return[];const e=gf(ac(r));return Ni(Eh(e)),wh(e)||eo(e)?[e]:e.getFilters()}function wh(r){return r instanceof Ur}function eo(r){return r instanceof bs&&nd(r)}function Eh(r){return wh(r)||eo(r)||function(e){if(e instanceof bs&&Dc(e)){for(const t of e.getFilters())if(!wh(t)&&!eo(t))return!1;return!0}return!1}(r)}function gf(r){if(Ni(r instanceof Ur||r instanceof bs),r instanceof Ur)return r;if(1===r.filters.length)return gf(r.filters[0]);const e=r.filters.map(c=>gf(c));let t=bs.create(e,r.op);return t=Ba(t),Eh(t)?t:(Ni(t instanceof bs),Ni(Bd(t)),Ni(t.filters.length>1),t.filters.reduce((c,m)=>hd(c,m)))}function hd(r,e){let t;return Ni(r instanceof Ur||r instanceof bs),Ni(e instanceof Ur||e instanceof bs),t=r instanceof Ur?e instanceof Ur?bs.create([r,e],"and"):Zd(r,e):e instanceof Ur?Zd(e,r):function(c,m){if(Ni(c.filters.length>0&&m.filters.length>0),Bd(c)&&Bd(m))return nf(c,m.getFilters());const C=Dc(c)?c:m,R=Dc(c)?m:c,Y=C.filters.map(le=>hd(le,R));return bs.create(Y,"or")}(r,e),Ba(t)}function Zd(r,e){if(Bd(e))return nf(e,r.getFilters());{const t=e.filters.map(c=>hd(r,c));return bs.create(t,"or")}}function Ba(r){if(Ni(r instanceof Ur||r instanceof bs),r instanceof Ur)return r;const e=r.getFilters();if(1===e.length)return Ba(e[0]);if(Ru(r))return r;const t=e.map(m=>Ba(m)),c=[];return t.forEach(m=>{m instanceof Ur?c.push(m):m instanceof bs&&(m.op===r.op?c.push(...m.filters):c.push(m))}),1===c.length?c[0]:bs.create(c,r.op)}class Hu{constructor(){this.rn=new bp}addToCollectionParentIndex(e,t){return this.rn.add(t),Tt.resolve()}getCollectionParents(e,t){return Tt.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Tt.resolve()}deleteFieldIndex(e,t){return Tt.resolve()}getDocumentsMatchingTarget(e,t){return Tt.resolve(null)}getIndexType(e,t){return Tt.resolve(0)}getFieldIndexes(e,t){return Tt.resolve([])}getNextCollectionGroupToUpdate(e){return Tt.resolve(null)}getMinOffset(e,t){return Tt.resolve(Ie.min())}getMinOffsetFromCollectionGroup(e,t){return Tt.resolve(Ie.min())}updateCollectionGroup(e,t,c){return Tt.resolve()}updateIndexEntries(e,t){return Tt.resolve()}}class bp{constructor(){this.index={}}add(e){const t=e.lastSegment(),c=e.popLast(),m=this.index[t]||new ys(qi.comparator),C=!m.has(c);return this.index[t]=m.add(c),C}has(e){const t=e.lastSegment(),c=e.popLast(),m=this.index[t];return m&&m.has(c)}getEntries(e){return(this.index[e]||new ys(qi.comparator)).toArray()}}const pg=new Uint8Array(0);class q_{constructor(e,t){this.user=e,this.databaseId=t,this.on=new bp,this.un=new Zc(c=>Ll(c),(c,m)=>Wc(c,m)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const c=t.lastSegment(),m=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const C={collectionId:c,parent:vs(m)};return Pm(e).put(C)}return Tt.resolve()}getCollectionParents(e,t){const c=[],m=IDBKeyRange.bound([t,""],[bu(t),""],!1,!0);return Pm(e).j(m).next(C=>{for(const R of C){if(R.collectionId!==t)break;c.push(Uo(R.parent))}return c})}addFieldIndex(e,t){const c=qp(e),m={indexId:(R=t).indexId,collectionGroup:R.collectionGroup,fields:R.fields.map(Y=>[Y.fieldPath.canonicalString(),Y.kind])};var R;delete m.indexId;const C=c.add(m);if(t.indexState){const R=Uf(e);return C.next(Y=>{R.put(gn(Y,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return C.next()}deleteFieldIndex(e,t){const c=qp(e),m=Uf(e),C=Kp(e);return c.delete(t.indexId).next(()=>m.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>C.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const c=Kp(e);let m=!0;const C=new Map;return Tt.forEach(this.cn(t),R=>this.an(e,R).next(Y=>{m&&(m=!!Y),C.set(R,Y)})).next(()=>{if(m){let R=wr();const Y=[];return Tt.forEach(C,(le,ge)=>{var Ne;Kn("IndexedDbIndexManager",`Using index ${Ne=le,`id=${Ne.indexId}|cg=${Ne.collectionGroup}|f=${Ne.fields.map(Yr=>`${Yr.fieldPath}:${Yr.kind}`).join(",")}`} to execute ${Ll(t)}`);const wt=function(Yr,ol){const wa=wo(ol);if(void 0===wa)return null;for(const oa of id(Yr,wa.fieldPath))switch(oa.op){case"array-contains-any":return oa.value.arrayValue.values||[];case"array-contains":return[oa.value]}return null}(ge,le),an=function(Yr,ol){const wa=new Map;for(const oa of oo(ol))for(const Md of id(Yr,oa.fieldPath))switch(Md.op){case"==":case"in":wa.set(oa.fieldPath.canonicalString(),Md.value);break;case"not-in":case"!=":return wa.set(oa.fieldPath.canonicalString(),Md.value),Array.from(wa.values())}return null}(ge,le),Rn=function(Yr,ol){const wa=[];let oa=!0;for(const Md of oo(ol)){const jg=0===Md.kind?gp(Yr,Md.fieldPath,Yr.startAt):Nh(Yr,Md.fieldPath,Yr.startAt);wa.push(jg.value),oa&&(oa=jg.inclusive)}return new Fl(wa,oa)}(ge,le),ui=function(Yr,ol){const wa=[];let oa=!0;for(const Md of oo(ol)){const jg=0===Md.kind?Nh(Yr,Md.fieldPath,Yr.endAt):gp(Yr,Md.fieldPath,Yr.endAt);wa.push(jg.value),oa&&(oa=jg.inclusive)}return new Fl(wa,oa)}(ge,le),Ti=this.hn(le,ge,Rn),Vi=this.hn(le,ge,ui),Wr=this.ln(le,ge,an),Ns=this.fn(le.indexId,wt,Ti,Rn.inclusive,Vi,ui.inclusive,Wr);return Tt.forEach(Ns,Yr=>c.H(Yr,t.limit).next(ol=>{ol.forEach(wa=>{const oa=vi.fromSegments(wa.documentKey);R.has(oa)||(R=R.add(oa),Y.push(oa))})}))}).next(()=>Y)}return Tt.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:La(bs.create(e.filters,"and")).map(c=>uh(e.path,e.collectionGroup,e.orderBy,c.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,c,m,C,R,Y){const le=(null!=t?t.length:1)*Math.max(c.length,C.length),ge=le/(null!=t?t.length:1),Ne=[];for(let wt=0;wt<le;++wt){const an=t?this.dn(t[wt/ge]):pg,Rn=this.wn(e,an,c[wt%ge],m),ui=this._n(e,an,C[wt%ge],R),Ti=Y.map(Vi=>this.wn(e,an,Vi,!0));Ne.push(...this.createRange(Rn,ui,Ti))}return Ne}wn(e,t,c,m){const C=new xo(e,vi.empty(),t,c);return m?C:C.Je()}_n(e,t,c,m){const C=new xo(e,vi.empty(),t,c);return m?C.Je():C}an(e,t){const c=new Hi(t),m=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,m).next(C=>{let R=null;for(const Y of C)c.tn(Y)&&(!R||Y.fields.length>R.fields.length)&&(R=Y);return R})}getIndexType(e,t){let c=2;const m=this.cn(t);return Tt.forEach(m,C=>this.an(e,C).next(R=>{R?0!==c&&R.fields.length<function(Y){let le=new ys(rs.comparator),ge=!1;for(const Ne of Y.filters)for(const wt of Ne.getFlattenedFilters())wt.field.isKeyField()||("array-contains"===wt.op||"array-contains-any"===wt.op?ge=!0:le=le.add(wt.field));for(const Ne of Y.orderBy)Ne.field.isKeyField()||(le=le.add(Ne.field));return le.size+(ge?1:0)}(C)&&(c=1):c=0})).next(()=>null!==t.limit&&m.length>1&&2===c?1:c)}mn(e,t){const c=new Yo;for(const m of oo(e)){const C=t.data.field(m.fieldPath);if(null==C)return null;const R=c.He(m.kind);Ci.Ve._e(C,R)}return c.Qe()}dn(e){const t=new Yo;return Ci.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const c=new Yo;return Ci.Ve._e(Ec(this.databaseId,t),c.He(function(m){const C=oo(m);return 0===C.length?0:C[C.length-1].kind}(e))),c.Qe()}ln(e,t,c){if(null===c)return[];let m=[];m.push(new Yo);let C=0;for(const R of oo(e)){const Y=c[C++];for(const le of m)if(this.yn(t,R.fieldPath)&&Nl(Y))m=this.pn(m,R,Y);else{const ge=le.He(R.kind);Ci.Ve._e(Y,ge)}}return this.In(m)}hn(e,t,c){return this.ln(e,t,c.position)}In(e){const t=[];for(let c=0;c<e.length;++c)t[c]=e[c].Qe();return t}pn(e,t,c){const m=[...e],C=[];for(const R of c.arrayValue.values||[])for(const Y of m){const le=new Yo;le.seed(Y.Qe()),Ci.Ve._e(R,le.He(t.kind)),C.push(le)}return C}yn(e,t){return!!e.filters.find(c=>c instanceof Ur&&c.field.isEqual(t)&&("in"===c.op||"not-in"===c.op))}getFieldIndexes(e,t){const c=qp(e),m=Uf(e);return(t?c.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):c.j()).next(C=>{const R=[];return Tt.forEach(C,Y=>m.get([Y.indexId,this.uid]).next(le=>{R.push(function(ge,Ne){const wt=Ne?new V(Ne.sequenceNumber,new Ie(de(Ne.readTime),new vi(Uo(Ne.documentKey)),Ne.largestBatchId)):V.empty(),an=ge.fields.map(([Rn,ui])=>new G(rs.fromServerFormat(Rn),ui));return new Cu(ge.indexId,ge.collectionGroup,an,wt)}(Y,le))})).next(()=>R)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((c,m)=>{const C=c.indexState.sequenceNumber-m.indexState.sequenceNumber;return 0!==C?C:Zi(c.collectionGroup,m.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,c){const m=qp(e),C=Uf(e);return this.Tn(e).next(R=>m.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(Y=>Tt.forEach(Y,le=>C.put(gn(le.indexId,this.user,R,c)))))}updateIndexEntries(e,t){const c=new Map;return Tt.forEach(t,(m,C)=>{const R=c.get(m.collectionGroup);return(R?Tt.resolve(R):this.getFieldIndexes(e,m.collectionGroup)).next(Y=>(c.set(m.collectionGroup,Y),Tt.forEach(Y,le=>this.En(e,m,le).next(ge=>{const Ne=this.An(C,le);return ge.isEqual(Ne)?Tt.resolve():this.vn(e,C,le,ge,Ne)}))))})}Rn(e,t,c,m){return Kp(e).put({indexId:m.indexId,uid:this.uid,arrayValue:m.arrayValue,directionalValue:m.directionalValue,orderedDocumentKey:this.gn(c,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,c,m){return Kp(e).delete([m.indexId,this.uid,m.arrayValue,m.directionalValue,this.gn(c,t.key),t.key.path.toArray()])}En(e,t,c){const m=Kp(e);let C=new ys(Ir);return m.X({index:"documentKeyIndex",range:IDBKeyRange.only([c.indexId,this.uid,this.gn(c,t)])},(R,Y)=>{C=C.add(new xo(c.indexId,t,Y.arrayValue,Y.directionalValue))}).next(()=>C)}An(e,t){let c=new ys(Ir);const m=this.mn(t,e);if(null==m)return c;const C=wo(t);if(null!=C){const R=e.data.field(C.fieldPath);if(Nl(R))for(const Y of R.arrayValue.values||[])c=c.add(new xo(t.indexId,e.key,this.dn(Y),m))}else c=c.add(new xo(t.indexId,e.key,pg,m));return c}vn(e,t,c,m,C){Kn("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const R=[];return function(Y,le,ge,Ne,wt){const an=Y.getIterator(),Rn=le.getIterator();let ui=se(an),Ti=se(Rn);for(;ui||Ti;){let Vi=!1,Wr=!1;if(ui&&Ti){const Ns=ge(ui,Ti);Ns<0?Wr=!0:Ns>0&&(Vi=!0)}else null!=ui?Wr=!0:Vi=!0;Vi?(Ne(Ti),Ti=se(Rn)):Wr?(wt(ui),ui=se(an)):(ui=se(an),Ti=se(Rn))}}(m,C,Ir,Y=>{R.push(this.Rn(e,t,c,Y))},Y=>{R.push(this.Pn(e,t,c,Y))}),Tt.waitFor(R)}Tn(e){let t=1;return Uf(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(c,m,C)=>{C.done(),t=m.sequenceNumber+1}).next(()=>t)}createRange(e,t,c){c=c.sort((R,Y)=>Ir(R,Y)).filter((R,Y,le)=>!Y||0!==Ir(R,le[Y-1]));const m=[];m.push(e);for(const R of c){const Y=Ir(R,e),le=Ir(R,t);if(0===Y)m[0]=e.Je();else if(Y>0&&le<0)m.push(R),m.push(R.Je());else if(le>0)break}m.push(t);const C=[];for(let R=0;R<m.length;R+=2){if(this.bn(m[R],m[R+1]))return[];C.push(IDBKeyRange.bound([m[R].indexId,this.uid,m[R].arrayValue,m[R].directionalValue,pg,[]],[m[R+1].indexId,this.uid,m[R+1].arrayValue,m[R+1].directionalValue,pg,[]]))}return C}bn(e,t){return Ir(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(jv)}getMinOffset(e,t){return Tt.mapArray(this.cn(t),c=>this.an(e,c).next(m=>m||ni())).next(jv)}}function Pm(r){return Ho(r,"collectionParents")}function Kp(r){return Ho(r,"indexEntries")}function qp(r){return Ho(r,"indexConfiguration")}function Uf(r){return Ho(r,"indexState")}function jv(r){Ni(0!==r.length);let e=r[0].indexState.offset,t=e.largestBatchId;for(let c=1;c<r.length;c++){const m=r[c].indexState.offset;st(m,e)<0&&(e=m),t<m.largestBatchId&&(t=m.largestBatchId)}return new Ie(e.readTime,e.documentKey,t)}const Gg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class lc{constructor(e,t,c){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=c}static withCacheSize(e){return new lc(e,lc.DEFAULT_COLLECTION_PERCENTILE,lc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function $g(r,e,t){const c=r.store("mutations"),m=r.store("documentMutations"),C=[],R=IDBKeyRange.only(t.batchId);let Y=0;const le=c.X({range:R},(Ne,wt,an)=>(Y++,an.delete()));C.push(le.next(()=>{Ni(1===Y)}));const ge=[];for(const Ne of t.mutations){const wt=Zh(e,Ne.key.path,t.batchId);C.push(m.delete(wt)),ge.push(Ne.key)}return Tt.waitFor(C).next(()=>ge)}function Zp(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw ni();e=r.noDocument}return JSON.stringify(e).length}lc.DEFAULT_COLLECTION_PERCENTILE=10,lc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,lc.DEFAULT=new lc(41943040,lc.DEFAULT_COLLECTION_PERCENTILE,lc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),lc.DISABLED=new lc(-1,0,0);class mg{constructor(e,t,c,m){this.userId=e,this.serializer=t,this.indexManager=c,this.referenceDelegate=m,this.Vn={}}static de(e,t,c,m){Ni(""!==e.uid);const C=e.isAuthenticated()?e.uid:"";return new mg(C,t,c,m)}checkEmpty(e){let t=!0;const c=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return _f(e).X({index:"userMutationsIndex",range:c},(m,C,R)=>{t=!1,R.done()}).next(()=>t)}addMutationBatch(e,t,c,m){const C=Hf(e),R=_f(e);return R.add({}).next(Y=>{Ni("number"==typeof Y);const le=new L(Y,t,c,m),ge=function(an,Rn,ui){const Ti=ui.baseMutations.map(Wr=>Vl(an.fe,Wr)),Vi=ui.mutations.map(Wr=>Vl(an.fe,Wr));return{userId:Rn,batchId:ui.batchId,localWriteTimeMs:ui.localWriteTime.toMillis(),baseMutations:Ti,mutations:Vi}}(this.serializer,this.userId,le),Ne=[];let wt=new ys((an,Rn)=>Zi(an.canonicalString(),Rn.canonicalString()));for(const an of m){const Rn=Zh(this.userId,an.key.path,Y);wt=wt.add(an.key.path.popLast()),Ne.push(R.put(ge)),Ne.push(C.put(Rn,Do))}return wt.forEach(an=>{Ne.push(this.indexManager.addToCollectionParentIndex(e,an))}),e.addOnCommittedListener(()=>{this.Vn[Y]=le.keys()}),Tt.waitFor(Ne).next(()=>le)})}lookupMutationBatch(e,t){return _f(e).get(t).next(c=>c?(Ni(c.userId===this.userId),ye(this.serializer,c)):null)}Sn(e,t){return this.Vn[t]?Tt.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(c=>{if(c){const m=c.keys();return this.Vn[t]=m,m}return null})}getNextMutationBatchAfterBatchId(e,t){const c=t+1,m=IDBKeyRange.lowerBound([this.userId,c]);let C=null;return _f(e).X({index:"userMutationsIndex",range:m},(R,Y,le)=>{Y.userId===this.userId&&(Ni(Y.batchId>=c),C=ye(this.serializer,Y)),le.done()}).next(()=>C)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let c=-1;return _f(e).X({index:"userMutationsIndex",range:t,reverse:!0},(m,C,R)=>{c=C.batchId,R.done()}).next(()=>c)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return _f(e).j("userMutationsIndex",t).next(c=>c.map(m=>ye(this.serializer,m)))}getAllMutationBatchesAffectingDocumentKey(e,t){const c=ao(this.userId,t.path),m=IDBKeyRange.lowerBound(c),C=[];return Hf(e).X({range:m},(R,Y,le)=>{const[ge,Ne,wt]=R,an=Uo(Ne);if(ge===this.userId&&t.path.isEqual(an))return _f(e).get(wt).next(Rn=>{if(!Rn)throw ni();Ni(Rn.userId===this.userId),C.push(ye(this.serializer,Rn))});le.done()}).next(()=>C)}getAllMutationBatchesAffectingDocumentKeys(e,t){let c=new ys(Zi);const m=[];return t.forEach(C=>{const R=ao(this.userId,C.path),Y=IDBKeyRange.lowerBound(R),le=Hf(e).X({range:Y},(ge,Ne,wt)=>{const[an,Rn,ui]=ge,Ti=Uo(Rn);an===this.userId&&C.path.isEqual(Ti)?c=c.add(ui):wt.done()});m.push(le)}),Tt.waitFor(m).next(()=>this.Dn(e,c))}getAllMutationBatchesAffectingQuery(e,t){const c=t.path,m=c.length+1,C=ao(this.userId,c),R=IDBKeyRange.lowerBound(C);let Y=new ys(Zi);return Hf(e).X({range:R},(le,ge,Ne)=>{const[wt,an,Rn]=le,ui=Uo(an);wt===this.userId&&c.isPrefixOf(ui)?ui.length===m&&(Y=Y.add(Rn)):Ne.done()}).next(()=>this.Dn(e,Y))}Dn(e,t){const c=[],m=[];return t.forEach(C=>{m.push(_f(e).get(C).next(R=>{if(null===R)throw ni();Ni(R.userId===this.userId),c.push(ye(this.serializer,R))}))}),Tt.waitFor(m).next(()=>c)}removeMutationBatch(e,t){return $g(e.ht,this.userId,t).next(c=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),Tt.forEach(c,m=>this.referenceDelegate.markPotentiallyOrphaned(e,m))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Tt.resolve();const c=IDBKeyRange.lowerBound([this.userId]),m=[];return Hf(e).X({range:c},(C,R,Y)=>{if(C[0]===this.userId){const le=Uo(C[1]);m.push(le)}else Y.done()}).next(()=>{Ni(0===m.length)})})}containsKey(e,t){return ru(e,this.userId,t)}xn(e){return Nm(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function ru(r,e,t){const c=ao(e,t.path),m=c[1],C=IDBKeyRange.lowerBound(c);let R=!1;return Hf(r).X({range:C,Y:!0},(Y,le,ge)=>{const[Ne,wt,an]=Y;Ne===e&&wt===m&&(R=!0),ge.done()}).next(()=>R)}function _f(r){return Ho(r,"mutations")}function Hf(r){return Ho(r,"documentMutations")}function Nm(r){return Ho(r,"mutationQueues")}class Cp{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Cp(0)}static Mn(){return new Cp(-1)}}class Qd{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const c=new Cp(t.highestTargetId);return t.highestTargetId=c.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>Ki.fromTimestamp(new as(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,c){return this.$n(e).next(m=>(m.highestListenSequenceNumber=t,c&&(m.lastRemoteSnapshotVersion=c.toTimestamp()),t>m.highestListenSequenceNumber&&(m.highestListenSequenceNumber=t),this.On(e,m)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(c=>(c.targetCount+=1,this.Bn(t,c),this.On(e,c))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Dh(e).delete(t.targetId)).next(()=>this.$n(e)).next(c=>(Ni(c.targetCount>0),c.targetCount-=1,this.On(e,c)))}removeTargets(e,t,c){let m=0;const C=[];return Dh(e).X((R,Y)=>{const le=Fe(Y);le.sequenceNumber<=t&&null===c.get(le.targetId)&&(m++,C.push(this.removeTargetData(e,le)))}).next(()=>Tt.waitFor(C)).next(()=>m)}forEachTarget(e,t){return Dh(e).X((c,m)=>{const C=Fe(m);t(C)})}$n(e){return jf(e).get("targetGlobalKey").next(t=>(Ni(null!==t),t))}On(e,t){return jf(e).put("targetGlobalKey",t)}Fn(e,t){return Dh(e).put(nt(this.serializer,t))}Bn(e,t){let c=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,c=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,c=!0),c}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const c=Ll(t),m=IDBKeyRange.bound([c,Number.NEGATIVE_INFINITY],[c,Number.POSITIVE_INFINITY]);let C=null;return Dh(e).X({range:m,index:"queryTargetsIndex"},(R,Y,le)=>{const ge=Fe(Y);Wc(t,ge.target)&&(C=ge,le.done())}).next(()=>C)}addMatchingKeys(e,t,c){const m=[],C=xh(e);return t.forEach(R=>{const Y=vs(R.path);m.push(C.put({targetId:c,path:Y})),m.push(this.referenceDelegate.addReference(e,c,R))}),Tt.waitFor(m)}removeMatchingKeys(e,t,c){const m=xh(e);return Tt.forEach(t,C=>{const R=vs(C.path);return Tt.waitFor([m.delete([c,R]),this.referenceDelegate.removeReference(e,c,C)])})}removeMatchingKeysForTargetId(e,t){const c=xh(e),m=IDBKeyRange.bound([t],[t+1],!1,!0);return c.delete(m)}getMatchingKeysForTargetId(e,t){const c=IDBKeyRange.bound([t],[t+1],!1,!0),m=xh(e);let C=wr();return m.X({range:c,Y:!0},(R,Y,le)=>{const ge=Uo(R[1]),Ne=new vi(ge);C=C.add(Ne)}).next(()=>C)}containsKey(e,t){const c=vs(t.path),m=IDBKeyRange.bound([c],[bu(c)],!1,!0);let C=0;return xh(e).X({index:"documentTargetsIndex",Y:!0,range:m},([R,Y],le,ge)=>{0!==R&&(C++,ge.done())}).next(()=>C>0)}le(e,t){return Dh(e).get(t).next(c=>c?Fe(c):null)}}function Dh(r){return Ho(r,"targets")}function jf(r){return Ho(r,"targetGlobal")}function xh(r){return Ho(r,"targetDocuments")}function Wg([r,e],[t,c]){const m=Zi(r,t);return 0===m?Zi(e,c):m}class zv{constructor(e){this.Ln=e,this.buffer=new ys(Wg),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const c=this.buffer.last();Wg(t,c)<0&&(this.buffer=this.buffer.delete(c).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Rr{constructor(e,t,c){this.garbageCollector=e,this.asyncQueue=t,this.localStore=c,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Kn("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,pt.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(c){Eo(c)?Kn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",c):yield ii(c)}yield t.Qn(3e5)}))}}class gg{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(c=>Math.floor(t/100*c))}nthSequenceNumber(e,t){if(0===t)return Tt.resolve(Vo.ct);const c=new zv(t);return this.jn.forEachTarget(e,m=>c.Kn(m.sequenceNumber)).next(()=>this.jn.Wn(e,m=>c.Kn(m))).next(()=>c.maxValue)}removeTargets(e,t,c){return this.jn.removeTargets(e,t,c)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Kn("LruGarbageCollector","Garbage collection skipped; disabled"),Tt.resolve(Gg)):this.getCacheSize(e).next(c=>c<this.params.cacheSizeCollectionThreshold?(Kn("LruGarbageCollector",`Garbage collection skipped; Cache size ${c} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Gg):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let c,m,C,R,Y,le,ge;const Ne=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(wt=>(wt>this.params.maximumSequenceNumbersToCollect?(Kn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${wt}`),m=this.params.maximumSequenceNumbersToCollect):m=wt,R=Date.now(),this.nthSequenceNumber(e,m))).next(wt=>(c=wt,Y=Date.now(),this.removeTargets(e,c,t))).next(wt=>(C=wt,le=Date.now(),this.removeOrphanedDocuments(e,c))).next(wt=>(ge=Date.now(),Pa()<=je.in.DEBUG&&Kn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${R-Ne}ms\n\tDetermined least recently used ${m} in `+(Y-R)+`ms\n\tRemoved ${C} targets in `+(le-Y)+`ms\n\tRemoved ${wt} documents in `+(ge-le)+`ms\nTotal Duration: ${ge-Ne}ms`),Tt.resolve({didRun:!0,sequenceNumbersCollected:m,targetsRemoved:C,documentsRemoved:wt})))}}class Yg{constructor(e,t){this.db=e,this.garbageCollector=function _g(r,e){return new gg(r,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(c=>t.next(m=>c+m))}Jn(e){let t=0;return this.Wn(e,c=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(c,m)=>t(m))}addReference(e,t,c){return Bc(e,c)}removeReference(e,t,c){return Bc(e,c)}removeTargets(e,t,c){return this.db.getTargetCache().removeTargets(e,t,c)}markPotentiallyOrphaned(e,t){return Bc(e,t)}Xn(e,t){return function(c,m){let C=!1;return Nm(c).Z(R=>ru(c,R,m).next(Y=>(Y&&(C=!0),Tt.resolve(!Y)))).next(()=>C)}(e,t)}removeOrphanedDocuments(e,t){const c=this.db.getRemoteDocumentCache().newChangeBuffer(),m=[];let C=0;return this.Yn(e,(R,Y)=>{if(Y<=t){const le=this.Xn(e,R).next(ge=>{if(!ge)return C++,c.getEntry(e,R).next(()=>(c.removeEntry(R,Ki.min()),xh(e).delete([0,vs(R.path)])))});m.push(le)}}).next(()=>Tt.waitFor(m)).next(()=>c.apply(e)).next(()=>C)}removeTarget(e,t){const c=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,c)}updateLimboDocument(e,t){return Bc(e,t)}Yn(e,t){const c=xh(e);let m,C=Vo.ct;return c.X({index:"documentTargetsIndex"},([R,Y],{path:le,sequenceNumber:ge})=>{0===R?(C!==Vo.ct&&t(new vi(Uo(m)),C),C=ge,m=le):C=Vo.ct}).next(()=>{C!==Vo.ct&&t(new vi(Uo(m)),C)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Bc(r,e){return xh(r).put((c=r.currentSequenceNumber,{targetId:0,path:vs(e.path),sequenceNumber:c}));var c}class Fm{constructor(){this.changes=new Zc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,zs.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const c=this.changes.get(t);return void 0!==c?Tt.resolve(c):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Lm{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,c){return Ul(e).put(c)}removeEntry(e,t,c){return Ul(e).delete(function(m,C){const R=m.path.toArray();return[R.slice(0,R.length-2),R[R.length-2],j(C),R[R.length-1]]}(t,c))}updateMetadata(e,t){return this.getMetadata(e).next(c=>(c.byteSize+=t,this.Zn(e,c)))}getEntry(e,t){let c=zs.newInvalidDocument(t);return Ul(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(su(t))},(m,C)=>{c=this.ts(t,C)}).next(()=>c)}es(e,t){let c={size:0,document:zs.newInvalidDocument(t)};return Ul(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(su(t))},(m,C)=>{c={document:this.ts(t,C),size:Zp(C)}}).next(()=>c)}getEntries(e,t){let c=_l();return this.ns(e,t,(m,C)=>{const R=this.ts(m,C);c=c.insert(m,R)}).next(()=>c)}ss(e,t){let c=_l(),m=new ps(vi.comparator);return this.ns(e,t,(C,R)=>{const Y=this.ts(C,R);c=c.insert(C,Y),m=m.insert(C,Zp(R))}).next(()=>({documents:c,rs:m}))}ns(e,t,c){if(t.isEmpty())return Tt.resolve();let m=new ys(vg);t.forEach(le=>m=m.add(le));const C=IDBKeyRange.bound(su(m.first()),su(m.last())),R=m.getIterator();let Y=R.getNext();return Ul(e).X({index:"documentKeyIndex",range:C},(le,ge,Ne)=>{const wt=vi.fromSegments([...ge.prefixPath,ge.collectionGroup,ge.documentId]);for(;Y&&vg(Y,wt)<0;)c(Y,null),Y=R.getNext();Y&&Y.isEqual(wt)&&(c(Y,ge),Y=R.hasNext()?R.getNext():null),Y?Ne.G(su(Y)):Ne.done()}).next(()=>{for(;Y;)c(Y,null),Y=R.hasNext()?R.getNext():null})}getDocumentsMatchingQuery(e,t,c,m){const C=t.path,R=[C.popLast().toArray(),C.lastSegment(),j(c.readTime),c.documentKey.path.isEmpty()?"":c.documentKey.path.lastSegment()],Y=[C.popLast().toArray(),C.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ul(e).j(IDBKeyRange.bound(R,Y,!0)).next(le=>{let ge=_l();for(const Ne of le){const wt=this.ts(vi.fromSegments(Ne.prefixPath.concat(Ne.collectionGroup,Ne.documentId)),Ne);wt.isFoundDocument()&&(gl(t,wt)||m.has(wt.key))&&(ge=ge.insert(wt.key,wt))}return ge})}getAllFromCollectionGroup(e,t,c,m){let C=_l();const R=ju(t,c),Y=ju(t,Ie.max());return Ul(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(R,Y,!0)},(le,ge,Ne)=>{const wt=this.ts(vi.fromSegments(ge.prefixPath.concat(ge.collectionGroup,ge.documentId)),ge);C=C.insert(wt.key,wt),C.size===m&&Ne.done()}).next(()=>C)}newChangeBuffer(e){return new Sh(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Ep(e).get("remoteDocumentGlobalKey").next(t=>(Ni(!!t),t))}Zn(e,t){return Ep(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const c=function O(r,e){let t;if(e.document)t=il(r.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const c=vi.fromSegments(e.noDocument.path),m=de(e.noDocument.readTime);t=zs.newNoDocument(c,m),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ni();{const c=vi.fromSegments(e.unknownDocument.path),m=de(e.unknownDocument.version);t=zs.newUnknownDocument(c,m)}}return e.readTime&&t.setReadTime(function(c){const m=new as(c[0],c[1]);return Ki.fromTimestamp(m)}(e.readTime)),t}(this.serializer,t);if(!c.isNoDocument()||!c.version.isEqual(Ki.min()))return c}return zs.newInvalidDocument(e)}}function wp(r){return new Lm(r)}class Sh extends Fm{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new Zc(c=>c.toString(),(c,m)=>c.isEqual(m))}applyChanges(e){const t=[];let c=0,m=new ys((C,R)=>Zi(C.canonicalString(),R.canonicalString()));return this.changes.forEach((C,R)=>{const Y=this.us.get(C);if(t.push(this.os.removeEntry(e,C,Y.readTime)),R.isValidDocument()){const le=F(this.os.serializer,R);m=m.add(C.path.popLast()),c+=Zp(le)-Y.size,t.push(this.os.addEntry(e,C,le))}else if(c-=Y.size,this.trackRemovals){const le=F(this.os.serializer,R.convertToNoDocument(Ki.min()));t.push(this.os.addEntry(e,C,le))}}),m.forEach(C=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,C))}),t.push(this.os.updateMetadata(e,c)),Tt.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(c=>(this.us.set(t,{size:c.size,readTime:c.document.readTime}),c.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:c,rs:m})=>(m.forEach((C,R)=>{this.us.set(C,{size:R,readTime:c.get(C).readTime})}),c))}}function Ep(r){return Ho(r,"remoteDocumentGlobal")}function Ul(r){return Ho(r,"remoteDocumentsV14")}function su(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function ju(r,e){const t=e.documentKey.path.toArray();return[r,j(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function vg(r,e){const t=r.path.toArray(),c=e.path.toArray();let m=0;for(let C=0;C<t.length-2&&C<c.length-2;++C)if(m=Zi(t[C],c[C]),m)return m;return m=Zi(t.length,c.length),m||(m=Zi(t[t.length-2],c[c.length-2]),m||Zi(t[t.length-1],c[c.length-1]))}class zf{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ou{constructor(e,t,c,m){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=c,this.indexManager=m}getDocument(e,t){let c=null;return this.documentOverlayCache.getOverlay(e,t).next(m=>(c=m,this.remoteDocumentCache.getEntry(e,t))).next(m=>(null!==c&&Wo(c.mutation,m,ve.empty(),as.now()),m))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(c=>this.getLocalViewOfDocuments(e,c,wr()).next(()=>c))}getLocalViewOfDocuments(e,t,c=wr()){const m=ic();return this.populateOverlays(e,m,t).next(()=>this.computeViews(e,t,m,c).next(C=>{let R=Nc();return C.forEach((Y,le)=>{R=R.insert(Y,le.overlayedDocument)}),R}))}getOverlayedDocuments(e,t){const c=ic();return this.populateOverlays(e,c,t).next(()=>this.computeViews(e,t,c,wr()))}populateOverlays(e,t,c){const m=[];return c.forEach(C=>{t.has(C)||m.push(C)}),this.documentOverlayCache.getOverlays(e,m).next(C=>{C.forEach((R,Y)=>{t.set(R,Y)})})}computeViews(e,t,c,m){let C=_l();const R=sd(),Y=sd();return t.forEach((le,ge)=>{const Ne=c.get(ge.key);m.has(ge.key)&&(void 0===Ne||Ne.mutation instanceof iu)?C=C.insert(ge.key,ge):void 0!==Ne?(R.set(ge.key,Ne.mutation.getFieldMask()),Wo(Ne.mutation,ge,Ne.mutation.getFieldMask(),as.now())):R.set(ge.key,ve.empty())}),this.recalculateAndSaveOverlays(e,C).next(le=>(le.forEach((ge,Ne)=>R.set(ge,Ne)),t.forEach((ge,Ne)=>{var wt;return Y.set(ge,new zf(Ne,null!==(wt=R.get(ge))&&void 0!==wt?wt:null))}),Y))}recalculateAndSaveOverlays(e,t){const c=sd();let m=new ps((R,Y)=>R-Y),C=wr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(R=>{for(const Y of R)Y.keys().forEach(le=>{const ge=t.get(le);if(null===ge)return;let Ne=c.get(le)||ve.empty();Ne=Y.applyToLocalView(ge,Ne),c.set(le,Ne);const wt=(m.get(Y.batchId)||wr()).add(le);m=m.insert(Y.batchId,wt)})}).next(()=>{const R=[],Y=m.getReverseIterator();for(;Y.hasNext();){const le=Y.getNext(),ge=le.key,Ne=le.value,wt=dh();Ne.forEach(an=>{if(!C.has(an)){const Rn=sc(t.get(an),c.get(an));null!==Rn&&wt.set(an,Rn),C=C.add(an)}}),R.push(this.documentOverlayCache.saveOverlays(e,ge,wt))}return Tt.waitFor(R)}).next(()=>c)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(c=>this.recalculateAndSaveOverlays(e,c))}getDocumentsMatchingQuery(e,t,c){return vi.isDocumentKey((m=t).path)&&null===m.collectionGroup&&0===m.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Nu(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,c):this.getDocumentsMatchingCollectionQuery(e,t,c);var m}getNextDocuments(e,t,c,m){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,c,m).next(C=>{const R=m-C.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,c.largestBatchId,m-C.size):Tt.resolve(ic());let Y=-1,le=C;return R.next(ge=>Tt.forEach(ge,(Ne,wt)=>(Y<wt.largestBatchId&&(Y=wt.largestBatchId),C.get(Ne)?Tt.resolve():this.remoteDocumentCache.getEntry(e,Ne).next(an=>{le=le.insert(Ne,an)}))).next(()=>this.populateOverlays(e,ge,C)).next(()=>this.computeViews(e,le,ge,wr())).next(Ne=>({batchId:Y,changes:Ff(Ne)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new vi(t)).next(c=>{let m=Nc();return c.isFoundDocument()&&(m=m.insert(c.key,c)),m})}getDocumentsMatchingCollectionGroupQuery(e,t,c){const m=t.collectionGroup;let C=Nc();return this.indexManager.getCollectionParents(e,m).next(R=>Tt.forEach(R,Y=>{const le=(ge=t,Ne=Y.child(m),new Go(Ne,null,ge.explicitOrderBy.slice(),ge.filters.slice(),ge.limit,ge.limitType,ge.startAt,ge.endAt));var ge,Ne;return this.getDocumentsMatchingCollectionQuery(e,le,c).next(ge=>{ge.forEach((Ne,wt)=>{C=C.insert(Ne,wt)})})}).next(()=>C))}getDocumentsMatchingCollectionQuery(e,t,c){let m;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,c.largestBatchId).next(C=>(m=C,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,c,m))).next(C=>{m.forEach((Y,le)=>{const ge=le.getKey();null===C.get(ge)&&(C=C.insert(ge,zs.newInvalidDocument(ge)))});let R=Nc();return C.forEach((Y,le)=>{const ge=m.get(Y);void 0!==ge&&Wo(ge.mutation,le,ve.empty(),as.now()),gl(t,le)&&(R=R.insert(Y,le))}),R})}}class Qp{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Tt.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var c;return this.cs.set(t.id,{id:(c=t).id,version:c.version,createTime:fr(c.createTime)}),Tt.resolve()}getNamedQuery(e,t){return Tt.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(c=t).name,query:At(c.bundledQuery),readTime:fr(c.readTime)}),Tt.resolve();var c}}class Xp{constructor(){this.overlays=new ps(vi.comparator),this.ls=new Map}getOverlay(e,t){return Tt.resolve(this.overlays.get(t))}getOverlays(e,t){const c=ic();return Tt.forEach(t,m=>this.getOverlay(e,m).next(C=>{null!==C&&c.set(m,C)})).next(()=>c)}saveOverlays(e,t,c){return c.forEach((m,C)=>{this.we(e,t,C)}),Tt.resolve()}removeOverlaysForBatchId(e,t,c){const m=this.ls.get(c);return void 0!==m&&(m.forEach(C=>this.overlays=this.overlays.remove(C)),this.ls.delete(c)),Tt.resolve()}getOverlaysForCollection(e,t,c){const m=ic(),C=t.length+1,R=new vi(t.child("")),Y=this.overlays.getIteratorFrom(R);for(;Y.hasNext();){const le=Y.getNext().value,ge=le.getKey();if(!t.isPrefixOf(ge.path))break;ge.path.length===C&&le.largestBatchId>c&&m.set(le.getKey(),le)}return Tt.resolve(m)}getOverlaysForCollectionGroup(e,t,c,m){let C=new ps((ge,Ne)=>ge-Ne);const R=this.overlays.getIterator();for(;R.hasNext();){const ge=R.getNext().value;if(ge.getKey().getCollectionGroup()===t&&ge.largestBatchId>c){let Ne=C.get(ge.largestBatchId);null===Ne&&(Ne=ic(),C=C.insert(ge.largestBatchId,Ne)),Ne.set(ge.getKey(),ge)}}const Y=ic(),le=C.getIterator();for(;le.hasNext()&&(le.getNext().value.forEach((ge,Ne)=>Y.set(ge,Ne)),!(Y.size()>=m)););return Tt.resolve(Y)}we(e,t,c){const m=this.overlays.get(c.key);if(null!==m){const R=this.ls.get(m.largestBatchId).delete(c.key);this.ls.set(m.largestBatchId,R)}this.overlays=this.overlays.insert(c.key,new T(t,c));let C=this.ls.get(t);void 0===C&&(C=wr(),this.ls.set(t,C)),this.ls.set(t,C.add(c.key))}}class Gf{constructor(){this.fs=new ys(va.ds),this.ws=new ys(va._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const c=new va(e,t);this.fs=this.fs.add(c),this.ws=this.ws.add(c)}gs(e,t){e.forEach(c=>this.addReference(c,t))}removeReference(e,t){this.ys(new va(e,t))}ps(e,t){e.forEach(c=>this.removeReference(c,t))}Is(e){const t=new vi(new qi([])),c=new va(t,e),m=new va(t,e+1),C=[];return this.ws.forEachInRange([c,m],R=>{this.ys(R),C.push(R.key)}),C}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new vi(new qi([])),c=new va(t,e),m=new va(t,e+1);let C=wr();return this.ws.forEachInRange([c,m],R=>{C=C.add(R.key)}),C}containsKey(e){const t=new va(e,0),c=this.fs.firstAfterOrEqual(t);return null!==c&&e.isEqual(c.key)}}class va{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return vi.comparator(e.key,t.key)||Zi(e.As,t.As)}static _s(e,t){return Zi(e.As,t.As)||vi.comparator(e.key,t.key)}}class Kg{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new ys(va.ds)}checkEmpty(e){return Tt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,c,m){const C=this.vs;this.vs++;const R=new L(C,t,c,m);this.mutationQueue.push(R);for(const Y of m)this.Rs=this.Rs.add(new va(Y.key,C)),this.indexManager.addToCollectionParentIndex(e,Y.key.path.popLast());return Tt.resolve(R)}lookupMutationBatch(e,t){return Tt.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const m=this.bs(t+1),C=m<0?0:m;return Tt.resolve(this.mutationQueue.length>C?this.mutationQueue[C]:null)}getHighestUnacknowledgedBatchId(){return Tt.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const c=new va(t,0),m=new va(t,Number.POSITIVE_INFINITY),C=[];return this.Rs.forEachInRange([c,m],R=>{const Y=this.Ps(R.As);C.push(Y)}),Tt.resolve(C)}getAllMutationBatchesAffectingDocumentKeys(e,t){let c=new ys(Zi);return t.forEach(m=>{const C=new va(m,0),R=new va(m,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([C,R],Y=>{c=c.add(Y.As)})}),Tt.resolve(this.Vs(c))}getAllMutationBatchesAffectingQuery(e,t){const c=t.path,m=c.length+1;let C=c;vi.isDocumentKey(C)||(C=C.child(""));const R=new va(new vi(C),0);let Y=new ys(Zi);return this.Rs.forEachWhile(le=>{const ge=le.key.path;return!!c.isPrefixOf(ge)&&(ge.length===m&&(Y=Y.add(le.As)),!0)},R),Tt.resolve(this.Vs(Y))}Vs(e){const t=[];return e.forEach(c=>{const m=this.Ps(c);null!==m&&t.push(m)}),t}removeMutationBatch(e,t){Ni(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let c=this.Rs;return Tt.forEach(t.mutations,m=>{const C=new va(m.key,t.batchId);return c=c.delete(C),this.referenceDelegate.markPotentiallyOrphaned(e,m.key)}).next(()=>{this.Rs=c})}Cn(e){}containsKey(e,t){const c=new va(t,0),m=this.Rs.firstAfterOrEqual(c);return Tt.resolve(t.isEqual(m&&m.key))}performConsistencyCheck(e){return Tt.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Jp{constructor(e){this.Ds=e,this.docs=new ps(vi.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const c=t.key,m=this.docs.get(c),C=m?m.size:0,R=this.Ds(t);return this.docs=this.docs.insert(c,{document:t.mutableCopy(),size:R}),this.size+=R-C,this.indexManager.addToCollectionParentIndex(e,c.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const c=this.docs.get(t);return Tt.resolve(c?c.document.mutableCopy():zs.newInvalidDocument(t))}getEntries(e,t){let c=_l();return t.forEach(m=>{const C=this.docs.get(m);c=c.insert(m,C?C.document.mutableCopy():zs.newInvalidDocument(m))}),Tt.resolve(c)}getDocumentsMatchingQuery(e,t,c,m){let C=_l();const R=t.path,Y=new vi(R.child("")),le=this.docs.getIteratorFrom(Y);for(;le.hasNext();){const{key:ge,value:{document:Ne}}=le.getNext();if(!R.isPrefixOf(ge.path))break;ge.path.length>R.length+1||st(ae(Ne),c)<=0||(m.has(Ne.key)||gl(t,Ne))&&(C=C.insert(Ne.key,Ne.mutableCopy()))}return Tt.resolve(C)}getAllFromCollectionGroup(e,t,c,m){ni()}Cs(e,t){return Tt.forEach(this.docs,c=>t(c))}newChangeBuffer(e){return new vf(this)}getSize(e){return Tt.resolve(this.size)}}class vf extends Fm{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((c,m)=>{m.isValidDocument()?t.push(this.os.addEntry(e,m)):this.os.removeEntry(c)}),Tt.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class yg{constructor(e){this.persistence=e,this.xs=new Zc(t=>Ll(t),Wc),this.lastRemoteSnapshotVersion=Ki.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Gf,this.targetCount=0,this.Ms=Cp.kn()}forEachTarget(e,t){return this.xs.forEach((c,m)=>t(m)),Tt.resolve()}getLastRemoteSnapshotVersion(e){return Tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Tt.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Tt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,c){return c&&(this.lastRemoteSnapshotVersion=c),t>this.Ns&&(this.Ns=t),Tt.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Cp(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Tt.resolve()}updateTargetData(e,t){return this.Fn(t),Tt.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Tt.resolve()}removeTargets(e,t,c){let m=0;const C=[];return this.xs.forEach((R,Y)=>{Y.sequenceNumber<=t&&null===c.get(Y.targetId)&&(this.xs.delete(R),C.push(this.removeMatchingKeysForTargetId(e,Y.targetId)),m++)}),Tt.waitFor(C).next(()=>m)}getTargetCount(e){return Tt.resolve(this.targetCount)}getTargetData(e,t){const c=this.xs.get(t)||null;return Tt.resolve(c)}addMatchingKeys(e,t,c){return this.ks.gs(t,c),Tt.resolve()}removeMatchingKeys(e,t,c){this.ks.ps(t,c);const m=this.persistence.referenceDelegate,C=[];return m&&t.forEach(R=>{C.push(m.markPotentiallyOrphaned(e,R))}),Tt.waitFor(C)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Tt.resolve()}getMatchingKeysForTargetId(e,t){const c=this.ks.Es(t);return Tt.resolve(c)}containsKey(e,t){return Tt.resolve(this.ks.containsKey(t))}}class Bm{constructor(e,t){this.$s={},this.overlays={},this.Os=new Vo(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new yg(this),this.indexManager=new Hu,this.remoteDocumentCache=new Jp(c=>this.referenceDelegate.Ls(c)),this.serializer=new I(t),this.qs=new Qp(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Xp,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let c=this.$s[e.toKey()];return c||(c=new Kg(t,this.referenceDelegate),this.$s[e.toKey()]=c),c}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,c){Kn("MemoryPersistence","Starting transaction:",e);const m=new Oo(this.Os.next());return this.referenceDelegate.Us(),c(m).next(C=>this.referenceDelegate.Ks(m).next(()=>C)).toPromise().then(C=>(m.raiseOnCommittedEvent(),C))}Gs(e,t){return Tt.or(Object.values(this.$s).map(c=>()=>c.containsKey(e,t)))}}class Oo extends mn{constructor(e){super(),this.currentSequenceNumber=e}}class Cl{constructor(e){this.persistence=e,this.Qs=new Gf,this.js=null}static zs(e){return new Cl(e)}get Ws(){if(this.js)return this.js;throw ni()}addReference(e,t,c){return this.Qs.addReference(c,t),this.Ws.delete(c.toString()),Tt.resolve()}removeReference(e,t,c){return this.Qs.removeReference(c,t),this.Ws.add(c.toString()),Tt.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Tt.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(m=>this.Ws.add(m.toString()));const c=this.persistence.getTargetCache();return c.getMatchingKeysForTargetId(e,t.targetId).next(m=>{m.forEach(C=>this.Ws.add(C.toString()))}).next(()=>c.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Tt.forEach(this.Ws,c=>{const m=vi.fromPath(c);return this.Hs(e,m).next(C=>{C||t.removeEntry(m,Ki.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(c=>{c?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Tt.or([()=>Tt.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Vm{constructor(e){this.serializer=e}O(e,t,c,m){const C=new kr("createOrUpgrade",t);var Y;c<1&&m>=1&&(e.createObjectStore("owner"),(Y=e).createObjectStore("mutationQueues",{keyPath:"userId"}),Y.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",kd,{unique:!0}),Y.createObjectStore("documentMutations"),Dp(e),function(Y){Y.createObjectStore("remoteDocuments")}(e));let R=Tt.resolve();return c<3&&m>=3&&(0!==c&&(function(Y){Y.deleteObjectStore("targetDocuments"),Y.deleteObjectStore("targets"),Y.deleteObjectStore("targetGlobal")}(e),Dp(e)),R=R.next(()=>function(Y){const le=Y.store("targetGlobal"),ge={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ki.min().toTimestamp(),targetCount:0};return le.put("targetGlobalKey",ge)}(C))),c<4&&m>=4&&(0!==c&&(R=R.next(()=>function(Y,le){return le.store("mutations").j().next(ge=>{Y.deleteObjectStore("mutations"),Y.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",kd,{unique:!0});const Ne=le.store("mutations"),wt=ge.map(an=>Ne.put(an));return Tt.waitFor(wt)})}(e,C))),R=R.next(()=>{!function(Y){Y.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),c<5&&m>=5&&(R=R.next(()=>this.Ys(C))),c<6&&m>=6&&(R=R.next(()=>(function(Y){Y.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(C)))),c<7&&m>=7&&(R=R.next(()=>this.Zs(C))),c<8&&m>=8&&(R=R.next(()=>this.ti(e,C))),c<9&&m>=9&&(R=R.next(()=>{!function(Y){Y.objectStoreNames.contains("remoteDocumentChanges")&&Y.deleteObjectStore("remoteDocumentChanges")}(e)})),c<10&&m>=10&&(R=R.next(()=>this.ei(C))),c<11&&m>=11&&(R=R.next(()=>{(function(Y){Y.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(Y){Y.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),c<12&&m>=12&&(R=R.next(()=>{!function(Y){const le=Y.createObjectStore("documentOverlays",{keyPath:Oc});le.createIndex("collectionPathOverlayIndex",Pd,{unique:!1}),le.createIndex("collectionGroupOverlayIndex",ah,{unique:!1})}(e)})),c<13&&m>=13&&(R=R.next(()=>function(Y){const le=Y.createObjectStore("remoteDocumentsV14",{keyPath:Ju});le.createIndex("documentKeyIndex",Su),le.createIndex("collectionGroupIndex",Qh)}(e)).next(()=>this.ni(e,C)).next(()=>e.deleteObjectStore("remoteDocuments"))),c<14&&m>=14&&(R=R.next(()=>this.si(e,C))),c<15&&m>=15&&(R=R.next(()=>function(Y){Y.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),Y.createObjectStore("indexState",{keyPath:Rd}).createIndex("sequenceNumberIndex",Rc,{unique:!1}),Y.createObjectStore("indexEntries",{keyPath:Od}).createIndex("documentKeyIndex",Iu,{unique:!1})}(e))),R}Xs(e){let t=0;return e.store("remoteDocuments").X((c,m)=>{t+=Zp(m)}).next(()=>{const c={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",c)})}Ys(e){const t=e.store("mutationQueues"),c=e.store("mutations");return t.j().next(m=>Tt.forEach(m,C=>{const R=IDBKeyRange.bound([C.userId,-1],[C.userId,C.lastAcknowledgedBatchId]);return c.j("userMutationsIndex",R).next(Y=>Tt.forEach(Y,le=>{Ni(le.userId===C.userId);const ge=ye(this.serializer,le);return $g(e,C.userId,ge).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),c=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(m=>{const C=[];return c.X((R,Y)=>{const le=new qi(R),ge=[0,vs(le)];C.push(t.get(ge).next(Ne=>Ne?Tt.resolve():t.put({targetId:0,path:vs(le),sequenceNumber:m.highestListenSequenceNumber})))}).next(()=>Tt.waitFor(C))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:Mu});const c=t.store("collectionParents"),m=new bp,C=R=>{if(m.add(R)){const Y=R.lastSegment(),le=R.popLast();return c.put({collectionId:Y,parent:vs(le)})}};return t.store("remoteDocuments").X({Y:!0},(R,Y)=>{const le=new qi(R);return C(le.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([R,Y,le],ge)=>{const Ne=Uo(Y);return C(Ne.popLast())}))}ei(e){const t=e.store("targets");return t.X((c,m)=>{const C=Fe(m),R=nt(this.serializer,C);return t.put(R)})}ni(e,t){const c=t.store("remoteDocuments"),m=[];return c.X((C,R)=>{const Y=t.store("remoteDocumentsV14"),le=(ge=R,ge.document?new vi(qi.fromString(ge.document.name).popFirst(5)):ge.noDocument?vi.fromSegments(ge.noDocument.path):ge.unknownDocument?vi.fromSegments(ge.unknownDocument.path):ni()).path.toArray();var ge;const Ne={prefixPath:le.slice(0,le.length-2),collectionGroup:le[le.length-2],documentId:le[le.length-1],readTime:R.readTime||[0,0],unknownDocument:R.unknownDocument,noDocument:R.noDocument,document:R.document,hasCommittedMutations:!!R.hasCommittedMutations};m.push(Y.put(Ne))}).next(()=>Tt.waitFor(m))}si(e,t){const c=t.store("mutations"),m=wp(this.serializer),C=new Bm(Cl.zs,this.serializer.fe);return c.j().next(R=>{const Y=new Map;return R.forEach(le=>{var ge;let Ne=null!==(ge=Y.get(le.userId))&&void 0!==ge?ge:wr();ye(this.serializer,le).keys().forEach(wt=>Ne=Ne.add(wt)),Y.set(le.userId,Ne)}),Tt.forEach(Y,(le,ge)=>{const Ne=new Gs(ge),wt=jn.de(this.serializer,Ne),an=C.getIndexManager(Ne),Rn=mg.de(Ne,this.serializer,an,C.referenceDelegate);return new ou(m,Rn,wt,an).recalculateAndSaveOverlaysForDocumentKeys(new Jl(t,Vo.ct),le).next()})})}}function Dp(r){r.createObjectStore("targetDocuments",{keyPath:Xl}).createIndex("documentTargetsIndex",Ol,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",oh,{unique:!0}),r.createObjectStore("targetGlobal")}const jh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class zu{constructor(e,t,c,m,C,R,Y,le,ge,Ne,wt=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=c,this.ii=C,this.window=R,this.document=Y,this.ri=ge,this.oi=Ne,this.ui=wt,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=an=>Promise.resolve(),!zu.D())throw new kn(fn.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Yg(this,m),this.di=t+"main",this.serializer=new I(le),this.wi=new fs(this.di,this.ui,new Vm(this.serializer)),this.Bs=new Qd(this.referenceDelegate,this.serializer),this.remoteDocumentCache=wp(this.serializer),this.qs=new Tn,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===Ne&&Rs("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new kn(fn.FAILED_PRECONDITION,jh);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Vo(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var c=(0,pt.Z)(function*(m){if(t.started)return e(m)});return function(m){return c.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,pt.Z)(function*(c){null===c.newVersion&&(yield e())});return function(c){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,pt.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Gu(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Eo(e))return Kn("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Kn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return au(e).get("owner").next(t=>Tt.resolve(this.Ri(t)))}Pi(e){return Gu(e).delete(this.clientId)}bi(){var e=this;return(0,pt.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",c=>{const m=Ho(c,"clientMetadata");return m.j().next(C=>{const R=e.Si(C,18e5),Y=C.filter(le=>-1===R.indexOf(le));return Tt.forEach(Y,le=>m.delete(le.clientId)).next(()=>Y)})}).catch(()=>[]);if(e._i)for(const c of t)e._i.removeItem(e.Di(c.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?Tt.resolve(!0):au(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new kn(fn.FAILED_PRECONDITION,jh);return!1}}return!(!this.networkEnabled||!this.inForeground)||Gu(e).j().next(c=>void 0===this.Si(c,5e3).find(m=>{if(this.clientId!==m.clientId){const R=!this.inForeground&&m.inForeground,Y=this.networkEnabled===m.networkEnabled;if(!this.networkEnabled&&m.networkEnabled||R&&Y)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Kn("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,pt.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const c=new Jl(t,Vo.ct);return e.Ai(c).next(()=>e.Pi(c))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(c=>this.Vi(c.updateTimeMs,t)&&!this.Ci(c.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Gu(e).j().next(t=>this.Si(t,18e5).map(c=>c.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return mg.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new q_(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return jn.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,c){Kn("IndexedDbPersistence","Starting transaction:",e);const m="readonly"===t?"readonly":"readwrite",C=15===(R=this.ui)?dp:14===R?Fd:13===R?ra:12===R?Nd:11===R?Xh:void ni();var R;let Y;return this.wi.runTransaction(e,m,C,le=>(Y=new Jl(le,this.Os?this.Os.next():Vo.ct),"readwrite-primary"===t?this.Ti(Y).next(ge=>!!ge||this.Ei(Y)).next(ge=>{if(!ge)throw Rs(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new kn(fn.FAILED_PRECONDITION,vt);return c(Y)}).next(ge=>this.vi(Y).next(()=>ge)):this.Oi(Y).next(()=>c(Y)))).then(le=>(Y.raiseOnCommittedEvent(),le))}Oi(e){return au(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new kn(fn.FAILED_PRECONDITION,jh)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return au(e).put("owner",t)}static D(){return fs.D()}Ai(e){const t=au(e);return t.get("owner").next(c=>this.Ri(c)?(Kn("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Tt.resolve())}Vi(e,t){const c=Date.now();return!(e<c-t||e>c&&(Rs(`Detected an update time that is in the future: ${e} > ${c}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,Te.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const c=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Kn("IndexedDbPersistence",`Client '${e}' ${c?"is":"is not"} zombied in LocalStorage`),c}catch(c){return Rs("IndexedDbPersistence","Failed to get zombied client id.",c),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Rs("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function au(r){return Ho(r,"owner")}function Gu(r){return Ho(r,"clientMetadata")}function $f(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class Mh{constructor(e,t,c,m){this.targetId=e,this.fromCache=t,this.Fi=c,this.Bi=m}static Li(e,t){let c=wr(),m=wr();for(const C of t.docChanges)switch(C.type){case 0:c=c.add(C.doc.key);break;case 1:m=m.add(C.doc.key)}return new Mh(e,t.fromCache,c,m)}}class xp{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,c,m){return this.Ki(e,t).next(C=>C||this.Gi(e,t,m,c)).next(C=>C||this.Qi(e,t))}Ki(e,t){if(af(t))return Tt.resolve(null);let c=Ss(t);return this.indexManager.getIndexType(e,c).next(m=>0===m?null:(null!==t.limit&&1===m&&(t=Kc(t,null,"F"),c=Ss(t)),this.indexManager.getDocumentsMatchingTarget(e,c).next(C=>{const R=wr(...C);return this.Ui.getDocuments(e,R).next(Y=>this.indexManager.getMinOffset(e,c).next(le=>{const ge=this.ji(t,Y);return this.zi(t,ge,R,le.readTime)?this.Ki(e,Kc(t,null,"F")):this.Wi(e,ge,t,le)}))})))}Gi(e,t,c,m){return af(t)||m.isEqual(Ki.min())?this.Qi(e,t):this.Ui.getDocuments(e,c).next(C=>{const R=this.ji(t,C);return this.zi(t,R,c,m)?this.Qi(e,t):(Pa()<=je.in.DEBUG&&Kn("QueryEngine","Re-using previous result from %s to execute query: %s",m.toString(),Bl(t)),this.Wi(e,R,t,ie(m,-1)))})}ji(e,t){let c=new ys(Gd(e));return t.forEach((m,C)=>{gl(e,C)&&(c=c.add(C))}),c}zi(e,t,c,m){if(null===e.limit)return!1;if(c.size!==t.size)return!0;const C="F"===e.limitType?t.last():t.first();return!!C&&(C.hasPendingWrites||C.version.compareTo(m)>0)}Qi(e,t){return Pa()<=je.in.DEBUG&&Kn("QueryEngine","Using full collection scan to execute query:",Bl(t)),this.Ui.getDocumentsMatchingQuery(e,t,Ie.min())}Wi(e,t,c,m){return this.Ui.getDocumentsMatchingQuery(e,c,m).next(C=>(t.forEach(R=>{C=C.insert(R.key,R)}),C))}}class Sp{constructor(e,t,c,m){this.persistence=e,this.Hi=t,this.serializer=m,this.Ji=new ps(Zi),this.Yi=new Zc(C=>Ll(C),Wc),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(c)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ou(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function qg(r,e,t,c){return new Sp(r,e,t,c)}function Zg(r,e){return bg.apply(this,arguments)}function bg(){return bg=(0,pt.Z)(function*(r,e){const t=ci(r);return yield t.persistence.runTransaction("Handle user change","readonly",c=>{let m;return t.mutationQueue.getAllMutationBatches(c).next(C=>(m=C,t.tr(e),t.mutationQueue.getAllMutationBatches(c))).next(C=>{const R=[],Y=[];let le=wr();for(const ge of m){R.push(ge.batchId);for(const Ne of ge.mutations)le=le.add(Ne.key)}for(const ge of C){Y.push(ge.batchId);for(const Ne of ge.mutations)le=le.add(Ne.key)}return t.localDocuments.getDocuments(c,le).next(ge=>({er:ge,removedBatchIds:R,addedBatchIds:Y}))})})}),bg.apply(this,arguments)}function Qg(r,e){const t=ci(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",c=>{const m=e.batch.keys(),C=t.Zi.newChangeBuffer({trackRemovals:!0});return function(R,Y,le,ge){const Ne=le.batch,wt=Ne.keys();let an=Tt.resolve();return wt.forEach(Rn=>{an=an.next(()=>ge.getEntry(Y,Rn)).next(ui=>{const Ti=le.docVersions.get(Rn);Ni(null!==Ti),ui.version.compareTo(Ti)<0&&(Ne.applyToRemoteDocument(ui,le),ui.isValidDocument()&&(ui.setReadTime(le.commitVersion),ge.addEntry(ui)))})}),an.next(()=>R.mutationQueue.removeMutationBatch(Y,Ne))}(t,c,e,C).next(()=>C.apply(c)).next(()=>t.mutationQueue.performConsistencyCheck(c)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(c,m,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,function(R){let Y=wr();for(let le=0;le<R.mutationResults.length;++le)R.mutationResults[le].transformResults.length>0&&(Y=Y.add(R.batch.mutations[le].key));return Y}(e))).next(()=>t.localDocuments.getDocuments(c,m))})}function Gv(r){const e=ci(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function Xg(r,e){const t=ci(r),c=e.snapshotVersion;let m=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",C=>{const R=t.Zi.newChangeBuffer({trackRemovals:!0});m=t.Ji;const Y=[];e.targetChanges.forEach((Ne,wt)=>{const an=m.get(wt);if(!an)return;Y.push(t.Bs.removeMatchingKeys(C,Ne.removedDocuments,wt).next(()=>t.Bs.addMatchingKeys(C,Ne.addedDocuments,wt)));let Rn=an.withSequenceNumber(C.currentSequenceNumber);var ui,Ti,Vi;null!==e.targetMismatches.get(wt)?Rn=Rn.withResumeToken(Yt.EMPTY_BYTE_STRING,Ki.min()).withLastLimboFreeSnapshotVersion(Ki.min()):Ne.resumeToken.approximateByteSize()>0&&(Rn=Rn.withResumeToken(Ne.resumeToken,c)),m=m.insert(wt,Rn),Ti=Rn,Vi=Ne,(0===(ui=an).resumeToken.approximateByteSize()||Ti.snapshotVersion.toMicroseconds()-ui.snapshotVersion.toMicroseconds()>=3e8||Vi.addedDocuments.size+Vi.modifiedDocuments.size+Vi.removedDocuments.size>0)&&Y.push(t.Bs.updateTargetData(C,Rn))});let le=_l(),ge=wr();if(e.documentUpdates.forEach(Ne=>{e.resolvedLimboDocuments.has(Ne)&&Y.push(t.persistence.referenceDelegate.updateLimboDocument(C,Ne))}),Y.push(Z_(C,R,e.documentUpdates).next(Ne=>{le=Ne.nr,ge=Ne.sr})),!c.isEqual(Ki.min())){const Ne=t.Bs.getLastRemoteSnapshotVersion(C).next(wt=>t.Bs.setTargetsMetadata(C,C.currentSequenceNumber,c));Y.push(Ne)}return Tt.waitFor(Y).next(()=>R.apply(C)).next(()=>t.localDocuments.getLocalViewOfDocuments(C,le,ge)).next(()=>le)}).then(C=>(t.Ji=m,C))}function Z_(r,e,t){let c=wr(),m=wr();return t.forEach(C=>c=c.add(C)),e.getEntries(r,c).next(C=>{let R=_l();return t.forEach((Y,le)=>{const ge=C.get(Y);le.isFoundDocument()!==ge.isFoundDocument()&&(m=m.add(Y)),le.isNoDocument()&&le.version.isEqual(Ki.min())?(e.removeEntry(Y,le.readTime),R=R.insert(Y,le)):!ge.isValidDocument()||le.version.compareTo(ge.version)>0||0===le.version.compareTo(ge.version)&&ge.hasPendingWrites?(e.addEntry(le),R=R.insert(Y,le)):Kn("LocalStore","Ignoring outdated watch update for ",Y,". Current version:",ge.version," Watch version:",le.version)}),{nr:R,sr:m}})}function $v(r,e){const t=ci(r);return t.persistence.runTransaction("Get next mutation batch","readonly",c=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(c,e)))}function Xd(r,e){const t=ci(r);return t.persistence.runTransaction("Allocate target","readwrite",c=>{let m;return t.Bs.getTargetData(c,e).next(C=>C?(m=C,Tt.resolve(m)):t.Bs.allocateTargetId(c).next(R=>(m=new y(e,R,"TargetPurposeListen",c.currentSequenceNumber),t.Bs.addTargetData(c,m).next(()=>m))))}).then(c=>{const m=t.Ji.get(c.targetId);return(null===m||c.snapshotVersion.compareTo(m.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(c.targetId,c),t.Yi.set(e,c.targetId)),c})}function zh(r,e,t){return Um.apply(this,arguments)}function Um(){return Um=(0,pt.Z)(function*(r,e,t){const c=ci(r),m=c.Ji.get(e),C=t?"readwrite":"readwrite-primary";try{t||(yield c.persistence.runTransaction("Release target",C,R=>c.persistence.referenceDelegate.removeTarget(R,m)))}catch(R){if(!Eo(R))throw R;Kn("LocalStore",`Failed to update sequence numbers for target ${e}: ${R}`)}c.Ji=c.Ji.remove(e),c.Yi.delete(m.target)}),Um.apply(this,arguments)}function Ih(r,e,t){const c=ci(r);let m=Ki.min(),C=wr();return c.persistence.runTransaction("Execute query","readonly",R=>function(Y,le,ge){const Ne=ci(Y),wt=Ne.Yi.get(ge);return void 0!==wt?Tt.resolve(Ne.Ji.get(wt)):Ne.Bs.getTargetData(le,ge)}(c,R,Ss(e)).next(Y=>{if(Y)return m=Y.lastLimboFreeSnapshotVersion,c.Bs.getMatchingKeysForTargetId(R,Y.targetId).next(le=>{C=le})}).next(()=>c.Hi.getDocumentsMatchingQuery(R,e,t?m:Ki.min(),t?C:wr())).next(Y=>(em(c,lf(e),Y),{documents:Y,ir:C})))}function Vc(r,e){const t=ci(r),c=ci(t.Bs),m=t.Ji.get(e);return m?Promise.resolve(m.target):t.persistence.runTransaction("Get target data","readonly",C=>c.le(C,e).next(R=>R?R.target:null))}function Mp(r,e){const t=ci(r),c=t.Xi.get(e)||Ki.min();return t.persistence.runTransaction("Get new document changes","readonly",m=>t.Zi.getAllFromCollectionGroup(m,e,ie(c,-1),Number.MAX_SAFE_INTEGER)).then(m=>(em(t,e,m),m))}function em(r,e,t){let c=r.Xi.get(e)||Ki.min();t.forEach((m,C)=>{C.readTime.compareTo(c)>0&&(c=C.readTime)}),r.Xi.set(e,c)}function pd(){return pd=(0,pt.Z)(function*(r,e,t,c){const m=ci(r);let C=wr(),R=_l();for(const ge of t){const Ne=e.rr(ge.metadata.name);ge.document&&(C=C.add(Ne));const wt=e.ur(ge);wt.setReadTime(e.cr(ge.metadata.readTime)),R=R.insert(Ne,wt)}const Y=m.Zi.newChangeBuffer({trackRemovals:!0}),le=yield Xd(m,(ge=c,Ss(Pu(qi.fromString(`__bundle__/docs/${ge}`)))));var ge;return m.persistence.runTransaction("Apply bundle documents","readwrite",ge=>Z_(ge,Y,R).next(Ne=>(Y.apply(ge),Ne)).next(Ne=>m.Bs.removeMatchingKeysForTargetId(ge,le.targetId).next(()=>m.Bs.addMatchingKeys(ge,C,le.targetId)).next(()=>m.localDocuments.getLocalViewOfDocuments(ge,Ne.nr,Ne.sr)).next(()=>Ne.nr)))}),pd.apply(this,arguments)}function Wf(r,e){return Th.apply(this,arguments)}function Th(){return Th=(0,pt.Z)(function*(r,e,t=wr()){const c=yield Xd(r,Ss(At(e.bundledQuery))),m=ci(r);return m.persistence.runTransaction("Save named query","readwrite",C=>{const R=fr(e.readTime);if(c.snapshotVersion.compareTo(R)>=0)return m.qs.saveNamedQuery(C,e);const Y=c.withResumeToken(Yt.EMPTY_BYTE_STRING,R);return m.Ji=m.Ji.insert(Y.targetId,Y),m.Bs.updateTargetData(C,Y).next(()=>m.Bs.removeMatchingKeysForTargetId(C,c.targetId)).next(()=>m.Bs.addMatchingKeys(C,t,c.targetId)).next(()=>m.qs.saveNamedQuery(C,e))})}),Th.apply(this,arguments)}function nm(r,e){return`firestore_clients_${r}_${e}`}function Jg(r,e,t){let c=`firestore_mutations_${r}_${t}`;return e.isAuthenticated()&&(c+=`_${e.uid}`),c}function im(r,e){return`firestore_targets_${r}_${e}`}class Hm{constructor(e,t,c,m){this.user=e,this.batchId=t,this.state=c,this.error=m}static ar(e,t,c){const m=JSON.parse(c);let C,R="object"==typeof m&&-1!==["pending","acknowledged","rejected"].indexOf(m.state)&&(void 0===m.error||"object"==typeof m.error);return R&&m.error&&(R="string"==typeof m.error.message&&"string"==typeof m.error.code,R&&(C=new kn(m.error.code,m.error.message))),R?new Hm(e,t,m.state,C):(Rs("SharedClientState",`Failed to parse mutation state for ID '${t}': ${c}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class yf{constructor(e,t,c){this.targetId=e,this.state=t,this.error=c}static ar(e,t){const c=JSON.parse(t);let m,C="object"==typeof c&&-1!==["not-current","current","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return C&&c.error&&(C="string"==typeof c.error.message&&"string"==typeof c.error.code,C&&(m=new kn(c.error.code,c.error.message))),C?new yf(e,c.state,m):(Rs("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Yf{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const c=JSON.parse(t);let m="object"==typeof c&&c.activeTargetIds instanceof Array,C=Yd();for(let R=0;m&&R<c.activeTargetIds.length;++R)m=kf(c.activeTargetIds[R]),C=C.add(c.activeTargetIds[R]);return m?new Yf(e,C):(Rs("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Ip{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Ip(t.clientId,t.onlineState):(Rs("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Kf{constructor(){this.activeTargetIds=Yd()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rm{constructor(e,t,c,m,C){this.window=e,this.ii=t,this.persistenceKey=c,this.wr=m,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new ps(Zi),this.started=!1,this.yr=[];const R=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=C,this.pr=nm(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new Kf),this.Tr=new RegExp(`^firestore_clients_${R}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${R}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${R}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(Y){return`firestore_bundle_loaded_v2_${Y}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,pt.Z)(function*(){const t=yield e.syncEngine.$i();for(const m of t){if(m===e.wr)continue;const C=e.getItem(nm(e.persistenceKey,m));if(C){const R=Yf.ar(m,C);R&&(e.gr=e.gr.insert(R.clientId,R))}}e.Pr();const c=e.storage.getItem(e.vr);if(c){const m=e.br(c);m&&e.Vr(m)}for(const m of e.yr)e.mr(m);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((c,m)=>{m.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,c){this.Dr(e,t,c),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const c=this.storage.getItem(im(this.persistenceKey,e));if(c){const m=yf.ar(e,c);m&&(t=m.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(im(this.persistenceKey,e))}updateQueryState(e,t,c){this.kr(e,t,c)}handleUserChange(e,t,c){t.forEach(m=>{this.Cr(m)}),this.currentUser=e,c.forEach(m=>{this.addPendingMutation(m)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Kn("SharedClientState","READ",e,t),t}setItem(e,t){Kn("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Kn("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const c=e;if(c.storageArea===this.storage){if(Kn("SharedClientState","EVENT",c.key,c.newValue),c.key===this.pr)return void Rs("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,pt.Z)(function*(){if(t.started){if(null!==c.key)if(t.Tr.test(c.key)){if(null==c.newValue){const m=t.Or(c.key);return t.Fr(m,null)}{const m=t.Br(c.key,c.newValue);if(m)return t.Fr(m.clientId,m)}}else if(t.Er.test(c.key)){if(null!==c.newValue){const m=t.Lr(c.key,c.newValue);if(m)return t.qr(m)}}else if(t.Ar.test(c.key)){if(null!==c.newValue){const m=t.Ur(c.key,c.newValue);if(m)return t.Kr(m)}}else if(c.key===t.vr){if(null!==c.newValue){const m=t.br(c.newValue);if(m)return t.Vr(m)}}else if(c.key===t.Ir){const m=function(C){let R=Vo.ct;if(null!=C)try{const Y=JSON.parse(C);Ni("number"==typeof Y),R=Y}catch(Y){Rs("SharedClientState","Failed to read sequence number from WebStorage",Y)}return R}(c.newValue);m!==Vo.ct&&t.sequenceNumberHandler(m)}else if(c.key===t.Rr){const m=t.Gr(c.newValue);yield Promise.all(m.map(C=>t.syncEngine.Qr(C)))}}else t.yr.push(c)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,c){const m=new Hm(this.currentUser,e,t,c),C=Jg(this.persistenceKey,this.currentUser,e);this.setItem(C,m.hr())}Cr(e){const t=Jg(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,c){const m=im(this.persistenceKey,e),C=new yf(e,t,c);this.setItem(m,C.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const c=this.Or(e);return Yf.ar(c,t)}Lr(e,t){const c=this.Er.exec(e),m=Number(c[1]);return Hm.ar(new Gs(void 0!==c[2]?c[2]:null),m,t)}Ur(e,t){const c=this.Ar.exec(e),m=Number(c[1]);return yf.ar(m,t)}br(e){return Ip.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,pt.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Kn("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const c=t?this.gr.insert(e,t):this.gr.remove(e),m=this.Sr(this.gr),C=this.Sr(c),R=[],Y=[];return C.forEach(le=>{m.has(le)||R.push(le)}),m.forEach(le=>{C.has(le)||Y.push(le)}),this.syncEngine.Wr(R,Y).then(()=>{this.gr=c})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=Yd();return e.forEach((c,m)=>{t=t.unionWith(m.activeTargetIds)}),t}}class e_{constructor(){this.Hr=new Kf,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,c){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,c){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Kf,Promise.resolve()}handleUserChange(e,t,c){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class t_{Yr(e){}shutdown(){}}class n_{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Kn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Kn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Tp=null;function qf(){return null===Tp?Tp=268435456+Math.round(2147483648*Math.random()):Tp++,"0x"+Tp.toString(16)}const jm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class i_{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Sc="WebChannelConnection";class Q_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,c,m,C){const R=qf(),Y=this.To(e,t);Kn("RestConnection",`Sending RPC '${e}' ${R}:`,Y,c);const le={};return this.Eo(le,m,C),this.Ao(e,Y,le,c).then(ge=>(Kn("RestConnection",`Received RPC '${e}' ${R}: `,ge),ge),ge=>{throw Os("RestConnection",`RPC '${e}' ${R} failed with error: `,ge,"url: ",Y,"request:",c),ge})}vo(e,t,c,m,C,R){return this.Io(e,t,c,m,C)}Eo(e,t,c){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ga,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((m,C)=>e[C]=m),c&&c.headers.forEach((m,C)=>e[C]=m)}To(e,t){return`${this.mo}/v1/${t}:${jm[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,c,m){const C=qf();return new Promise((R,Y)=>{const le=new _u;le.setWithCredentials(!0),le.listenOnce(xs.COMPLETE,()=>{try{switch(le.getLastErrorCode()){case Us.NO_ERROR:const Ne=le.getResponseJson();Kn(Sc,`XHR for RPC '${e}' ${C} received:`,JSON.stringify(Ne)),R(Ne);break;case Us.TIMEOUT:Kn(Sc,`RPC '${e}' ${C} timed out`),Y(new kn(fn.DEADLINE_EXCEEDED,"Request time out"));break;case Us.HTTP_ERROR:const wt=le.getStatus();if(Kn(Sc,`RPC '${e}' ${C} failed with status:`,wt,"response text:",le.getResponseText()),wt>0){let an=le.getResponseJson();Array.isArray(an)&&(an=an[0]);const Rn=an?.error;if(Rn&&Rn.status&&Rn.message){const ui=function(Ti){const Vi=Ti.toLowerCase().replace(/_/g,"-");return Object.values(fn).indexOf(Vi)>=0?Vi:fn.UNKNOWN}(Rn.status);Y(new kn(ui,Rn.message))}else Y(new kn(fn.UNKNOWN,"Server responded with status "+le.getStatus()))}else Y(new kn(fn.UNAVAILABLE,"Connection failed."));break;default:ni()}}finally{Kn(Sc,`RPC '${e}' ${C} completed.`)}});const ge=JSON.stringify(m);Kn(Sc,`RPC '${e}' ${C} sending request:`,m),le.send(t,"POST",ge,c,15)})}Ro(e,t,c){const m=qf(),C=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],R=As(),Y=ks(),le={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},ge=this.longPollingOptions.timeoutSeconds;void 0!==ge&&(le.longPollingTimeout=Math.round(1e3*ge)),this.useFetchStreams&&(le.xmlHttpFactory=new _c({})),this.Eo(le.initMessageHeaders,t,c),le.encodeInitMessageHeaders=!0;const Ne=C.join("");Kn(Sc,`Creating RPC '${e}' stream ${m}: ${Ne}`,le);const wt=R.createWebChannel(Ne,le);let an=!1,Rn=!1;const ui=new i_({ro:Vi=>{Rn?Kn(Sc,`Not sending because RPC '${e}' stream ${m} is closed:`,Vi):(an||(Kn(Sc,`Opening RPC '${e}' stream ${m} transport.`),wt.open(),an=!0),Kn(Sc,`RPC '${e}' stream ${m} sending:`,Vi),wt.send(Vi))},oo:()=>wt.close()}),Ti=(Vi,Wr,Ns)=>{Vi.listen(Wr,Yr=>{try{Ns(Yr)}catch(ol){setTimeout(()=>{throw ol},0)}})};return Ti(wt,vc.EventType.OPEN,()=>{Rn||Kn(Sc,`RPC '${e}' stream ${m} transport opened.`)}),Ti(wt,vc.EventType.CLOSE,()=>{Rn||(Rn=!0,Kn(Sc,`RPC '${e}' stream ${m} transport closed`),ui.wo())}),Ti(wt,vc.EventType.ERROR,Vi=>{Rn||(Rn=!0,Os(Sc,`RPC '${e}' stream ${m} transport errored:`,Vi),ui.wo(new kn(fn.UNAVAILABLE,"The operation could not be completed")))}),Ti(wt,vc.EventType.MESSAGE,Vi=>{var Wr;if(!Rn){const Ns=Vi.data[0];Ni(!!Ns);const Yr=Ns,ol=Yr.error||(null===(Wr=Yr[0])||void 0===Wr?void 0:Wr.error);if(ol){Kn(Sc,`RPC '${e}' stream ${m} received error:`,ol);const wa=ol.status;let oa=function(jg){const kb=xe[jg];if(void 0!==kb)return Yn(kb)}(wa),Md=ol.message;void 0===oa&&(oa=fn.INTERNAL,Md="Unknown error status: "+wa+" with message "+ol.message),Rn=!0,ui.wo(new kn(oa,Md)),wt.close()}else Kn(Sc,`RPC '${e}' stream ${m} received:`,Ns),ui._o(Ns)}}),Ti(Y,ql.STAT_EVENT,Vi=>{Vi.stat===so.PROXY?Kn(Sc,`RPC '${e}' stream ${m} detected buffering proxy`):Vi.stat===so.NOPROXY&&Kn(Sc,`RPC '${e}' stream ${m} detected no buffering proxy`)}),setTimeout(()=>{ui.fo()},0),ui}}function sm(){return typeof window<"u"?window:null}function om(){return typeof document<"u"?document:null}function am(r){return new zp(r,!0)}class lm{constructor(e,t,c=1e3,m=1.5,C=6e4){this.ii=e,this.timerId=t,this.Po=c,this.bo=m,this.Vo=C,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),c=Math.max(0,Date.now()-this.Co),m=Math.max(0,t-c);m>0&&Kn("ExponentialBackoff",`Backing off for ${m} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${c} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,m,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class X_{constructor(e,t,c,m,C,R,Y,le){this.ii=e,this.$o=c,this.Oo=m,this.connection=C,this.authCredentialsProvider=R,this.appCheckCredentialsProvider=Y,this.listener=le,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new lm(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,pt.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,pt.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var c=this;return(0,pt.Z)(function*(){c.Ho(),c.Jo(),c.qo.cancel(),c.Fo++,4!==e?c.qo.reset():t&&t.code===fn.RESOURCE_EXHAUSTED?(Rs(t.toString()),Rs("Using maximum backoff delay to prevent overloading the backend."),c.qo.xo()):t&&t.code===fn.UNAUTHENTICATED&&3!==c.state&&(c.authCredentialsProvider.invalidateToken(),c.appCheckCredentialsProvider.invalidateToken()),null!==c.stream&&(c.Yo(),c.stream.close(),c.stream=null),c.state=e,yield c.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([c,m])=>{this.Fo===t&&this.Zo(c,m)},c=>{e(()=>{const m=new kn(fn.UNKNOWN,"Fetching auth token failed: "+c.message);return this.tu(m)})})}Zo(e,t){const c=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{c(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(m=>{c(()=>this.tu(m))}),this.stream.onMessage(m=>{c(()=>this.onMessage(m))})}Go(){var e=this;this.state=5,this.qo.No((0,pt.Z)(function*(){e.state=0,e.start()}))}tu(e){return Kn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Kn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Wv extends X_{constructor(e,t,c,m,C,R){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,c,m,R),this.serializer=C}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function Bf(r,e){let t;if("targetChange"in e){const c="NO_CHANGE"===(le=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===le?1:"REMOVE"===le?2:"CURRENT"===le?3:"RESET"===le?4:ni(),m=e.targetChange.targetIds||[],C=function(le,ge){return le.useProto3Json?(Ni(void 0===ge||"string"==typeof ge),Yt.fromBase64String(ge||"")):(Ni(void 0===ge||ge instanceof Uint8Array),Yt.fromUint8Array(ge||new Uint8Array))}(r,e.targetChange.resumeToken),R=e.targetChange.cause,Y=R&&function(le){const ge=void 0===le.code?fn.UNKNOWN:Yn(le.code);return new kn(ge,le.message||"")}(R);t=new pf(c,m,C,Y||null)}else if("documentChange"in e){const c=e.documentChange,m=_a(r,c.document.name),C=fr(c.document.updateTime),R=c.document.createTime?fr(c.document.createTime):Ki.min(),Y=new zo({mapValue:{fields:c.document.fields}}),le=zs.newFoundDocument(m,C,R,Y);t=new ld(c.targetIds||[],c.removedTargetIds||[],le.key,le)}else if("documentDelete"in e){const c=e.documentDelete,m=_a(r,c.document),C=c.readTime?fr(c.readTime):Ki.min(),R=zs.newNoDocument(m,C);t=new ld([],c.removedTargetIds||[],R.key,R)}else if("documentRemove"in e){const c=e.documentRemove,m=_a(r,c.document);t=new ld([],c.removedTargetIds||[],m,null)}else{if(!("filter"in e))return ni();{const c=e.filter,{count:m=0,unchangedNames:C}=c,R=new ue(m,C);t=new Vh(c.targetId,R)}}var le;return t}(this.serializer,e),c=function(m){if(!("targetChange"in m))return Ki.min();const C=m.targetChange;return C.targetIds&&C.targetIds.length?Ki.min():C.readTime?fr(C.readTime):Ki.min()}(e);return this.listener.nu(t,c)}su(e){const t={};t.database=ud(this.serializer),t.addTarget=function(m,C){let R;const Y=C.target;if(R=zd(Y)?{documents:yp(m,Y)}:{query:qd(m,Y)},R.targetId=C.targetId,C.resumeToken.approximateByteSize()>0){R.resumeToken=Rm(m,C.resumeToken);const le=mf(m,C.expectedCount);null!==le&&(R.expectedCount=le)}else if(C.snapshotVersion.compareTo(Ki.min())>0){R.readTime=Ch(m,C.snapshotVersion.toTimestamp());const le=mf(m,C.expectedCount);null!==le&&(R.expectedCount=le)}return R}(this.serializer,e);const c=function Vf(r,e){const t=function(c){switch(c){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ni()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);c&&(t.labels=c),this.Wo(t)}iu(e){const t={};t.database=ud(this.serializer),t.removeTarget=e,this.Wo(t)}}class Py extends X_{constructor(e,t,c,m,C,R){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,c,m,R),this.serializer=C,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Ni(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function Wp(r,e){return r&&r.length>0?(Ni(void 0!==e),r.map(t=>function(c,m){let C=fr(c.updateTime?c.updateTime:m);return C.isEqual(Ki.min())&&(C=fr(m)),new Lu(C,c.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),c=fr(e.commitTime);return this.listener.cu(c,t)}return Ni(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=ud(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(c=>Vl(this.serializer,c))};this.Wo(t)}}class J_ extends class{}{constructor(e,t,c,m){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=c,this.serializer=m,this.lu=!1}fu(){if(this.lu)throw new kn(fn.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,c){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,C])=>this.connection.Io(e,t,c,m,C)).catch(m=>{throw"FirebaseError"===m.name?(m.code===fn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new kn(fn.UNKNOWN,m.toString())})}vo(e,t,c,m){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([C,R])=>this.connection.vo(e,t,c,C,R,m)).catch(C=>{throw"FirebaseError"===C.name?(C.code===fn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),C):new kn(fn.UNKNOWN,C.toString())})}terminate(){this.lu=!0}}class Yv{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Rs(t),this.mu=!1):Kn("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class nv{constructor(e,t,c,m,C){var R=this;this.localStore=e,this.datastore=t,this.asyncQueue=c,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=C,this.Pu.Yr(Y=>{c.enqueueAndForget((0,pt.Z)(function*(){var le;In(R)&&(Kn("RemoteStore","Restarting streams for network reachability change."),yield(le=(0,pt.Z)(function*(ge){const Ne=ci(ge);Ne.vu.add(4),yield a(Ne),Ne.bu.set("Unknown"),Ne.vu.delete(4),yield x(Ne)}),function(ge){return le.apply(this,arguments)})(R))}))}),this.bu=new Yv(c,m)}}function x(r){return S.apply(this,arguments)}function S(){return S=(0,pt.Z)(function*(r){if(In(r))for(const e of r.Ru)yield e(!0)}),S.apply(this,arguments)}function a(r){return v.apply(this,arguments)}function v(){return v=(0,pt.Z)(function*(r){for(const e of r.Ru)yield e(!1)}),v.apply(this,arguments)}function N(r,e){const t=ci(r);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),Xn(t)?yn(t):bf(t).Ko()&&He(t,e))}function q(r,e){const t=ci(r),c=bf(t);t.Au.delete(e),c.Ko()&&yt(t,e),0===t.Au.size&&(c.Ko()?c.jo():In(t)&&t.bu.set("Unknown"))}function He(r,e){if(r.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ki.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}bf(r).su(e)}function yt(r,e){r.Vu.qt(e),bf(r).iu(e)}function yn(r){r.Vu=new yh({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),le:e=>r.Au.get(e)||null,ue:()=>r.datastore.serializer.databaseId}),bf(r).start(),r.bu.gu()}function Xn(r){return In(r)&&!bf(r).Uo()&&r.Au.size>0}function In(r){return 0===ci(r).vu.size}function ji(r){r.Vu=void 0}function _r(r){return ws.apply(this,arguments)}function ws(){return ws=(0,pt.Z)(function*(r){r.Au.forEach((e,t)=>{He(r,e)})}),ws.apply(this,arguments)}function rl(r,e){return Po.apply(this,arguments)}function Po(){return Po=(0,pt.Z)(function*(r,e){ji(r),Xn(r)?(r.bu.Iu(e),yn(r)):r.bu.set("Unknown")}),Po.apply(this,arguments)}function ya(r,e,t){return md.apply(this,arguments)}function md(){return md=(0,pt.Z)(function*(r,e,t){if(r.bu.set("Online"),e instanceof pf&&2===e.state&&e.cause)try{yield(c=(0,pt.Z)(function*(m,C){const R=C.cause;for(const Y of C.targetIds)m.Au.has(Y)&&(yield m.remoteSyncer.rejectListen(Y,R),m.Au.delete(Y),m.Vu.removeTarget(Y))}),function(m,C){return c.apply(this,arguments)})(r,e)}catch(c){Kn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),c),yield Zf(r,c)}else if(e instanceof ld?r.Vu.Ht(e):e instanceof Vh?r.Vu.ne(e):r.Vu.Xt(e),!t.isEqual(Ki.min()))try{const c=yield Gv(r.localStore);t.compareTo(c)>=0&&(yield function(m,C){const R=m.Vu.ce(C);return R.targetChanges.forEach((Y,le)=>{if(Y.resumeToken.approximateByteSize()>0){const ge=m.Au.get(le);ge&&m.Au.set(le,ge.withResumeToken(Y.resumeToken,C))}}),R.targetMismatches.forEach((Y,le)=>{const ge=m.Au.get(Y);if(!ge)return;m.Au.set(Y,ge.withResumeToken(Yt.EMPTY_BYTE_STRING,ge.snapshotVersion)),yt(m,Y);const Ne=new y(ge.target,Y,le,ge.sequenceNumber);He(m,Ne)}),m.remoteSyncer.applyRemoteEvent(R)}(r,t))}catch(c){Kn("RemoteStore","Failed to raise snapshot:",c),yield Zf(r,c)}var c}),md.apply(this,arguments)}function Zf(r,e,t){return Cg.apply(this,arguments)}function Cg(){return Cg=(0,pt.Z)(function*(r,e,t){if(!Eo(e))throw e;r.vu.add(1),yield a(r),r.bu.set("Offline"),t||(t=()=>Gv(r.localStore)),r.asyncQueue.enqueueRetryable((0,pt.Z)(function*(){Kn("RemoteStore","Retrying IndexedDB access"),yield t(),r.vu.delete(1),yield x(r)}))}),Cg.apply(this,arguments)}function cm(r,e){return e().catch(t=>Zf(r,t,e))}function Qf(r){return Ap.apply(this,arguments)}function Ap(){return Ap=(0,pt.Z)(function*(r){const e=ci(r),t=Cf(e);let c=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Kv(e);)try{const m=yield $v(e.localStore,c);if(null===m){0===e.Eu.length&&t.jo();break}c=m.batchId,Xf(e,m)}catch(m){yield Zf(e,m)}kp(e)&&r_(e)}),Ap.apply(this,arguments)}function Kv(r){return In(r)&&r.Eu.length<10}function Xf(r,e){r.Eu.push(e);const t=Cf(r);t.Ko()&&t.ou&&t.uu(e.mutations)}function kp(r){return In(r)&&!Cf(r).Uo()&&r.Eu.length>0}function r_(r){Cf(r).start()}function qv(r){return wg.apply(this,arguments)}function wg(){return wg=(0,pt.Z)(function*(r){Cf(r).hu()}),wg.apply(this,arguments)}function s_(r){return iv.apply(this,arguments)}function iv(){return iv=(0,pt.Z)(function*(r){const e=Cf(r);for(const t of r.Eu)e.uu(t.mutations)}),iv.apply(this,arguments)}function Ny(r,e,t){return zm.apply(this,arguments)}function zm(){return zm=(0,pt.Z)(function*(r,e,t){const c=r.Eu.shift(),m=D.from(c,e,t);yield cm(r,()=>r.remoteSyncer.applySuccessfulWrite(m)),yield Qf(r)}),zm.apply(this,arguments)}function o_(r,e){return a_.apply(this,arguments)}function a_(){return a_=(0,pt.Z)(function*(r,e){var t;e&&Cf(r).ou&&(yield(t=(0,pt.Z)(function*(c,m){if(nn(C=m.code)&&C!==fn.ABORTED){const R=c.Eu.shift();Cf(c).Qo(),yield cm(c,()=>c.remoteSyncer.rejectFailedWrite(R.batchId,m)),yield Qf(c)}var C}),function(c,m){return t.apply(this,arguments)})(r,e)),kp(r)&&r_(r)}),a_.apply(this,arguments)}function Rp(r,e){return l_.apply(this,arguments)}function l_(){return l_=(0,pt.Z)(function*(r,e){const t=ci(r);t.asyncQueue.verifyOperationInProgress(),Kn("RemoteStore","RemoteStore received new credentials");const c=In(t);t.vu.add(3),yield a(t),c&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield x(t)}),l_.apply(this,arguments)}function lu(r,e){return Eg.apply(this,arguments)}function Eg(){return Eg=(0,pt.Z)(function*(r,e){const t=ci(r);e?(t.vu.delete(2),yield x(t)):e||(t.vu.add(2),yield a(t),t.bu.set("Unknown"))}),Eg.apply(this,arguments)}function bf(r){return r.Su||(r.Su=function(e,t,c){const m=ci(e);return m.fu(),new Wv(t,m.connection,m.authCredentials,m.appCheckCredentials,m.serializer,c)}(r.datastore,r.asyncQueue,{uo:_r.bind(null,r),ao:rl.bind(null,r),nu:ya.bind(null,r)}),r.Ru.push(function(){var e=(0,pt.Z)(function*(t){t?(r.Su.Qo(),Xn(r)?yn(r):r.bu.set("Unknown")):(yield r.Su.stop(),ji(r))});return function(t){return e.apply(this,arguments)}}())),r.Su}function Cf(r){return r.Du||(r.Du=function(e,t,c){const m=ci(e);return m.fu(),new Py(t,m.connection,m.authCredentials,m.appCheckCredentials,m.serializer,c)}(r.datastore,r.asyncQueue,{uo:qv.bind(null,r),ao:o_.bind(null,r),au:s_.bind(null,r),cu:Ny.bind(null,r)}),r.Ru.push(function(){var e=(0,pt.Z)(function*(t){t?(r.Du.Qo(),yield Qf(r)):(yield r.Du.stop(),r.Eu.length>0&&(Kn("RemoteStore",`Stopping write stream with ${r.Eu.length} pending writes`),r.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Du}class Dg{constructor(e,t,c,m,C){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=c,this.op=m,this.removalCallback=C,this.deferred=new is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(R=>{})}static createAndSchedule(e,t,c,m,C){const R=Date.now()+c,Y=new Dg(e,t,R,m,C);return Y.start(c),Y}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new kn(fn.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wf(r,e){if(Rs("AsyncQueue",`${e}: ${r}`),Eo(r))return new kn(fn.UNAVAILABLE,`${e}: ${r}`);throw r}class Jf{constructor(e){this.comparator=e?(t,c)=>e(t,c)||vi.comparator(t.key,c.key):(t,c)=>vi.comparator(t.key,c.key),this.keyedMap=Nc(),this.sortedSet=new ps(this.comparator)}static emptySet(e){return new Jf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,c)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Jf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),c=e.sortedSet.getIterator();for(;t.hasNext();){const m=t.getNext().key,C=c.getNext().key;if(!m.isEqual(C))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const c=new Jf;return c.comparator=this.comparator,c.keyedMap=e,c.sortedSet=t,c}}class Zv{constructor(){this.Cu=new ps(vi.comparator)}track(e){const t=e.doc.key,c=this.Cu.get(t);c?0!==e.type&&3===c.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==c.type?this.Cu=this.Cu.insert(t,{type:c.type,doc:e.doc}):2===e.type&&2===c.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===c.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===c.type?this.Cu=this.Cu.remove(t):1===e.type&&2===c.type?this.Cu=this.Cu.insert(t,{type:1,doc:c.doc}):0===e.type&&1===c.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):ni():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,c)=>{e.push(c)}),e}}class Ef{constructor(e,t,c,m,C,R,Y,le,ge){this.query=e,this.docs=t,this.oldDocs=c,this.docChanges=m,this.mutatedKeys=C,this.fromCache=R,this.syncStateChanged=Y,this.excludesMetadataChanges=le,this.hasCachedResults=ge}static fromInitialDocuments(e,t,c,m,C){const R=[];return t.forEach(Y=>{R.push({type:0,doc:Y})}),new Ef(e,t,Jf.emptySet(t),R,c,m,!0,!1,C)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,c=e.docChanges;if(t.length!==c.length)return!1;for(let m=0;m<t.length;m++)if(t[m].type!==c[m].type||!t[m].doc.isEqual(c[m].doc))return!1;return!0}}class Fy{constructor(){this.Nu=void 0,this.listeners=[]}}class Qv{constructor(){this.queries=new Zc(e=>qc(e),rd),this.onlineState="Unknown",this.ku=new Set}}function rv(r,e){return Gm.apply(this,arguments)}function Gm(){return Gm=(0,pt.Z)(function*(r,e){const t=ci(r),c=e.query;let m=!1,C=t.queries.get(c);if(C||(m=!0,C=new Fy),m)try{C.Nu=yield t.onListen(c)}catch(R){const Y=wf(R,`Initialization of query '${Bl(e.query)}' failed`);return void e.onError(Y)}t.queries.set(c,C),C.listeners.push(e),e.Mu(t.onlineState),C.Nu&&e.$u(C.Nu)&&av(t)}),Gm.apply(this,arguments)}function xg(r,e){return sv.apply(this,arguments)}function sv(){return sv=(0,pt.Z)(function*(r,e){const t=ci(r),c=e.query;let m=!1;const C=t.queries.get(c);if(C){const R=C.listeners.indexOf(e);R>=0&&(C.listeners.splice(R,1),m=0===C.listeners.length)}if(m)return t.queries.delete(c),t.onUnlisten(c)}),sv.apply(this,arguments)}function ov(r,e){const t=ci(r);let c=!1;for(const m of e){const R=t.queries.get(m.query);if(R){for(const Y of R.listeners)Y.$u(m)&&(c=!0);R.Nu=m}}c&&av(t)}function Xv(r,e,t){const c=ci(r),m=c.queries.get(e);if(m)for(const C of m.listeners)C.onError(t);c.queries.delete(e)}function av(r){r.ku.forEach(e=>{e.next()})}class Jd{constructor(e,t,c){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=c||{}}$u(e){if(!this.options.includeMetadataChanges){const c=[];for(const m of e.docChanges)3!==m.type&&c.push(m);e=new Ef(e.query,e.docs,e.oldDocs,c,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Ef.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Sg{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class c_{constructor(e){this.serializer=e}rr(e){return _a(this.serializer,e)}ur(e){return e.metadata.exists?il(this.serializer,e.document,!1):zs.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return fr(e)}}class lv{constructor(e,t,c){this.ju=e,this.localStore=t,this.serializer=c,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=u_(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const c=qi.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(c.get(c.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,c=new c_(this.serializer);for(const m of e)if(m.metadata.queries){const C=c.rr(m.metadata.name);for(const R of m.metadata.queries){const Y=(t.get(R)||wr()).add(C);t.set(R,Y)}}return t}complete(){var e=this;return(0,pt.Z)(function*(){const t=yield function tm(r,e,t,c){return pd.apply(this,arguments)}(e.localStore,new c_(e.serializer),e.documents,e.ju.id),c=e.Wu(e.documents);for(const m of e.queries)yield Wf(e.localStore,m,c.get(m.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function u_(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class ep{constructor(e){this.key=e}}class d_{constructor(e){this.key=e}}class cv{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=wr(),this.mutatedKeys=wr(),this.tc=Gd(e),this.ec=new Jf(this.tc)}get nc(){return this.Yu}sc(e,t){const c=t?t.ic:new Zv,m=t?t.ec:this.ec;let C=t?t.mutatedKeys:this.mutatedKeys,R=m,Y=!1;const le="F"===this.query.limitType&&m.size===this.query.limit?m.last():null,ge="L"===this.query.limitType&&m.size===this.query.limit?m.first():null;if(e.inorderTraversal((Ne,wt)=>{const an=m.get(Ne),Rn=gl(this.query,wt)?wt:null,ui=!!an&&this.mutatedKeys.has(an.key),Ti=!!Rn&&(Rn.hasLocalMutations||this.mutatedKeys.has(Rn.key)&&Rn.hasCommittedMutations);let Vi=!1;an&&Rn?an.data.isEqual(Rn.data)?ui!==Ti&&(c.track({type:3,doc:Rn}),Vi=!0):this.rc(an,Rn)||(c.track({type:2,doc:Rn}),Vi=!0,(le&&this.tc(Rn,le)>0||ge&&this.tc(Rn,ge)<0)&&(Y=!0)):!an&&Rn?(c.track({type:0,doc:Rn}),Vi=!0):an&&!Rn&&(c.track({type:1,doc:an}),Vi=!0,(le||ge)&&(Y=!0)),Vi&&(Rn?(R=R.add(Rn),C=Ti?C.add(Ne):C.delete(Ne)):(R=R.delete(Ne),C=C.delete(Ne)))}),null!==this.query.limit)for(;R.size>this.query.limit;){const Ne="F"===this.query.limitType?R.last():R.first();R=R.delete(Ne.key),C=C.delete(Ne.key),c.track({type:1,doc:Ne})}return{ec:R,ic:c,zi:Y,mutatedKeys:C}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,c){const m=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const C=e.ic.xu();C.sort((ge,Ne)=>function(wt,an){const Rn=ui=>{switch(ui){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ni()}};return Rn(wt)-Rn(an)}(ge.type,Ne.type)||this.tc(ge.doc,Ne.doc)),this.oc(c);const R=t?this.uc():[],Y=0===this.Zu.size&&this.current?1:0,le=Y!==this.Xu;return this.Xu=Y,0!==C.length||le?{snapshot:new Ef(this.query,e.ec,m,C,e.mutatedKeys,0===Y,le,!1,!!c&&c.resumeToken.approximateByteSize()>0),cc:R}:{cc:R}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Zv,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=wr(),this.ec.forEach(c=>{this.ac(c.key)&&(this.Zu=this.Zu.add(c.key))});const t=[];return e.forEach(c=>{this.Zu.has(c)||t.push(new d_(c))}),this.Zu.forEach(c=>{e.has(c)||t.push(new ep(c))}),t}hc(e){this.Yu=e.ir,this.Zu=wr();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Ef.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Ly{constructor(e,t,c){this.query=e,this.targetId=t,this.view=c}}class $m{constructor(e){this.key=e,this.fc=!1}}class Jv{constructor(e,t,c,m,C,R){this.localStore=e,this.remoteStore=t,this.eventManager=c,this.sharedClientState=m,this.currentUser=C,this.maxConcurrentLimboResolutions=R,this.dc={},this.wc=new Zc(Y=>qc(Y),rd),this._c=new Map,this.mc=new Set,this.gc=new ps(vi.comparator),this.yc=new Map,this.Ic=new Gf,this.Tc={},this.Ec=new Map,this.Ac=Cp.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function By(r,e){return Df.apply(this,arguments)}function Df(){return Df=(0,pt.Z)(function*(r,e){const t=_d(r);let c,m;const C=t.wc.get(e);if(C)c=C.targetId,t.sharedClientState.addLocalQueryTarget(c),m=C.view.lc();else{const R=yield Xd(t.localStore,Ss(e)),Y=t.sharedClientState.addLocalQueryTarget(R.targetId);c=R.targetId,m=yield um(t,e,c,"current"===Y,R.resumeToken),t.isPrimaryClient&&N(t.remoteStore,R)}return m}),Df.apply(this,arguments)}function um(r,e,t,c,m){return Wm.apply(this,arguments)}function Wm(){return Wm=(0,pt.Z)(function*(r,e,t,c,m){r.Rc=(wt,an,Rn)=>{return(ui=(0,pt.Z)(function*(Ti,Vi,Wr,Ns){let Yr=Vi.view.sc(Wr);Yr.zi&&(Yr=yield Ih(Ti.localStore,Vi.query,!1).then(({documents:oa})=>Vi.view.sc(oa,Yr)));const ol=Ns&&Ns.targetChanges.get(Vi.targetId),wa=Vi.view.applyChanges(Yr,Ti.isPrimaryClient,ol);return uv(Ti,Vi.targetId,wa.cc),wa.snapshot}),function(Ti,Vi,Wr,Ns){return ui.apply(this,arguments)})(r,wt,an,Rn);var ui};const C=yield Ih(r.localStore,e,!0),R=new cv(e,C.ir),Y=R.sc(C.documents),le=yl.createSynthesizedTargetChangeForCurrentChange(t,c&&"Offline"!==r.onlineState,m),ge=R.applyChanges(Y,r.isPrimaryClient,le);uv(r,t,ge.cc);const Ne=new Ly(e,t,R);return r.wc.set(e,Ne),r._c.has(t)?r._c.get(t).push(e):r._c.set(t,[e]),ge.snapshot}),Wm.apply(this,arguments)}function db(r,e){return Mg.apply(this,arguments)}function Mg(){return Mg=(0,pt.Z)(function*(r,e){const t=ci(r),c=t.wc.get(e),m=t._c.get(c.targetId);if(m.length>1)return t._c.set(c.targetId,m.filter(C=>!rd(C,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(c.targetId),t.sharedClientState.isActiveQueryTarget(c.targetId)||(yield zh(t.localStore,c.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(c.targetId),q(t.remoteStore,c.targetId),xf(t,c.targetId)}).catch(ii))):(xf(t,c.targetId),yield zh(t.localStore,c.targetId,!0))}),Mg.apply(this,arguments)}function dm(){return dm=(0,pt.Z)(function*(r,e,t){const c=Op(r);try{const m=yield function(C,R){const Y=ci(C),le=as.now(),ge=R.reduce((an,Rn)=>an.add(Rn.key),wr());let Ne,wt;return Y.persistence.runTransaction("Locally write mutations","readwrite",an=>{let Rn=_l(),ui=wr();return Y.Zi.getEntries(an,ge).next(Ti=>{Rn=Ti,Rn.forEach((Vi,Wr)=>{Wr.isValidDocument()||(ui=ui.add(Vi))})}).next(()=>Y.localDocuments.getOverlayedDocuments(an,Rn)).next(Ti=>{Ne=Ti;const Vi=[];for(const Wr of R){const Ns=Lc(Wr,Ne.get(Wr.key).overlayedDocument);null!=Ns&&Vi.push(new iu(Wr.key,Ns,Na(Ns.value.mapValue),Cs.exists(!0)))}return Y.mutationQueue.addMutationBatch(an,le,Vi,R)}).next(Ti=>{wt=Ti;const Vi=Ti.applyToLocalDocumentSet(Ne,ui);return Y.documentOverlayCache.saveOverlays(an,Ti.batchId,Vi)})}).then(()=>({batchId:wt.batchId,changes:Ff(Ne)}))}(c.localStore,e);c.sharedClientState.addPendingMutation(m.batchId),function(C,R,Y){let le=C.Tc[C.currentUser.toKey()];le||(le=new ps(Zi)),le=le.insert(R,Y),C.Tc[C.currentUser.toKey()]=le}(c,m.batchId,t),yield tp(c,m.changes),yield Qf(c.remoteStore)}catch(m){const C=wf(m,"Failed to persist write");t.reject(C)}}),dm.apply(this,arguments)}function h_(r,e){return f_.apply(this,arguments)}function f_(){return f_=(0,pt.Z)(function*(r,e){const t=ci(r);try{const c=yield Xg(t.localStore,e);e.targetChanges.forEach((m,C)=>{const R=t.yc.get(C);R&&(Ni(m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size<=1),m.addedDocuments.size>0?R.fc=!0:m.modifiedDocuments.size>0?Ni(R.fc):m.removedDocuments.size>0&&(Ni(R.fc),R.fc=!1))}),yield tp(t,c,e)}catch(c){yield ii(c)}}),f_.apply(this,arguments)}function hm(r,e,t){const c=ci(r);if(c.isPrimaryClient&&0===t||!c.isPrimaryClient&&1===t){const m=[];c.wc.forEach((C,R)=>{const Y=R.view.Mu(e);Y.snapshot&&m.push(Y.snapshot)}),function(C,R){const Y=ci(C);Y.onlineState=R;let le=!1;Y.queries.forEach((ge,Ne)=>{for(const wt of Ne.listeners)wt.Mu(R)&&(le=!0)}),le&&av(Y)}(c.eventManager,e),m.length&&c.dc.nu(m),c.onlineState=e,c.isPrimaryClient&&c.sharedClientState.setOnlineState(e)}}function Ah(r,e,t){return $u.apply(this,arguments)}function $u(){return $u=(0,pt.Z)(function*(r,e,t){const c=ci(r);c.sharedClientState.updateQueryState(e,"rejected",t);const m=c.yc.get(e),C=m&&m.key;if(C){let R=new ps(vi.comparator);R=R.insert(C,zs.newNoDocument(C,Ki.min()));const Y=wr().add(C),le=new oc(Ki.min(),new Map,new ps(Zi),R,Y);yield h_(c,le),c.gc=c.gc.remove(C),c.yc.delete(e),dv(c)}else yield zh(c.localStore,e,!1).then(()=>xf(c,e,t)).catch(ii)}),$u.apply(this,arguments)}function p_(r,e){return fm.apply(this,arguments)}function fm(){return fm=(0,pt.Z)(function*(r,e){const t=ci(r),c=e.batch.batchId;try{const m=yield Qg(t.localStore,e);g_(t,c,null),gd(t,c),t.sharedClientState.updateMutationState(c,"acknowledged"),yield tp(t,m)}catch(m){yield ii(m)}}),fm.apply(this,arguments)}function pm(r,e,t){return mm.apply(this,arguments)}function mm(){return mm=(0,pt.Z)(function*(r,e,t){const c=ci(r);try{const m=yield function(C,R){const Y=ci(C);return Y.persistence.runTransaction("Reject batch","readwrite-primary",le=>{let ge;return Y.mutationQueue.lookupMutationBatch(le,R).next(Ne=>(Ni(null!==Ne),ge=Ne.keys(),Y.mutationQueue.removeMutationBatch(le,Ne))).next(()=>Y.mutationQueue.performConsistencyCheck(le)).next(()=>Y.documentOverlayCache.removeOverlaysForBatchId(le,ge,R)).next(()=>Y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(le,ge)).next(()=>Y.localDocuments.getDocuments(le,ge))})}(c.localStore,e);g_(c,e,t),gd(c,e),c.sharedClientState.updateMutationState(e,"rejected",t),yield tp(c,m)}catch(m){yield ii(m)}}),mm.apply(this,arguments)}function m_(){return m_=(0,pt.Z)(function*(r,e){const t=ci(r);In(t.remoteStore)||Kn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const c=yield function(C){const R=ci(C);return R.persistence.runTransaction("Get highest unacknowledged batch id","readonly",Y=>R.mutationQueue.getHighestUnacknowledgedBatchId(Y))}(t.localStore);if(-1===c)return void e.resolve();const m=t.Ec.get(c)||[];m.push(e),t.Ec.set(c,m)}catch(c){const m=wf(c,"Initialization of waitForPendingWrites() operation failed");e.reject(m)}}),m_.apply(this,arguments)}function gd(r,e){(r.Ec.get(e)||[]).forEach(t=>{t.resolve()}),r.Ec.delete(e)}function g_(r,e,t){const c=ci(r);let m=c.Tc[c.currentUser.toKey()];if(m){const C=m.get(e);C&&(t?C.reject(t):C.resolve(),m=m.remove(e)),c.Tc[c.currentUser.toKey()]=m}}function xf(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const c of r._c.get(e))r.wc.delete(c),t&&r.dc.Pc(c,t);r._c.delete(e),r.isPrimaryClient&&r.Ic.Is(e).forEach(c=>{r.Ic.containsKey(c)||Ig(r,c)})}function Ig(r,e){r.mc.delete(e.path.canonicalString());const t=r.gc.get(e);null!==t&&(q(r.remoteStore,t),r.gc=r.gc.remove(e),r.yc.delete(t),dv(r))}function uv(r,e,t){for(const c of t)c instanceof ep?(r.Ic.addReference(c.key,e),eh(r,c)):c instanceof d_?(Kn("SyncEngine","Document no longer in limbo: "+c.key),r.Ic.removeReference(c.key,e),r.Ic.containsKey(c.key)||Ig(r,c.key)):ni()}function eh(r,e){const t=e.key,c=t.path.canonicalString();r.gc.get(t)||r.mc.has(c)||(Kn("SyncEngine","New document in limbo: "+t),r.mc.add(c),dv(r))}function dv(r){for(;r.mc.size>0&&r.gc.size<r.maxConcurrentLimboResolutions;){const e=r.mc.values().next().value;r.mc.delete(e);const t=new vi(qi.fromString(e)),c=r.Ac.next();r.yc.set(c,new $m(t)),r.gc=r.gc.insert(t,c),N(r.remoteStore,new y(Ss(Pu(t.path)),c,"TargetPurposeLimboResolution",Vo.ct))}}function tp(r,e,t){return __.apply(this,arguments)}function __(){return __=(0,pt.Z)(function*(r,e,t){const c=ci(r),m=[],C=[],R=[];var Y;c.wc.isEmpty()||(c.wc.forEach((Y,le)=>{R.push(c.Rc(le,e,t).then(ge=>{if((ge||t)&&c.isPrimaryClient&&c.sharedClientState.updateQueryState(le.targetId,ge?.fromCache?"not-current":"current"),ge){m.push(ge);const Ne=Mh.Li(le.targetId,ge);C.push(Ne)}}))}),yield Promise.all(R),c.dc.nu(m),yield(Y=(0,pt.Z)(function*(le,ge){const Ne=ci(le);try{yield Ne.persistence.runTransaction("notifyLocalViewChanges","readwrite",wt=>Tt.forEach(ge,an=>Tt.forEach(an.Fi,Rn=>Ne.persistence.referenceDelegate.addReference(wt,an.targetId,Rn)).next(()=>Tt.forEach(an.Bi,Rn=>Ne.persistence.referenceDelegate.removeReference(wt,an.targetId,Rn)))))}catch(wt){if(!Eo(wt))throw wt;Kn("LocalStore","Failed to update sequence numbers: "+wt)}for(const wt of ge){const an=wt.targetId;if(!wt.fromCache){const Rn=Ne.Ji.get(an),Ti=Rn.withLastLimboFreeSnapshotVersion(Rn.snapshotVersion);Ne.Ji=Ne.Ji.insert(an,Ti)}}}),function(le,ge){return Y.apply(this,arguments)})(c.localStore,C))}),__.apply(this,arguments)}function Vy(r,e){return v_.apply(this,arguments)}function v_(){return v_=(0,pt.Z)(function*(r,e){const t=ci(r);if(!t.currentUser.isEqual(e)){Kn("SyncEngine","User change. New user:",e.toKey());const c=yield Zg(t.localStore,e);t.currentUser=e,(m=t).Ec.forEach(R=>{R.forEach(Y=>{Y.reject(new kn(fn.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),m.Ec.clear(),t.sharedClientState.handleUserChange(e,c.removedBatchIds,c.addedBatchIds),yield tp(t,c.er)}var m}),v_.apply(this,arguments)}function hv(r,e){const t=ci(r),c=t.yc.get(e);if(c&&c.fc)return wr().add(c.key);{let m=wr();const C=t._c.get(e);if(!C)return m;for(const R of C){const Y=t.wc.get(R);m=m.unionWith(Y.view.nc)}return m}}function ty(r,e){return np.apply(this,arguments)}function np(){return np=(0,pt.Z)(function*(r,e){const t=ci(r),c=yield Ih(t.localStore,e.query,!0),m=e.view.hc(c);return t.isPrimaryClient&&uv(t,e.targetId,m.cc),m}),np.apply(this,arguments)}function ny(r,e){return y_.apply(this,arguments)}function y_(){return y_=(0,pt.Z)(function*(r,e){const t=ci(r);return Mp(t.localStore,e).then(c=>tp(t,c))}),y_.apply(this,arguments)}function Uy(r,e,t,c){return Tg.apply(this,arguments)}function Tg(){return Tg=(0,pt.Z)(function*(r,e,t,c){const m=ci(r),C=yield function(R,Y){const le=ci(R),ge=ci(le.mutationQueue);return le.persistence.runTransaction("Lookup mutation documents","readonly",Ne=>ge.Sn(Ne,Y).next(wt=>wt?le.localDocuments.getDocuments(Ne,wt):Tt.resolve(null)))}(m.localStore,e);var Y;null!==C?("pending"===t?yield Qf(m.remoteStore):"acknowledged"===t||"rejected"===t?(g_(m,e,c||null),gd(m,e),Y=e,ci(ci(m.localStore).mutationQueue).Cn(Y)):ni(),yield tp(m,C)):Kn("SyncEngine","Cannot apply mutation batch with id: "+e)}),Tg.apply(this,arguments)}function fv(){return fv=(0,pt.Z)(function*(r,e){const t=ci(r);if(_d(t),Op(t),!0===e&&!0!==t.vc){const c=t.sharedClientState.getAllActiveQueryTargets(),m=yield _m(t,c.toArray());t.vc=!0,yield lu(t.remoteStore,!0);for(const C of m)N(t.remoteStore,C)}else if(!1===e&&!1!==t.vc){const c=[];let m=Promise.resolve();t._c.forEach((C,R)=>{t.sharedClientState.isLocalQueryTarget(R)?c.push(R):m=m.then(()=>(xf(t,R),zh(t.localStore,R,!0))),q(t.remoteStore,R)}),yield m,yield _m(t,c),function(C){const R=ci(C);R.yc.forEach((Y,le)=>{q(R.remoteStore,le)}),R.Ic.Ts(),R.yc=new Map,R.gc=new ps(vi.comparator)}(t),t.vc=!1,yield lu(t.remoteStore,!1)}}),fv.apply(this,arguments)}function _m(r,e,t){return ip.apply(this,arguments)}function ip(){return ip=(0,pt.Z)(function*(r,e,t){const c=ci(r),m=[],C=[];for(const R of e){let Y;const le=c._c.get(R);if(le&&0!==le.length){Y=yield Xd(c.localStore,Ss(le[0]));for(const ge of le){const Ne=c.wc.get(ge),wt=yield ty(c,Ne);wt.snapshot&&C.push(wt.snapshot)}}else{const ge=yield Vc(c.localStore,R);Y=yield Xd(c.localStore,ge),yield um(c,Hy(ge),R,!1,Y.resumeToken)}m.push(Y)}return c.dc.nu(C),m}),ip.apply(this,arguments)}function Hy(r){return Fa(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function Ag(r){const e=ci(r);return ci(ci(e.localStore).persistence).$i()}function iy(r,e,t,c){return pv.apply(this,arguments)}function pv(){return pv=(0,pt.Z)(function*(r,e,t,c){const m=ci(r);if(m.vc)return void Kn("SyncEngine","Ignoring unexpected query state notification.");const C=m._c.get(e);if(C&&C.length>0)switch(t){case"current":case"not-current":{const R=yield Mp(m.localStore,lf(C[0])),Y=oc.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Yt.EMPTY_BYTE_STRING);yield tp(m,R,Y);break}case"rejected":yield zh(m.localStore,e,!0),xf(m,e,c);break;default:ni()}}),pv.apply(this,arguments)}function mv(r,e,t){return gv.apply(this,arguments)}function gv(){return gv=(0,pt.Z)(function*(r,e,t){const c=_d(r);if(c.vc){for(const m of e){if(c._c.has(m)){Kn("SyncEngine","Adding an already active target "+m);continue}const C=yield Vc(c.localStore,m),R=yield Xd(c.localStore,C);yield um(c,Hy(C),R.targetId,!1,R.resumeToken),N(c.remoteStore,R)}for(const m of t)c._c.has(m)&&(yield zh(c.localStore,m,!1).then(()=>{q(c.remoteStore,m),xf(c,m)}).catch(ii))}}),gv.apply(this,arguments)}function _d(r){const e=ci(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=h_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ah.bind(null,e),e.dc.nu=ov.bind(null,e.eventManager),e.dc.Pc=Xv.bind(null,e.eventManager),e}function Op(r){const e=ci(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=p_.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pm.bind(null,e),e}class uu{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,pt.Z)(function*(){t.serializer=am(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return qg(this.persistence,new xp,e.initialUser,this.serializer)}createPersistence(e){return new Bm(Cl.zs,this.serializer)}createSharedClientState(e){return new e_}terminate(){var e=this;return(0,pt.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class vd extends uu{constructor(e,t,c){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=c,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,c=this;return(0,pt.Z)(function*(){yield t().call(c,e),yield c.Vc.initialize(c,e),yield Op(c.Vc.syncEngine),yield Qf(c.Vc.remoteStore),yield c.persistence.Ii(()=>(c.gcScheduler&&!c.gcScheduler.started&&c.gcScheduler.start(),c.indexBackfillerScheduler&&!c.indexBackfillerScheduler.started&&c.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return qg(this.persistence,new xp,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new Rr(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const c=new kc(t,this.persistence);return new sh(e.asyncQueue,c)}createPersistence(e){const t=$f(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),c=void 0!==this.cacheSizeBytes?lc.withCacheSize(this.cacheSizeBytes):lc.DEFAULT;return new zu(this.synchronizeTabs,t,e.clientId,c,e.asyncQueue,sm(),om(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new e_}}class Ym extends vd{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,c=this;return(0,pt.Z)(function*(){yield t().call(c,e);const m=c.Vc.syncEngine;c.sharedClientState instanceof rm&&(c.sharedClientState.syncEngine={jr:Uy.bind(null,m),zr:iy.bind(null,m),Wr:mv.bind(null,m),$i:Ag.bind(null,m),Qr:ny.bind(null,m)},yield c.sharedClientState.start()),yield c.persistence.Ii(function(){var C=(0,pt.Z)(function*(R){yield function b_(r,e){return fv.apply(this,arguments)}(c.Vc.syncEngine,R),c.gcScheduler&&(R&&!c.gcScheduler.started?c.gcScheduler.start():R||c.gcScheduler.stop()),c.indexBackfillerScheduler&&(R&&!c.indexBackfillerScheduler.started?c.indexBackfillerScheduler.start():R||c.indexBackfillerScheduler.stop())});return function(R){return C.apply(this,arguments)}}())})()}createSharedClientState(e){const t=sm();if(!rm.D(t))throw new kn(fn.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const c=$f(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new rm(t,e.asyncQueue,c,e.clientId,e.initialUser)}}class yd{initialize(e,t){var c=this;return(0,pt.Z)(function*(){c.localStore||(c.localStore=e.localStore,c.sharedClientState=e.sharedClientState,c.datastore=c.createDatastore(t),c.remoteStore=c.createRemoteStore(t),c.eventManager=c.createEventManager(t),c.syncEngine=c.createSyncEngine(t,!e.synchronizeTabs),c.sharedClientState.onlineStateHandler=m=>hm(c.syncEngine,m,1),c.remoteStore.remoteSyncer.handleCredentialChange=Vy.bind(null,c.syncEngine),yield lu(c.remoteStore,c.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Qv}createDatastore(e){const t=am(e.databaseInfo.databaseId),c=new Q_(e.databaseInfo);return new J_(e.authCredentials,e.appCheckCredentials,c,t)}createRemoteStore(e){return t=this.localStore,c=this.datastore,m=e.asyncQueue,C=Y=>hm(this.syncEngine,Y,0),R=n_.D()?new n_:new t_,new nv(t,c,m,C,R);var t,c,m,C,R}createSyncEngine(e,t){return function(c,m,C,R,Y,le,ge){const Ne=new Jv(c,m,C,R,Y,le);return ge&&(Ne.vc=!0),Ne}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,pt.Z)(function*(t){const c=ci(t);Kn("RemoteStore","RemoteStore shutting down."),c.vu.add(5),yield a(c),c.Pu.shutdown(),c.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function vm(r,e=10240){let t=0;return{read:()=>(0,pt.Z)(function*(){if(t<r.byteLength){const c={value:r.slice(t,t+e),done:!1};return t+=e,c}return{done:!0}})(),cancel:()=>(0,pt.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class bd{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Rs("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Km{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new is,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(c=>{c&&c.Qu()?this.metadata.resolve(c.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(c?.Gu)}`))},c=>this.metadata.reject(c))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,pt.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,pt.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,pt.Z)(function*(){const t=yield e.kc();if(null===t)return null;const c=e.xc.decode(t),m=Number(c);isNaN(m)&&e.Mc(`length string (${c}) is not valid number`);const C=yield e.$c(m);return new Sg(JSON.parse(C),t.length+m)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,pt.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const c=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),c})()}$c(e){var t=this;return(0,pt.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const c=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),c})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,pt.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const c=new Uint8Array(e.buffer.length+t.value.length);c.set(e.buffer),c.set(t.value,e.buffer.length),e.buffer=c}return t.done})()}}class ym{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,pt.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new kn(fn.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const c=yield(m=(0,pt.Z)(function*(C,R){const Y=ci(C),le=ud(Y.serializer)+"/documents",ge={documents:R.map(Rn=>Ps(Y.serializer,Rn))},Ne=yield Y.vo("BatchGetDocuments",le,ge,R.length),wt=new Map;Ne.forEach(Rn=>{const ui=function Gp(r,e){return"found"in e?function(t,c){Ni(!!c.found);const m=_a(t,c.found.name),C=fr(c.found.updateTime),R=c.found.createTime?fr(c.found.createTime):Ki.min(),Y=new zo({mapValue:{fields:c.found.fields}});return zs.newFoundDocument(m,C,R,Y)}(r,e):"missing"in e?function(t,c){Ni(!!c.missing),Ni(!!c.readTime);const m=_a(t,c.missing),C=fr(c.readTime);return zs.newNoDocument(m,C)}(r,e):ni()}(Y.serializer,Rn);wt.set(ui.key.toString(),ui)});const an=[];return R.forEach(Rn=>{const ui=wt.get(Rn.toString());Ni(!!ui),an.push(ui)}),an}),function(C,R){return m.apply(this,arguments)})(t.datastore,e);var m;return c.forEach(m=>t.recordVersion(m)),c})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(c){this.lastWriteError=c}this.writtenDocs.add(e.toString())}delete(e){this.write(new ad(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,pt.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var c;e.mutations.forEach(c=>{t.delete(c.key.toString())}),t.forEach((c,m)=>{const C=vi.fromPath(m);e.mutations.push(new vh(C,e.precondition(C)))}),yield(c=(0,pt.Z)(function*(m,C){const R=ci(m),Y=ud(R.serializer)+"/documents",le={writes:C.map(ge=>Vl(R.serializer,ge))};yield R.Io("Commit",Y,le)}),function(m,C){return c.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ni();t=Ki.min()}const c=this.readVersions.get(e.key.toString());if(c){if(!t.isEqual(c))throw new kn(fn.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ki.min())?Cs.exists(!1):Cs.updateTime(t):Cs.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ki.min()))throw new kn(fn.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Cs.updateTime(t)}return Cs.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class bm{constructor(e,t,c,m,C){this.asyncQueue=e,this.datastore=t,this.options=c,this.updateFunction=m,this.deferred=C,this.Bc=c.maxAttempts,this.qo=new lm(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,pt.Z)(function*(){const t=new ym(e.datastore),c=e.qc(t);c&&c.then(m=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(m)}).catch(C=>{e.Uc(C)}))}).catch(m=>{e.Uc(m)})}))}qc(e){try{const t=this.updateFunction(e);return!Ql(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!nn(t)}return!1}}class Cm{constructor(e,t,c,m){var C=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=c,this.databaseInfo=m,this.user=Gs.UNAUTHENTICATED,this.clientId=ml.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(c,function(){var R=(0,pt.Z)(function*(Y){Kn("FirestoreClient","Received user=",Y.uid),yield C.authCredentialListener(Y),C.user=Y});return function(Y){return R.apply(this,arguments)}}()),this.appCheckCredentials.start(c,R=>(Kn("FirestoreClient","Received new app check token=",R),this.appCheckCredentialListener(R,this.user)))}getConfiguration(){var e=this;return(0,pt.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new kn(fn.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,pt.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(c){const m=wf(c,"Failed to shutdown persistence");t.reject(m)}})),t.promise}}function kh(r,e){return Sf.apply(this,arguments)}function Sf(){return Sf=(0,pt.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),Kn("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let c=t.initialUser;r.setCredentialChangeListener(function(){var m=(0,pt.Z)(function*(C){c.isEqual(C)||(yield Zg(e.localStore,C),c=C)});return function(C){return m.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),Sf.apply(this,arguments)}function qm(r,e){return C_.apply(this,arguments)}function C_(){return C_=(0,pt.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield Zm(r);Kn("FirestoreClient","Initializing OnlineComponentProvider");const c=yield r.getConfiguration();yield e.initialize(t,c),r.setCredentialChangeListener(m=>Rp(e.remoteStore,m)),r.setAppCheckTokenChangeListener((m,C)=>Rp(e.remoteStore,C)),r._onlineComponents=e}),C_.apply(this,arguments)}function _v(r){return"FirebaseError"===r.name?r.code===fn.FAILED_PRECONDITION||r.code===fn.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}function Zm(r){return w_.apply(this,arguments)}function w_(){return w_=(0,pt.Z)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Kn("FirestoreClient","Using user provided OfflineComponentProvider");try{yield kh(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!_v(t))throw t;Os("Error using user provided cache. Falling back to memory cache: "+t),yield kh(r,new uu)}}else Kn("FirestoreClient","Using default OfflineComponentProvider"),yield kh(r,new uu);return r._offlineComponents}),w_.apply(this,arguments)}function Qm(r){return E_.apply(this,arguments)}function E_(){return E_=(0,pt.Z)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Kn("FirestoreClient","Using user provided OnlineComponentProvider"),yield qm(r,r._uninitializedComponentsProvider._online)):(Kn("FirestoreClient","Using default OnlineComponentProvider"),yield qm(r,new yd))),r._onlineComponents}),E_.apply(this,arguments)}function D_(r){return Zm(r).then(e=>e.persistence)}function Xm(r){return Zm(r).then(e=>e.localStore)}function x_(r){return Qm(r).then(e=>e.remoteStore)}function S_(r){return Qm(r).then(e=>e.syncEngine)}function rp(r){return $h.apply(this,arguments)}function $h(){return $h=(0,pt.Z)(function*(r){const e=yield Qm(r),t=e.eventManager;return t.onListen=By.bind(null,e.syncEngine),t.onUnlisten=db.bind(null,e.syncEngine),t}),$h.apply(this,arguments)}function eg(r,e,t={}){const c=new is;return r.asyncQueue.enqueueAndForget((0,pt.Z)(function*(){return function(m,C,R,Y,le){const ge=new bd({next:wt=>{C.enqueueAndForget(()=>xg(m,Ne));const an=wt.docs.has(R);!an&&wt.fromCache?le.reject(new kn(fn.UNAVAILABLE,"Failed to get document because the client is offline.")):an&&wt.fromCache&&Y&&"server"===Y.source?le.reject(new kn(fn.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):le.resolve(wt)},error:wt=>le.reject(wt)}),Ne=new Jd(Pu(R.path),ge,{includeMetadataChanges:!0,Ku:!0});return rv(m,Ne)}(yield rp(r),r.asyncQueue,e,t,c)})),c.promise}function Mf(r,e,t={}){const c=new is;return r.asyncQueue.enqueueAndForget((0,pt.Z)(function*(){return function(m,C,R,Y,le){const ge=new bd({next:wt=>{C.enqueueAndForget(()=>xg(m,Ne)),wt.fromCache&&"server"===Y.source?le.reject(new kn(fn.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):le.resolve(wt)},error:wt=>le.reject(wt)}),Ne=new Jd(R,ge,{includeMetadataChanges:!0,Ku:!0});return rv(m,Ne)}(yield rp(r),r.asyncQueue,e,t,c)})),c.promise}function vv(r){const e={};return void 0!==r.timeoutSeconds&&(e.timeoutSeconds=r.timeoutSeconds),e}const T_=new Map;function A_(r,e,t){if(!t)throw new kn(fn.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function yv(r,e,t,c){if(!0===e&&!0===c)throw new kn(fn.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Pp(r){if(!vi.isDocumentKey(r))throw new kn(fn.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Em(r){if(vi.isDocumentKey(r))throw new kn(fn.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Np(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":ni()}function cs(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new kn(fn.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Np(r);throw new kn(fn.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function k_(r,e){if(e<=0)throw new kn(fn.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}class R_{constructor(e){var t,c;if(void 0===e.host){if(void 0!==e.ssl)throw new kn(fn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new kn(fn.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yv("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=vv(null!==(c=e.experimentalLongPollingOptions)&&void 0!==c?c:{}),function(m){if(void 0!==m.timeoutSeconds){if(isNaN(m.timeoutSeconds))throw new kn(fn.INVALID_ARGUMENT,`invalid long polling timeout: ${m.timeoutSeconds} (must not be NaN)`);if(m.timeoutSeconds<5)throw new kn(fn.INVALID_ARGUMENT,`invalid long polling timeout: ${m.timeoutSeconds} (minimum allowed value is 5)`);if(m.timeoutSeconds>30)throw new kn(fn.INVALID_ARGUMENT,`invalid long polling timeout: ${m.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dm{constructor(e,t,c,m){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=c,this._app=m,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new R_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new kn(fn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new kn(fn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new R_(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Id;switch(t.type){case"firstParty":return new Qu(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new kn(fn.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=T_.get(e);t&&(Kn("ComponentProvider","Removing Datastore"),T_.delete(e),t.terminate())}(this),Promise.resolve()}}class Ko{constructor(e,t,c){this.converter=t,this._key=c,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new th(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ko(this.firestore,e,this._key)}}class No{constructor(e,t,c){this.converter=t,this._query=c,this.type="query",this.firestore=e}withConverter(e){return new No(this.firestore,e,this._query)}}class th extends No{constructor(e,t,c){super(e,t,Pu(c)),this._path=c,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ko(this.firestore,null,new vi(e))}withConverter(e){return new th(this.firestore,e,this._path)}}function Og(r,e,...t){if(r=(0,Te.m9)(r),A_("collection","path",e),r instanceof Dm){const c=qi.fromString(e,...t);return Em(c),new th(r,null,c)}{if(!(r instanceof Ko||r instanceof th))throw new kn(fn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const c=r._path.child(qi.fromString(e,...t));return Em(c),new th(r.firestore,null,c)}}function Pg(r,e,...t){if(r=(0,Te.m9)(r),1===arguments.length&&(e=ml.A()),A_("doc","path",e),r instanceof Dm){const c=qi.fromString(e,...t);return Pp(c),new Ko(r,null,new vi(c))}{if(!(r instanceof Ko||r instanceof th))throw new kn(fn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const c=r._path.child(qi.fromString(e,...t));return Pp(c),new Ko(r.firestore,r instanceof th?r.converter:null,new vi(c))}}function O_(r,e){return r=(0,Te.m9)(r),e=(0,Te.m9)(e),(r instanceof Ko||r instanceof th)&&(e instanceof Ko||e instanceof th)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function P_(r,e){return r=(0,Te.m9)(r),e=(0,Te.m9)(e),r instanceof No&&e instanceof No&&r.firestore===e.firestore&&rd(r._query,e._query)&&r.converter===e.converter}class sy{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new lm(this,"async_queue_retry"),this.Xc=()=>{const t=om();t&&Kn("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=om();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=om();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new is;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,pt.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Eo(t))throw t;Kn("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(c=>{throw this.Wc=c,this.Hc=!1,Rs("INTERNAL UNHANDLED ERROR: ",function(C){let R=C.message||"";return C.stack&&(R=C.stack.includes(C.message)?C.stack:C.message+"\n"+C.stack),R}(c)),c}).then(c=>(this.Hc=!1,c))));return this.Gc=t,t}enqueueAfterDelay(e,t,c){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const m=Dg.createAndSchedule(this,e,t,c,C=>this.na(C));return this.zc.push(m),m}Zc(){this.Wc&&ni()}verifyOperationInProgress(){}sa(){var e=this;return(0,pt.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,c)=>t.targetTimeMs-c.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function N_(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const c=e;for(const m of["next","error","complete"])if(m in c&&"function"==typeof c[m])return!0;return!1}(r)}class oy{constructor(){this._progressObserver={},this._taskCompletionResolver=new is,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,c){this._progressObserver={next:e,error:t,complete:c}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Va extends Dm{constructor(e,t,c,m){super(e,t,c,m),this.type="firestore",this._queue=new sy,this._persistenceKey=m?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||ly(this),this._firestoreClient.terminate()}}function sl(r){return r._firestoreClient||ly(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function ly(r){var e,t,c;const m=r._freezeSettings(),C=(Y=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new qa(r._databaseId,Y,r._persistenceKey,(ge=m).host,ge.ssl,ge.experimentalForceLongPolling,ge.experimentalAutoDetectLongPolling,vv(ge.experimentalLongPollingOptions),ge.useFetchStreams));var Y,ge;r._firestoreClient=new Cm(r._authCredentials,r._appCheckCredentials,r._queue,C),(null===(t=m.cache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(c=m.cache)||void 0===c?void 0:c._onlineComponentProvider)&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:m.cache.kind,_offline:m.cache._offlineComponentProvider,_online:m.cache._onlineComponentProvider})}function uy(r,e,t){const c=new is;return r.asyncQueue.enqueue((0,pt.Z)(function*(){try{yield kh(r,t),yield qm(r,e),c.resolve()}catch(m){const C=m;if(!_v(C))throw C;Os("Error enabling indexeddb cache. Falling back to memory cache: "+C),c.reject(C)}})).then(()=>c.promise)}function wv(r){if(r._initialized||r._terminated)throw new kn(fn.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Yh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yh(Yt.fromBase64String(e))}catch(t){throw new kn(fn.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Yh(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Fp{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new kn(fn.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class sp{constructor(e){this._methodName=e}}class wd{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new kn(fn.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new kn(fn.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Zi(this._lat,e._lat)||Zi(this._long,e._long)}}const Gy=/^__.*__$/;class $y{constructor(e,t,c){this.data=e,this.fieldMask=t,this.fieldTransforms=c}toMutation(e,t){return null!==this.fieldMask?new iu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Bu(e,this.data,t,this.fieldTransforms)}}class If{constructor(e,t,c){this.data=e,this.fieldMask=t,this.fieldTransforms=c}toMutation(e,t){return new iu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function nh(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ni()}}class Ed{constructor(e,t,c,m,C,R){this.settings=e,this.databaseId=t,this.serializer=c,this.ignoreUndefinedProperties=m,void 0===C&&this.ua(),this.fieldTransforms=C||[],this.fieldMask=R||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Ed(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const c=null===(t=this.path)||void 0===t?void 0:t.child(e),m=this.aa({path:c,la:!1});return m.fa(e),m}da(e){var t;const c=null===(t=this.path)||void 0===t?void 0:t.child(e),m=this.aa({path:c,la:!1});return m.ua(),m}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return wl(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(nh(this.ca)&&Gy.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class my{constructor(e,t,c){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=c||am(e)}ya(e,t,c,m=!1){return new Ed({ca:e,methodName:t,ga:c,path:rs.emptyPath(),la:!1,ma:m},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lp(r){const e=r._freezeSettings(),t=am(r._databaseId);return new my(r._databaseId,!!e.ignoreUndefinedProperties,t)}function F_(r,e,t,c,m,C={}){const R=r.ya(C.merge||C.mergeFields?2:0,e,t,m);L_("Data must be an object, but it was:",R,c);const Y=ig(c,R);let le,ge;if(C.merge)le=new ve(R.fieldMask),ge=R.fieldTransforms;else if(C.mergeFields){const Ne=[];for(const wt of C.mergeFields){const an=rg(e,wt,t);if(!R.contains(an))throw new kn(fn.INVALID_ARGUMENT,`Field '${an}' is specified in your field mask but missing from your input data.`);Wu(Ne,an)||Ne.push(an)}le=new ve(Ne),ge=R.fieldTransforms.filter(wt=>le.covers(wt.field))}else le=null,ge=R.fieldTransforms;return new $y(new zo(Y),le,ge)}class Ng extends sp{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ng}}function gy(r,e,t){return new Ed({ca:3,ga:e.settings.ga,methodName:r._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Ev extends sp{_toFieldTransform(e){return new Fu(e.path,new mh)}isEqual(e){return e instanceof Ev}}class Dv extends sp{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=gy(this,e,!0),c=this.pa.map(C=>Bp(C,t)),m=new Jc(c);return new Fu(e.path,m)}isEqual(e){return this===e}}class Fg extends sp{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=gy(this,e,!0),c=this.pa.map(C=>Bp(C,t)),m=new eu(c);return new Fu(e.path,m)}isEqual(e){return this===e}}class mb extends sp{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new Fc(e.serializer,Xc(e.serializer,this.Ia));return new Fu(e.path,t)}isEqual(e){return this===e}}function xv(r,e,t,c){const m=r.ya(1,e,t);L_("Data must be an object, but it was:",m,c);const C=[],R=zo.empty();ec(c,(le,ge)=>{const Ne=Dd(e,le,t);ge=(0,Te.m9)(ge);const wt=m.da(Ne);if(ge instanceof Ng)C.push(Ne);else{const an=Bp(ge,wt);null!=an&&(C.push(Ne),R.set(Ne,an))}});const Y=new ve(C);return new If(R,Y,m.fieldTransforms)}function Sv(r,e,t,c,m,C){const R=r.ya(1,e,t),Y=[rg(e,c,t)],le=[m];if(C.length%2!=0)throw new kn(fn.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let an=0;an<C.length;an+=2)Y.push(rg(e,C[an])),le.push(C[an+1]);const ge=[],Ne=zo.empty();for(let an=Y.length-1;an>=0;--an)if(!Wu(ge,Y[an])){const Rn=Y[an];let ui=le[an];ui=(0,Te.m9)(ui);const Ti=R.da(Rn);if(ui instanceof Ng)ge.push(Rn);else{const Vi=Bp(ui,Ti);null!=Vi&&(ge.push(Rn),Ne.set(Rn,Vi))}}const wt=new ve(ge);return new If(Ne,wt,R.fieldTransforms)}function Mv(r,e,t,c=!1){return Bp(t,r.ya(c?4:3,e))}function Bp(r,e){if(_y(r=(0,Te.m9)(r)))return L_("Unsupported field value:",e,r),ig(r,e);if(r instanceof sp)return function(t,c){if(!nh(c.ca))throw c._a(`${t._methodName}() can only be used with update() and set()`);if(!c.path)throw c._a(`${t._methodName}() is not currently supported inside arrays`);const m=t._toFieldTransform(c);m&&c.fieldTransforms.push(m)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,c){const m=[];let C=0;for(const R of t){let Y=Bp(R,c.wa(C));null==Y&&(Y={nullValue:"NULL_VALUE"}),m.push(Y),C++}return{arrayValue:{values:m}}}(r,e)}return function(t,c){if(null===(t=(0,Te.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Xc(c.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const m=as.fromDate(t);return{timestampValue:Ch(c.serializer,m)}}if(t instanceof as){const m=new as(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ch(c.serializer,m)}}if(t instanceof wd)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Yh)return{bytesValue:Rm(c.serializer,t._byteString)};if(t instanceof Ko){const m=c.databaseId,C=t.firestore._databaseId;if(!C.isEqual(m))throw c._a(`Document reference is for database ${C.projectId}/${C.database} but should be for database ${m.projectId}/${m.database}`);return{referenceValue:Hr(t.firestore._databaseId||c.databaseId,t._key.path)}}throw c._a(`Unsupported field value: ${Np(t)}`)}(r,e)}function ig(r,e){const t={};return Rf(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ec(r,(c,m)=>{const C=Bp(m,e.ha(c));null!=C&&(t[c]=C)}),{mapValue:{fields:t}}}function _y(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof as||r instanceof wd||r instanceof Yh||r instanceof Ko||r instanceof sp)}function L_(r,e,t){if(!_y(t)||"object"!=typeof(c=t)||null===c||Object.getPrototypeOf(c)!==Object.prototype&&null!==Object.getPrototypeOf(c)){const c=Np(t);throw e._a("an object"===c?r+" a custom object":r+" "+c)}var c}function rg(r,e,t){if((e=(0,Te.m9)(e))instanceof Fp)return e._internalPath;if("string"==typeof e)return Dd(r,e);throw wl("Field path arguments must be of type string or ",r,!1,void 0,t)}const Iv=new RegExp("[~\\*/\\[\\]]");function Dd(r,e,t){if(e.search(Iv)>=0)throw wl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Fp(...e.split("."))._internalPath}catch{throw wl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function wl(r,e,t,c,m){const C=c&&!c.isEmpty(),R=void 0!==m;let Y=`Function ${e}() called with invalid data`;t&&(Y+=" (via `toFirestore()`)"),Y+=". ";let le="";return(C||R)&&(le+=" (found",C&&(le+=` in field ${c}`),R&&(le+=` in document ${m}`),le+=")"),new kn(fn.INVALID_ARGUMENT,Y+r+le)}function Wu(r,e){return r.some(t=>t.isEqual(e))}class Tf{constructor(e,t,c,m,C){this._firestore=e,this._userDataWriter=t,this._key=c,this._document=m,this._converter=C}get id(){return this._key.path.lastSegment()}get ref(){return new Ko(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new vy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Lg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class vy extends Tf{data(){return super.data()}}function Lg(r,e){return"string"==typeof e?Dd(r,e):e instanceof Fp?e._internalPath:e._delegate._internalPath}function Tv(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new kn(fn.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class B_{}class sg extends B_{}function Vp(r,e,...t){let c=[];e instanceof B_&&c.push(e),c=c.concat(t),function(m){const C=m.filter(Y=>Y instanceof xm).length,R=m.filter(Y=>Y instanceof og).length;if(C>1||C>0&&R>0)throw new kn(fn.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(c);for(const m of c)r=m._apply(r);return r}class og extends sg{constructor(e,t,c){super(),this._field=e,this._op=t,this._value=c,this.type="where"}static _create(e,t,c){return new og(e,t,c)}_apply(e){const t=this._parse(e);return Rv(e._query,t),new No(e.firestore,e.converter,nc(e._query,t))}_parse(e){const t=Lp(e.firestore);return function(m,C,R,Y,le,ge,Ne){let wt;if(le.isKeyField()){if("array-contains"===ge||"array-contains-any"===ge)throw new kn(fn.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ge}' queries on documentId().`);if("in"===ge||"not-in"===ge){j_(Ne,ge);const an=[];for(const Rn of Ne)an.push(kv(Y,m,Rn));wt={arrayValue:{values:an}}}else wt=kv(Y,m,Ne)}else"in"!==ge&&"not-in"!==ge&&"array-contains-any"!==ge||j_(Ne,ge),wt=Mv(R,"where",Ne,"in"===ge||"not-in"===ge);return Ur.create(le,ge,wt)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class xm extends B_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new xm(e,t)}_parse(e){const t=this._queryConstraints.map(c=>c._parse(e)).filter(c=>c.getFilters().length>0);return 1===t.length?t[0]:bs.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(c,m){let C=c;const R=m.getFlattenedFilters();for(const Y of R)Rv(C,Y),C=nc(C,Y)}(e._query,t),new No(e.firestore,e.converter,nc(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Av extends sg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Av(e,t)}_apply(e){const t=function(c,m,C){if(null!==c.startAt)throw new kn(fn.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==c.endAt)throw new kn(fn.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const R=new td(m,C);return function(Y,le){if(null===lo(Y)){const ge=Yc(Y);null!==ge&&Ov(0,ge,le.field)}}(c,R),R}(e._query,this._field,this._direction);return new No(e.firestore,e.converter,function(c,m){const C=c.explicitOrderBy.concat([m]);return new Go(c.path,c.collectionGroup,C,c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(e._query,t))}}class U_ extends sg{constructor(e,t,c){super(),this.type=e,this._limit=t,this._limitType=c}static _create(e,t,c){return new U_(e,t,c)}_apply(e){return new No(e.firestore,e.converter,Kc(e._query,this._limit,this._limitType))}}class Bg extends sg{constructor(e,t,c){super(),this.type=e,this._docOrFields=t,this._inclusive=c}static _create(e,t,c){return new Bg(e,t,c)}_apply(e){const t=Dy(e,this.type,this._docOrFields,this._inclusive);return new No(e.firestore,e.converter,(m=t,new Go((c=e._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,m,c.endAt)));var c,m}}class H_ extends sg{constructor(e,t,c){super(),this.type=e,this._docOrFields=t,this._inclusive=c}static _create(e,t,c){return new H_(e,t,c)}_apply(e){const t=Dy(e,this.type,this._docOrFields,this._inclusive);return new No(e.firestore,e.converter,(m=t,new Go((c=e._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,m)));var c,m}}function Dy(r,e,t,c){if(t[0]=(0,Te.m9)(t[0]),t[0]instanceof Tf)return function(m,C,R,Y,le){if(!Y)throw new kn(fn.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${R}().`);const ge=[];for(const Ne of ma(m))if(Ne.field.isKeyField())ge.push(Ec(C,Y.key));else{const wt=Y.data.field(Ne.field);if(mr(wt))throw new kn(fn.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Ne.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===wt){const an=Ne.field.canonicalString();throw new kn(fn.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${an}' (used as the orderBy) does not exist.`)}ge.push(wt)}return new Fl(ge,le)}(r._query,r.firestore._databaseId,e,t[0]._document,c);{const m=Lp(r.firestore);return function(C,R,Y,le,ge,Ne){const wt=C.explicitOrderBy;if(ge.length>wt.length)throw new kn(fn.INVALID_ARGUMENT,`Too many arguments provided to ${le}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const an=[];for(let Rn=0;Rn<ge.length;Rn++){const ui=ge[Rn];if(wt[Rn].field.isKeyField()){if("string"!=typeof ui)throw new kn(fn.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${le}(), but got a ${typeof ui}`);if(!Nu(C)&&-1!==ui.indexOf("/"))throw new kn(fn.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${le}() must be a plain document ID, but '${ui}' contains a slash.`);const Ti=C.path.child(qi.fromString(ui));if(!vi.isDocumentKey(Ti))throw new kn(fn.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${le}() must result in a valid document path, but '${Ti}' is not because it contains an odd number of segments.`);const Vi=new vi(Ti);an.push(Ec(R,Vi))}else{const Ti=Mv(Y,le,ui);an.push(Ti)}}return new Fl(an,Ne)}(r._query,r.firestore._databaseId,m,e,t,c)}}function kv(r,e,t){if("string"==typeof(t=(0,Te.m9)(t))){if(""===t)throw new kn(fn.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Nu(e)&&-1!==t.indexOf("/"))throw new kn(fn.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const c=e.path.child(qi.fromString(t));if(!vi.isDocumentKey(c))throw new kn(fn.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${c}' is not because it has an odd number of segments (${c.length}).`);return Ec(r,new vi(c))}if(t instanceof Ko)return Ec(r,t._key);throw new kn(fn.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Np(t)}.`)}function j_(r,e){if(!Array.isArray(r)||0===r.length)throw new kn(fn.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Rv(r,e){if(e.isInequality()){const c=Yc(r),m=e.field;if(null!==c&&!c.isEqual(m))throw new kn(fn.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${c.toString()}' and '${m.toString()}'`);const C=lo(r);null!==C&&Ov(0,m,C)}const t=function(c,m){for(const C of c)for(const R of C.getFlattenedFilters())if(m.indexOf(R.op)>=0)return R.op;return null}(r.filters,function(c){switch(c){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new kn(fn.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function Ov(r,e,t){if(!t.isEqual(e))throw new kn(fn.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class z_{convertValue(e,t="none"){switch(jo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ri(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ai(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ni()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const c={};return ec(e,(m,C)=>{c[m]=this.convertValue(C,t)}),c}convertGeoPoint(e){return new wd(ri(e.latitude),ri(e.longitude))}convertArray(e,t){return(e.values||[]).map(c=>this.convertValue(c,t))}convertServerTimestamp(e,t){switch(t){case"previous":const c=dr(e);return null==c?null:this.convertValue(c,t);case"estimate":return this.convertTimestamp(Ka(e));default:return null}}convertTimestamp(e){const t=pi(e);return new as(t.seconds,t.nanos)}convertDocumentKey(e,t){const c=qi.fromString(e);Ni(g(c));const m=new Cc(c.get(1),c.get(3)),C=new vi(c.popFirst(5));return m.isEqual(t)||Rs(`Document ${C} contains a document reference within a different database (${m.projectId}/${m.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),C}}function Vg(r,e,t){let c;return c=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,c}class xy extends z_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ko(this.firestore,null,t)}}class op{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class El extends Tf{constructor(e,t,c,m,C,R){super(e,t,c,m,R),this._firestore=e,this._firestoreImpl=e,this.metadata=C}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Lv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const c=this._document.data.field(Lg("DocumentSnapshot.get",e));if(null!==c)return this._userDataWriter.convertValue(c,t.serverTimestamps)}}}class Lv extends El{data(e={}){return super.data(e)}}class Yu{constructor(e,t,c,m){this._firestore=e,this._userDataWriter=t,this._snapshot=m,this.metadata=new op(m.hasPendingWrites,m.fromCache),this.query=c}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(c=>{e.call(t,new Lv(this._firestore,this._userDataWriter,c.key,c,new op(this._snapshot.mutatedKeys.has(c.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new kn(fn.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(c,m){if(c._snapshot.oldDocs.isEmpty()){let C=0;return c._snapshot.docChanges.map(R=>({type:"added",doc:new Lv(c._firestore,c._userDataWriter,R.doc.key,R.doc,new op(c._snapshot.mutatedKeys.has(R.doc.key),c._snapshot.fromCache),c.query.converter),oldIndex:-1,newIndex:C++}))}{let C=c._snapshot.oldDocs;return c._snapshot.docChanges.filter(R=>m||3!==R.type).map(R=>{const Y=new Lv(c._firestore,c._userDataWriter,R.doc.key,R.doc,new op(c._snapshot.mutatedKeys.has(R.doc.key),c._snapshot.fromCache),c.query.converter);let le=-1,ge=-1;return 0!==R.type&&(le=C.indexOf(R.doc.key),C=C.delete(R.doc.key)),1!==R.type&&(C=C.add(R.doc),ge=C.indexOf(R.doc.key)),{type:_b(R.type),doc:Y,oldIndex:le,newIndex:ge}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function _b(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ni()}}function G_(r,e){return r instanceof El&&e instanceof El?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof Yu&&e instanceof Yu&&r._firestore===e._firestore&&P_(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}class Mm extends z_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ko(this.firestore,null,t)}}function Iy(r,e,t){r=cs(r,Ko);const c=cs(r.firestore,Va),m=Vg(r.converter,e,t);return lp(c,[F_(Lp(c),"setDoc",r._key,m,null!==r.converter,t).toMutation(r._key,Cs.none())])}function ap(r,e,t,...c){r=cs(r,Ko);const m=cs(r.firestore,Va),C=Lp(m);let R;return R="string"==typeof(e=(0,Te.m9)(e))||e instanceof Fp?Sv(C,"updateDoc",r._key,e,t,c):xv(C,"updateDoc",r._key,e),lp(m,[R.toMutation(r._key,Cs.exists(!0))])}function Xy(r,...e){var t,c,m;r=(0,Te.m9)(r);let C={includeMetadataChanges:!1},R=0;"object"!=typeof e[R]||N_(e[R])||(C=e[R],R++);const Y={includeMetadataChanges:C.includeMetadataChanges};if(N_(e[R])){const wt=e[R];e[R]=null===(t=wt.next)||void 0===t?void 0:t.bind(wt),e[R+1]=null===(c=wt.error)||void 0===c?void 0:c.bind(wt),e[R+2]=null===(m=wt.complete)||void 0===m?void 0:m.bind(wt)}let le,ge,Ne;if(r instanceof Ko)ge=cs(r.firestore,Va),Ne=Pu(r._key.path),le={next:wt=>{e[R]&&e[R](W_(ge,r,wt))},error:e[R+1],complete:e[R+2]};else{const wt=cs(r,No);ge=cs(wt.firestore,Va),Ne=wt._query;const an=new Mm(ge);le={next:Rn=>{e[R]&&e[R](new Yu(ge,an,wt,Rn))},error:e[R+1],complete:e[R+2]},Tv(r._query)}return function(wt,an,Rn,ui){const Ti=new bd(ui),Vi=new Jd(an,Ti,Rn);return wt.asyncQueue.enqueueAndForget((0,pt.Z)(function*(){return rv(yield rp(wt),Vi)})),()=>{Ti.Dc(),wt.asyncQueue.enqueueAndForget((0,pt.Z)(function*(){return xg(yield rp(wt),Vi)}))}}(sl(ge),Ne,Y,le)}function lp(r,e){return function(t,c){const m=new is;return t.asyncQueue.enqueueAndForget((0,pt.Z)(function*(){return function ey(r,e,t){return dm.apply(this,arguments)}(yield S_(t),c,m)})),m.promise}(sl(r),e)}function W_(r,e,t){const c=t.docs.get(e._key),m=new Mm(r);return new El(r,m,e._key,c,new op(t.hasPendingWrites,t.fromCache),e.converter)}const he={maxAttempts:5};class Se{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Lp(e)}set(e,t,c){this._verifyNotCommitted();const m=ht(e,this._firestore),C=Vg(m.converter,t,c),R=F_(this._dataReader,"WriteBatch.set",m._key,C,null!==m.converter,c);return this._mutations.push(R.toMutation(m._key,Cs.none())),this}update(e,t,c,...m){this._verifyNotCommitted();const C=ht(e,this._firestore);let R;return R="string"==typeof(t=(0,Te.m9)(t))||t instanceof Fp?Sv(this._dataReader,"WriteBatch.update",C._key,t,c,m):xv(this._dataReader,"WriteBatch.update",C._key,t),this._mutations.push(R.toMutation(C._key,Cs.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ht(e,this._firestore);return this._mutations=this._mutations.concat(new ad(t._key,Cs.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new kn(fn.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ht(r,e){if((r=(0,Te.m9)(r)).firestore!==e)throw new kn(fn.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class Nt extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Lp(e)}get(e){const t=ht(e,this._firestore),c=new xy(this._firestore);return this._transaction.lookup([t._key]).then(m=>{if(!m||1!==m.length)return ni();const C=m[0];if(C.isFoundDocument())return new Tf(this._firestore,c,C.key,C,t.converter);if(C.isNoDocument())return new Tf(this._firestore,c,t._key,null,t.converter);throw ni()})}set(e,t,c){const m=ht(e,this._firestore),C=Vg(m.converter,t,c),R=F_(this._dataReader,"Transaction.set",m._key,C,null!==m.converter,c);return this._transaction.set(m._key,R),this}update(e,t,c,...m){const C=ht(e,this._firestore);let R;return R="string"==typeof(t=(0,Te.m9)(t))||t instanceof Fp?Sv(this._dataReader,"Transaction.update",C._key,t,c,m):xv(this._dataReader,"Transaction.update",C._key,t),this._transaction.update(C._key,R),this}delete(e){const t=ht(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ht(e,this._firestore),c=new Mm(this._firestore);return super.get(e).then(m=>new El(this._firestore,c,t._key,m._document,new op(!1,!1),t.converter))}}function Hl(r,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new kn("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return e}function Ku(){if(typeof Uint8Array>"u")throw new kn("unimplemented","Uint8Arrays are not available in this environment.")}function rh(){if(!function Gt(){return typeof atob<"u"}())throw new kn("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(r,e=!0){Ga=En.SDK_VERSION,(0,En._registerComponent)(new _t.wA("firestore",(t,{instanceIdentifier:c,options:m})=>{const C=t.getProvider("app").getImmediate(),R=new Va(new bc(t.getProvider("auth-internal")),new yu(t.getProvider("app-check-internal")),function(Y,le){if(!Object.prototype.hasOwnProperty.apply(Y.options,["projectId"]))throw new kn(fn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cc(Y.options.projectId,le)}(C,c),C);return m=Object.assign({useFetchStreams:e},m),R._setSettings(m),R},"PUBLIC").setMultipleInstances(!0)),(0,En.registerVersion)(Qs,"3.13.0",r),(0,En.registerVersion)(Qs,"3.13.0","esm2017")}();class xd{constructor(e){this._delegate=e}static fromBase64String(e){return rh(),new xd(Yh.fromBase64String(e))}static fromUint8Array(e){return Ku(),new xd(Yh.fromUint8Array(e))}toBase64(){return rh(),this._delegate.toBase64()}toUint8Array(){return Ku(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Im(r){return function Ug(r,e){if("object"!=typeof r||null===r)return!1;const t=r;for(const c of e)if(c in t&&"function"==typeof t[c])return!0;return!1}(r,["next","error","complete"])}class Tm{enableIndexedDbPersistence(e,t){return function cc(r,e){wv(r=cs(r,Va));const t=sl(r);if(t._uninitializedComponentsProvider)throw new kn(fn.FAILED_PRECONDITION,"SDK cache is already specified.");Os("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const c=r._freezeSettings(),m=new yd;return uy(t,m,new vd(m,c.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function cy(r){wv(r=cs(r,Va));const e=sl(r);if(e._uninitializedComponentsProvider)throw new kn(fn.FAILED_PRECONDITION,"SDK cache is already specified.");Os("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=r._freezeSettings(),c=new yd;return uy(e,c,new Ym(c,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function jy(r){if(r._initialized&&!r._terminated)throw new kn(fn.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new is;return r._queue.enqueueAndForgetEvenWhileRestricted((0,pt.Z)(function*(){try{yield(t=(0,pt.Z)(function*(c){if(!fs.D())return Promise.resolve();const m=c+"main";yield fs.delete(m)}),function(c){return t.apply(this,arguments)})($f(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Y_{constructor(e,t,c){this._delegate=t,this._persistenceProvider=c,this.INTERNAL={delete:()=>this.terminate()},e instanceof Cc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Os("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,c={}){!function bv(r,e,t,c={}){var m;const C=(r=cs(r,Dm))._getSettings(),R=`${e}:${t}`;if("firestore.googleapis.com"!==C.host&&C.host!==R&&Os("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},C),{host:R,ssl:!1})),c.mockUserToken){let Y,le;if("string"==typeof c.mockUserToken)Y=c.mockUserToken,le=Gs.MOCK_USER;else{Y=(0,Te.Sg)(c.mockUserToken,null===(m=r._app)||void 0===m?void 0:m.options.projectId);const ge=c.mockUserToken.sub||c.mockUserToken.user_id;if(!ge)throw new kn(fn.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");le=new Gs(ge)}r._authCredentials=new $a(new Hs(Y,le))}}(this._delegate,e,t,c)}enableNetwork(){return function zy(r){return function Jm(r){return r.asyncQueue.enqueue((0,pt.Z)(function*(){const e=yield D_(r),t=yield x_(r);return e.setNetworkEnabled(!0),function(c){const m=ci(c);return m.vu.delete(0),x(m)}(t)}))}(sl(r=cs(r,Va)))}(this._delegate)}disableNetwork(){return function hy(r){return function Cd(r){return r.asyncQueue.enqueue((0,pt.Z)(function*(){const e=yield D_(r),t=yield x_(r);return e.setNetworkEnabled(!1),(c=(0,pt.Z)(function*(m){const C=ci(m);C.vu.add(0),yield a(C),C.bu.set("Offline")}),function(m){return c.apply(this,arguments)})(t);var c}))}(sl(r=cs(r,Va)))}(this._delegate)}enablePersistence(e){let t=!1,c=!1;return e&&(t=!!e.synchronizeTabs,c=!!e.experimentalForceOwningTab,yv("synchronizeTabs",t,"experimentalForceOwningTab",c)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,c)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function dy(r){return function(e){const t=new is;return e.asyncQueue.enqueueAndForget((0,pt.Z)(function*(){return function gm(r,e){return m_.apply(this,arguments)}(yield S_(e),t)})),t.promise}(sl(r=cs(r,Va)))}(this._delegate)}onSnapshotsInSync(e){return function Ty(r,e){return function hb(r,e){const t=new bd(e);return r.asyncQueue.enqueueAndForget((0,pt.Z)(function*(){return c=yield rp(r),m=t,ci(c).ku.add(m),void m.next();var c,m})),()=>{t.Dc(),r.asyncQueue.enqueueAndForget((0,pt.Z)(function*(){return c=yield rp(r),m=t,void ci(c).ku.delete(m);var c,m}))}}(sl(r=cs(r,Va)),N_(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new kn("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Uc(this,Og(this._delegate,e))}catch(t){throw Ca(t,"collection()","Firestore.collection()")}}doc(e){try{return new So(this,Pg(this._delegate,e))}catch(t){throw Ca(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new fu(this,function ry(r,e){if(r=cs(r,Dm),A_("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new kn(fn.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new No(r,null,(t=e,new Go(qi.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ca(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function rn(r,e,t){r=cs(r,Va);const c=Object.assign(Object.assign({},he),t);return function(m){if(m.maxAttempts<1)throw new kn(fn.INVALID_ARGUMENT,"Max attempts must be at least 1")}(c),function(m,C,R){const Y=new is;return m.asyncQueue.enqueueAndForget((0,pt.Z)(function*(){const le=yield function du(r){return Qm(r).then(e=>e.datastore)}(m);new bm(m.asyncQueue,le,R,C,Y).run()})),Y.promise}(sl(r),m=>e(new Nt(r,m)),c)}(this._delegate,t=>e(new gr(this,t)))}batch(){return sl(this._delegate),new xr(new Se(this._delegate,e=>lp(this._delegate,e)))}loadBundle(e){return function tg(r,e){const t=sl(r=cs(r,Va)),c=new oy;return function M_(r,e,t,c){const m=function(C,R){let Y;return Y="string"==typeof C?Si().encode(C):C,le=function(le,ge){if(le instanceof Uint8Array)return vm(le,void 0);if(le instanceof ArrayBuffer)return vm(new Uint8Array(le),void 0);if(le instanceof ReadableStream)return le.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(Y),new Km(le,R);var le}(t,am(e));r.asyncQueue.enqueueAndForget((0,pt.Z)(function*(){!function cu(r,e,t){const c=ci(r);var m;(m=(0,pt.Z)(function*(C,R,Y){try{const le=yield R.getMetadata();if(yield function(an,Rn){const ui=ci(an),Ti=fr(Rn.createTime);return ui.persistence.runTransaction("hasNewerBundle","readonly",Vi=>ui.qs.getBundleMetadata(Vi,Rn.id)).then(Vi=>!!Vi&&Vi.createTime.compareTo(Ti)>=0)}(C.localStore,le))return yield R.close(),Y._completeWith({taskState:"Success",documentsLoaded:(an=le).totalDocuments,bytesLoaded:an.totalBytes,totalDocuments:an.totalDocuments,totalBytes:an.totalBytes}),Promise.resolve(new Set);Y._updateProgress(u_(le));const ge=new lv(le,C.localStore,R.serializer);let Ne=yield R.bc();for(;Ne;){const an=yield ge.zu(Ne);an&&Y._updateProgress(an),Ne=yield R.bc()}const wt=yield ge.complete();return yield tp(C,wt.Ju,void 0),yield function(an,Rn){const ui=ci(an);return ui.persistence.runTransaction("Save bundle","readwrite",Ti=>ui.qs.saveBundleMetadata(Ti,Rn))}(C.localStore,le),Y._completeWith(wt.progress),Promise.resolve(wt.Hu)}catch(le){return Os("SyncEngine",`Loading bundle failed with ${le}`),Y._failWith(le),Promise.resolve(new Set)}var an}),function(C,R,Y){return m.apply(this,arguments)})(c,e,t).then(m=>{c.sharedClientState.notifyBundleLoaded(m)})}(yield S_(r),m,c)}))}(t,r._databaseId,e,c),c}(this._delegate,e)}namedQuery(e){return function Cv(r,e){return function I_(r,e){return r.asyncQueue.enqueue((0,pt.Z)(function*(){return function(t,c){const m=ci(t);return m.persistence.runTransaction("Get named query","readonly",C=>m.qs.getNamedQuery(C,c))}(yield Xm(r),e)}))}(sl(r=cs(r,Va)),e).then(t=>t?new No(r,null,t.query):null)}(this._delegate,e).then(t=>t?new fu(this,t):null)}}class cp extends z_{constructor(e){super(),this.firestore=e}convertBytes(e){return new xd(new Yh(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return So.forKey(t,this.firestore,null)}}class gr{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new cp(e)}get(e){const t=Kh(e);return this._delegate.get(t).then(c=>new co(this._firestore,new El(this._firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,t.converter)))}set(e,t,c){const m=Kh(e);return c?(Hl("Transaction.set",c),this._delegate.set(m,t,c)):this._delegate.set(m,t),this}update(e,t,c,...m){const C=Kh(e);return 2===arguments.length?this._delegate.update(C,t):this._delegate.update(C,t,c,...m),this}delete(e){const t=Kh(e);return this._delegate.delete(t),this}}class xr{constructor(e){this._delegate=e}set(e,t,c){const m=Kh(e);return c?(Hl("WriteBatch.set",c),this._delegate.set(m,t,c)):this._delegate.set(m,t),this}update(e,t,c,...m){const C=Kh(e);return 2===arguments.length?this._delegate.update(C,t):this._delegate.update(C,t,c,...m),this}delete(e){const t=Kh(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class ds{constructor(e,t,c){this._firestore=e,this._userDataWriter=t,this._delegate=c}fromFirestore(e,t){const c=new Lv(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new cg(this._firestore,c),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const c=ds.INSTANCES;let m=c.get(e);m||(m=new WeakMap,c.set(e,m));let C=m.get(t);return C||(C=new ds(e,new cp(e),t),m.set(t,C)),C}}ds.INSTANCES=new WeakMap;class So{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new cp(e)}static forPath(e,t,c){if(e.length%2!=0)throw new kn("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new So(t,new Ko(t._delegate,c,new vi(e)))}static forKey(e,t,c){return new So(t,new Ko(t._delegate,c,e))}get id(){return this._delegate.id}get parent(){return new Uc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Uc(this.firestore,Og(this._delegate,e))}catch(t){throw Ca(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Te.m9)(e))instanceof Ko&&O_(this._delegate,e)}set(e,t){t=Hl("DocumentReference.set",t);try{return t?Iy(this._delegate,e,t):Iy(this._delegate,e)}catch(c){throw Ca(c,"setDoc()","DocumentReference.set()")}}update(e,t,...c){try{return 1===arguments.length?ap(this._delegate,e):ap(this._delegate,e,t,...c)}catch(m){throw Ca(m,"updateDoc()","DocumentReference.update()")}}delete(){return function $_(r){return lp(cs(r.firestore,Va),[new ad(r._key,Cs.none())])}(this._delegate)}onSnapshot(...e){const t=Sd(e),c=up(e,m=>new co(this.firestore,new El(this.firestore._delegate,this._userDataWriter,m._key,m._document,m.metadata,this._delegate.converter)));return Xy(this._delegate,t,c)}get(e){let t;return t="cache"===e?.source?function vr(r){r=cs(r,Ko);const e=cs(r.firestore,Va),t=sl(e),c=new Mm(e);return function wm(r,e){const t=new is;return r.asyncQueue.enqueueAndForget((0,pt.Z)(function*(){return(c=(0,pt.Z)(function*(m,C,R){try{const Y=yield function(le,ge){const Ne=ci(le);return Ne.persistence.runTransaction("read document","readonly",wt=>Ne.localDocuments.getDocument(wt,ge))}(m,C);Y.isFoundDocument()?R.resolve(Y):Y.isNoDocument()?R.resolve(null):R.reject(new kn(fn.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(Y){const le=wf(Y,`Failed to get document '${C} from cache`);R.reject(le)}}),function(m,C,R){return c.apply(this,arguments)})(yield Xm(r),e,t);var c})),t.promise}(t,r._key).then(m=>new El(e,c,r._key,m,new op(null!==m&&m.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===e?.source?function Zy(r){r=cs(r,Ko);const e=cs(r.firestore,Va);return eg(sl(e),r._key,{source:"server"}).then(t=>W_(e,r,t))}(this._delegate):function My(r){r=cs(r,Ko);const e=cs(r.firestore,Va);return eg(sl(e),r._key).then(t=>W_(e,r,t))}(this._delegate),t.then(c=>new co(this.firestore,new El(this.firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,this._delegate.converter)))}withConverter(e){return new So(this.firestore,this._delegate.withConverter(e?ds.getInstance(this.firestore,e):null))}}function Ca(r,e,t){return r.message=r.message.replace(e,t),r}function Sd(r){for(const e of r)if("object"==typeof e&&!Im(e))return e;return{}}function up(r,e){var t,c;let m;return m=Im(r[0])?r[0]:Im(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:C=>{m.next&&m.next(e(C))},error:null===(t=m.error)||void 0===t?void 0:t.bind(m),complete:null===(c=m.complete)||void 0===c?void 0:c.bind(m)}}class co{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new So(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return G_(this._delegate,e._delegate)}}class cg extends co{data(e){const t=this._delegate.data(e);return function Hc(r,e){r||ni()}(void 0!==t),t}}class fu{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new cp(e)}where(e,t,c){try{return new fu(this.firestore,Vp(this._delegate,function yy(r,e,t){const c=e,m=Lg("where",r);return og._create(m,c,t)}(e,t,c)))}catch(m){throw Ca(m,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new fu(this.firestore,Vp(this._delegate,function by(r,e="asc"){const t=e,c=Lg("orderBy",r);return Av._create(c,t)}(e,t)))}catch(c){throw Ca(c,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new fu(this.firestore,Vp(this._delegate,function Yy(r){return k_("limit",r),U_._create("limit",r,"F")}(e)))}catch(t){throw Ca(t,"limit()","Query.limit()")}}limitToLast(e){try{return new fu(this.firestore,Vp(this._delegate,function Cy(r){return k_("limitToLast",r),U_._create("limitToLast",r,"L")}(e)))}catch(t){throw Ca(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new fu(this.firestore,Vp(this._delegate,function wy(...r){return Bg._create("startAt",r,!0)}(...e)))}catch(t){throw Ca(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new fu(this.firestore,Vp(this._delegate,function Ky(...r){return Bg._create("startAfter",r,!1)}(...e)))}catch(t){throw Ca(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new fu(this.firestore,Vp(this._delegate,function qy(...r){return H_._create("endBefore",r,!1)}(...e)))}catch(t){throw Ca(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new fu(this.firestore,Vp(this._delegate,function Ey(...r){return H_._create("endAt",r,!0)}(...e)))}catch(t){throw Ca(t,"endAt()","Query.endAt()")}}isEqual(e){return P_(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function ag(r){r=cs(r,No);const e=cs(r.firestore,Va),t=sl(e),c=new Mm(e);return function kg(r,e){const t=new is;return r.asyncQueue.enqueueAndForget((0,pt.Z)(function*(){return(c=(0,pt.Z)(function*(m,C,R){try{const Y=yield Ih(m,C,!0),le=new cv(C,Y.ir),ge=le.sc(Y.documents),Ne=le.applyChanges(ge,!1);R.resolve(Ne.snapshot)}catch(Y){const le=wf(Y,`Failed to execute query '${C} against cache`);R.reject(le)}}),function(m,C,R){return c.apply(this,arguments)})(yield Xm(r),e,t);var c})),t.promise}(t,r._query).then(m=>new Yu(e,c,r,m))}(this._delegate):"server"===e?.source?function lg(r){r=cs(r,No);const e=cs(r.firestore,Va),t=sl(e),c=new Mm(e);return Mf(t,r._query,{source:"server"}).then(m=>new Yu(e,c,r,m))}(this._delegate):function Qy(r){r=cs(r,No);const e=cs(r.firestore,Va),t=sl(e),c=new Mm(e);return Tv(r._query),Mf(t,r._query).then(m=>new Yu(e,c,r,m))}(this._delegate),t.then(c=>new Af(this.firestore,new Yu(this.firestore._delegate,this._userDataWriter,this._delegate,c._snapshot)))}onSnapshot(...e){const t=Sd(e),c=up(e,m=>new Af(this.firestore,new Yu(this.firestore._delegate,this._userDataWriter,this._delegate,m._snapshot)));return Xy(this._delegate,t,c)}withConverter(e){return new fu(this.firestore,this._delegate.withConverter(e?ds.getInstance(this.firestore,e):null))}}class pu{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new cg(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Af{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new fu(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new cg(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new pu(this._firestore,t))}forEach(e,t){this._delegate.forEach(c=>{e.call(t,new cg(this._firestore,c))})}isEqual(e){return G_(this._delegate,e._delegate)}}class Uc extends fu{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new So(this.firestore,e):null}doc(e){try{return new So(this.firestore,void 0===e?Pg(this._delegate):Pg(this._delegate,e))}catch(t){throw Ca(t,"doc()","CollectionReference.doc()")}}add(e){return function ba(r,e){const t=cs(r.firestore,Va),c=Pg(r),m=Vg(r.converter,e);return lp(t,[F_(Lp(r.firestore),"addDoc",c._key,m,null!==r.converter,{}).toMutation(c._key,Cs.exists(!1))]).then(()=>c)}(this._delegate,e).then(t=>new So(this.firestore,t))}isEqual(e){return O_(this._delegate,e._delegate)}withConverter(e){return new Uc(this.firestore,this._delegate.withConverter(e?ds.getInstance(this.firestore,e):null))}}function Kh(r){return cs(r,Ko)}class Hg{constructor(...e){this._delegate=new Fp(...e)}static documentId(){return new Hg(rs.keyField().canonicalString())}isEqual(e){return(e=(0,Te.m9)(e))instanceof Fp&&this._delegate._internalPath.isEqual(e._internalPath)}}class Am{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Vn(){return new Ev("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Am(e)}static delete(){const e=function An(){return new Ng("deleteField")}();return e._methodName="FieldValue.delete",new Am(e)}static arrayUnion(...e){const t=function hi(...r){return new Dv("arrayUnion",r)}(...e);return t._methodName="FieldValue.arrayUnion",new Am(t)}static arrayRemove(...e){const t=function zi(...r){return new Fg("arrayRemove",r)}(...e);return t._methodName="FieldValue.arrayRemove",new Am(t)}static increment(e){const t=function Tr(r){return new mb("increment",r)}(e);return t._methodName="FieldValue.increment",new Am(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const zb={Firestore:Y_,GeoPoint:wd,Timestamp:as,Blob:xd,Transaction:gr,WriteBatch:xr,DocumentReference:So,DocumentSnapshot:co,Query:fu,QueryDocumentSnapshot:cg,QuerySnapshot:Af,CollectionReference:Uc,FieldPath:Hg,FieldValue:Am,setLogLevel:function Xi(r){!function pl(r){Co.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};!function yb(r){(function vb(r,e){r.INTERNAL.registerComponent(new _t.wA("firestore-compat",t=>{const c=t.getProvider("app-compat").getImmediate(),m=t.getProvider("firestore").getImmediate();return e(c,m)},"PUBLIC").setServiceProps(Object.assign({},zb)))})(r,(e,t)=>new Y_(e,t,new Tm)),r.registerVersion("@firebase/firestore-compat","0.3.12")}(Ct.Z);var ug=z(1205),Gb=z(6217),$b=z(9260);function bb(r,e){return function nb(r,e=J.z){return new W.y(t=>{let c;return null!=e?e.schedule(()=>{c=r.onSnapshot({includeMetadataChanges:!0},t)}):c=r.onSnapshot({includeMetadataChanges:!0},t),()=>{c?.()}})}(r,e)}function ib(r,e){return bb(r,e).pipe((0,Ue.U)(t=>({payload:t,type:"query"})))}function ky(r,e){return ib(r,e).pipe((0,at.O)(void 0),Ae(),(0,Ue.U)(([t,c])=>{const m=c.payload.docChanges(),C=m.map(R=>({type:R.type,payload:R}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(c.payload.metadata)&&c.payload.docs.forEach((R,Y)=>{const le=m.find(Ne=>Ne.doc.ref.isEqual(R.ref)),ge=t?.payload.docs.find(Ne=>Ne.ref.isEqual(R.ref));le&&JSON.stringify(le.doc.metadata)===JSON.stringify(R.metadata)||!le&&ge&&JSON.stringify(ge.metadata)===JSON.stringify(R.metadata)||C.push({type:"modified",payload:{oldIndex:Y,newIndex:Y,type:"modified",doc:R}})}),C}))}function wb(r,e,t){return ky(r,t).pipe((0,Ge.R)((c,m)=>function Wb(r,e,t){return e.forEach(c=>{t.indexOf(c.type)>-1&&(r=function Yb(r,e){switch(e.type){case"added":if(!r[e.newIndex]||!r[e.newIndex].doc.ref.isEqual(e.doc.ref))return rb(r,e.newIndex,0,e);break;case"modified":if(null==r[e.oldIndex]||r[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=r.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return rb(r,e.newIndex,1,e)}break;case"removed":if(r[e.oldIndex]&&r[e.oldIndex].doc.ref.isEqual(e.doc.ref))return rb(r,e.oldIndex,1)}return r}(r,c))}),r}(c,m.map(C=>C.payload),e),[]),(0,kt.x)(),(0,Ue.U)(c=>c.map(m=>({type:m.type,payload:m}))))}function rb(r,e,t,...c){const m=r.slice();return m.splice(e,t,...c),m}function Eb(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}class Db{constructor(e,t,c){this.ref=e,this.query=t,this.afs=c}stateChanges(e){let t=ky(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Ue.U)(c=>c.filter(m=>e.indexOf(m.type)>-1)))),t.pipe((0,at.O)(void 0),Ae(),(0,it.h)(([c,m])=>m.length>0||!c),(0,Ue.U)(([c,m])=>m),be.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Ge.R)((t,c)=>[...t,...c],[]))}snapshotChanges(e){const t=Eb(e);return wb(this.query,t,this.afs.schedulers.outsideAngular).pipe(be.iC)}valueChanges(e={}){return ib(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ue.U)(t=>t.payload.docs.map(c=>e.idField?Object.assign(Object.assign({},c.data()),{[e.idField]:c.id}):c.data())),be.iC)}get(e){return(0,Le.D)(this.query.get(e)).pipe(be.iC)}add(e){return this.ref.add(e)}doc(e){return new sb(this.ref.doc(e),this.afs)}}class sb{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const c=this.ref.collection(e),{ref:m,query:C}=Tb(c,t);return new Db(m,C,this.afs)}snapshotChanges(){return function Cb(r,e){return bb(r,e).pipe((0,at.O)(void 0),Ae(),(0,Ue.U)(([t,c])=>c.exists?t?.exists?{payload:c,type:"modified"}:{payload:c,type:"added"}:{payload:c,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(be.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Ue.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Le.D)(this.ref.get(e)).pipe(be.iC)}}class xb{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?ky(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ue.U)(t=>t.filter(c=>e.indexOf(c.type)>-1)),(0,it.h)(t=>t.length>0),be.iC):ky(this.query,this.afs.schedulers.outsideAngular).pipe(be.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Ge.R)((t,c)=>[...t,...c],[]))}snapshotChanges(e){const t=Eb(e);return wb(this.query,t,this.afs.schedulers.outsideAngular).pipe(be.iC)}valueChanges(e={}){return ib(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ue.U)(c=>c.payload.docs.map(m=>e.idField?Object.assign({[e.idField]:m.id},m.data()):m.data())),be.iC)}get(e){return(0,Le.D)(this.query.get(e)).pipe(be.iC)}}const Sb=new M.OlP("angularfire2.enableFirestorePersistence"),Mb=new M.OlP("angularfire2.firestore.persistenceSettings"),Ib=new M.OlP("angularfire2.firestore.settings"),Kb=new M.OlP("angularfire2.firestore.use-emulator");function Tb(r,e=(t=>t)){return{query:e(r),ref:r}}let Ab=(()=>{class r{constructor(t,c,m,C,R,Y,le,ge,Ne,wt,an,Rn,ui,Ti,Vi,Wr,Ns){this.schedulers=le;const Yr=(0,tt.on)(t,Y,c),ol=Ne;wt&&(0,ug.nw)(Yr,Y,an,ui,Ti,Vi,Rn,Wr),[this.firestore,this.persistenceEnabled$]=(0,tt.cc)(`${Yr.name}.firestore`,"AngularFirestore",Yr.name,()=>{const wa=Y.runOutsideAngular(()=>Yr.firestore());if(C&&wa.settings(C),ol&&wa.useEmulator(...ol),m&&!(0,xt.PM)(R)){const oa=()=>{try{return(0,Le.D)(wa.enablePersistence(ge||void 0).then(()=>!0,()=>!1))}catch(Md){return typeof console<"u"&&console.warn(Md),(0,b.of)(!1)}};return[wa,Y.runOutsideAngular(oa)]}return[wa,(0,b.of)(!1)]},[C,ol,m])}collection(t,c){let m;m="string"==typeof t?this.firestore.collection(t):t;const{ref:C,query:R}=Tb(m,c),Y=this.schedulers.ngZone.run(()=>C);return new Db(Y,R,this)}collectionGroup(t,c){const m=c||(R=>R),C=this.firestore.collectionGroup(t);return new xb(m(C),this)}doc(t){let c;c="string"==typeof t?this.firestore.doc(t):t;const m=this.schedulers.ngZone.run(()=>c);return new sb(m,this)}createId(){return this.firestore.collection("_").doc().id}}return r.\u0275fac=function(t){return new(t||r)(M.LFG(tt.Dh),M.LFG(tt.xv,8),M.LFG(Sb,8),M.LFG(Ib,8),M.LFG(M.Lbi),M.LFG(M.R0b),M.LFG(be.HU),M.LFG(Mb,8),M.LFG(Kb,8),M.LFG(ug.zQ,8),M.LFG(ug.Qv,8),M.LFG(ug.L6,8),M.LFG(ug._Q,8),M.LFG(ug.rT,8),M.LFG(ug.lh,8),M.LFG(ug.f7,8),M.LFG(Gb.nm,8))},r.\u0275prov=M.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),ob=(()=>{class r{constructor(){$b.Z.registerVersion("angularfire",be.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:r,providers:[{provide:Sb,useValue:!0},{provide:Mb,useValue:t}]}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=M.oAB({type:r}),r.\u0275inj=M.cJS({providers:[Ab]}),r})()},2011:(Hn,Mt,z)=>{z.d(Mt,{Dh:()=>Ve,GT:()=>be,cc:()=>it,hO:()=>kt,on:()=>Ae,pX:()=>b,xv:()=>qe});var M=z(4650),J=z(9260),W=z(8623);Hn=z.hmd(Hn);const Le=["ngOnDestroy"],b=(Ct,pt,En,_t={})=>new Proxy(Ct,{get:(je,Te)=>En.runOutsideAngular(()=>{var Be;if(Ct[Te])return!(null===(Be=_t?.spy)||void 0===Be)&&Be.get&&_t.spy.get(Te,Ct[Te]),Ct[Te];if(Le.indexOf(Te)>-1)return()=>{};const ct=pt.toPromise().then(lt=>{const ut=lt&&lt[Te];return"function"==typeof ut?ut.bind(lt):ut&&ut.then?ut.then(vn=>En.run(()=>vn)):En.run(()=>ut)});return new Proxy(()=>{},{get:(lt,ut)=>ct[ut],apply:(lt,ut,vn)=>ct.then(pn=>{var ai;const Gn=pn&&pn(...vn);return!(null===(ai=_t?.spy)||void 0===ai)&&ai.apply&&_t.spy.apply(Te,vn,Gn),Gn})})})}),be=(Ct,pt)=>{pt.forEach(En=>{Object.getOwnPropertyNames(En.prototype||En).forEach(_t=>{Object.defineProperty(Ct.prototype,_t,Object.getOwnPropertyDescriptor(En.prototype||En,_t))})})};class at{constructor(pt){return pt}}const Ve=new M.OlP("angularfire2.app.options"),qe=new M.OlP("angularfire2.app.name");function Ae(Ct,pt,En){const je="object"==typeof En&&En||{};je.name=je.name||"string"==typeof En&&En||"[DEFAULT]";const Be=J.Z.apps.filter(ct=>ct&&ct.name===je.name)[0]||pt.runOutsideAngular(()=>J.Z.initializeApp(Ct,je));try{JSON.stringify(Ct)!==JSON.stringify(Be.options)&&Ue("error",`${Be.name} Firebase App already initialized with different options${Hn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new at(Be)}const Ue=(Ct,...pt)=>{(0,M.X6Q)()&&typeof console<"u"&&console[Ct](...pt)},Ge={provide:at,useFactory:Ae,deps:[Ve,M.R0b,[new M.FiY,qe]]};let kt=(()=>{class Ct{constructor(En){J.Z.registerVersion("angularfire",W.q4.full,"core"),J.Z.registerVersion("angularfire",W.q4.full,"app-compat"),J.Z.registerVersion("angular",M.q4F.full,En.toString())}static initializeApp(En,_t){return{ngModule:Ct,providers:[{provide:Ve,useValue:En},{provide:qe,useValue:_t}]}}}return Ct.\u0275fac=function(En){return new(En||Ct)(M.LFG(M.Lbi))},Ct.\u0275mod=M.oAB({type:Ct}),Ct.\u0275inj=M.cJS({providers:[Ge]}),Ct})();function it(Ct,pt,En,_t,je){const[,Te,Be]=globalThis.\u0275AngularfireInstanceCache.find(ct=>ct[0]===Ct)||[];if(Te)return function tt(Ct,pt){try{return Ct.toString()===pt.toString()}catch{return Ct===pt}}(je,Be)||(Rt("error",`${pt} was already initialized on the ${En} Firebase App with different settings.${xt?" You may need to reload as Firebase is not HMR aware.":""}`),Rt("warn",{is:je,was:Be})),Te;{const ct=_t();return globalThis.\u0275AngularfireInstanceCache.push([Ct,ct,je]),ct}}const xt=!!Hn.hot,Rt=(Ct,...pt)=>{(0,M.X6Q)()&&typeof console<"u"&&console[Ct](...pt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8623:(Hn,Mt,z)=>{z.d(Mt,{q4:()=>Qh,iC:()=>ps,fc:()=>ec,HU:()=>dp,vb:()=>Xh,JM:()=>ah});var M=z(4650),J=z(259),W=z(5861),Le=z(2951),b=z(2090),be=z(4859),at=z(1877);let qe,Ae;const kt=new WeakMap,it=new WeakMap,tt=new WeakMap,xt=new WeakMap,Rt=new WeakMap;let En={get(Z,se,ve){if(Z instanceof IDBTransaction){if("done"===se)return it.get(Z);if("objectStoreNames"===se)return Z.objectStoreNames||tt.get(Z);if("store"===se)return ve.objectStoreNames[1]?void 0:ve.objectStore(ve.objectStoreNames[0])}return Be(Z[se])},set:(Z,se,ve)=>(Z[se]=ve,!0),has:(Z,se)=>Z instanceof IDBTransaction&&("done"===se||"store"===se)||se in Z};function Te(Z){return"function"==typeof Z?function je(Z){return Z!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ge(){return Ae||(Ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Z)?function(...se){return Z.apply(ct(this),se),Be(kt.get(this))}:function(...se){return Be(Z.apply(ct(this),se))}:function(se,...ve){const ot=Z.call(ct(this),se,...ve);return tt.set(ot,se.sort?se.sort():[se]),Be(ot)}}(Z):(Z instanceof IDBTransaction&&function pt(Z){if(it.has(Z))return;const se=new Promise((ve,ot)=>{const Gt=()=>{Z.removeEventListener("complete",Yt),Z.removeEventListener("error",Bn),Z.removeEventListener("abort",Bn)},Yt=()=>{ve(),Gt()},Bn=()=>{ot(Z.error||new DOMException("AbortError","AbortError")),Gt()};Z.addEventListener("complete",Yt),Z.addEventListener("error",Bn),Z.addEventListener("abort",Bn)});it.set(Z,se)}(Z),((Z,se)=>se.some(ve=>Z instanceof ve))(Z,function Ue(){return qe||(qe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Z,En):Z)}function Be(Z){if(Z instanceof IDBRequest)return function Ct(Z){const se=new Promise((ve,ot)=>{const Gt=()=>{Z.removeEventListener("success",Yt),Z.removeEventListener("error",Bn)},Yt=()=>{ve(Be(Z.result)),Gt()},Bn=()=>{ot(Z.error),Gt()};Z.addEventListener("success",Yt),Z.addEventListener("error",Bn)});return se.then(ve=>{ve instanceof IDBCursor&&kt.set(ve,Z)}).catch(()=>{}),Rt.set(se,Z),se}(Z);if(xt.has(Z))return xt.get(Z);const se=Te(Z);return se!==Z&&(xt.set(Z,se),Rt.set(se,Z)),se}const ct=Z=>Rt.get(Z);function lt(Z,se,{blocked:ve,upgrade:ot,blocking:Gt,terminated:Yt}={}){const Bn=indexedDB.open(Z,se),pi=Be(Bn);return ot&&Bn.addEventListener("upgradeneeded",ri=>{ot(Be(Bn.result),ri.oldVersion,ri.newVersion,Be(Bn.transaction))}),ve&&Bn.addEventListener("blocked",()=>ve()),pi.then(ri=>{Yt&&ri.addEventListener("close",()=>Yt()),Gt&&ri.addEventListener("versionchange",()=>Gt())}).catch(()=>{}),pi}function ut(Z,{blocked:se}={}){const ve=indexedDB.deleteDatabase(Z);return se&&ve.addEventListener("blocked",()=>se()),Be(ve).then(()=>{})}const vn=["get","getKey","getAll","getAllKeys","count"],pn=["put","add","delete","clear"],ai=new Map;function Gn(Z,se){if(!(Z instanceof IDBDatabase)||se in Z||"string"!=typeof se)return;if(ai.get(se))return ai.get(se);const ve=se.replace(/FromIndex$/,""),ot=se!==ve,Gt=pn.includes(ve);if(!(ve in(ot?IDBIndex:IDBObjectStore).prototype)||!Gt&&!vn.includes(ve))return;const Yt=function(){var Bn=(0,W.Z)(function*(pi,...ri){const Ai=this.transaction(pi,Gt?"readwrite":"readonly");let mr=Ai.store;return ot&&(mr=mr.index(ri.shift())),(yield Promise.all([mr[ve](...ri),Gt&&Ai.done]))[0]});return function(ri){return Bn.apply(this,arguments)}}();return ai.set(se,Yt),Yt}!function _t(Z){En=Z(En)}(Z=>({...Z,get:(se,ve,ot)=>Gn(se,ve)||Z.get(se,ve,ot),has:(se,ve)=>!!Gn(se,ve)||Z.has(se,ve)}));const Qi="@firebase/installations",yi="w:0.6.4",bt="FIS_v2",xn=new b.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function St(Z){return Z instanceof b.ZR&&Z.code.includes("request-failed")}function Vt({projectId:Z}){return`https://firebaseinstallations.googleapis.com/v1/projects/${Z}/installations`}function on(Z){return{token:Z.token,requestStatus:2,expiresIn:qn(Z.expiresIn),creationTime:Date.now()}}function Cn(Z,se){return tn.apply(this,arguments)}function tn(){return(tn=(0,W.Z)(function*(Z,se){const ot=(yield se.json()).error;return xn.create("request-failed",{requestName:Z,serverCode:ot.code,serverMessage:ot.message,serverStatus:ot.status})})).apply(this,arguments)}function Mn({apiKey:Z}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Z})}function jt(Z,{refreshToken:se}){const ve=Mn(Z);return ve.append("Authorization",function mi(Z){return`${bt} ${Z}`}(se)),ve}function wn(Z){return oi.apply(this,arguments)}function oi(){return(oi=(0,W.Z)(function*(Z){const se=yield Z();return se.status>=500&&se.status<600?Z():se})).apply(this,arguments)}function qn(Z){return Number(Z.replace("s","000"))}function dn(Z,se){return li.apply(this,arguments)}function li(){return(li=(0,W.Z)(function*({appConfig:Z,heartbeatServiceProvider:se},{fid:ve}){const ot=Vt(Z),Gt=Mn(Z),Yt=se.getImmediate({optional:!0});if(Yt){const Ai=yield Yt.getHeartbeatsHeader();Ai&&Gt.append("x-firebase-client",Ai)}const pi={method:"POST",headers:Gt,body:JSON.stringify({fid:ve,authVersion:bt,appId:Z.appId,sdkVersion:yi})},ri=yield wn(()=>fetch(ot,pi));if(ri.ok){const Ai=yield ri.json();return{fid:Ai.fid||ve,registrationStatus:2,refreshToken:Ai.refreshToken,authToken:on(Ai.authToken)}}throw yield Cn("Create Installation",ri)})).apply(this,arguments)}function bn(Z){return new Promise(se=>{setTimeout(se,Z)})}const Qt=/^[cdef][\w-]{21}$/;function $n(){try{const Z=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(Z),Z[0]=112+Z[0]%16;const ve=function Ot(Z){return function On(Z){return btoa(String.fromCharCode(...Z)).replace(/\+/g,"-").replace(/\//g,"_")}(Z).substr(0,22)}(Z);return Qt.test(ve)?ve:""}catch{return""}}function ze(Z){return`${Z.appName}!${Z.appId}`}const we=new Map;function ke(Z,se){const ve=ze(Z);_n(ve,se),function Zn(Z,se){const ve=function Lt(){return!Fn&&"BroadcastChannel"in self&&(Fn=new BroadcastChannel("[Firebase] FID Change"),Fn.onmessage=Z=>{_n(Z.data.key,Z.data.fid)}),Fn}();ve&&ve.postMessage({key:Z,fid:se}),function sn(){0===we.size&&Fn&&(Fn.close(),Fn=null)}()}(ve,se)}function _n(Z,se){const ve=we.get(Z);if(ve)for(const ot of ve)ot(se)}let Fn=null;const Je="firebase-installations-store";let Jt=null;function ti(){return Jt||(Jt=lt("firebase-installations-database",1,{upgrade:(Z,se)=>{0===se&&Z.createObjectStore(Je)}})),Jt}function Fi(Z,se){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,W.Z)(function*(Z,se){const ve=ze(Z),Gt=(yield ti()).transaction(Je,"readwrite"),Yt=Gt.objectStore(Je),Bn=yield Yt.get(ve);return yield Yt.put(se,ve),yield Gt.done,(!Bn||Bn.fid!==se.fid)&&ke(Z,se.fid),se})).apply(this,arguments)}function Bi(Z){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,W.Z)(function*(Z){const se=ze(Z),ot=(yield ti()).transaction(Je,"readwrite");yield ot.objectStore(Je).delete(se),yield ot.done})).apply(this,arguments)}function br(Z,se){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,W.Z)(function*(Z,se){const ve=ze(Z),Gt=(yield ti()).transaction(Je,"readwrite"),Yt=Gt.objectStore(Je),Bn=yield Yt.get(ve),pi=se(Bn);return void 0===pi?yield Yt.delete(ve):yield Yt.put(pi,ve),yield Gt.done,pi&&(!Bn||Bn.fid!==pi.fid)&&ke(Z,pi.fid),pi})).apply(this,arguments)}function mt(Z){return Me.apply(this,arguments)}function Me(){return(Me=(0,W.Z)(function*(Z){let se;const ve=yield br(Z.appConfig,ot=>{const Gt=Qe(ot),Yt=_e(Z,Gt);return se=Yt.registrationPromise,Yt.installationEntry});return""===ve.fid?{installationEntry:yield se}:{installationEntry:ve,registrationPromise:se}})).apply(this,arguments)}function Qe(Z){return pe(Z||{fid:$n(),registrationStatus:0})}function _e(Z,se){if(0===se.registrationStatus){if(!navigator.onLine)return{installationEntry:se,registrationPromise:Promise.reject(xn.create("app-offline"))};const ve={fid:se.fid,registrationStatus:1,registrationTime:Date.now()},ot=function Ce(Z,se){return gt.apply(this,arguments)}(Z,ve);return{installationEntry:ve,registrationPromise:ot}}return 1===se.registrationStatus?{installationEntry:se,registrationPromise:We(Z)}:{installationEntry:se}}function gt(){return(gt=(0,W.Z)(function*(Z,se){try{const ve=yield dn(Z,se);return Fi(Z.appConfig,ve)}catch(ve){throw St(ve)&&409===ve.customData.serverCode?yield Bi(Z.appConfig):yield Fi(Z.appConfig,{fid:se.fid,registrationStatus:0}),ve}})).apply(this,arguments)}function We(Z){return et.apply(this,arguments)}function et(){return(et=(0,W.Z)(function*(Z){let se=yield $e(Z.appConfig);for(;1===se.registrationStatus;)yield bn(100),se=yield $e(Z.appConfig);if(0===se.registrationStatus){const{installationEntry:ve,registrationPromise:ot}=yield mt(Z);return ot||ve}return se})).apply(this,arguments)}function $e(Z){return br(Z,se=>{if(!se)throw xn.create("installation-not-found");return pe(se)})}function pe(Z){return function Ee(Z){return 1===Z.registrationStatus&&Z.registrationTime+1e4<Date.now()}(Z)?{fid:Z.fid,registrationStatus:0}:Z}function De(Z,se){return ft.apply(this,arguments)}function ft(){return(ft=(0,W.Z)(function*({appConfig:Z,heartbeatServiceProvider:se},ve){const ot=cn(Z,ve),Gt=jt(Z,ve),Yt=se.getImmediate({optional:!0});if(Yt){const Ai=yield Yt.getHeartbeatsHeader();Ai&&Gt.append("x-firebase-client",Ai)}const pi={method:"POST",headers:Gt,body:JSON.stringify({installation:{sdkVersion:yi,appId:Z.appId}})},ri=yield wn(()=>fetch(ot,pi));if(ri.ok)return on(yield ri.json());throw yield Cn("Generate Auth Token",ri)})).apply(this,arguments)}function cn(Z,{fid:se}){return`${Vt(Z)}/${se}/authTokens:generate`}function Qn(Z){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,W.Z)(function*(Z,se=!1){let ve;const ot=yield br(Z.appConfig,Yt=>{if(!Yi(Yt))throw xn.create("not-registered");const Bn=Yt.authToken;if(!se&&Ji(Bn))return Yt;if(1===Bn.requestStatus)return ve=Wt(Z,se),Yt;{if(!navigator.onLine)throw xn.create("app-offline");const pi=tr(Yt);return ve=Ln(Z,pi),pi}});return ve?yield ve:ot.authToken})).apply(this,arguments)}function Wt(Z,se){return $t.apply(this,arguments)}function $t(){return($t=(0,W.Z)(function*(Z,se){let ve=yield Sn(Z.appConfig);for(;1===ve.authToken.requestStatus;)yield bn(100),ve=yield Sn(Z.appConfig);const ot=ve.authToken;return 0===ot.requestStatus?Qn(Z,se):ot})).apply(this,arguments)}function Sn(Z){return br(Z,se=>{if(!Yi(se))throw xn.create("not-registered");return function es(Z){return 1===Z.requestStatus&&Z.requestTime+1e4<Date.now()}(se.authToken)?Object.assign(Object.assign({},se),{authToken:{requestStatus:0}}):se})}function Ln(Z,se){return fi.apply(this,arguments)}function fi(){return(fi=(0,W.Z)(function*(Z,se){try{const ve=yield De(Z,se),ot=Object.assign(Object.assign({},se),{authToken:ve});return yield Fi(Z.appConfig,ot),ve}catch(ve){if(!St(ve)||401!==ve.customData.serverCode&&404!==ve.customData.serverCode){const ot=Object.assign(Object.assign({},se),{authToken:{requestStatus:0}});yield Fi(Z.appConfig,ot)}else yield Bi(Z.appConfig);throw ve}})).apply(this,arguments)}function Yi(Z){return void 0!==Z&&2===Z.registrationStatus}function Ji(Z){return 2===Z.requestStatus&&!function er(Z){const se=Date.now();return se<Z.creationTime||Z.creationTime+Z.expiresIn<se+36e5}(Z)}function tr(Z){const se={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},Z),{authToken:se})}function Ys(){return(Ys=(0,W.Z)(function*(Z){const se=Z,{installationEntry:ve,registrationPromise:ot}=yield mt(se);return ot?ot.catch(console.error):Qn(se).catch(console.error),ve.fid})).apply(this,arguments)}function Ea(){return(Ea=(0,W.Z)(function*(Z,se=!1){const ve=Z;return yield Or(ve),(yield Qn(ve,se)).token})).apply(this,arguments)}function Or(Z){return Is.apply(this,arguments)}function Is(){return(Is=(0,W.Z)(function*(Z){const{registrationPromise:se}=yield mt(Z);se&&(yield se)})).apply(this,arguments)}function Kr(Z){return xn.create("missing-app-config-values",{valueName:Z})}const Fs="installations",xa=Z=>{const se=Z.getProvider("app").getImmediate(),ve=function aa(Z){if(!Z||!Z.options)throw Kr("App Configuration");if(!Z.name)throw Kr("App Name");const se=["projectId","apiKey","appId"];for(const ve of se)if(!Z.options[ve])throw Kr(ve);return{appName:Z.name,projectId:Z.options.projectId,apiKey:Z.options.apiKey,appId:Z.options.appId}}(se);return{app:se,appConfig:ve,heartbeatServiceProvider:(0,Le._getProvider)(se,"heartbeat"),_delete:()=>Promise.resolve()}},po=Z=>{const se=Z.getProvider("app").getImmediate(),ve=(0,Le._getProvider)(se,Fs).getImmediate();return{getId:()=>function Ms(Z){return Ys.apply(this,arguments)}(ve),getToken:Gt=>function Zo(Z){return Ea.apply(this,arguments)}(ve,Gt)}};(function mo(){(0,Le._registerComponent)(new be.wA(Fs,xa,"PUBLIC")),(0,Le._registerComponent)(new be.wA("installations-internal",po,"PRIVATE"))})(),(0,Le.registerVersion)(Qi,"0.6.4"),(0,Le.registerVersion)(Qi,"0.6.4","esm2017");const gs="@firebase/remote-config",Pr=new b.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class qr{constructor(se,ve,ot,Gt){this.client=se,this.storage=ve,this.storageCache=ot,this.logger=Gt}isCachedDataFresh(se,ve){if(!ve)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ot=Date.now()-ve,Gt=ot<=se;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ot}. Cache max age millis (minimumFetchIntervalMillis setting): ${se}. Is cache hit: ${Gt}.`),Gt}fetch(se){var ve=this;return(0,W.Z)(function*(){const[ot,Gt]=yield Promise.all([ve.storage.getLastSuccessfulFetchTimestampMillis(),ve.storage.getLastSuccessfulFetchResponse()]);if(Gt&&ve.isCachedDataFresh(se.cacheMaxAgeMillis,ot))return Gt;se.eTag=Gt&&Gt.eTag;const Yt=yield ve.client.fetch(se),Bn=[ve.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Yt.status&&Bn.push(ve.storage.setLastSuccessfulFetchResponse(Yt)),yield Promise.all(Bn),Yt})()}}function ua(Z=navigator){return Z.languages&&Z.languages[0]||Z.language}class Mo{constructor(se,ve,ot,Gt,Yt,Bn){this.firebaseInstallations=se,this.sdkVersion=ve,this.namespace=ot,this.projectId=Gt,this.apiKey=Yt,this.appId=Bn}fetch(se){var ve=this;return(0,W.Z)(function*(){const[ot,Gt]=yield Promise.all([ve.firebaseInstallations.getId(),ve.firebaseInstallations.getToken()]),Bn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ve.projectId}/namespaces/${ve.namespace}:fetch?key=${ve.apiKey}`,pi={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":se.eTag||"*"},ri={sdk_version:ve.sdkVersion,app_instance_id:ot,app_instance_id_token:Gt,app_id:ve.appId,language_code:ua()},Ai={method:"POST",headers:pi,body:JSON.stringify(ri)},mr=fetch(Bn,Ai),dr=new Promise((jo,Ro)=>{se.signal.addEventListener(()=>{const Au=new Error("The operation was aborted.");Au.name="AbortError",Ro(Au)})});let Ka;try{yield Promise.race([mr,dr]),Ka=yield mr}catch(jo){let Ro="fetch-client-network";throw"AbortError"===jo?.name&&(Ro="fetch-timeout"),Pr.create(Ro,{originalErrorMessage:jo?.message})}let qa=Ka.status;const Cc=Ka.headers.get("ETag")||void 0;let Pl,wc;if(200===Ka.status){let jo;try{jo=yield Ka.json()}catch(Ro){throw Pr.create("fetch-client-parse",{originalErrorMessage:Ro?.message})}Pl=jo.entries,wc=jo.state}if("INSTANCE_STATE_UNSPECIFIED"===wc?qa=500:"NO_CHANGE"===wc?qa=304:("NO_TEMPLATE"===wc||"EMPTY_CONFIG"===wc)&&(Pl={}),304!==qa&&200!==qa)throw Pr.create("fetch-status",{httpStatus:qa});return{status:qa,eTag:Cc,config:Pl}})()}}class mu{constructor(se,ve){this.client=se,this.storage=ve}fetch(se){var ve=this;return(0,W.Z)(function*(){const ot=(yield ve.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ve.attemptFetch(se,ot)})()}attemptFetch(se,{throttleEndTimeMillis:ve,backoffCount:ot}){var Gt=this;return(0,W.Z)(function*(){yield function al(Z,se){return new Promise((ve,ot)=>{const Gt=Math.max(se-Date.now(),0),Yt=setTimeout(ve,Gt);Z.addEventListener(()=>{clearTimeout(Yt),ot(Pr.create("fetch-throttle",{throttleEndTimeMillis:se}))})})}(se.signal,ve);try{const Yt=yield Gt.client.fetch(se);return yield Gt.storage.deleteThrottleMetadata(),Yt}catch(Yt){if(!function Qa(Z){if(!(Z instanceof b.ZR&&Z.customData))return!1;const se=Number(Z.customData.httpStatus);return 429===se||500===se||503===se||504===se}(Yt))throw Yt;const Bn={throttleEndTimeMillis:Date.now()+(0,b.$s)(ot),backoffCount:ot+1};return yield Gt.storage.setThrottleMetadata(Bn),Gt.attemptFetch(se,Bn)}})()}}class Wl{constructor(se,ve,ot,Gt,Yt){this.app=se,this._client=ve,this._storageCache=ot,this._storage=Gt,this._logger=Yt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Mr(Z,se){const ve=Z.target.error||void 0;return Pr.create(se,{originalErrorMessage:ve&&ve?.message})}const ts="app_namespace_store";class ls{constructor(se,ve,ot,Gt=function da(){return new Promise((Z,se)=>{try{const ve=indexedDB.open("firebase_remote_config",1);ve.onerror=ot=>{se(Mr(ot,"storage-open"))},ve.onsuccess=ot=>{Z(ot.target.result)},ve.onupgradeneeded=ot=>{0===ot.oldVersion&&ot.target.result.createObjectStore(ts,{keyPath:"compositeKey"})}}catch(ve){se(Pr.create("storage-open",{originalErrorMessage:ve?.message}))}})}()){this.appId=se,this.appName=ve,this.namespace=ot,this.openDbPromise=Gt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(se){return this.set("last_fetch_status",se)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(se){return this.set("last_successful_fetch_timestamp_millis",se)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(se){return this.set("last_successful_fetch_response",se)}getActiveConfig(){return this.get("active_config")}setActiveConfig(se){return this.set("active_config",se)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(se){return this.set("active_config_etag",se)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(se){return this.set("throttle_metadata",se)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(se){var ve=this;return(0,W.Z)(function*(){const ot=yield ve.openDbPromise;return new Promise((Gt,Yt)=>{const pi=ot.transaction([ts],"readonly").objectStore(ts),ri=ve.createCompositeKey(se);try{const Ai=pi.get(ri);Ai.onerror=mr=>{Yt(Mr(mr,"storage-get"))},Ai.onsuccess=mr=>{const dr=mr.target.result;Gt(dr?dr.value:void 0)}}catch(Ai){Yt(Pr.create("storage-get",{originalErrorMessage:Ai?.message}))}})})()}set(se,ve){var ot=this;return(0,W.Z)(function*(){const Gt=yield ot.openDbPromise;return new Promise((Yt,Bn)=>{const ri=Gt.transaction([ts],"readwrite").objectStore(ts),Ai=ot.createCompositeKey(se);try{const mr=ri.put({compositeKey:Ai,value:ve});mr.onerror=dr=>{Bn(Mr(dr,"storage-set"))},mr.onsuccess=()=>{Yt()}}catch(mr){Bn(Pr.create("storage-set",{originalErrorMessage:mr?.message}))}})})()}delete(se){var ve=this;return(0,W.Z)(function*(){const ot=yield ve.openDbPromise;return new Promise((Gt,Yt)=>{const pi=ot.transaction([ts],"readwrite").objectStore(ts),ri=ve.createCompositeKey(se);try{const Ai=pi.delete(ri);Ai.onerror=mr=>{Yt(Mr(mr,"storage-delete"))},Ai.onsuccess=()=>{Gt()}}catch(Ai){Yt(Pr.create("storage-delete",{originalErrorMessage:Ai?.message}))}})})()}createCompositeKey(se){return[this.appId,this.appName,this.namespace,se].join()}}class Zr{constructor(se){this.storage=se}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var se=this;return(0,W.Z)(function*(){const ve=se.storage.getLastFetchStatus(),ot=se.storage.getLastSuccessfulFetchTimestampMillis(),Gt=se.storage.getActiveConfig(),Yt=yield ve;Yt&&(se.lastFetchStatus=Yt);const Bn=yield ot;Bn&&(se.lastSuccessfulFetchTimestampMillis=Bn);const pi=yield Gt;pi&&(se.activeConfig=pi)})()}setLastFetchStatus(se){return this.lastFetchStatus=se,this.storage.setLastFetchStatus(se)}setLastSuccessfulFetchTimestampMillis(se){return this.lastSuccessfulFetchTimestampMillis=se,this.storage.setLastSuccessfulFetchTimestampMillis(se)}setActiveConfig(se){return this.activeConfig=se,this.storage.setActiveConfig(se)}}function qs(){return ll.apply(this,arguments)}function ll(){return(ll=(0,W.Z)(function*(){if(!(0,b.hl)())return!1;try{return yield(0,b.eu)()}catch{return!1}})).apply(this,arguments)}!function no(){(0,Le._registerComponent)(new be.wA("remote-config",function Z(se,{instanceIdentifier:ve}){const ot=se.getProvider("app").getImmediate(),Gt=se.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Pr.create("registration-window");if(!(0,b.hl)())throw Pr.create("indexed-db-unavailable");const{projectId:Yt,apiKey:Bn,appId:pi}=ot.options;if(!Yt)throw Pr.create("registration-project-id");if(!Bn)throw Pr.create("registration-api-key");if(!pi)throw Pr.create("registration-app-id");const ri=new ls(pi,ot.name,ve=ve||"firebase"),Ai=new Zr(ri),mr=new at.Yd(gs);mr.logLevel=at.in.ERROR;const dr=new Mo(Gt,Le.SDK_VERSION,ve,Yt,Bn,pi),Ka=new mu(dr,ri),qa=new qr(Ka,ri,Ai,mr),Cc=new Wl(ot,qa,Ai,ri,mr);return function nr(Z){const se=(0,b.m9)(Z);se._initializePromise||(se._initializePromise=se._storageCache.loadFromStorage().then(()=>{se._isInitializationComplete=!0}))}(Cc),Cc},"PUBLIC").setMultipleInstances(!0)),(0,Le.registerVersion)(gs,"0.4.4"),(0,Le.registerVersion)(gs,"0.4.4","esm2017")}();const Xo="/firebase-messaging-sw.js",io="/firebase-cloud-messaging-push-scope",Qr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",zr="google.c.a.c_id",Ml="google.c.a.c_l",Zs="google.c.a.ts",Sa="google.c.a.e";var $i=(()=>{return(Z=$i||($i={})).PUSH_RECEIVED="push-received",Z.NOTIFICATION_CLICKED="notification-clicked",$i;var Z})();function vo(Z){const se=new Uint8Array(Z);return btoa(String.fromCharCode(...se)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function gu(Z){const ve=(Z+"=".repeat((4-Z.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ot=atob(ve),Gt=new Uint8Array(ot.length);for(let Yt=0;Yt<ot.length;++Yt)Gt[Yt]=ot.charCodeAt(Yt);return Gt}const Il="fcm_token_details_db",Ia="fcm_token_object_Store";function yo(Z){return Ta.apply(this,arguments)}function Ta(){return Ta=(0,W.Z)(function*(Z){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Yt=>Yt.name).includes(Il))return null;let se=null;return(yield lt(Il,5,{upgrade:(ot=(0,W.Z)(function*(Gt,Yt,Bn,pi){var ri;if(Yt<2||!Gt.objectStoreNames.contains(Ia))return;const Ai=pi.objectStore(Ia),mr=yield Ai.index("fcmSenderId").get(Z);if(yield Ai.clear(),mr)if(2===Yt){const dr=mr;if(!dr.auth||!dr.p256dh||!dr.endpoint)return;se={token:dr.fcmToken,createTime:null!==(ri=dr.createTime)&&void 0!==ri?ri:Date.now(),subscriptionOptions:{auth:dr.auth,p256dh:dr.p256dh,endpoint:dr.endpoint,swScope:dr.swScope,vapidKey:"string"==typeof dr.vapidKey?dr.vapidKey:vo(dr.vapidKey)}}}else if(3===Yt){const dr=mr;se={token:dr.fcmToken,createTime:dr.createTime,subscriptionOptions:{auth:vo(dr.auth),p256dh:vo(dr.p256dh),endpoint:dr.endpoint,swScope:dr.swScope,vapidKey:vo(dr.vapidKey)}}}else if(4===Yt){const dr=mr;se={token:dr.fcmToken,createTime:dr.createTime,subscriptionOptions:{auth:vo(dr.auth),p256dh:vo(dr.p256dh),endpoint:dr.endpoint,swScope:dr.swScope,vapidKey:vo(dr.vapidKey)}}}}),function(Yt,Bn,pi,ri){return ot.apply(this,arguments)})})).close(),yield ut(Il),yield ut("fcm_vapid_details_db"),yield ut("undefined"),Tl(se)?se:null;var ot}),Ta.apply(this,arguments)}function Tl(Z){if(!Z||!Z.subscriptionOptions)return!1;const{subscriptionOptions:se}=Z;return"number"==typeof Z.createTime&&Z.createTime>0&&"string"==typeof Z.token&&Z.token.length>0&&"string"==typeof se.auth&&se.auth.length>0&&"string"==typeof se.p256dh&&se.p256dh.length>0&&"string"==typeof se.endpoint&&se.endpoint.length>0&&"string"==typeof se.swScope&&se.swScope.length>0&&"string"==typeof se.vapidKey&&se.vapidKey.length>0}const Ha="firebase-messaging-store";let hc=null;function Br(){return hc||(hc=lt("firebase-messaging-database",1,{upgrade:(Z,se)=>{0===se&&Z.createObjectStore(Ha)}})),hc}function ce(Z){return oe.apply(this,arguments)}function oe(){return(oe=(0,W.Z)(function*(Z){const se=Wi(Z),ot=yield(yield Br()).transaction(Ha).objectStore(Ha).get(se);if(ot)return ot;{const Gt=yield yo(Z.appConfig.senderId);if(Gt)return yield te(Z,Gt),Gt}})).apply(this,arguments)}function te(Z,se){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,W.Z)(function*(Z,se){const ve=Wi(Z),Gt=(yield Br()).transaction(Ha,"readwrite");return yield Gt.objectStore(Ha).put(se,ve),yield Gt.done,se})).apply(this,arguments)}function hn(Z){return gi.apply(this,arguments)}function gi(){return(gi=(0,W.Z)(function*(Z){const se=Wi(Z),ot=(yield Br()).transaction(Ha,"readwrite");yield ot.objectStore(Ha).delete(se),yield ot.done})).apply(this,arguments)}function Wi({appConfig:Z}){return Z.appId}const ar=new b.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ds(Z,se){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,W.Z)(function*(Z,se){const ve=yield Yl(Z),ot=ea(se),Gt={method:"POST",headers:ve,body:JSON.stringify(ot)};let Yt;try{Yt=yield(yield fetch(dl(Z.appConfig),Gt)).json()}catch(Bn){throw ar.create("token-subscribe-failed",{errorInfo:Bn?.toString()})}if(Yt.error)throw ar.create("token-subscribe-failed",{errorInfo:Yt.error.message});if(!Yt.token)throw ar.create("token-subscribe-no-token");return Yt.token})).apply(this,arguments)}function ul(Z,se){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,W.Z)(function*(Z,se){const ve=yield Yl(Z),ot=ea(se.subscriptionOptions),Gt={method:"PATCH",headers:ve,body:JSON.stringify(ot)};let Yt;try{Yt=yield(yield fetch(`${dl(Z.appConfig)}/${se.token}`,Gt)).json()}catch(Bn){throw ar.create("token-update-failed",{errorInfo:Bn?.toString()})}if(Yt.error)throw ar.create("token-update-failed",{errorInfo:Yt.error.message});if(!Yt.token)throw ar.create("token-update-no-token");return Yt.token})).apply(this,arguments)}function ha(Z,se){return ka.apply(this,arguments)}function ka(){return(ka=(0,W.Z)(function*(Z,se){const ot={method:"DELETE",headers:yield Yl(Z)};try{const Yt=yield(yield fetch(`${dl(Z.appConfig)}/${se}`,ot)).json();if(Yt.error)throw ar.create("token-unsubscribe-failed",{errorInfo:Yt.error.message})}catch(Gt){throw ar.create("token-unsubscribe-failed",{errorInfo:Gt?.toString()})}})).apply(this,arguments)}function dl({projectId:Z}){return`https://fcmregistrations.googleapis.com/v1/projects/${Z}/registrations`}function Yl(Z){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,W.Z)(function*({appConfig:Z,installations:se}){const ve=yield se.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Z.apiKey,"x-goog-firebase-installations-auth":`FIS ${ve}`})})).apply(this,arguments)}function ea({p256dh:Z,auth:se,endpoint:ve,vapidKey:ot}){const Gt={web:{endpoint:ve,auth:se,p256dh:Z}};return ot!==Qr&&(Gt.web.applicationPubKey=ot),Gt}const hl=6048e5;function fc(Z){return bo.apply(this,arguments)}function bo(){return(bo=(0,W.Z)(function*(Z){const se=yield Tc(Z.swRegistration,Z.vapidKey),ve={vapidKey:Z.vapidKey,swScope:Z.swRegistration.scope,endpoint:se.endpoint,auth:vo(se.getKey("auth")),p256dh:vo(se.getKey("p256dh"))},ot=yield ce(Z.firebaseDependencies);if(ot){if(mc(ot.subscriptionOptions,ve))return Date.now()>=ot.createTime+hl?Ja(Z,{token:ot.token,createTime:Date.now(),subscriptionOptions:ve}):ot.token;try{yield ha(Z.firebaseDependencies,ot.token)}catch(Gt){console.warn(Gt)}return pc(Z.firebaseDependencies,ve)}return pc(Z.firebaseDependencies,ve)})).apply(this,arguments)}function Mc(Z){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,W.Z)(function*(Z){const se=yield ce(Z.firebaseDependencies);se&&(yield ha(Z.firebaseDependencies,se.token),yield hn(Z.firebaseDependencies));const ve=yield Z.swRegistration.pushManager.getSubscription();return!ve||ve.unsubscribe()})).apply(this,arguments)}function Ja(Z,se){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,W.Z)(function*(Z,se){try{const ve=yield ul(Z.firebaseDependencies,se),ot=Object.assign(Object.assign({},se),{token:ve,createTime:Date.now()});return yield te(Z.firebaseDependencies,ot),ve}catch(ve){throw yield Mc(Z),ve}})).apply(this,arguments)}function pc(Z,se){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,W.Z)(function*(Z,se){const ot={token:yield Ds(Z,se),createTime:Date.now(),subscriptionOptions:se};return yield te(Z,ot),ot.token})).apply(this,arguments)}function Tc(Z,se){return fa.apply(this,arguments)}function fa(){return(fa=(0,W.Z)(function*(Z,se){return(yield Z.pushManager.getSubscription())||Z.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:gu(se)})})).apply(this,arguments)}function mc(Z,se){return se.vapidKey===Z.vapidKey&&se.endpoint===Z.endpoint&&se.auth===Z.auth&&se.p256dh===Z.p256dh}function ta(Z){const se={from:Z.from,collapseKey:Z.collapse_key,messageId:Z.fcmMessageId};return function ns(Z,se){if(!se.notification)return;Z.notification={};const ve=se.notification.title;ve&&(Z.notification.title=ve);const ot=se.notification.body;ot&&(Z.notification.body=ot);const Gt=se.notification.image;Gt&&(Z.notification.image=Gt);const Yt=se.notification.icon;Yt&&(Z.notification.icon=Yt)}(se,Z),function na(Z,se){!se.data||(Z.data=se.data)}(se,Z),function ss(Z,se){var ve,ot,Gt,Yt,Bn;if(!(se.fcmOptions||null!==(ve=se.notification)&&void 0!==ve&&ve.click_action))return;Z.fcmOptions={};const pi=null!==(Gt=null===(ot=se.fcmOptions)||void 0===ot?void 0:ot.link)&&void 0!==Gt?Gt:null===(Yt=se.notification)||void 0===Yt?void 0:Yt.click_action;pi&&(Z.fcmOptions.link=pi);const ri=null===(Bn=se.fcmOptions)||void 0===Bn?void 0:Bn.analytics_label;ri&&(Z.fcmOptions.analyticsLabel=ri)}(se,Z),se}function Al(Z){return"object"==typeof Z&&!!Z&&zr in Z}function qu(Z,se){const ve=[];for(let ot=0;ot<Z.length;ot++)ve.push(Z.charAt(ot)),ot<se.length&&ve.push(se.charAt(ot));return ve.join("")}function fl(Z){return ar.create("missing-app-config-values",{valueName:Z})}qu("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),qu("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class uo{constructor(se,ve,ot){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Gt=function ro(Z){if(!Z||!Z.options)throw fl("App Configuration Object");if(!Z.name)throw fl("App Name");const se=["projectId","apiKey","appId","messagingSenderId"],{options:ve}=Z;for(const ot of se)if(!ve[ot])throw fl(ot);return{appName:Z.name,projectId:ve.projectId,apiKey:ve.apiKey,appId:ve.appId,senderId:ve.messagingSenderId}}(se);this.firebaseDependencies={app:se,appConfig:Gt,installations:ve,analyticsProvider:ot}}_delete(){return Promise.resolve()}}function el(Z){return ja.apply(this,arguments)}function ja(){return(ja=(0,W.Z)(function*(Z){try{Z.swRegistration=yield navigator.serviceWorker.register(Xo,{scope:io}),Z.swRegistration.update().catch(()=>{})}catch(se){throw ar.create("failed-service-worker-registration",{browserErrorMessage:se?.message})}})).apply(this,arguments)}function Oa(Z,se){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,W.Z)(function*(Z,se){if(!se&&!Z.swRegistration&&(yield el(Z)),se||!Z.swRegistration){if(!(se instanceof ServiceWorkerRegistration))throw ar.create("invalid-sw-registration");Z.swRegistration=se}})).apply(this,arguments)}function kl(Z,se){return To.apply(this,arguments)}function To(){return(To=(0,W.Z)(function*(Z,se){se?Z.vapidKey=se:Z.vapidKey||(Z.vapidKey=Qr)})).apply(this,arguments)}function pa(){return(pa=(0,W.Z)(function*(Z,se){if(!navigator)throw ar.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ar.create("permission-blocked");return yield kl(Z,se?.vapidKey),yield Oa(Z,se?.serviceWorkerRegistration),fc(Z)})).apply(this,arguments)}function gc(Z,se,ve){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,W.Z)(function*(Z,se,ve){const ot=Ts(se);(yield Z.firebaseDependencies.analyticsProvider.get()).logEvent(ot,{message_id:ve[zr],message_name:ve[Ml],message_time:ve[Zs],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ts(Z){switch(Z){case $i.NOTIFICATION_CLICKED:return"notification_open";case $i.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function za(){return(za=(0,W.Z)(function*(Z,se){const ve=se.data;if(!ve.isFirebaseMessaging)return;Z.onMessageHandler&&ve.messageType===$i.PUSH_RECEIVED&&("function"==typeof Z.onMessageHandler?Z.onMessageHandler(ta(ve)):Z.onMessageHandler.next(ta(ve)));const ot=ve.data;Al(ot)&&"1"===ot[Sa]&&(yield gc(Z,ve.messageType,ot))})).apply(this,arguments)}const Vr="@firebase/messaging",X="0.12.4",me=Z=>{const se=new uo(Z.getProvider("app").getImmediate(),Z.getProvider("installations-internal").getImmediate(),Z.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ve=>function cr(Z,se){return za.apply(this,arguments)}(se,ve)),se},re=Z=>{const se=Z.getProvider("messaging").getImmediate();return{getToken:ot=>function ia(Z,se){return pa.apply(this,arguments)}(se,ot)}};function Et(){return ln.apply(this,arguments)}function ln(){return(ln=(0,W.Z)(function*(){try{yield(0,b.eu)()}catch{return!1}return typeof window<"u"&&(0,b.hl)()&&(0,b.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Re(){(0,Le._registerComponent)(new be.wA("messaging",me,"PUBLIC")),(0,Le._registerComponent)(new be.wA("messaging-internal",re,"PRIVATE")),(0,Le.registerVersion)(Vr,X),(0,Le.registerVersion)(Vr,X,"esm2017")}();const Ar="analytics",Ao="firebase_id",ks="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Us="https://www.googletagmanager.com/gtag/js",xs=new at.Yd("@firebase/analytics"),so=new b.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function _c(Z){if(!Z.startsWith(Us)){const se=so.create("invalid-gtag-resource",{gtagURL:Z});return xs.warn(se.message),""}return Z}function vc(Z){return Promise.all(Z.map(se=>se.catch(ve=>ve)))}function vu(Z,se){const ve=function _u(Z,se){let ve;return window.trustedTypes&&(ve=window.trustedTypes.createPolicy(Z,se)),ve}("firebase-js-sdk-policy",{createScriptURL:_c}),ot=document.createElement("script"),Gt=`${Us}?l=${Z}&id=${se}`;ot.src=ve?ve?.createScriptURL(Gt):Gt,ot.async=!0,document.head.appendChild(ot)}function Qs(Z,se,ve,ot,Gt,Yt){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,W.Z)(function*(Z,se,ve,ot,Gt,Yt){const Bn=ot[Gt];try{if(Bn)yield se[Bn];else{const ri=(yield vc(ve)).find(Ai=>Ai.measurementId===Gt);ri&&(yield se[ri.appId])}}catch(pi){xs.error(pi)}Z("config",Gt,Yt)})).apply(this,arguments)}function Ga(Z,se,ve,ot,Gt){return Co.apply(this,arguments)}function Co(){return(Co=(0,W.Z)(function*(Z,se,ve,ot,Gt){try{let Yt=[];if(Gt&&Gt.send_to){let Bn=Gt.send_to;Array.isArray(Bn)||(Bn=[Bn]);const pi=yield vc(ve);for(const ri of Bn){const Ai=pi.find(dr=>dr.measurementId===ri),mr=Ai&&se[Ai.appId];if(!mr){Yt=[];break}Yt.push(mr)}}0===Yt.length&&(Yt=Object.values(se)),yield Promise.all(Yt),Z("event",ot,Gt||{})}catch(Yt){xs.error(Yt)}})).apply(this,arguments)}function Kn(Z){const se=window.document.getElementsByTagName("script");for(const ve of Object.values(se))if(ve.src&&ve.src.includes(Us)&&ve.src.includes(Z))return ve;return null}const ni=new class Zu{constructor(se={},ve=1e3){this.throttleMetadata=se,this.intervalMillis=ve}getThrottleMetadata(se){return this.throttleMetadata[se]}setThrottleMetadata(se,ve){this.throttleMetadata[se]=ve}deleteThrottleMetadata(se){delete this.throttleMetadata[se]}};function Ni(Z){return new Headers({Accept:"application/json","x-goog-api-key":Z})}function Hc(Z){return ci.apply(this,arguments)}function ci(){return(ci=(0,W.Z)(function*(Z){var se;const{appId:ve,apiKey:ot}=Z,Gt={method:"GET",headers:Ni(ot)},Yt=ks.replace("{app-id}",ve),Bn=yield fetch(Yt,Gt);if(200!==Bn.status&&304!==Bn.status){let pi="";try{const ri=yield Bn.json();null!==(se=ri.error)&&void 0!==se&&se.message&&(pi=ri.error.message)}catch{}throw so.create("config-fetch-failed",{httpStatus:Bn.status,responseMessage:pi})}return Bn.json()})).apply(this,arguments)}function fn(Z){return kn.apply(this,arguments)}function kn(){return(kn=(0,W.Z)(function*(Z,se=ni,ve){const{appId:ot,apiKey:Gt,measurementId:Yt}=Z.options;if(!ot)throw so.create("no-app-id");if(!Gt){if(Yt)return{measurementId:Yt,appId:ot};throw so.create("no-api-key")}const Bn=se.getThrottleMetadata(ot)||{backoffCount:0,throttleEndTimeMillis:Date.now()},pi=new bc;return setTimeout((0,W.Z)(function*(){pi.abort()}),void 0!==ve?ve:6e4),is({appId:ot,apiKey:Gt,measurementId:Yt},Bn,pi,se)})).apply(this,arguments)}function is(Z,se,ve){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,W.Z)(function*(Z,{throttleEndTimeMillis:se,backoffCount:ve},ot,Gt=ni){var Yt;const{appId:Bn,measurementId:pi}=Z;try{yield Id(ot,se)}catch(ri){if(pi)return xs.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${pi} provided in the "measurementId" field in the local Firebase config. [${ri?.message}]`),{appId:Bn,measurementId:pi};throw ri}try{const ri=yield Hc(Z);return Gt.deleteThrottleMetadata(Bn),ri}catch(ri){const Ai=ri;if(!$a(Ai)){if(Gt.deleteThrottleMetadata(Bn),pi)return xs.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${pi} provided in the "measurementId" field in the local Firebase config. [${Ai?.message}]`),{appId:Bn,measurementId:pi};throw ri}const mr=503===Number(null===(Yt=Ai?.customData)||void 0===Yt?void 0:Yt.httpStatus)?(0,b.$s)(ve,Gt.intervalMillis,30):(0,b.$s)(ve,Gt.intervalMillis),dr={throttleEndTimeMillis:Date.now()+mr,backoffCount:ve+1};return Gt.setThrottleMetadata(Bn,dr),xs.debug(`Calling attemptFetch again in ${mr} millis`),is(Z,dr,ot,Gt)}})).apply(this,arguments)}function Id(Z,se){return new Promise((ve,ot)=>{const Gt=Math.max(se-Date.now(),0),Yt=setTimeout(ve,Gt);Z.addEventListener(()=>{clearTimeout(Yt),ot(so.create("fetch-throttle",{throttleEndTimeMillis:se}))})})}function $a(Z){if(!(Z instanceof b.ZR&&Z.customData))return!1;const se=Number(Z.customData.httpStatus);return 429===se||500===se||503===se||504===se}class bc{constructor(){this.listeners=[]}addEventListener(se){this.listeners.push(se)}abort(){this.listeners.forEach(se=>se())}}let Zl,qi;function os(){return(os=(0,W.Z)(function*(Z,se,ve,ot,Gt){if(Gt&&Gt.global)Z("event",ve,ot);else{const Yt=yield se;Z("event",ve,Object.assign(Object.assign({},ot),{send_to:Yt}))}})).apply(this,arguments)}function Xu(Z){qi=Z}function rs(Z){Zl=Z}function vi(){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,W.Z)(function*(){if(!(0,b.hl)())return xs.warn(so.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,b.eu)()}catch(Z){return xs.warn(so.create("indexeddb-unavailable",{errorInfo:Z?.toString()}).message),!1}return!0})).apply(this,arguments)}function oo(){return(oo=(0,W.Z)(function*(Z,se,ve,ot,Gt,Yt,Bn){var pi;const ri=fn(Z);ri.then(qa=>{ve[qa.measurementId]=qa.appId,Z.options.measurementId&&qa.measurementId!==Z.options.measurementId&&xs.warn(`The measurement ID in the local Firebase config (${Z.options.measurementId}) does not match the measurement ID fetched from the server (${qa.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(qa=>xs.error(qa)),se.push(ri);const Ai=vi().then(qa=>{if(qa)return ot.getId()}),[mr,dr]=yield Promise.all([ri,Ai]);Kn(Yt)||vu(Yt,mr.measurementId),qi&&(Gt("consent","default",qi),Xu(void 0)),Gt("js",new Date);const Ka=null!==(pi=Bn?.config)&&void 0!==pi?pi:{};return Ka.origin="firebase",Ka.update=!0,null!=dr&&(Ka[Ao]=dr),Gt("config",mr.measurementId,Ka),Zl&&(Gt("set",Zl),rs(void 0)),mr.measurementId})).apply(this,arguments)}class wu{constructor(se){this.app=se}_delete(){return delete G[this.app.options.appId],Promise.resolve()}}let G={},$=[];const V={};let Ie,st,ie="dataLayer",vt=!1;function ir(Z,se,ve){!function ii(){const Z=[];if((0,b.ru)()&&Z.push("This is a browser extension environment."),(0,b.zI)()||Z.push("Cookies are not available."),Z.length>0){const se=Z.map((ot,Gt)=>`(${Gt+1}) ${ot}`).join(" "),ve=so.create("invalid-analytics-context",{errorInfo:se});xs.warn(ve.message)}}();const ot=Z.options.appId;if(!ot)throw so.create("no-app-id");if(!Z.options.apiKey){if(!Z.options.measurementId)throw so.create("no-api-key");xs.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${Z.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=G[ot])throw so.create("already-exists",{id:ot});if(!vt){!function yc(Z){let se=[];Array.isArray(window[Z])?se=window[Z]:window[Z]=se}(ie);const{wrappedGtag:Yt,gtagCore:Bn}=function pl(Z,se,ve,ot,Gt){let Yt=function(...Bn){window[ot].push(arguments)};return window[Gt]&&"function"==typeof window[Gt]&&(Yt=window[Gt]),window[Gt]=function Pa(Z,se,ve,ot){function Yt(){return(Yt=(0,W.Z)(function*(Bn,...pi){try{if("event"===Bn){const[ri,Ai]=pi;yield Ga(Z,se,ve,ri,Ai)}else if("config"===Bn){const[ri,Ai]=pi;yield Qs(Z,se,ve,ot,ri,Ai)}else if("consent"===Bn){const[ri]=pi;Z("consent","update",ri)}else if("get"===Bn){const[ri,Ai,mr]=pi;Z("get",ri,Ai,mr)}else if("set"===Bn){const[ri]=pi;Z("set",ri)}else Z(Bn,...pi)}catch(ri){xs.error(ri)}})).apply(this,arguments)}return function Gt(Bn){return Yt.apply(this,arguments)}}(Yt,Z,se,ve),{gtagCore:Yt,wrappedGtag:window[Gt]}}(G,$,V,ie,"gtag");st=Yt,Ie=Bn,vt=!0}return G[ot]=function wo(Z,se,ve,ot,Gt,Yt,Bn){return oo.apply(this,arguments)}(Z,$,V,se,Ie,ie,ve),new wu(Z)}function fs(){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,W.Z)(function*(){if((0,b.ru)()||!(0,b.zI)()||!(0,b.hl)())return!1;try{return yield(0,b.eu)()}catch{return!1}})).apply(this,arguments)}const Ql="@firebase/analytics";!function kf(){(0,Le._registerComponent)(new be.wA(Ar,(se,{options:ve})=>ir(se.getProvider("app").getImmediate(),se.getProvider("installations-internal").getImmediate(),ve),"PUBLIC")),(0,Le._registerComponent)(new be.wA("analytics-internal",function Z(se){try{const ve=se.getProvider(Ar).getImmediate();return{logEvent:(ot,Gt,Yt)=>function kc(Z,se,ve,ot){Z=(0,b.m9)(Z),function Qu(Z,se,ve,ot,Gt){return os.apply(this,arguments)}(st,G[Z.app.options.appId],se,ve,ot).catch(Gt=>xs.error(Gt))}(ve,ot,Gt,Yt)}}catch(ve){throw so.create("interop-component-reg-failed",{reason:ve})}},"PRIVATE")),(0,Le.registerVersion)(Ql,"0.10.0"),(0,Le.registerVersion)(Ql,"0.10.0","esm2017")}();var vs=z(4408),xu=z(7565);const kd=new class Uo extends xu.v{}(class Ad extends vs.o{constructor(se,ve){super(se,ve),this.scheduler=se,this.work=ve}schedule(se,ve=0){return ve>0?super.schedule(se,ve):(this.delay=ve,this.state=se,this.scheduler.flush(this),this)}execute(se,ve){return ve>0||this.closed?super.execute(se,ve):this._execute(se,ve)}requestAsyncId(se,ve,ot=0){return null!=ot&&ot>0||null==ot&&this.delay>0?super.requestAsyncId(se,ve,ot):(se.flush(this),0)}});var Zh=z(4986),Do=z(8505),Ju=z(5363),Su=z(9468);const Qh=new M.GfV("7.6.1"),oh="__angularfire_symbol__analyticsIsSupportedValue",Xl="__angularfire_symbol__analyticsIsSupported",Ol="__angularfire_symbol__remoteConfigIsSupportedValue",Mu="__angularfire_symbol__remoteConfigIsSupported",Rd="__angularfire_symbol__messagingIsSupportedValue",Rc="__angularfire_symbol__messagingIsSupported";function ah(Z,se,ve){if(se){if(1===se.length)return se[0];const Yt=se.filter(Bn=>Bn.app===ve);if(1===Yt.length)return Yt[0]}return ve.container.getProvider(Z).getImmediate({optional:!0})}globalThis[Xl]||(globalThis[Xl]=fs().then(Z=>globalThis[oh]=Z).catch(()=>globalThis[oh]=!1)),globalThis[Rc]||(globalThis[Rc]=Et().then(Z=>globalThis[Rd]=Z).catch(()=>globalThis[Rd]=!1)),globalThis[Mu]||(globalThis[Mu]=qs().then(Z=>globalThis[Ol]=Z).catch(()=>globalThis[Ol]=!1));const Xh=(Z,se)=>{const ve=se?[se]:(0,J.C6)(),ot=[];return ve.forEach(Gt=>{Gt.container.getProvider(Z).instances.forEach(Bn=>{ot.includes(Bn)||ot.push(Bn)})}),ot};function Nd(){}class ra{constructor(se,ve=kd){this.zone=se,this.delegate=ve}now(){return this.delegate.now()}schedule(se,ve,ot){const Gt=this.zone;return this.delegate.schedule(function(Bn){Gt.runGuarded(()=>{se.apply(this,[Bn])})},ve,ot)}}class Fd{constructor(se){this.zone=se,this.task=null}call(se,ve){const ot=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Nd,{},Nd,Nd)),ve.pipe((0,Do.b)({next:ot,complete:ot,error:ot})).subscribe(se).add(ot)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let dp=(()=>{class Z{constructor(ve){this.ngZone=ve,this.outsideAngular=ve.runOutsideAngular(()=>new ra(Zone.current)),this.insideAngular=ve.run(()=>new ra(Zone.current,Zh.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return Z.\u0275fac=function(ve){return new(ve||Z)(M.LFG(M.R0b))},Z.\u0275prov=M.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),Z})();function Jl(){const Z=globalThis.\u0275AngularFireScheduler;if(!Z)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Z}function ec(Z){return Z.pipe((0,Ju.Q)(Jl().outsideAngular))}function ps(Z){return Jl(),function zc(Z){return function(ve){return(ve=ve.lift(new Fd(Z.ngZone))).pipe((0,Su.R)(Z.outsideAngular),(0,Ju.Q)(Z.insideAngular))}}(Jl())(Z)}},2090:(Hn,Mt,z)=>{z.d(Mt,{$s:()=>Bi,BH:()=>Te,DV:()=>qn,Dv:()=>_n,G6:()=>yi,GJ:()=>wn,L:()=>qe,LL:()=>Dt,Pz:()=>je,Sg:()=>Be,UG:()=>ut,UI:()=>dn,US:()=>be,Wj:()=>Lt,Wl:()=>on,Yr:()=>Ei,ZB:()=>Ge,ZR:()=>Ht,aH:()=>_t,b$:()=>ai,cI:()=>Vt,dS:()=>Ye,eu:()=>It,g5:()=>W,gK:()=>Zn,gQ:()=>Ot,h$:()=>Ve,hl:()=>bt,hu:()=>J,jU:()=>vn,lb:()=>sn,m9:()=>Gi,ne:()=>ze,p$:()=>Ue,pd:()=>$n,r3:()=>oi,ru:()=>pn,tV:()=>Ae,uI:()=>lt,ug:()=>Ke,vZ:()=>li,w1:()=>Qi,w9:()=>jt,xO:()=>Qt,xb:()=>mi,z$:()=>ct,zI:()=>qt,zd:()=>Nn});const J=function(mt,Me){if(!mt)throw W(Me)},W=function(mt){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+mt)},Le=function(mt){const Me=[];let Qe=0;for(let _e=0;_e<mt.length;_e++){let Ce=mt.charCodeAt(_e);Ce<128?Me[Qe++]=Ce:Ce<2048?(Me[Qe++]=Ce>>6|192,Me[Qe++]=63&Ce|128):55296==(64512&Ce)&&_e+1<mt.length&&56320==(64512&mt.charCodeAt(_e+1))?(Ce=65536+((1023&Ce)<<10)+(1023&mt.charCodeAt(++_e)),Me[Qe++]=Ce>>18|240,Me[Qe++]=Ce>>12&63|128,Me[Qe++]=Ce>>6&63|128,Me[Qe++]=63&Ce|128):(Me[Qe++]=Ce>>12|224,Me[Qe++]=Ce>>6&63|128,Me[Qe++]=63&Ce|128)}return Me},be={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(mt,Me){if(!Array.isArray(mt))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Qe=Me?this.byteToCharMapWebSafe_:this.byteToCharMap_,_e=[];for(let Ce=0;Ce<mt.length;Ce+=3){const gt=mt[Ce],We=Ce+1<mt.length,et=We?mt[Ce+1]:0,$e=Ce+2<mt.length,pe=$e?mt[Ce+2]:0;let ft=(15&et)<<2|pe>>6,cn=63&pe;$e||(cn=64,We||(ft=64)),_e.push(Qe[gt>>2],Qe[(3&gt)<<4|et>>4],Qe[ft],Qe[cn])}return _e.join("")},encodeString(mt,Me){return this.HAS_NATIVE_SUPPORT&&!Me?btoa(mt):this.encodeByteArray(Le(mt),Me)},decodeString(mt,Me){return this.HAS_NATIVE_SUPPORT&&!Me?atob(mt):function(mt){const Me=[];let Qe=0,_e=0;for(;Qe<mt.length;){const Ce=mt[Qe++];if(Ce<128)Me[_e++]=String.fromCharCode(Ce);else if(Ce>191&&Ce<224){const gt=mt[Qe++];Me[_e++]=String.fromCharCode((31&Ce)<<6|63&gt)}else if(Ce>239&&Ce<365){const $e=((7&Ce)<<18|(63&mt[Qe++])<<12|(63&mt[Qe++])<<6|63&mt[Qe++])-65536;Me[_e++]=String.fromCharCode(55296+($e>>10)),Me[_e++]=String.fromCharCode(56320+(1023&$e))}else{const gt=mt[Qe++],We=mt[Qe++];Me[_e++]=String.fromCharCode((15&Ce)<<12|(63&gt)<<6|63&We)}}return Me.join("")}(this.decodeStringToByteArray(mt,Me))},decodeStringToByteArray(mt,Me){this.init_();const Qe=Me?this.charToByteMapWebSafe_:this.charToByteMap_,_e=[];for(let Ce=0;Ce<mt.length;){const gt=Qe[mt.charAt(Ce++)],et=Ce<mt.length?Qe[mt.charAt(Ce)]:0;++Ce;const pe=Ce<mt.length?Qe[mt.charAt(Ce)]:64;++Ce;const De=Ce<mt.length?Qe[mt.charAt(Ce)]:64;if(++Ce,null==gt||null==et||null==pe||null==De)throw new at;_e.push(gt<<2|et>>4),64!==pe&&(_e.push(et<<4&240|pe>>2),64!==De&&_e.push(pe<<6&192|De))}return _e},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let mt=0;mt<this.ENCODED_VALS.length;mt++)this.byteToCharMap_[mt]=this.ENCODED_VALS.charAt(mt),this.charToByteMap_[this.byteToCharMap_[mt]]=mt,this.byteToCharMapWebSafe_[mt]=this.ENCODED_VALS_WEBSAFE.charAt(mt),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[mt]]=mt,mt>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(mt)]=mt,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(mt)]=mt)}}};class at extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ve=function(mt){const Me=Le(mt);return be.encodeByteArray(Me,!0)},qe=function(mt){return Ve(mt).replace(/\./g,"")},Ae=function(mt){try{return be.decodeString(mt,!0)}catch(Me){console.error("base64Decode failed: ",Me)}return null};function Ue(mt){return Ge(void 0,mt)}function Ge(mt,Me){if(!(Me instanceof Object))return Me;switch(Me.constructor){case Date:return new Date(Me.getTime());case Object:void 0===mt&&(mt={});break;case Array:mt=[];break;default:return Me}for(const Qe in Me)!Me.hasOwnProperty(Qe)||!kt(Qe)||(mt[Qe]=Ge(mt[Qe],Me[Qe]));return mt}function kt(mt){return"__proto__"!==mt}const Ct=()=>{try{return function it(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const mt=process.env.__FIREBASE_DEFAULTS__;return mt?JSON.parse(mt):void 0})()||(()=>{if(typeof document>"u")return;let mt;try{mt=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Me=mt&&Ae(mt[1]);return Me&&JSON.parse(Me)})()}catch(mt){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${mt}`)}},_t=()=>{var mt;return null===(mt=Ct())||void 0===mt?void 0:mt.config},je=mt=>{var Me;return null===(Me=Ct())||void 0===Me?void 0:Me[`_${mt}`]};class Te{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Me,Qe)=>{this.resolve=Me,this.reject=Qe})}wrapCallback(Me){return(Qe,_e)=>{Qe?this.reject(Qe):this.resolve(_e),"function"==typeof Me&&(this.promise.catch(()=>{}),1===Me.length?Me(Qe):Me(Qe,_e))}}}function Be(mt,Me){if(mt.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const _e=Me||"demo-project",Ce=mt.iat||0,gt=mt.sub||mt.user_id;if(!gt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const We=Object.assign({iss:`https://securetoken.google.com/${_e}`,aud:_e,iat:Ce,exp:Ce+3600,auth_time:Ce,sub:gt,user_id:gt,firebase:{sign_in_provider:"custom",identities:{}}},mt);return[qe(JSON.stringify({alg:"none",type:"JWT"})),qe(JSON.stringify(We)),""].join(".")}function ct(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function lt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ct())}function ut(){var mt;const Me=null===(mt=Ct())||void 0===mt?void 0:mt.forceEnvironment;if("node"===Me)return!0;if("browser"===Me)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function vn(){return"object"==typeof self&&self.self===self}function pn(){const mt="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof mt&&void 0!==mt.id}function ai(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Qi(){const mt=ct();return mt.indexOf("MSIE ")>=0||mt.indexOf("Trident/")>=0}function Ei(){return!1}function yi(){return!ut()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bt(){try{return"object"==typeof indexedDB}catch{return!1}}function It(){return new Promise((mt,Me)=>{try{let Qe=!0;const _e="validate-browser-context-for-indexeddb-analytics-module",Ce=self.indexedDB.open(_e);Ce.onsuccess=()=>{Ce.result.close(),Qe||self.indexedDB.deleteDatabase(_e),mt(!0)},Ce.onupgradeneeded=()=>{Qe=!1},Ce.onerror=()=>{var gt;Me((null===(gt=Ce.error)||void 0===gt?void 0:gt.message)||"")}}catch(Qe){Me(Qe)}})}function qt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ht extends Error{constructor(Me,Qe,_e){super(Qe),this.code=Me,this.customData=_e,this.name="FirebaseError",Object.setPrototypeOf(this,Ht.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dt.prototype.create)}}class Dt{constructor(Me,Qe,_e){this.service=Me,this.serviceName=Qe,this.errors=_e}create(Me,...Qe){const _e=Qe[0]||{},Ce=`${this.service}/${Me}`,gt=this.errors[Me],We=gt?function xn(mt,Me){return mt.replace(St,(Qe,_e)=>{const Ce=Me[_e];return null!=Ce?String(Ce):`<${_e}?>`})}(gt,_e):"Error";return new Ht(Ce,`${this.serviceName}: ${We} (${Ce}).`,_e)}}const St=/\{\$([^}]+)}/g;function Vt(mt){return JSON.parse(mt)}function on(mt){return JSON.stringify(mt)}const Cn=function(mt){let Me={},Qe={},_e={},Ce="";try{const gt=mt.split(".");Me=Vt(Ae(gt[0])||""),Qe=Vt(Ae(gt[1])||""),Ce=gt[2],_e=Qe.d||{},delete Qe.d}catch{}return{header:Me,claims:Qe,data:_e,signature:Ce}},jt=function(mt){const Qe=Cn(mt).claims;return!!Qe&&"object"==typeof Qe&&Qe.hasOwnProperty("iat")},wn=function(mt){const Me=Cn(mt).claims;return"object"==typeof Me&&!0===Me.admin};function oi(mt,Me){return Object.prototype.hasOwnProperty.call(mt,Me)}function qn(mt,Me){if(Object.prototype.hasOwnProperty.call(mt,Me))return mt[Me]}function mi(mt){for(const Me in mt)if(Object.prototype.hasOwnProperty.call(mt,Me))return!1;return!0}function dn(mt,Me,Qe){const _e={};for(const Ce in mt)Object.prototype.hasOwnProperty.call(mt,Ce)&&(_e[Ce]=Me.call(Qe,mt[Ce],Ce,mt));return _e}function li(mt,Me){if(mt===Me)return!0;const Qe=Object.keys(mt),_e=Object.keys(Me);for(const Ce of Qe){if(!_e.includes(Ce))return!1;const gt=mt[Ce],We=Me[Ce];if(bn(gt)&&bn(We)){if(!li(gt,We))return!1}else if(gt!==We)return!1}for(const Ce of _e)if(!Qe.includes(Ce))return!1;return!0}function bn(mt){return null!==mt&&"object"==typeof mt}function Qt(mt){const Me=[];for(const[Qe,_e]of Object.entries(mt))Array.isArray(_e)?_e.forEach(Ce=>{Me.push(encodeURIComponent(Qe)+"="+encodeURIComponent(Ce))}):Me.push(encodeURIComponent(Qe)+"="+encodeURIComponent(_e));return Me.length?"&"+Me.join("&"):""}function Nn(mt){const Me={};return mt.replace(/^\?/,"").split("&").forEach(_e=>{if(_e){const[Ce,gt]=_e.split("=");Me[decodeURIComponent(Ce)]=decodeURIComponent(gt)}}),Me}function $n(mt){const Me=mt.indexOf("?");if(!Me)return"";const Qe=mt.indexOf("#",Me);return mt.substring(Me,Qe>0?Qe:void 0)}class Ot{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Me=1;Me<this.blockSize;++Me)this.pad_[Me]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Me,Qe){Qe||(Qe=0);const _e=this.W_;if("string"==typeof Me)for(let De=0;De<16;De++)_e[De]=Me.charCodeAt(Qe)<<24|Me.charCodeAt(Qe+1)<<16|Me.charCodeAt(Qe+2)<<8|Me.charCodeAt(Qe+3),Qe+=4;else for(let De=0;De<16;De++)_e[De]=Me[Qe]<<24|Me[Qe+1]<<16|Me[Qe+2]<<8|Me[Qe+3],Qe+=4;for(let De=16;De<80;De++){const ft=_e[De-3]^_e[De-8]^_e[De-14]^_e[De-16];_e[De]=4294967295&(ft<<1|ft>>>31)}let pe,Ee,Ce=this.chain_[0],gt=this.chain_[1],We=this.chain_[2],et=this.chain_[3],$e=this.chain_[4];for(let De=0;De<80;De++){De<40?De<20?(pe=et^gt&(We^et),Ee=1518500249):(pe=gt^We^et,Ee=1859775393):De<60?(pe=gt&We|et&(gt|We),Ee=2400959708):(pe=gt^We^et,Ee=3395469782);const ft=(Ce<<5|Ce>>>27)+pe+$e+Ee+_e[De]&4294967295;$e=et,et=We,We=4294967295&(gt<<30|gt>>>2),gt=Ce,Ce=ft}this.chain_[0]=this.chain_[0]+Ce&4294967295,this.chain_[1]=this.chain_[1]+gt&4294967295,this.chain_[2]=this.chain_[2]+We&4294967295,this.chain_[3]=this.chain_[3]+et&4294967295,this.chain_[4]=this.chain_[4]+$e&4294967295}update(Me,Qe){if(null==Me)return;void 0===Qe&&(Qe=Me.length);const _e=Qe-this.blockSize;let Ce=0;const gt=this.buf_;let We=this.inbuf_;for(;Ce<Qe;){if(0===We)for(;Ce<=_e;)this.compress_(Me,Ce),Ce+=this.blockSize;if("string"==typeof Me){for(;Ce<Qe;)if(gt[We]=Me.charCodeAt(Ce),++We,++Ce,We===this.blockSize){this.compress_(gt),We=0;break}}else for(;Ce<Qe;)if(gt[We]=Me[Ce],++We,++Ce,We===this.blockSize){this.compress_(gt),We=0;break}}this.inbuf_=We,this.total_+=Qe}digest(){const Me=[];let Qe=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Ce=this.blockSize-1;Ce>=56;Ce--)this.buf_[Ce]=255&Qe,Qe/=256;this.compress_(this.buf_);let _e=0;for(let Ce=0;Ce<5;Ce++)for(let gt=24;gt>=0;gt-=8)Me[_e]=this.chain_[Ce]>>gt&255,++_e;return Me}}function ze(mt,Me){const Qe=new we(mt,Me);return Qe.subscribe.bind(Qe)}class we{constructor(Me,Qe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Qe,this.task.then(()=>{Me(this)}).catch(_e=>{this.error(_e)})}next(Me){this.forEachObserver(Qe=>{Qe.next(Me)})}error(Me){this.forEachObserver(Qe=>{Qe.error(Me)}),this.close(Me)}complete(){this.forEachObserver(Me=>{Me.complete()}),this.close()}subscribe(Me,Qe,_e){let Ce;if(void 0===Me&&void 0===Qe&&void 0===_e)throw new Error("Missing Observer.");Ce=function Ze(mt,Me){if("object"!=typeof mt||null===mt)return!1;for(const Qe of Me)if(Qe in mt&&"function"==typeof mt[Qe])return!0;return!1}(Me,["next","error","complete"])?Me:{next:Me,error:Qe,complete:_e},void 0===Ce.next&&(Ce.next=Zt),void 0===Ce.error&&(Ce.error=Zt),void 0===Ce.complete&&(Ce.complete=Zt);const gt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ce.error(this.finalError):Ce.complete()}catch{}}),this.observers.push(Ce),gt}unsubscribeOne(Me){void 0===this.observers||void 0===this.observers[Me]||(delete this.observers[Me],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Me){if(!this.finalized)for(let Qe=0;Qe<this.observers.length;Qe++)this.sendOne(Qe,Me)}sendOne(Me,Qe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Me])try{Qe(this.observers[Me])}catch(_e){typeof console<"u"&&console.error&&console.error(_e)}})}close(Me){this.finalized||(this.finalized=!0,void 0!==Me&&(this.finalError=Me),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Zt(){}const _n=function(mt,Me,Qe,_e){let Ce;if(_e<Me?Ce="at least "+Me:_e>Qe&&(Ce=0===Qe?"none":"no more than "+Qe),Ce)throw new Error(mt+" failed: Was called with "+_e+(1===_e?" argument.":" arguments.")+" Expects "+Ce+".")};function Zn(mt,Me){return`${mt} failed: ${Me} argument `}function Lt(mt,Me,Qe,_e){if((!_e||Qe)&&"function"!=typeof Qe)throw new Error(Zn(mt,Me)+"must be a valid function.")}function sn(mt,Me,Qe,_e){if((!_e||Qe)&&("object"!=typeof Qe||null===Qe))throw new Error(Zn(mt,Me)+"must be a valid context object.")}const Ye=function(mt){const Me=[];let Qe=0;for(let _e=0;_e<mt.length;_e++){let Ce=mt.charCodeAt(_e);if(Ce>=55296&&Ce<=56319){const gt=Ce-55296;_e++,J(_e<mt.length,"Surrogate pair missing trail surrogate."),Ce=65536+(gt<<10)+(mt.charCodeAt(_e)-56320)}Ce<128?Me[Qe++]=Ce:Ce<2048?(Me[Qe++]=Ce>>6|192,Me[Qe++]=63&Ce|128):Ce<65536?(Me[Qe++]=Ce>>12|224,Me[Qe++]=Ce>>6&63|128,Me[Qe++]=63&Ce|128):(Me[Qe++]=Ce>>18|240,Me[Qe++]=Ce>>12&63|128,Me[Qe++]=Ce>>6&63|128,Me[Qe++]=63&Ce|128)}return Me},Ke=function(mt){let Me=0;for(let Qe=0;Qe<mt.length;Qe++){const _e=mt.charCodeAt(Qe);_e<128?Me++:_e<2048?Me+=2:_e>=55296&&_e<=56319?(Me+=4,Qe++):Me+=3}return Me};function Bi(mt,Me=1e3,Qe=2){const _e=Me*Math.pow(Qe,mt),Ce=Math.round(.5*_e*(Math.random()-.5)*2);return Math.min(144e5,_e+Ce)}function Gi(mt){return mt&&mt._delegate?mt._delegate:mt}},7828:(Hn,Mt,z)=>{z.d(Mt,{q:()=>nv});var M=z(6895),J=z(4080),W=z(1281),Le=z(3353),b=z(4650),be=z(3238),at=z(727),Ve=z(7579),qe=z(9770),Ae=z(6451),Ue=z(9646),kt=(z(4968),z(8605)),it=z(445),tt=z(5698),xt=z(2722);const Rt=(0,Le.Mq)();class Ct{constructor(S,a){this._viewportRuler=S,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=a}attach(){}enable(){if(this._canBeEnabled()){const S=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=S.style.left||"",this._previousHTMLStyles.top=S.style.top||"",S.style.left=(0,W.HM)(-this._previousScrollPosition.left),S.style.top=(0,W.HM)(-this._previousScrollPosition.top),S.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const S=this._document.documentElement,v=S.style,N=this._document.body.style,q=v.scrollBehavior||"",He=N.scrollBehavior||"";this._isEnabled=!1,v.left=this._previousHTMLStyles.left,v.top=this._previousHTMLStyles.top,S.classList.remove("cdk-global-scrollblock"),Rt&&(v.scrollBehavior=N.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Rt&&(v.scrollBehavior=q,N.scrollBehavior=He)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const a=this._document.body,v=this._viewportRuler.getViewportSize();return a.scrollHeight>v.height||a.scrollWidth>v.width}}class En{constructor(S,a,v,N){this._scrollDispatcher=S,this._ngZone=a,this._viewportRuler=v,this._config=N,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(S){this._overlayRef=S}enable(){if(this._scrollSubscription)return;const S=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=S.subscribe(()=>{const a=this._viewportRuler.getViewportScrollPosition().top;Math.abs(a-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=S.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class _t{enable(){}disable(){}attach(){}}function je(x,S){return S.some(a=>x.bottom<a.top||x.top>a.bottom||x.right<a.left||x.left>a.right)}function Te(x,S){return S.some(a=>x.top<a.top||x.bottom>a.bottom||x.left<a.left||x.right>a.right)}class Be{constructor(S,a,v,N){this._scrollDispatcher=S,this._viewportRuler=a,this._ngZone=v,this._config=N,this._scrollSubscription=null}attach(S){this._overlayRef=S}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const a=this._overlayRef.overlayElement.getBoundingClientRect(),{width:v,height:N}=this._viewportRuler.getViewportSize();je(a,[{width:v,height:N,bottom:N,right:v,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let ct=(()=>{class x{constructor(a,v,N,q){this._scrollDispatcher=a,this._viewportRuler=v,this._ngZone=N,this.noop=()=>new _t,this.close=He=>new En(this._scrollDispatcher,this._ngZone,this._viewportRuler,He),this.block=()=>new Ct(this._viewportRuler,this._document),this.reposition=He=>new Be(this._scrollDispatcher,this._viewportRuler,this._ngZone,He),this._document=q}}return x.\u0275fac=function(a){return new(a||x)(b.LFG(kt.mF),b.LFG(kt.rL),b.LFG(b.R0b),b.LFG(M.K0))},x.\u0275prov=b.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();class lt{constructor(S){if(this.scrollStrategy=new _t,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,S){const a=Object.keys(S);for(const v of a)void 0!==S[v]&&(this[v]=S[v])}}}class pn{constructor(S,a){this.connectionPair=S,this.scrollableViewProperties=a}}let Qi=(()=>{class x{constructor(a){this._attachedOverlays=[],this._document=a}ngOnDestroy(){this.detach()}add(a){this.remove(a),this._attachedOverlays.push(a)}remove(a){const v=this._attachedOverlays.indexOf(a);v>-1&&this._attachedOverlays.splice(v,1),0===this._attachedOverlays.length&&this.detach()}}return x.\u0275fac=function(a){return new(a||x)(b.LFG(M.K0))},x.\u0275prov=b.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})(),or=(()=>{class x extends Qi{constructor(a,v){super(a),this._ngZone=v,this._keydownListener=N=>{const q=this._attachedOverlays;for(let He=q.length-1;He>-1;He--)if(q[He]._keydownEvents.observers.length>0){const yt=q[He]._keydownEvents;this._ngZone?this._ngZone.run(()=>yt.next(N)):yt.next(N);break}}}add(a){super.add(a),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return x.\u0275fac=function(a){return new(a||x)(b.LFG(M.K0),b.LFG(b.R0b,8))},x.\u0275prov=b.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})(),Ei=(()=>{class x extends Qi{constructor(a,v,N){super(a),this._platform=v,this._ngZone=N,this._cursorStyleIsSet=!1,this._pointerDownListener=q=>{this._pointerDownEventTarget=(0,Le.sA)(q)},this._clickListener=q=>{const He=(0,Le.sA)(q),yt="click"===q.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:He;this._pointerDownEventTarget=null;const yn=this._attachedOverlays.slice();for(let Xn=yn.length-1;Xn>-1;Xn--){const In=yn[Xn];if(In._outsidePointerEvents.observers.length<1||!In.hasAttached())continue;if(In.overlayElement.contains(He)||In.overlayElement.contains(yt))break;const ji=In._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>ji.next(q)):ji.next(q)}}}add(a){if(super.add(a),!this._isAttached){const v=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(v)):this._addEventListeners(v),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=v.style.cursor,v.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const a=this._document.body;a.removeEventListener("pointerdown",this._pointerDownListener,!0),a.removeEventListener("click",this._clickListener,!0),a.removeEventListener("auxclick",this._clickListener,!0),a.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(a.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(a){a.addEventListener("pointerdown",this._pointerDownListener,!0),a.addEventListener("click",this._clickListener,!0),a.addEventListener("auxclick",this._clickListener,!0),a.addEventListener("contextmenu",this._clickListener,!0)}}return x.\u0275fac=function(a){return new(a||x)(b.LFG(M.K0),b.LFG(Le.t4),b.LFG(b.R0b,8))},x.\u0275prov=b.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})(),yi=(()=>{class x{constructor(a,v){this._platform=v,this._document=a}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const a="cdk-overlay-container";if(this._platform.isBrowser||(0,Le.Oy)()){const N=this._document.querySelectorAll(`.${a}[platform="server"], .${a}[platform="test"]`);for(let q=0;q<N.length;q++)N[q].remove()}const v=this._document.createElement("div");v.classList.add(a),(0,Le.Oy)()?v.setAttribute("platform","test"):this._platform.isBrowser||v.setAttribute("platform","server"),this._document.body.appendChild(v),this._containerElement=v}}return x.\u0275fac=function(a){return new(a||x)(b.LFG(M.K0),b.LFG(Le.t4))},x.\u0275prov=b.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();class bt{constructor(S,a,v,N,q,He,yt,yn,Xn,In=!1){this._portalOutlet=S,this._host=a,this._pane=v,this._config=N,this._ngZone=q,this._keyboardDispatcher=He,this._document=yt,this._location=yn,this._outsideClickDispatcher=Xn,this._animationsDisabled=In,this._backdropElement=null,this._backdropClick=new Ve.x,this._attachments=new Ve.x,this._detachments=new Ve.x,this._locationChanges=at.w0.EMPTY,this._backdropClickHandler=ji=>this._backdropClick.next(ji),this._backdropTransitionendHandler=ji=>{this._disposeBackdrop(ji.target)},this._keydownEvents=new Ve.x,this._outsidePointerEvents=new Ve.x,N.scrollStrategy&&(this._scrollStrategy=N.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=N.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(S){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const a=this._portalOutlet.attach(S);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,tt.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof a?.onDestroy&&a.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),a}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const S=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),S}dispose(){const S=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,S&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(S){S!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=S,this.hasAttached()&&(S.attach(this),this.updatePosition()))}updateSize(S){this._config={...this._config,...S},this._updateElementSize()}setDirection(S){this._config={...this._config,direction:S},this._updateElementDirection()}addPanelClass(S){this._pane&&this._toggleClasses(this._pane,S,!0)}removePanelClass(S){this._pane&&this._toggleClasses(this._pane,S,!1)}getDirection(){const S=this._config.direction;return S?"string"==typeof S?S:S.value:"ltr"}updateScrollStrategy(S){S!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=S,this.hasAttached()&&(S.attach(this),S.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const S=this._pane.style;S.width=(0,W.HM)(this._config.width),S.height=(0,W.HM)(this._config.height),S.minWidth=(0,W.HM)(this._config.minWidth),S.minHeight=(0,W.HM)(this._config.minHeight),S.maxWidth=(0,W.HM)(this._config.maxWidth),S.maxHeight=(0,W.HM)(this._config.maxHeight)}_togglePointerEvents(S){this._pane.style.pointerEvents=S?"":"none"}_attachBackdrop(){const S="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(S)})}):this._backdropElement.classList.add(S)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const S=this._backdropElement;if(S){if(this._animationsDisabled)return void this._disposeBackdrop(S);S.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{S.addEventListener("transitionend",this._backdropTransitionendHandler)}),S.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(S)},500))}}_toggleClasses(S,a,v){const N=(0,W.Eq)(a||[]).filter(q=>!!q);N.length&&(v?S.classList.add(...N):S.classList.remove(...N))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const S=this._ngZone.onStable.pipe((0,xt.R)((0,Ae.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),S.unsubscribe())})})}_disposeScrollStrategy(){const S=this._scrollStrategy;S&&(S.disable(),S.detach&&S.detach())}_disposeBackdrop(S){S&&(S.removeEventListener("click",this._backdropClickHandler),S.removeEventListener("transitionend",this._backdropTransitionendHandler),S.remove(),this._backdropElement===S&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const It="cdk-overlay-connected-position-bounding-box",qt=/([A-Za-z%]+)$/;class en{constructor(S,a,v,N,q){this._viewportRuler=a,this._document=v,this._platform=N,this._overlayContainer=q,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ve.x,this._resizeSubscription=at.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(S)}get positions(){return this._preferredPositions}attach(S){this._validatePositions(),S.hostElement.classList.add(It),this._overlayRef=S,this._boundingBox=S.hostElement,this._pane=S.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const S=this._originRect,a=this._overlayRect,v=this._viewportRect,N=this._containerRect,q=[];let He;for(let yt of this._preferredPositions){let yn=this._getOriginPoint(S,N,yt),Xn=this._getOverlayPoint(yn,a,yt),In=this._getOverlayFit(Xn,a,v,yt);if(In.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(yt,yn);this._canFitWithFlexibleDimensions(In,Xn,v)?q.push({position:yt,origin:yn,overlayRect:a,boundingBoxRect:this._calculateBoundingBoxRect(yn,yt)}):(!He||He.overlayFit.visibleArea<In.visibleArea)&&(He={overlayFit:In,overlayPoint:Xn,originPoint:yn,position:yt,overlayRect:a})}if(q.length){let yt=null,yn=-1;for(const Xn of q){const In=Xn.boundingBoxRect.width*Xn.boundingBoxRect.height*(Xn.position.weight||1);In>yn&&(yn=In,yt=Xn)}return this._isPushed=!1,void this._applyPosition(yt.position,yt.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(He.position,He.originPoint);this._applyPosition(He.position,He.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ht(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(It),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const S=this._lastPosition;if(S){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const a=this._getOriginPoint(this._originRect,this._containerRect,S);this._applyPosition(S,a)}else this.apply()}withScrollableContainers(S){return this._scrollables=S,this}withPositions(S){return this._preferredPositions=S,-1===S.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(S){return this._viewportMargin=S,this}withFlexibleDimensions(S=!0){return this._hasFlexibleDimensions=S,this}withGrowAfterOpen(S=!0){return this._growAfterOpen=S,this}withPush(S=!0){return this._canPush=S,this}withLockedPosition(S=!0){return this._positionLocked=S,this}setOrigin(S){return this._origin=S,this}withDefaultOffsetX(S){return this._offsetX=S,this}withDefaultOffsetY(S){return this._offsetY=S,this}withTransformOriginOn(S){return this._transformOriginSelector=S,this}_getOriginPoint(S,a,v){let N,q;if("center"==v.originX)N=S.left+S.width/2;else{const He=this._isRtl()?S.right:S.left,yt=this._isRtl()?S.left:S.right;N="start"==v.originX?He:yt}return a.left<0&&(N-=a.left),q="center"==v.originY?S.top+S.height/2:"top"==v.originY?S.top:S.bottom,a.top<0&&(q-=a.top),{x:N,y:q}}_getOverlayPoint(S,a,v){let N,q;return N="center"==v.overlayX?-a.width/2:"start"===v.overlayX?this._isRtl()?-a.width:0:this._isRtl()?0:-a.width,q="center"==v.overlayY?-a.height/2:"top"==v.overlayY?0:-a.height,{x:S.x+N,y:S.y+q}}_getOverlayFit(S,a,v,N){const q=xn(a);let{x:He,y:yt}=S,yn=this._getOffset(N,"x"),Xn=this._getOffset(N,"y");yn&&(He+=yn),Xn&&(yt+=Xn);let _r=0-yt,ws=yt+q.height-v.height,rl=this._subtractOverflows(q.width,0-He,He+q.width-v.width),Po=this._subtractOverflows(q.height,_r,ws),ya=rl*Po;return{visibleArea:ya,isCompletelyWithinViewport:q.width*q.height===ya,fitsInViewportVertically:Po===q.height,fitsInViewportHorizontally:rl==q.width}}_canFitWithFlexibleDimensions(S,a,v){if(this._hasFlexibleDimensions){const N=v.bottom-a.y,q=v.right-a.x,He=Dt(this._overlayRef.getConfig().minHeight),yt=Dt(this._overlayRef.getConfig().minWidth),Xn=S.fitsInViewportHorizontally||null!=yt&&yt<=q;return(S.fitsInViewportVertically||null!=He&&He<=N)&&Xn}return!1}_pushOverlayOnScreen(S,a,v){if(this._previousPushAmount&&this._positionLocked)return{x:S.x+this._previousPushAmount.x,y:S.y+this._previousPushAmount.y};const N=xn(a),q=this._viewportRect,He=Math.max(S.x+N.width-q.width,0),yt=Math.max(S.y+N.height-q.height,0),yn=Math.max(q.top-v.top-S.y,0),Xn=Math.max(q.left-v.left-S.x,0);let In=0,ji=0;return In=N.width<=q.width?Xn||-He:S.x<this._viewportMargin?q.left-v.left-S.x:0,ji=N.height<=q.height?yn||-yt:S.y<this._viewportMargin?q.top-v.top-S.y:0,this._previousPushAmount={x:In,y:ji},{x:S.x+In,y:S.y+ji}}_applyPosition(S,a){if(this._setTransformOrigin(S),this._setOverlayElementStyles(a,S),this._setBoundingBoxStyles(a,S),S.panelClass&&this._addPanelClasses(S.panelClass),this._lastPosition=S,this._positionChanges.observers.length){const v=this._getScrollVisibility(),N=new pn(S,v);this._positionChanges.next(N)}this._isInitialRender=!1}_setTransformOrigin(S){if(!this._transformOriginSelector)return;const a=this._boundingBox.querySelectorAll(this._transformOriginSelector);let v,N=S.overlayY;v="center"===S.overlayX?"center":this._isRtl()?"start"===S.overlayX?"right":"left":"start"===S.overlayX?"left":"right";for(let q=0;q<a.length;q++)a[q].style.transformOrigin=`${v} ${N}`}_calculateBoundingBoxRect(S,a){const v=this._viewportRect,N=this._isRtl();let q,He,yt,In,ji,_r;if("top"===a.overlayY)He=S.y,q=v.height-He+this._viewportMargin;else if("bottom"===a.overlayY)yt=v.height-S.y+2*this._viewportMargin,q=v.height-yt+this._viewportMargin;else{const ws=Math.min(v.bottom-S.y+v.top,S.y),rl=this._lastBoundingBoxSize.height;q=2*ws,He=S.y-ws,q>rl&&!this._isInitialRender&&!this._growAfterOpen&&(He=S.y-rl/2)}if("end"===a.overlayX&&!N||"start"===a.overlayX&&N)_r=v.width-S.x+this._viewportMargin,In=S.x-this._viewportMargin;else if("start"===a.overlayX&&!N||"end"===a.overlayX&&N)ji=S.x,In=v.right-S.x;else{const ws=Math.min(v.right-S.x+v.left,S.x),rl=this._lastBoundingBoxSize.width;In=2*ws,ji=S.x-ws,In>rl&&!this._isInitialRender&&!this._growAfterOpen&&(ji=S.x-rl/2)}return{top:He,left:ji,bottom:yt,right:_r,width:In,height:q}}_setBoundingBoxStyles(S,a){const v=this._calculateBoundingBoxRect(S,a);!this._isInitialRender&&!this._growAfterOpen&&(v.height=Math.min(v.height,this._lastBoundingBoxSize.height),v.width=Math.min(v.width,this._lastBoundingBoxSize.width));const N={};if(this._hasExactPosition())N.top=N.left="0",N.bottom=N.right=N.maxHeight=N.maxWidth="",N.width=N.height="100%";else{const q=this._overlayRef.getConfig().maxHeight,He=this._overlayRef.getConfig().maxWidth;N.height=(0,W.HM)(v.height),N.top=(0,W.HM)(v.top),N.bottom=(0,W.HM)(v.bottom),N.width=(0,W.HM)(v.width),N.left=(0,W.HM)(v.left),N.right=(0,W.HM)(v.right),N.alignItems="center"===a.overlayX?"center":"end"===a.overlayX?"flex-end":"flex-start",N.justifyContent="center"===a.overlayY?"center":"bottom"===a.overlayY?"flex-end":"flex-start",q&&(N.maxHeight=(0,W.HM)(q)),He&&(N.maxWidth=(0,W.HM)(He))}this._lastBoundingBoxSize=v,Ht(this._boundingBox.style,N)}_resetBoundingBoxStyles(){Ht(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ht(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(S,a){const v={},N=this._hasExactPosition(),q=this._hasFlexibleDimensions,He=this._overlayRef.getConfig();if(N){const In=this._viewportRuler.getViewportScrollPosition();Ht(v,this._getExactOverlayY(a,S,In)),Ht(v,this._getExactOverlayX(a,S,In))}else v.position="static";let yt="",yn=this._getOffset(a,"x"),Xn=this._getOffset(a,"y");yn&&(yt+=`translateX(${yn}px) `),Xn&&(yt+=`translateY(${Xn}px)`),v.transform=yt.trim(),He.maxHeight&&(N?v.maxHeight=(0,W.HM)(He.maxHeight):q&&(v.maxHeight="")),He.maxWidth&&(N?v.maxWidth=(0,W.HM)(He.maxWidth):q&&(v.maxWidth="")),Ht(this._pane.style,v)}_getExactOverlayY(S,a,v){let N={top:"",bottom:""},q=this._getOverlayPoint(a,this._overlayRect,S);return this._isPushed&&(q=this._pushOverlayOnScreen(q,this._overlayRect,v)),"bottom"===S.overlayY?N.bottom=this._document.documentElement.clientHeight-(q.y+this._overlayRect.height)+"px":N.top=(0,W.HM)(q.y),N}_getExactOverlayX(S,a,v){let He,N={left:"",right:""},q=this._getOverlayPoint(a,this._overlayRect,S);return this._isPushed&&(q=this._pushOverlayOnScreen(q,this._overlayRect,v)),He=this._isRtl()?"end"===S.overlayX?"left":"right":"end"===S.overlayX?"right":"left","right"===He?N.right=this._document.documentElement.clientWidth-(q.x+this._overlayRect.width)+"px":N.left=(0,W.HM)(q.x),N}_getScrollVisibility(){const S=this._getOriginRect(),a=this._pane.getBoundingClientRect(),v=this._scrollables.map(N=>N.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Te(S,v),isOriginOutsideView:je(S,v),isOverlayClipped:Te(a,v),isOverlayOutsideView:je(a,v)}}_subtractOverflows(S,...a){return a.reduce((v,N)=>v-Math.max(N,0),S)}_getNarrowedViewportRect(){const S=this._document.documentElement.clientWidth,a=this._document.documentElement.clientHeight,v=this._viewportRuler.getViewportScrollPosition();return{top:v.top+this._viewportMargin,left:v.left+this._viewportMargin,right:v.left+S-this._viewportMargin,bottom:v.top+a-this._viewportMargin,width:S-2*this._viewportMargin,height:a-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(S,a){return"x"===a?S.offsetX??this._offsetX:S.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(S){this._pane&&(0,W.Eq)(S).forEach(a=>{""!==a&&-1===this._appliedPanelClasses.indexOf(a)&&(this._appliedPanelClasses.push(a),this._pane.classList.add(a))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(S=>{this._pane.classList.remove(S)}),this._appliedPanelClasses=[])}_getOriginRect(){const S=this._origin;if(S instanceof b.SBq)return S.nativeElement.getBoundingClientRect();if(S instanceof Element)return S.getBoundingClientRect();const a=S.width||0,v=S.height||0;return{top:S.y,bottom:S.y+v,left:S.x,right:S.x+a,height:v,width:a}}}function Ht(x,S){for(let a in S)S.hasOwnProperty(a)&&(x[a]=S[a]);return x}function Dt(x){if("number"!=typeof x&&null!=x){const[S,a]=x.split(qt);return a&&"px"!==a?null:parseFloat(S)}return x||null}function xn(x){return{top:Math.floor(x.top),right:Math.floor(x.right),bottom:Math.floor(x.bottom),left:Math.floor(x.left),width:Math.floor(x.width),height:Math.floor(x.height)}}const on="cdk-global-overlay-wrapper";class Cn{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(S){const a=S.getConfig();this._overlayRef=S,this._width&&!a.width&&S.updateSize({width:this._width}),this._height&&!a.height&&S.updateSize({height:this._height}),S.hostElement.classList.add(on),this._isDisposed=!1}top(S=""){return this._bottomOffset="",this._topOffset=S,this._alignItems="flex-start",this}left(S=""){return this._xOffset=S,this._xPosition="left",this}bottom(S=""){return this._topOffset="",this._bottomOffset=S,this._alignItems="flex-end",this}right(S=""){return this._xOffset=S,this._xPosition="right",this}start(S=""){return this._xOffset=S,this._xPosition="start",this}end(S=""){return this._xOffset=S,this._xPosition="end",this}width(S=""){return this._overlayRef?this._overlayRef.updateSize({width:S}):this._width=S,this}height(S=""){return this._overlayRef?this._overlayRef.updateSize({height:S}):this._height=S,this}centerHorizontally(S=""){return this.left(S),this._xPosition="center",this}centerVertically(S=""){return this.top(S),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const S=this._overlayRef.overlayElement.style,a=this._overlayRef.hostElement.style,v=this._overlayRef.getConfig(),{width:N,height:q,maxWidth:He,maxHeight:yt}=v,yn=!("100%"!==N&&"100vw"!==N||He&&"100%"!==He&&"100vw"!==He),Xn=!("100%"!==q&&"100vh"!==q||yt&&"100%"!==yt&&"100vh"!==yt),In=this._xPosition,ji=this._xOffset,_r="rtl"===this._overlayRef.getConfig().direction;let ws="",rl="",Po="";yn?Po="flex-start":"center"===In?(Po="center",_r?rl=ji:ws=ji):_r?"left"===In||"end"===In?(Po="flex-end",ws=ji):("right"===In||"start"===In)&&(Po="flex-start",rl=ji):"left"===In||"start"===In?(Po="flex-start",ws=ji):("right"===In||"end"===In)&&(Po="flex-end",rl=ji),S.position=this._cssPosition,S.marginLeft=yn?"0":ws,S.marginTop=Xn?"0":this._topOffset,S.marginBottom=this._bottomOffset,S.marginRight=yn?"0":rl,a.justifyContent=Po,a.alignItems=Xn?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const S=this._overlayRef.overlayElement.style,a=this._overlayRef.hostElement,v=a.style;a.classList.remove(on),v.justifyContent=v.alignItems=S.marginTop=S.marginBottom=S.marginLeft=S.marginRight=S.position="",this._overlayRef=null,this._isDisposed=!0}}let tn=(()=>{class x{constructor(a,v,N,q){this._viewportRuler=a,this._document=v,this._platform=N,this._overlayContainer=q}global(){return new Cn}flexibleConnectedTo(a){return new en(a,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return x.\u0275fac=function(a){return new(a||x)(b.LFG(kt.rL),b.LFG(M.K0),b.LFG(Le.t4),b.LFG(yi))},x.\u0275prov=b.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})(),Mn=0,jt=(()=>{class x{constructor(a,v,N,q,He,yt,yn,Xn,In,ji,_r,ws){this.scrollStrategies=a,this._overlayContainer=v,this._componentFactoryResolver=N,this._positionBuilder=q,this._keyboardDispatcher=He,this._injector=yt,this._ngZone=yn,this._document=Xn,this._directionality=In,this._location=ji,this._outsideClickDispatcher=_r,this._animationsModuleType=ws}create(a){const v=this._createHostElement(),N=this._createPaneElement(v),q=this._createPortalOutlet(N),He=new lt(a);return He.direction=He.direction||this._directionality.value,new bt(q,v,N,He,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(a){const v=this._document.createElement("div");return v.id="cdk-overlay-"+Mn++,v.classList.add("cdk-overlay-pane"),a.appendChild(v),v}_createHostElement(){const a=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(a),a}_createPortalOutlet(a){return this._appRef||(this._appRef=this._injector.get(b.z2F)),new J.u0(a,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return x.\u0275fac=function(a){return new(a||x)(b.LFG(ct),b.LFG(yi),b.LFG(b._Vd),b.LFG(tn),b.LFG(or),b.LFG(b.zs3),b.LFG(b.R0b),b.LFG(M.K0),b.LFG(it.Is),b.LFG(M.Ye),b.LFG(Ei),b.LFG(b.QbO,8))},x.\u0275prov=b.Yz7({token:x,factory:x.\u0275fac}),x})();const li={provide:new b.OlP("cdk-connected-overlay-scroll-strategy"),deps:[jt],useFactory:function dn(x){return()=>x.scrollStrategies.reposition()}};let bn=(()=>{class x{}return x.\u0275fac=function(a){return new(a||x)},x.\u0275mod=b.oAB({type:x}),x.\u0275inj=b.cJS({providers:[jt,li],imports:[it.vT,J.eL,kt.Cl,kt.Cl]}),x})();var Qt=z(9521),$n=(z(4006),z(9549)),Ot=z(8675),we=(z(3900),z(9300));z(4004),z(8505),z(1005);const br={provide:new b.OlP("mat-autocomplete-scroll-strategy"),deps:[jt],useFactory:function Ii(x){return()=>x.scrollStrategies.reposition()}};let _e=(()=>{class x{}return x.\u0275fac=function(a){return new(a||x)},x.\u0275mod=b.oAB({type:x}),x.\u0275inj=b.cJS({providers:[br],imports:[bn,be.Ng,be.BQ,M.ez,kt.ZD,be.Ng,be.BQ]}),x})();var Ce=z(2693),gt=z(9643);let Yi=(()=>{class x{}return x.\u0275fac=function(a){return new(a||x)},x.\u0275mod=b.oAB({type:x}),x.\u0275inj=b.cJS({}),x})(),Ji=(()=>{class x{}return x.\u0275fac=function(a){return new(a||x)},x.\u0275mod=b.oAB({type:x}),x.\u0275inj=b.cJS({imports:[be.si,be.BQ,gt.Q8,Yi,be.BQ,Yi]}),x})(),Is=(()=>{class x{}return x.\u0275fac=function(a){return new(a||x)},x.\u0275mod=b.oAB({type:x}),x.\u0275inj=b.cJS({imports:[be.si,be.BQ,be.BQ]}),x})();var Ft=z(7340),to=z(4144);let ca=(()=>{class x{constructor(){this.changes=new Ve.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(a,v){return`${a} \u2013 ${v}`}formatYearRangeLabel(a,v){return`${a} to ${v}`}}return x.\u0275fac=function(a){return new(a||x)},x.\u0275prov=b.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();const qs={provide:new b.OlP("mat-datepicker-scroll-strategy"),deps:[jt],useFactory:function jr(x){return()=>x.scrollStrategies.reposition()}};let Br=(()=>{class x{}return x.\u0275fac=function(a){return new(a||x)},x.\u0275mod=b.oAB({type:x}),x.\u0275inj=b.cJS({providers:[ca,qs],imports:[M.ez,Is,bn,Ce.rt,J.eL,be.BQ,kt.ZD]}),x})();z(5017);let Yl=(()=>{class x{}return x.\u0275fac=function(a){return new(a||x)},x.\u0275mod=b.oAB({type:x}),x.\u0275inj=b.cJS({imports:[be.si,be.BQ,be.BQ]}),x})();const el={provide:new b.OlP("mat-select-scroll-strategy"),deps:[jt],useFactory:function fl(x){return()=>x.scrollStrategies.reposition()}};let pa=(()=>{class x{}return x.\u0275fac=function(a){return new(a||x)},x.\u0275mod=b.oAB({type:x}),x.\u0275inj=b.cJS({providers:[el],imports:[M.ez,bn,be.Ng,be.BQ,kt.ZD,$n.lN,be.Ng,be.BQ]}),x})(),sr=(()=>{class x{}return x.\u0275fac=function(a){return new(a||x)},x.\u0275mod=b.oAB({type:x}),x.\u0275inj=b.cJS({imports:[M.ez,be.BQ,be.BQ]}),x})(),so=(()=>{class x{}return x.\u0275fac=function(a){return new(a||x)},x.\u0275mod=b.oAB({type:x}),x.\u0275inj=b.cJS({}),x})(),_c=(()=>{class x{}return x.\u0275fac=function(a){return new(a||x)},x.\u0275mod=b.oAB({type:x}),x.\u0275inj=b.cJS({imports:[so,be.si,be.BQ,gt.Q8,so,be.BQ]}),x})();const $a={provide:new b.OlP("mat-menu-scroll-strategy"),deps:[jt],useFactory:function Id(x){return()=>x.scrollStrategies.reposition()}};let yu=(()=>{class x{}return x.\u0275fac=function(a){return new(a||x)},x.\u0275mod=b.oAB({type:x}),x.\u0275inj=b.cJS({providers:[$a],imports:[M.ez,be.BQ,be.si,bn,kt.ZD,be.BQ]}),x})(),Ie=(()=>{class x{}return x.\u0275fac=function(a){return new(a||x)},x.\u0275mod=b.oAB({type:x}),x.\u0275inj=b.cJS({imports:[M.ez,be.BQ,kt.ZD,kt.ZD,be.BQ]}),x})(),kr=(()=>{class x{}return x.\u0275fac=function(a){return new(a||x)},x.\u0275mod=b.oAB({type:x}),x.\u0275inj=b.cJS({imports:[be.BQ,be.BQ]}),x})();var fs=z(3546);let ko=(()=>{class x{}return x.\u0275fac=function(a){return new(a||x)},x.\u0275mod=b.oAB({type:x}),x.\u0275inj=b.cJS({imports:[be.BQ,be.BQ]}),x})();var Eo=z(7084);let oh=(()=>{class x{}return x.\u0275fac=function(a){return new(a||x)},x.\u0275mod=b.oAB({type:x}),x.\u0275inj=b.cJS({imports:[be.uc,be.BQ,be.uc,be.BQ]}),x})(),se=(()=>{class x{}return x.\u0275fac=function(a){return new(a||x)},x.\u0275mod=b.oAB({type:x}),x.\u0275inj=b.cJS({imports:[be.uc,be.si,be.BQ,be.us,M.ez,be.uc,be.BQ,be.us,ko]}),x})(),Cc=(()=>{class x{}return x.\u0275fac=function(a){return new(a||x)},x.\u0275mod=b.oAB({type:x}),x.\u0275inj=b.cJS({imports:[it.vT]}),x})();var Pl=z(7392);let Fl=(()=>{class x{constructor(){this.changes=new Ve.x,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}}return x.\u0275fac=function(a){return new(a||x)},x.\u0275prov=b.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();const Of={provide:Fl,deps:[[new b.FiY,new b.tp0,Fl]],useFactory:function Hp(x){return x||new Fl}};let nf=(()=>{class x{}return x.\u0275fac=function(a){return new(a||x)},x.\u0275mod=b.oAB({type:x}),x.\u0275inj=b.cJS({providers:[Of,be.rD],imports:[be.BQ,M.ez,J.eL,Is,Cc,Pl.Ps,be.si,be.BQ]}),x})();var Vd=z(3848);z(1135),z(9751),z(576);let nc=(()=>{class x{}return x.\u0275fac=function(a){return new(a||x)},x.\u0275mod=b.oAB({type:x}),x.\u0275inj=b.cJS({}),x})(),$o=(()=>{class x{}return x.\u0275fac=function(a){return new(a||x)},x.\u0275mod=b.oAB({type:x}),x.\u0275inj=b.cJS({imports:[nc,be.BQ,be.BQ]}),x})(),Qc=(()=>{class x{}return x.\u0275fac=function(a){return new(a||x)},x.\u0275mod=b.oAB({type:x}),x.\u0275inj=b.cJS({imports:[be.BQ,be.si,be.BQ]}),x})(),ph=(()=>{class x{}return x.\u0275fac=function(a){return new(a||x)},x.\u0275mod=b.oAB({type:x}),x.\u0275inj=b.cJS({imports:[Ce.rt,be.BQ,be.BQ]}),x})();const Cs=new b.OlP("mat-chips-default-options");let Bu=(()=>{class x{}return x.\u0275fac=function(a){return new(a||x)},x.\u0275mod=b.oAB({type:x}),x.\u0275inj=b.cJS({providers:[be.rD,{provide:Cs,useValue:{separatorKeyCodes:[Qt.K5]}}],imports:[be.BQ]}),x})();function iu(x,S){if(1&x&&(b.O4$(),b._UZ(0,"circle",4)),2&x){const a=b.oxw(),v=b.MAs(1);b.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+a._spinnerAnimationLabel)("stroke-dashoffset",a._getStrokeDashOffset(),"px")("stroke-dasharray",a._getStrokeCircumference(),"px")("stroke-width",a._getCircleStrokeWidth(),"%")("transform-origin",a._getCircleTransformOrigin(v)),b.uIk("r",a._getCircleRadius())}}function _h(x,S){if(1&x&&(b.O4$(),b._UZ(0,"circle",4)),2&x){const a=b.oxw(),v=b.MAs(1);b.Udp("stroke-dashoffset",a._getStrokeDashOffset(),"px")("stroke-dasharray",a._getStrokeCircumference(),"px")("stroke-width",a._getCircleStrokeWidth(),"%")("transform-origin",a._getCircleTransformOrigin(v)),b.uIk("r",a._getCircleRadius())}}const ad=(0,be.pj)(class{constructor(x){this._elementRef=x}},"primary"),vh=new b.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function L(){return{diameter:100}}});class T extends ad{constructor(S,a,v,N,q,He,yt,yn){super(S),this._document=v,this._diameter=100,this._value=0,this._resizeSubscription=at.w0.EMPTY,this.mode="determinate";const Xn=T._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),Xn.has(v.head)||Xn.set(v.head,new Set([100])),this._noopAnimations="NoopAnimations"===N&&!!q&&!q._forceAnimations,"mat-spinner"===S.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),q&&(q.color&&(this.color=this.defaultColor=q.color),q.diameter&&(this.diameter=q.diameter),q.strokeWidth&&(this.strokeWidth=q.strokeWidth)),a.isBrowser&&a.SAFARI&&yt&&He&&yn&&(this._resizeSubscription=yt.change(150).subscribe(()=>{"indeterminate"===this.mode&&yn.run(()=>He.markForCheck())}))}get diameter(){return this._diameter}set diameter(S){this._diameter=(0,W.su)(S),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(S){this._strokeWidth=(0,W.su)(S)}get value(){return"determinate"===this.mode?this._value:0}set value(S){this._value=Math.max(0,Math.min(100,(0,W.su)(S)))}ngOnInit(){const S=this._elementRef.nativeElement;this._styleRoot=(0,Le.kV)(S)||this._document.head,this._attachStyleNode(),S.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const S=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${S} ${S}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(S){const a=50*(S.currentScale??1);return`${a}% ${a}%`}_attachStyleNode(){const S=this._styleRoot,a=this._diameter,v=T._diameters;let N=v.get(S);if(!N||!N.has(a)){const q=this._document.createElement("style");q.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),q.textContent=this._getAnimationText(),S.appendChild(q),N||(N=new Set,v.set(S,N)),N.add(a)}}_getAnimationText(){const S=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*S).replace(/END_VALUE/g,""+.2*S).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}T._diameters=new WeakMap,T.\u0275fac=function(S){return new(S||T)(b.Y36(b.SBq),b.Y36(Le.t4),b.Y36(M.K0,8),b.Y36(b.QbO,8),b.Y36(vh),b.Y36(b.sBO),b.Y36(kt.rL),b.Y36(b.R0b))},T.\u0275cmp=b.Xpm({type:T,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(S,a){2&S&&(b.uIk("aria-valuemin","determinate"===a.mode?0:null)("aria-valuemax","determinate"===a.mode?100:null)("aria-valuenow","determinate"===a.mode?a.value:null)("mode",a.mode),b.Udp("width",a.diameter,"px")("height",a.diameter,"px"),b.ekj("_mat-animation-noopable",a._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[b.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(S,a){1&S&&(b.O4$(),b.TgZ(0,"svg",0,1),b.YNc(2,iu,1,11,"circle",2),b.YNc(3,_h,1,9,"circle",3),b.qZA()),2&S&&(b.Udp("width",a.diameter,"px")("height",a.diameter,"px"),b.Q6J("ngSwitch","indeterminate"===a.mode),b.uIk("viewBox",a._getViewBox()),b.xp6(2),b.Q6J("ngSwitchCase",!0),b.xp6(1),b.Q6J("ngSwitchCase",!1))},dependencies:[M.RF,M.n9],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:rgba(0,0,0,0);transition:stroke-dashoffset 225ms linear}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}.mat-progress-spinner[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}.mat-progress-spinner._mat-animation-noopable svg,.mat-progress-spinner._mat-animation-noopable circle{animation:none;transition:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}"],encapsulation:2,changeDetection:0});let U=(()=>{class x{}return x.\u0275fac=function(a){return new(a||x)},x.\u0275mod=b.oAB({type:x}),x.\u0275inj=b.cJS({imports:[be.BQ,M.ez,be.BQ]}),x})(),vl=(()=>{class x{}return x.\u0275fac=function(a){return new(a||x)},x.\u0275mod=b.oAB({type:x}),x.\u0275inj=b.cJS({imports:[M.ez,be.BQ,be.BQ]}),x})();function Bh(x,S){}class Vu{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let oc=(()=>{class x extends J.en{constructor(a,v,N,q,He,yt,yn,Xn){super(),this._elementRef=a,this._focusTrapFactory=v,this._config=q,this._interactivityChecker=He,this._ngZone=yt,this._overlayRef=yn,this._focusMonitor=Xn,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=In=>{this._portalOutlet.hasAttached();const ji=this._portalOutlet.attachDomPortal(In);return this._contentAttached(),ji},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=N}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(a){this._portalOutlet.hasAttached();const v=this._portalOutlet.attachComponentPortal(a);return this._contentAttached(),v}attachTemplatePortal(a){this._portalOutlet.hasAttached();const v=this._portalOutlet.attachTemplatePortal(a);return this._contentAttached(),v}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(a,v){this._interactivityChecker.isFocusable(a)||(a.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const N=()=>{a.removeEventListener("blur",N),a.removeEventListener("mousedown",N),a.removeAttribute("tabindex")};a.addEventListener("blur",N),a.addEventListener("mousedown",N)})),a.focus(v)}_focusByCssSelector(a,v){let N=this._elementRef.nativeElement.querySelector(a);N&&this._forceFocus(N,v)}_trapFocus(){const a=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||a.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(v=>{v||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const a=this._config.restoreFocus;let v=null;if("string"==typeof a?v=this._document.querySelector(a):"boolean"==typeof a?v=a?this._elementFocusedBeforeDialogWasOpened:null:a&&(v=a),this._config.restoreFocus&&v&&"function"==typeof v.focus){const N=(0,Le.ht)(),q=this._elementRef.nativeElement;(!N||N===this._document.body||N===q||q.contains(N))&&(this._focusMonitor?(this._focusMonitor.focusVia(v,this._closeInteractionType),this._closeInteractionType=null):v.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const a=this._elementRef.nativeElement,v=(0,Le.ht)();return a===v||a.contains(v)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,Le.ht)())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return x.\u0275fac=function(a){return new(a||x)(b.Y36(b.SBq),b.Y36(Ce.qV),b.Y36(M.K0,8),b.Y36(Vu),b.Y36(Ce.ic),b.Y36(b.R0b),b.Y36(bt),b.Y36(Ce.tE))},x.\u0275cmp=b.Xpm({type:x,selectors:[["cdk-dialog-container"]],viewQuery:function(a,v){if(1&a&&b.Gf(J.Pl,7),2&a){let N;b.iGM(N=b.CRH())&&(v._portalOutlet=N.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(a,v){2&a&&b.uIk("id",v._config.id||null)("role",v._config.role)("aria-modal",v._config.ariaModal)("aria-labelledby",v._config.ariaLabel?null:v._ariaLabelledBy)("aria-label",v._config.ariaLabel)("aria-describedby",v._config.ariaDescribedBy||null)},features:[b.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(a,v){1&a&&b.YNc(0,Bh,0,0,"ng-template",0)},dependencies:[J.Pl],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),x})();class yl{constructor(S,a){this.overlayRef=S,this.config=a,this.closed=new Ve.x,this.disableClose=a.disableClose,this.backdropClick=S.backdropClick(),this.keydownEvents=S.keydownEvents(),this.outsidePointerEvents=S.outsidePointerEvents(),this.id=a.id,this.keydownEvents.subscribe(v=>{v.keyCode===Qt.hY&&!this.disableClose&&!(0,Qt.Vb)(v)&&(v.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(S,a){if(this.containerInstance){const v=this.closed;this.containerInstance._closeInteractionType=a?.focusOrigin||"program",this.overlayRef.dispose(),v.next(S),v.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(S="",a=""){return this.overlayRef.updateSize({width:S,height:a}),this}addPanelClass(S){return this.overlayRef.addPanelClass(S),this}removePanelClass(S){return this.overlayRef.removePanelClass(S),this}}const ld=new b.OlP("DialogScrollStrategy"),Vh=new b.OlP("DialogData"),pf=new b.OlP("DefaultDialogConfig"),yh={provide:ld,deps:[jt],useFactory:function cd(x){return()=>x.scrollStrategies.block()}};let Kd=0,bh=(()=>{class x{constructor(a,v,N,q,He,yt){this._overlay=a,this._injector=v,this._defaultOptions=N,this._parentDialog=q,this._overlayContainer=He,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ve.x,this._afterOpenedAtThisLevel=new Ve.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,qe.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,Ot.O)(void 0))),this._scrollStrategy=yt}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(a,v){(v={...this._defaultOptions||new Vu,...v}).id=v.id||"cdk-dialog-"+Kd++,v.id&&this.getDialogById(v.id);const q=this._getOverlayConfig(v),He=this._overlay.create(q),yt=new yl(He,v),yn=this._attachContainer(He,yt,v);return yt.containerInstance=yn,this._attachDialogContent(a,yt,yn,v),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(yt),yt.closed.subscribe(()=>this._removeOpenDialog(yt,!0)),this.afterOpened.next(yt),yt}closeAll(){fo(this.openDialogs,a=>a.close())}getDialogById(a){return this.openDialogs.find(v=>v.id===a)}ngOnDestroy(){fo(this._openDialogsAtThisLevel,a=>{!1===a.config.closeOnDestroy&&this._removeOpenDialog(a,!1)}),fo(this._openDialogsAtThisLevel,a=>a.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(a){const v=new lt({positionStrategy:a.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:a.scrollStrategy||this._scrollStrategy(),panelClass:a.panelClass,hasBackdrop:a.hasBackdrop,direction:a.direction,minWidth:a.minWidth,minHeight:a.minHeight,maxWidth:a.maxWidth,maxHeight:a.maxHeight,width:a.width,height:a.height,disposeOnNavigation:a.closeOnNavigation});return a.backdropClass&&(v.backdropClass=a.backdropClass),v}_attachContainer(a,v,N){const q=N.injector||N.viewContainerRef?.injector,He=[{provide:Vu,useValue:N},{provide:yl,useValue:v},{provide:bt,useValue:a}];let yt;N.container?"function"==typeof N.container?yt=N.container:(yt=N.container.type,He.push(...N.container.providers(N))):yt=oc;const yn=new J.C5(yt,N.viewContainerRef,b.zs3.create({parent:q||this._injector,providers:He}),N.componentFactoryResolver);return a.attach(yn).instance}_attachDialogContent(a,v,N,q){if(a instanceof b.Rgc){const He=this._createInjector(q,v,N,void 0);let yt={$implicit:q.data,dialogRef:v};q.templateContext&&(yt={...yt,..."function"==typeof q.templateContext?q.templateContext():q.templateContext}),N.attachTemplatePortal(new J.UE(a,null,yt,He))}else{const He=this._createInjector(q,v,N,this._injector),yt=N.attachComponentPortal(new J.C5(a,q.viewContainerRef,He,q.componentFactoryResolver));v.componentInstance=yt.instance}}_createInjector(a,v,N,q){const He=a.injector||a.viewContainerRef?.injector,yt=[{provide:Vh,useValue:a.data},{provide:yl,useValue:v}];return a.providers&&("function"==typeof a.providers?yt.push(...a.providers(v,a,N)):yt.push(...a.providers)),a.direction&&(!He||!He.get(it.Is,null,b.XFs.Optional))&&yt.push({provide:it.Is,useValue:{value:a.direction,change:(0,Ue.of)()}}),b.zs3.create({parent:He||q,providers:yt})}_removeOpenDialog(a,v){const N=this.openDialogs.indexOf(a);N>-1&&(this.openDialogs.splice(N,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((q,He)=>{q?He.setAttribute("aria-hidden",q):He.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),v&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const a=this._overlayContainer.getContainerElement();if(a.parentElement){const v=a.parentElement.children;for(let N=v.length-1;N>-1;N--){const q=v[N];q!==a&&"SCRIPT"!==q.nodeName&&"STYLE"!==q.nodeName&&!q.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(q,q.getAttribute("aria-hidden")),q.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const a=this._parentDialog;return a?a._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return x.\u0275fac=function(a){return new(a||x)(b.LFG(jt),b.LFG(b.zs3),b.LFG(pf,8),b.LFG(x,12),b.LFG(yi),b.LFG(ld))},x.\u0275prov=b.Yz7({token:x,factory:x.\u0275fac}),x})();function fo(x,S){let a=x.length;for(;a--;)S(x[a])}let jp=(()=>{class x{}return x.\u0275fac=function(a){return new(a||x)},x.\u0275mod=b.oAB({type:x}),x.\u0275inj=b.cJS({providers:[bh,yh],imports:[bn,J.eL,Ce.rt,J.eL]}),x})(),Ch=(()=>{class x{}return x.\u0275fac=function(a){return new(a||x)},x.\u0275mod=b.oAB({type:x}),x.\u0275inj=b.cJS({imports:[jp,be.BQ,J.eL,be.BQ]}),x})();function Ps(x,S){}const _a={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},Lf={dialogContainer:(0,Ft.X$)("dialogContainer",[(0,Ft.SB)("void, exit",(0,Ft.oB)({opacity:0,transform:"scale(0.7)"})),(0,Ft.SB)("enter",(0,Ft.oB)({transform:"none"})),(0,Ft.eR)("* => enter",(0,Ft.ru)([(0,Ft.jt)("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",(0,Ft.oB)({transform:"none",opacity:1})),(0,Ft.IO)("@*",(0,Ft.pV)(),{optional:!0})]),_a),(0,Ft.eR)("* => void, * => exit",(0,Ft.ru)([(0,Ft.jt)("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",(0,Ft.oB)({opacity:0})),(0,Ft.IO)("@*",(0,Ft.pV)(),{optional:!0})]),_a)])};class xc{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=_a.params.enterAnimationDuration,this.exitAnimationDuration=_a.params.exitAnimationDuration}}let ud=(()=>{class x extends oc{constructor(a,v,N,q,He,yt,yn,Xn){super(a,v,N,q,He,yt,yn,Xn),this._animationStateChanged=new b.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(a){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:a})}}return x.\u0275fac=function(a){return new(a||x)(b.Y36(b.SBq),b.Y36(Ce.qV),b.Y36(M.K0,8),b.Y36(xc),b.Y36(Ce.ic),b.Y36(b.R0b),b.Y36(bt),b.Y36(Ce.tE))},x.\u0275cmp=b.Xpm({type:x,selectors:[["ng-component"]],features:[b.qOj],decls:0,vars:0,template:function(a,v){},encapsulation:2}),x})(),Gr=(()=>{class x extends ud{constructor(a,v,N,q,He,yt,yn,Xn,In){super(a,v,N,q,He,yt,yn,In),this._changeDetectorRef=Xn,this._state="enter"}_onAnimationDone({toState:a,totalTime:v}){"enter"===a?this._openAnimationDone(v):"exit"===a&&this._animationStateChanged.next({state:"closed",totalTime:v})}_onAnimationStart({toState:a,totalTime:v}){"enter"===a?this._animationStateChanged.next({state:"opening",totalTime:v}):("exit"===a||"void"===a)&&this._animationStateChanged.next({state:"closing",totalTime:v})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||_a.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||_a.params.exitAnimationDuration}}}}return x.\u0275fac=function(a){return new(a||x)(b.Y36(b.SBq),b.Y36(Ce.qV),b.Y36(M.K0,8),b.Y36(xc),b.Y36(Ce.ic),b.Y36(b.R0b),b.Y36(bt),b.Y36(b.sBO),b.Y36(Ce.tE))},x.\u0275cmp=b.Xpm({type:x,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(a,v){1&a&&b.WFA("@dialogContainer.start",function(q){return v._onAnimationStart(q)})("@dialogContainer.done",function(q){return v._onAnimationDone(q)}),2&a&&(b.Ikx("id",v._config.id),b.uIk("aria-modal",v._config.ariaModal)("role",v._config.role)("aria-labelledby",v._config.ariaLabel?null:v._ariaLabelledBy)("aria-label",v._config.ariaLabel)("aria-describedby",v._config.ariaDescribedBy||null),b.d8E("@dialogContainer",v._getAnimationState()))},features:[b.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(a,v){1&a&&b.YNc(0,Ps,0,0,"ng-template",0)},dependencies:[J.Pl],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[Lf.dialogContainer]}}),x})();class Fr{constructor(S,a,v){this._ref=S,this._containerInstance=v,this._afterOpened=new Ve.x,this._beforeClosed=new Ve.x,this._state=0,this.disableClose=a.disableClose,this.id=S.id,v._animationStateChanged.pipe((0,we.h)(N=>"opened"===N.state),(0,tt.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),v._animationStateChanged.pipe((0,we.h)(N=>"closed"===N.state),(0,tt.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),S.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Ae.T)(this.backdropClick(),this.keydownEvents().pipe((0,we.h)(N=>N.keyCode===Qt.hY&&!this.disableClose&&!(0,Qt.Vb)(N)))).subscribe(N=>{this.disableClose||(N.preventDefault(),function il(x,S,a){x._closeInteractionType=S,x.close(a)}(this,"keydown"===N.type?"keyboard":"mouse"))})}close(S){this._result=S,this._containerInstance._animationStateChanged.pipe((0,we.h)(a=>"closing"===a.state),(0,tt.q)(1)).subscribe(a=>{this._beforeClosed.next(S),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),a.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(S){let a=this._ref.config.positionStrategy;return S&&(S.left||S.right)?S.left?a.left(S.left):a.right(S.right):a.centerHorizontally(),S&&(S.top||S.bottom)?S.top?a.top(S.top):a.bottom(S.bottom):a.centerVertically(),this._ref.updatePosition(),this}updateSize(S="",a=""){return this._ref.updateSize(S,a),this}addPanelClass(S){return this._ref.addPanelClass(S),this}removePanelClass(S){return this._ref.removePanelClass(S),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const Gp=new b.OlP("MatDialogData"),Bf=new b.OlP("mat-dialog-default-options"),Vl=new b.OlP("mat-dialog-scroll-strategy"),yp={provide:Vl,deps:[jt],useFactory:function Wp(x){return()=>x.scrollStrategies.block()}};let qd=0,bl=(()=>{class x{constructor(a,v,N,q,He,yt,yn,Xn,In,ji){this._overlay=a,this._defaultOptions=N,this._parentDialog=q,this._dialogRefConstructor=yn,this._dialogContainerType=Xn,this._dialogDataToken=In,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ve.x,this._afterOpenedAtThisLevel=new Ve.x,this._idPrefix="mat-dialog-",this.afterAllClosed=(0,qe.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,Ot.O)(void 0))),this._scrollStrategy=yt,this._dialog=v.get(bh)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const a=this._parentDialog;return a?a._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(a,v){let N;(v={...this._defaultOptions||new xc,...v}).id=v.id||`${this._idPrefix}${qd++}`,v.scrollStrategy=v.scrollStrategy||this._scrollStrategy();const q=this._dialog.open(a,{...v,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:xc,useValue:v},{provide:Vu,useValue:v}]},templateContext:()=>({dialogRef:N}),providers:(He,yt,yn)=>(N=new this._dialogRefConstructor(He,v,yn),N.updatePosition(v?.position),[{provide:this._dialogContainerType,useValue:yn},{provide:this._dialogDataToken,useValue:yt.data},{provide:this._dialogRefConstructor,useValue:N}])});return N.componentInstance=q.componentInstance,this.openDialogs.push(N),this.afterOpened.next(N),N.afterClosed().subscribe(()=>{const He=this.openDialogs.indexOf(N);He>-1&&(this.openDialogs.splice(He,1),this.openDialogs.length||this._getAfterAllClosed().next())}),N}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(a){return this.openDialogs.find(v=>v.id===a)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(a){let v=a.length;for(;v--;)a[v].close()}}return x.\u0275fac=function(a){b.$Z()},x.\u0275prov=b.Yz7({token:x,factory:x.\u0275fac}),x})(),Vf=(()=>{class x extends bl{constructor(a,v,N,q,He,yt,yn,Xn){super(a,v,q,yt,yn,He,Fr,Gr,Gp,Xn)}}return x.\u0275fac=function(a){return new(a||x)(b.LFG(jt),b.LFG(b.zs3),b.LFG(M.Ye,8),b.LFG(Bf,8),b.LFG(Vl),b.LFG(x,12),b.LFG(yi),b.LFG(b.QbO,8))},x.\u0275prov=b.Yz7({token:x,factory:x.\u0275fac}),x})(),l=(()=>{class x{}return x.\u0275fac=function(a){return new(a||x)},x.\u0275mod=b.oAB({type:x}),x.\u0275inj=b.cJS({providers:[Vf,yp],imports:[jp,bn,J.eL,be.BQ,be.BQ]}),x})(),Fe=(()=>{class x{}return x.\u0275fac=function(a){return new(a||x)},x.\u0275mod=b.oAB({type:x}),x.\u0275inj=b.cJS({imports:[bn,J.eL,M.ez,Is,be.BQ,be.BQ]}),x})();const $r={provide:new b.OlP("mat-tooltip-scroll-strategy"),deps:[jt],useFactory:function wi(x){return()=>x.scrollStrategies.reposition({scrollThrottle:20})}};let Hi=(()=>{class x{}return x.\u0275fac=function(a){return new(a||x)},x.\u0275mod=b.oAB({type:x}),x.\u0275inj=b.cJS({providers:[$r],imports:[Ce.rt,M.ez,bn,be.BQ,be.BQ,kt.ZD]}),x})(),Zd=(()=>{class x{constructor(){this.changes=new Ve.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(a,v,N)=>{if(0==N||0==v)return`0 of ${N}`;const q=a*v;return`${q+1} \u2013 ${q<(N=Math.max(N,0))?Math.min(q+v,N):q+v} of ${N}`}}}return x.\u0275fac=function(a){return new(a||x)},x.\u0275prov=b.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();const Hu={provide:Zd,deps:[[new b.FiY,new b.tp0,Zd]],useFactory:function Ba(x){return x||new Zd}};let Uf=(()=>{class x{}return x.\u0275fac=function(a){return new(a||x)},x.\u0275mod=b.oAB({type:x}),x.\u0275inj=b.cJS({providers:[Hu],imports:[M.ez,Is,pa,Hi,be.BQ]}),x})(),jf=(()=>{class x{constructor(){this.changes=new Ve.x}}return x.\u0275fac=function(a){return new(a||x)},x.\u0275prov=b.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();const Wg={provide:jf,deps:[[new b.FiY,new b.tp0,jf]],useFactory:function xh(x){return x||new jf}};let gg=(()=>{class x{}return x.\u0275fac=function(a){return new(a||x)},x.\u0275mod=b.oAB({type:x}),x.\u0275inj=b.cJS({providers:[Wg],imports:[M.ez,be.BQ]}),x})();z(8996);let im=(()=>{class x{}return x.\u0275fac=function(a){return new(a||x)},x.\u0275mod=b.oAB({type:x}),x.\u0275inj=b.cJS({imports:[kt.Cl]}),x})(),J_=(()=>{class x{}return x.\u0275fac=function(a){return new(a||x)},x.\u0275mod=b.oAB({type:x}),x.\u0275inj=b.cJS({imports:[im,be.BQ,be.BQ]}),x})(),nv=(()=>{class x{}return x.\u0275fac=function(a){return new(a||x)},x.\u0275mod=b.oAB({type:x}),x.\u0275inj=b.cJS({imports:[J.eL,M.ez,_e,Ji,Br,$n.lN,to.c,Yl,pa,sr,_c,yu,Ie,kr,fs.QW,ko,Eo.To,oh,se,nf,Vd.Nh,$o,Is,Qc,ph,Bu,Pl.Ps,U,vl,be.si,Ch,l,Fe,Hi,Uf,gg,J_,J.eL,_e,Ji,Br,$n.lN,to.c,Yl,pa,sr,_c,yu,Ie,kr,fs.QW,ko,Eo.To,oh,se,nf,Vd.Nh,$o,Is,Qc,ph,Bu,Pl.Ps,U,vl,be.si,Ch,l,Fe,Hi,Uf,gg,J_]}),x})()},7163:(Hn,Mt,z)=>{z.d(Mt,{R:()=>Fn});var M=z(6895),J=z(4650);let Rt=(()=>{class Lt{}return Lt.\u0275fac=function(Ye){return new(Ye||Lt)},Lt.\u0275mod=J.oAB({type:Lt}),Lt.\u0275inj=J.cJS({imports:[M.ez]}),Lt})(),bt=(()=>{class Lt{}return Lt.\u0275fac=function(Ye){return new(Ye||Lt)},Lt.\u0275mod=J.oAB({type:Lt}),Lt.\u0275inj=J.cJS({imports:[M.ez,Rt]}),Lt})(),qt=(()=>{class Lt{}return Lt.\u0275fac=function(Ye){return new(Ye||Lt)},Lt.\u0275mod=J.oAB({type:Lt}),Lt.\u0275inj=J.cJS({imports:[M.ez]}),Lt})(),Mn=(()=>{class Lt{}return Lt.\u0275fac=function(Ye){return new(Ye||Lt)},Lt.\u0275mod=J.oAB({type:Lt}),Lt.\u0275inj=J.cJS({imports:[M.ez,qt]}),Lt})(),Ze=(()=>{class Lt{}return Lt.\u0275fac=function(Ye){return new(Ye||Lt)},Lt.\u0275mod=J.oAB({type:Lt}),Lt.\u0275inj=J.cJS({imports:[M.ez,qt,Rt]}),Lt})(),_n=(()=>{class Lt{}return Lt.\u0275fac=function(Ye){return new(Ye||Lt)},Lt.\u0275mod=J.oAB({type:Lt}),Lt.\u0275inj=J.cJS({imports:[M.ez]}),Lt})();var Zn=z(7861);let Fn=(()=>{class Lt{}return Lt.\u0275fac=function(Ye){return new(Ye||Lt)},Lt.\u0275mod=J.oAB({type:Lt}),Lt.\u0275inj=J.cJS({imports:[M.ez,Mn,bt,Ze,_n,Zn.S,M.ez,Mn,bt,Ze,_n,Zn.S]}),Lt})()},923:(Hn,Mt,z)=>{var M=z(1481),J=z(4650),W=z(6159);const Le=[{path:"",loadChildren:()=>z.e(583).then(z.bind(z,1470)).then(d=>d.LayoutModule)}];let b=(()=>{class d{}return d.\u0275fac=function(o){return new(o||d)},d.\u0275mod=J.oAB({type:d}),d.\u0275inj=J.cJS({imports:[W.Bz.forRoot(Le),W.Bz]}),d})();var be=z(529);let at=(()=>{class d{constructor(){this.cache=new Map}intercept(o,p){return p.handle(o)}}return d.\u0275fac=function(o){return new(o||d)},d.\u0275prov=J.Yz7({token:d,factory:d.\u0275fac}),d})(),Ve=(()=>{class d{constructor(){this.title="wewebs-client"}}return d.\u0275fac=function(o){return new(o||d)},d.\u0275cmp=J.Xpm({type:d,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"appContainer"]],template:function(o,p){1&o&&(J.TgZ(0,"section",0),J._UZ(1,"router-outlet"),J.qZA())},dependencies:[W.lC]}),d})();var qe=z(7340);function Ue(d){return new J.vHH(3e3,!1)}function Mn(){return typeof window<"u"&&typeof window.document<"u"}function jt(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function wn(d){switch(d.length){case 0:return new qe.ZN;case 1:return d[0];default:return new qe.ZE(d)}}function oi(d,i,o,p,E=new Map,P=new Map){const H=[],ee=[];let he=-1,Se=null;if(p.forEach(ht=>{const Nt=ht.get("offset"),rn=Nt==he,An=rn&&Se||new Map;ht.forEach((Vn,hi)=>{let zi=hi,Tr=Vn;if("offset"!==hi)switch(zi=i.normalizePropertyName(zi,H),Tr){case qe.k1:Tr=E.get(hi);break;case qe.l3:Tr=P.get(hi);break;default:Tr=i.normalizeStyleValue(hi,zi,Tr,H)}An.set(zi,Tr)}),rn||ee.push(An),Se=An,he=Nt}),H.length)throw function yi(d){return new J.vHH(3502,!1)}();return ee}function qn(d,i,o,p){switch(i){case"start":d.onStart(()=>p(o&&mi(o,"start",d)));break;case"done":d.onDone(()=>p(o&&mi(o,"done",d)));break;case"destroy":d.onDestroy(()=>p(o&&mi(o,"destroy",d)))}}function mi(d,i,o){const P=dn(d.element,d.triggerName,d.fromState,d.toState,i||d.phaseName,o.totalTime??d.totalTime,!!o.disabled),H=d._data;return null!=H&&(P._data=H),P}function dn(d,i,o,p,E="",P=0,H){return{element:d,triggerName:i,fromState:o,toState:p,phaseName:E,totalTime:P,disabled:!!H}}function li(d,i,o){let p=d.get(i);return p||d.set(i,p=o),p}function bn(d){const i=d.indexOf(":");return[d.substring(1,i),d.slice(i+1)]}let On=(d,i)=>!1,Qt=(d,i,o)=>[],Nn=null;function $n(d){const i=d.parentNode||d.host;return i===Nn?null:i}(jt()||typeof Element<"u")&&(Mn()?(Nn=(()=>document.documentElement)(),On=(d,i)=>{for(;i;){if(i===d)return!0;i=$n(i)}return!1}):On=(d,i)=>d.contains(i),Qt=(d,i,o)=>{if(o)return Array.from(d.querySelectorAll(i));const p=d.querySelector(i);return p?[p]:[]});let we=null,ke=!1;const Zn=On,Fn=Qt;let sn=(()=>{class d{validateStyleProperty(o){return function Ze(d){we||(we=function _n(){return typeof document<"u"?document.body:null}()||{},ke=!!we.style&&"WebkitAppearance"in we.style);let i=!0;return we.style&&!function ze(d){return"ebkit"==d.substring(1,6)}(d)&&(i=d in we.style,!i&&ke&&(i="Webkit"+d.charAt(0).toUpperCase()+d.slice(1)in we.style)),i}(o)}matchesElement(o,p){return!1}containsElement(o,p){return Zn(o,p)}getParentElement(o){return $n(o)}query(o,p,E){return Fn(o,p,E)}computeStyle(o,p,E){return E||""}animate(o,p,E,P,H,ee=[],he){return new qe.ZN(E,P)}}return d.\u0275fac=function(o){return new(o||d)},d.\u0275prov=J.Yz7({token:d,factory:d.\u0275fac}),d})(),Ye=(()=>{class d{}return d.NOOP=new sn,d})();const ti="ng-enter",Fi="ng-leave",Pi="ng-trigger",Bi=".ng-trigger",Ii="ng-animating",br=".ng-animating";function Gi(d){if("number"==typeof d)return d;const i=d.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:mt(parseFloat(i[1]),i[2])}function mt(d,i){return"s"===i?1e3*d:d}function Me(d,i,o){return d.hasOwnProperty("duration")?d:function Qe(d,i,o){let E,P=0,H="";if("string"==typeof d){const ee=d.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ee)return i.push(Ue()),{duration:0,delay:0,easing:""};E=mt(parseFloat(ee[1]),ee[2]);const he=ee[3];null!=he&&(P=mt(parseFloat(he),ee[4]));const Se=ee[5];Se&&(H=Se)}else E=d;if(!o){let ee=!1,he=i.length;E<0&&(i.push(function Ge(){return new J.vHH(3100,!1)}()),ee=!0),P<0&&(i.push(function kt(){return new J.vHH(3101,!1)}()),ee=!0),ee&&i.splice(he,0,Ue())}return{duration:E,delay:P,easing:H}}(d,i,o)}function _e(d,i={}){return Object.keys(d).forEach(o=>{i[o]=d[o]}),i}function Ce(d){const i=new Map;return Object.keys(d).forEach(o=>{i.set(o,d[o])}),i}function et(d,i=new Map,o){if(o)for(let[p,E]of o)i.set(p,E);for(let[p,E]of d)i.set(p,E);return i}function $e(d,i,o){return o?i+":"+o+";":""}function pe(d){let i="";for(let o=0;o<d.style.length;o++){const p=d.style.item(o);i+=$e(0,p,d.style.getPropertyValue(p))}for(const o in d.style)d.style.hasOwnProperty(o)&&!o.startsWith("_")&&(i+=$e(0,fi(o),d.style[o]));d.setAttribute("style",i)}function Ee(d,i,o){d.style&&(i.forEach((p,E)=>{const P=Ln(E);o&&!o.has(E)&&o.set(E,d.style[P]),d.style[P]=p}),jt()&&pe(d))}function De(d,i){d.style&&(i.forEach((o,p)=>{const E=Ln(p);d.style[E]=""}),jt()&&pe(d))}function ft(d){return Array.isArray(d)?1==d.length?d[0]:(0,qe.vP)(d):d}const Qn=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ri(d){let i=[];if("string"==typeof d){let o;for(;o=Qn.exec(d);)i.push(o[1]);Qn.lastIndex=0}return i}function Wt(d,i,o){const p=d.toString(),E=p.replace(Qn,(P,H)=>{let ee=i[H];return null==ee&&(o.push(function tt(d){return new J.vHH(3003,!1)}()),ee=""),ee.toString()});return E==p?d:E}function $t(d){const i=[];let o=d.next();for(;!o.done;)i.push(o.value),o=d.next();return i}const Sn=/-+([a-z0-9])/g;function Ln(d){return d.replace(Sn,(...i)=>i[1].toUpperCase())}function fi(d){return d.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function er(d,i,o){switch(i.type){case 7:return d.visitTrigger(i,o);case 0:return d.visitState(i,o);case 1:return d.visitTransition(i,o);case 2:return d.visitSequence(i,o);case 3:return d.visitGroup(i,o);case 4:return d.visitAnimate(i,o);case 5:return d.visitKeyframes(i,o);case 6:return d.visitStyle(i,o);case 8:return d.visitReference(i,o);case 9:return d.visitAnimateChild(i,o);case 10:return d.visitAnimateRef(i,o);case 11:return d.visitQuery(i,o);case 12:return d.visitStagger(i,o);default:throw function xt(d){return new J.vHH(3004,!1)}()}}function tr(d,i){return window.getComputedStyle(d)[i]}function to(d,i){const o=[];return"string"==typeof d?d.split(/\s*,\s*/).forEach(p=>function Da(d,i,o){if(":"==d[0]){const he=function pr(d,i){switch(d){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(o,p)=>parseFloat(p)>parseFloat(o);case":decrement":return(o,p)=>parseFloat(p)<parseFloat(o);default:return i.push(function Gn(d){return new J.vHH(3016,!1)}()),"* => *"}}(d,o);if("function"==typeof he)return void i.push(he);d=he}const p=d.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==p||p.length<4)return o.push(function ai(d){return new J.vHH(3015,!1)}()),i;const E=p[1],P=p[2],H=p[3];i.push(Lr(E,H));"<"==P[0]&&!("*"==E&&"*"==H)&&i.push(Lr(H,E))}(p,o,i)):o.push(d),o}const Er=new Set(["true","1"]),hs=new Set(["false","0"]);function Lr(d,i){const o=Er.has(d)||hs.has(d),p=Er.has(i)||hs.has(i);return(E,P)=>{let H="*"==d||d==E,ee="*"==i||i==P;return!H&&o&&"boolean"==typeof E&&(H=E?Er.has(d):hs.has(d)),!ee&&p&&"boolean"==typeof P&&(ee=P?Er.has(i):hs.has(i)),H&&ee}}const Kr=new RegExp("s*:selfs*,?","g");function Fs(d,i,o,p){return new xa(d).build(i,o,p)}class xa{constructor(i){this._driver=i}build(i,o,p){const E=new gs(o);return this._resetContextStyleTimingState(E),er(this,ft(i),E)}_resetContextStyleTimingState(i){i.currentQuerySelector="",i.collectedStyles=new Map,i.collectedStyles.set("",new Map),i.currentTime=0}visitTrigger(i,o){let p=o.queryCount=0,E=o.depCount=0;const P=[],H=[];return"@"==i.name.charAt(0)&&o.errors.push(function Ct(){return new J.vHH(3006,!1)}()),i.definitions.forEach(ee=>{if(this._resetContextStyleTimingState(o),0==ee.type){const he=ee,Se=he.name;Se.toString().split(/\s*,\s*/).forEach(ht=>{he.name=ht,P.push(this.visitState(he,o))}),he.name=Se}else if(1==ee.type){const he=this.visitTransition(ee,o);p+=he.queryCount,E+=he.depCount,H.push(he)}else o.errors.push(function pt(){return new J.vHH(3007,!1)}())}),{type:7,name:i.name,states:P,transitions:H,queryCount:p,depCount:E,options:null}}visitState(i,o){const p=this.visitStyle(i.styles,o),E=i.options&&i.options.params||null;if(p.containsDynamicStyles){const P=new Set,H=E||{};p.styles.forEach(ee=>{ee instanceof Map&&ee.forEach(he=>{Ri(he).forEach(Se=>{H.hasOwnProperty(Se)||P.add(Se)})})}),P.size&&($t(P.values()),o.errors.push(function En(d,i){return new J.vHH(3008,!1)}()))}return{type:0,name:i.name,style:p,options:E?{params:E}:null}}visitTransition(i,o){o.queryCount=0,o.depCount=0;const p=er(this,ft(i.animation),o);return{type:1,matchers:to(i.expr,o.errors),animation:p,queryCount:o.queryCount,depCount:o.depCount,options:Fo(i.options)}}visitSequence(i,o){return{type:2,steps:i.steps.map(p=>er(this,p,o)),options:Fo(i.options)}}visitGroup(i,o){const p=o.currentTime;let E=0;const P=i.steps.map(H=>{o.currentTime=p;const ee=er(this,H,o);return E=Math.max(E,o.currentTime),ee});return o.currentTime=E,{type:3,steps:P,options:Fo(i.options)}}visitAnimate(i,o){const p=function Ua(d,i){if(d.hasOwnProperty("duration"))return d;if("number"==typeof d)return dc(Me(d,i).duration,0,"");const o=d;if(o.split(/\s+/).some(P=>"{"==P.charAt(0)&&"{"==P.charAt(1))){const P=dc(0,0,"");return P.dynamic=!0,P.strValue=o,P}const E=Me(o,i);return dc(E.duration,E.delay,E.easing)}(i.timings,o.errors);o.currentAnimateTimings=p;let E,P=i.styles?i.styles:(0,qe.oB)({});if(5==P.type)E=this.visitKeyframes(P,o);else{let H=i.styles,ee=!1;if(!H){ee=!0;const Se={};p.easing&&(Se.easing=p.easing),H=(0,qe.oB)(Se)}o.currentTime+=p.duration+p.delay;const he=this.visitStyle(H,o);he.isEmptyStep=ee,E=he}return o.currentAnimateTimings=null,{type:4,timings:p,style:E,options:null}}visitStyle(i,o){const p=this._makeStyleAst(i,o);return this._validateStyleAst(p,o),p}_makeStyleAst(i,o){const p=[],E=Array.isArray(i.styles)?i.styles:[i.styles];for(let ee of E)"string"==typeof ee?ee===qe.l3?p.push(ee):o.errors.push(new J.vHH(3002,!1)):p.push(Ce(ee));let P=!1,H=null;return p.forEach(ee=>{if(ee instanceof Map&&(ee.has("easing")&&(H=ee.get("easing"),ee.delete("easing")),!P))for(let he of ee.values())if(he.toString().indexOf("{{")>=0){P=!0;break}}),{type:6,styles:p,easing:H,offset:i.offset,containsDynamicStyles:P,options:null}}_validateStyleAst(i,o){const p=o.currentAnimateTimings;let E=o.currentTime,P=o.currentTime;p&&P>0&&(P-=p.duration+p.delay),i.styles.forEach(H=>{"string"!=typeof H&&H.forEach((ee,he)=>{const Se=o.collectedStyles.get(o.currentQuerySelector),ht=Se.get(he);let Nt=!0;ht&&(P!=E&&P>=ht.startTime&&E<=ht.endTime&&(o.errors.push(function Te(d,i,o,p,E){return new J.vHH(3010,!1)}()),Nt=!1),P=ht.startTime),Nt&&Se.set(he,{startTime:P,endTime:E}),o.options&&function cn(d,i,o){const p=i.params||{},E=Ri(d);E.length&&E.forEach(P=>{p.hasOwnProperty(P)||o.push(function it(d){return new J.vHH(3001,!1)}())})}(ee,o.options,o.errors)})})}visitKeyframes(i,o){const p={type:5,styles:[],options:null};if(!o.currentAnimateTimings)return o.errors.push(function Be(){return new J.vHH(3011,!1)}()),p;let P=0;const H=[];let ee=!1,he=!1,Se=0;const ht=i.steps.map(Tr=>{const Es=this._makeStyleAst(Tr,o);let us=null!=Es.offset?Es.offset:function uc(d){if("string"==typeof d)return null;let i=null;if(Array.isArray(d))d.forEach(o=>{if(o instanceof Map&&o.has("offset")){const p=o;i=parseFloat(p.get("offset")),p.delete("offset")}});else if(d instanceof Map&&d.has("offset")){const o=d;i=parseFloat(o.get("offset")),o.delete("offset")}return i}(Es.styles),ms=0;return null!=us&&(P++,ms=Es.offset=us),he=he||ms<0||ms>1,ee=ee||ms<Se,Se=ms,H.push(ms),Es});he&&o.errors.push(function ct(){return new J.vHH(3012,!1)}()),ee&&o.errors.push(function lt(){return new J.vHH(3200,!1)}());const Nt=i.steps.length;let rn=0;P>0&&P<Nt?o.errors.push(function ut(){return new J.vHH(3202,!1)}()):0==P&&(rn=1/(Nt-1));const An=Nt-1,Vn=o.currentTime,hi=o.currentAnimateTimings,zi=hi.duration;return ht.forEach((Tr,Es)=>{const us=rn>0?Es==An?1:rn*Es:H[Es],ms=us*zi;o.currentTime=Vn+hi.delay+ms,hi.duration=ms,this._validateStyleAst(Tr,o),Tr.offset=us,p.styles.push(Tr)}),p}visitReference(i,o){return{type:8,animation:er(this,ft(i.animation),o),options:Fo(i.options)}}visitAnimateChild(i,o){return o.depCount++,{type:9,options:Fo(i.options)}}visitAnimateRef(i,o){return{type:10,animation:this.visitReference(i.animation,o),options:Fo(i.options)}}visitQuery(i,o){const p=o.currentQuerySelector,E=i.options||{};o.queryCount++,o.currentQuery=i;const[P,H]=function po(d){const i=!!d.split(/\s*,\s*/).find(o=>":self"==o);return i&&(d=d.replace(Kr,"")),d=d.replace(/@\*/g,Bi).replace(/@\w+/g,o=>Bi+"-"+o.slice(1)).replace(/:animating/g,br),[d,i]}(i.selector);o.currentQuerySelector=p.length?p+" "+P:P,li(o.collectedStyles,o.currentQuerySelector,new Map);const ee=er(this,ft(i.animation),o);return o.currentQuery=null,o.currentQuerySelector=p,{type:11,selector:P,limit:E.limit||0,optional:!!E.optional,includeSelf:H,animation:ee,originalSelector:i.selector,options:Fo(i.options)}}visitStagger(i,o){o.currentQuery||o.errors.push(function vn(){return new J.vHH(3013,!1)}());const p="full"===i.timings?{duration:0,delay:0,easing:"full"}:Me(i.timings,o.errors,!0);return{type:12,animation:er(this,ft(i.animation),o),timings:p,options:null}}}class gs{constructor(i){this.errors=i,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Fo(d){return d?(d=_e(d)).params&&(d.params=function mo(d){return d?_e(d):null}(d.params)):d={},d}function dc(d,i,o){return{duration:d,delay:i,easing:o}}function Pr(d,i,o,p,E,P,H=null,ee=!1){return{type:1,element:d,keyframes:i,preStyleProps:o,postStyleProps:p,duration:E,delay:P,totalTime:E+P,easing:H,subTimeline:ee}}class Dl{constructor(){this._map=new Map}get(i){return this._map.get(i)||[]}append(i,o){let p=this._map.get(i);p||this._map.set(i,p=[]),p.push(...o)}has(i){return this._map.has(i)}clear(){this._map.clear()}}const zt=new RegExp(":enter","g"),Xt=new RegExp(":leave","g");function Dn(d,i,o,p,E,P=new Map,H=new Map,ee,he,Se=[]){return(new Wn).buildKeyframes(d,i,o,p,E,P,H,ee,he,Se)}class Wn{buildKeyframes(i,o,p,E,P,H,ee,he,Se,ht=[]){Se=Se||new Dl;const Nt=new nr(i,o,Se,E,P,ht,[]);Nt.options=he;const rn=he.delay?Gi(he.delay):0;Nt.currentTimeline.delayNextStep(rn),Nt.currentTimeline.setStyles([H],null,Nt.errors,he),er(this,p,Nt);const An=Nt.timelines.filter(Vn=>Vn.containsAnimation());if(An.length&&ee.size){let Vn;for(let hi=An.length-1;hi>=0;hi--){const zi=An[hi];if(zi.element===o){Vn=zi;break}}Vn&&!Vn.allowOnlyTimelineStyles()&&Vn.setStyles([ee],null,Nt.errors,he)}return An.length?An.map(Vn=>Vn.buildKeyframes()):[Pr(o,[],[],[],0,rn,"",!1)]}visitTrigger(i,o){}visitState(i,o){}visitTransition(i,o){}visitAnimateChild(i,o){const p=o.subInstructions.get(o.element);if(p){const E=o.createSubContext(i.options),P=o.currentTimeline.currentTime,H=this._visitSubInstructions(p,E,E.options);P!=H&&o.transformIntoNewTimeline(H)}o.previousNode=i}visitAnimateRef(i,o){const p=o.createSubContext(i.options);p.transformIntoNewTimeline(),this._applyAnimationRefDelays([i.options,i.animation.options],o,p),this.visitReference(i.animation,p),o.transformIntoNewTimeline(p.currentTimeline.currentTime),o.previousNode=i}_applyAnimationRefDelays(i,o,p){for(const E of i){const P=E?.delay;if(P){const H="number"==typeof P?P:Gi(Wt(P,E?.params??{},o.errors));p.delayNextStep(H)}}}_visitSubInstructions(i,o,p){let P=o.currentTimeline.currentTime;const H=null!=p.duration?Gi(p.duration):null,ee=null!=p.delay?Gi(p.delay):null;return 0!==H&&i.forEach(he=>{const Se=o.appendInstructionToTimeline(he,H,ee);P=Math.max(P,Se.duration+Se.delay)}),P}visitReference(i,o){o.updateOptions(i.options,!0),er(this,i.animation,o),o.previousNode=i}visitSequence(i,o){const p=o.subContextCount;let E=o;const P=i.options;if(P&&(P.params||P.delay)&&(E=o.createSubContext(P),E.transformIntoNewTimeline(),null!=P.delay)){6==E.previousNode.type&&(E.currentTimeline.snapshotCurrentStyles(),E.previousNode=Li);const H=Gi(P.delay);E.delayNextStep(H)}i.steps.length&&(i.steps.forEach(H=>er(this,H,E)),E.currentTimeline.applyStylesToKeyframe(),E.subContextCount>p&&E.transformIntoNewTimeline()),o.previousNode=i}visitGroup(i,o){const p=[];let E=o.currentTimeline.currentTime;const P=i.options&&i.options.delay?Gi(i.options.delay):0;i.steps.forEach(H=>{const ee=o.createSubContext(i.options);P&&ee.delayNextStep(P),er(this,H,ee),E=Math.max(E,ee.currentTimeline.currentTime),p.push(ee.currentTimeline)}),p.forEach(H=>o.currentTimeline.mergeTimelineCollectedStyles(H)),o.transformIntoNewTimeline(E),o.previousNode=i}_visitTiming(i,o){if(i.dynamic){const p=i.strValue;return Me(o.params?Wt(p,o.params,o.errors):p,o.errors)}return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,o){const p=o.currentAnimateTimings=this._visitTiming(i.timings,o),E=o.currentTimeline;p.delay&&(o.incrementTime(p.delay),E.snapshotCurrentStyles());const P=i.style;5==P.type?this.visitKeyframes(P,o):(o.incrementTime(p.duration),this.visitStyle(P,o),E.applyStylesToKeyframe()),o.currentAnimateTimings=null,o.previousNode=i}visitStyle(i,o){const p=o.currentTimeline,E=o.currentAnimateTimings;!E&&p.hasCurrentStyleProperties()&&p.forwardFrame();const P=E&&E.easing||i.easing;i.isEmptyStep?p.applyEmptyStep(P):p.setStyles(i.styles,P,o.errors,o.options),o.previousNode=i}visitKeyframes(i,o){const p=o.currentAnimateTimings,E=o.currentTimeline.duration,P=p.duration,ee=o.createSubContext().currentTimeline;ee.easing=p.easing,i.styles.forEach(he=>{ee.forwardTime((he.offset||0)*P),ee.setStyles(he.styles,he.easing,o.errors,o.options),ee.applyStylesToKeyframe()}),o.currentTimeline.mergeTimelineCollectedStyles(ee),o.transformIntoNewTimeline(E+P),o.previousNode=i}visitQuery(i,o){const p=o.currentTimeline.currentTime,E=i.options||{},P=E.delay?Gi(E.delay):0;P&&(6===o.previousNode.type||0==p&&o.currentTimeline.hasCurrentStyleProperties())&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=Li);let H=p;const ee=o.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!E.optional,o.errors);o.currentQueryTotal=ee.length;let he=null;ee.forEach((Se,ht)=>{o.currentQueryIndex=ht;const Nt=o.createSubContext(i.options,Se);P&&Nt.delayNextStep(P),Se===o.element&&(he=Nt.currentTimeline),er(this,i.animation,Nt),Nt.currentTimeline.applyStylesToKeyframe(),H=Math.max(H,Nt.currentTimeline.currentTime)}),o.currentQueryIndex=0,o.currentQueryTotal=0,o.transformIntoNewTimeline(H),he&&(o.currentTimeline.mergeTimelineCollectedStyles(he),o.currentTimeline.snapshotCurrentStyles()),o.previousNode=i}visitStagger(i,o){const p=o.parentContext,E=o.currentTimeline,P=i.timings,H=Math.abs(P.duration),ee=H*(o.currentQueryTotal-1);let he=H*o.currentQueryIndex;switch(P.duration<0?"reverse":P.easing){case"reverse":he=ee-he;break;case"full":he=p.currentStaggerTime}const ht=o.currentTimeline;he&&ht.delayNextStep(he);const Nt=ht.currentTime;er(this,i.animation,o),o.previousNode=i,p.currentStaggerTime=E.currentTime-Nt+(E.startTime-p.currentTimeline.startTime)}}const Li={};class nr{constructor(i,o,p,E,P,H,ee,he){this._driver=i,this.element=o,this.subInstructions=p,this._enterClassName=E,this._leaveClassName=P,this.errors=H,this.timelines=ee,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Li,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=he||new lr(this._driver,o,0),ee.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,o){if(!i)return;const p=i;let E=this.options;null!=p.duration&&(E.duration=Gi(p.duration)),null!=p.delay&&(E.delay=Gi(p.delay));const P=p.params;if(P){let H=E.params;H||(H=this.options.params={}),Object.keys(P).forEach(ee=>{(!o||!H.hasOwnProperty(ee))&&(H[ee]=Wt(P[ee],H,this.errors))})}}_copyOptions(){const i={};if(this.options){const o=this.options.params;if(o){const p=i.params={};Object.keys(o).forEach(E=>{p[E]=o[E]})}}return i}createSubContext(i=null,o,p){const E=o||this.element,P=new nr(this._driver,E,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(E,p||0));return P.previousNode=this.previousNode,P.currentAnimateTimings=this.currentAnimateTimings,P.options=this._copyOptions(),P.updateOptions(i),P.currentQueryIndex=this.currentQueryIndex,P.currentQueryTotal=this.currentQueryTotal,P.parentContext=this,this.subContextCount++,P}transformIntoNewTimeline(i){return this.previousNode=Li,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,o,p){const E={duration:o??i.duration,delay:this.currentTimeline.currentTime+(p??0)+i.delay,easing:""},P=new Ui(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,E,i.stretchStartingKeyframe);return this.timelines.push(P),E}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,o,p,E,P,H){let ee=[];if(E&&ee.push(this.element),i.length>0){i=(i=i.replace(zt,"."+this._enterClassName)).replace(Xt,"."+this._leaveClassName);let Se=this._driver.query(this.element,i,1!=p);0!==p&&(Se=p<0?Se.slice(Se.length+p,Se.length):Se.slice(0,p)),ee.push(...Se)}return!P&&0==ee.length&&H.push(function pn(d){return new J.vHH(3014,!1)}()),ee}}class lr{constructor(i,o,p,E){this._driver=i,this.element=o,this.startTime=p,this._elementTimelineStylesLookup=E,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(o),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(o,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(i){const o=1===this._keyframes.size&&this._pendingStyles.size;this.duration||o?(this.forwardTime(this.currentTime+i),o&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,o){return this.applyStylesToKeyframe(),new lr(this._driver,i,o||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,o){this._localTimelineStyles.set(i,o),this._globalTimelineStyles.set(i,o),this._styleSummary.set(i,{time:this.currentTime,value:o})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&this._previousKeyframe.set("easing",i);for(let[o,p]of this._globalTimelineStyles)this._backFill.set(o,p||qe.l3),this._currentKeyframe.set(o,qe.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,o,p,E){o&&this._previousKeyframe.set("easing",o);const P=E&&E.params||{},H=function Qo(d,i){const o=new Map;let p;return d.forEach(E=>{if("*"===E){p=p||i.keys();for(let P of p)o.set(P,qe.l3)}else et(E,o)}),o}(i,this._globalTimelineStyles);for(let[ee,he]of H){const Se=Wt(he,P,p);this._pendingStyles.set(ee,Se),this._localTimelineStyles.has(ee)||this._backFill.set(ee,this._globalTimelineStyles.get(ee)??qe.l3),this._updateStyle(ee,Se)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((i,o)=>{this._currentKeyframe.set(o,i)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((i,o)=>{this._currentKeyframe.has(o)||this._currentKeyframe.set(o,i)}))}snapshotCurrentStyles(){for(let[i,o]of this._localTimelineStyles)this._pendingStyles.set(i,o),this._updateStyle(i,o)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const i=[];for(let o in this._currentKeyframe)i.push(o);return i}mergeTimelineCollectedStyles(i){i._styleSummary.forEach((o,p)=>{const E=this._styleSummary.get(p);(!E||o.time>E.time)&&this._updateStyle(p,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const i=new Set,o=new Set,p=1===this._keyframes.size&&0===this.duration;let E=[];this._keyframes.forEach((ee,he)=>{const Se=et(ee,new Map,this._backFill);Se.forEach((ht,Nt)=>{ht===qe.k1?i.add(Nt):ht===qe.l3&&o.add(Nt)}),p||Se.set("offset",he/this.duration),E.push(Se)});const P=i.size?$t(i.values()):[],H=o.size?$t(o.values()):[];if(p){const ee=E[0],he=new Map(ee);ee.set("offset",0),he.set("offset",1),E=[ee,he]}return Pr(this.element,E,P,H,this.duration,this.startTime,this.easing,!1)}}class Ui extends lr{constructor(i,o,p,E,P,H,ee=!1){super(i,o,H.delay),this.keyframes=p,this.preStyleProps=E,this.postStyleProps=P,this._stretchStartingKeyframe=ee,this.timings={duration:H.duration,delay:H.delay,easing:H.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:o,duration:p,easing:E}=this.timings;if(this._stretchStartingKeyframe&&o){const P=[],H=p+o,ee=o/H,he=et(i[0]);he.set("offset",0),P.push(he);const Se=et(i[0]);Se.set("offset",go(ee)),P.push(Se);const ht=i.length-1;for(let Nt=1;Nt<=ht;Nt++){let rn=et(i[Nt]);const An=rn.get("offset");rn.set("offset",go((o+An*p)/H)),P.push(rn)}p=H,o=0,E="",i=P}return Pr(this.element,i,this.preStyleProps,this.postStyleProps,p,o,E,!0)}}function go(d,i=3){const o=Math.pow(10,i-1);return Math.round(d*o)/o}class _o{}const Ks=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class zl extends _o{normalizePropertyName(i,o){return Ln(i)}normalizeStyleValue(i,o,p,E){let P="";const H=p.toString().trim();if(Ks.has(o)&&0!==p&&"0"!==p)if("number"==typeof p)P="px";else{const ee=p.match(/^[+-]?[\d\.]+([a-z]*)$/);ee&&0==ee[1].length&&E.push(function Rt(d,i){return new J.vHH(3005,!1)}())}return H+P}}function qr(d,i,o,p,E,P,H,ee,he,Se,ht,Nt,rn){return{type:0,element:d,triggerName:i,isRemovalTransition:E,fromState:o,fromStyles:P,toState:p,toStyles:H,timelines:ee,queriedElements:he,preStyleProps:Se,postStyleProps:ht,totalTime:Nt,errors:rn}}const ua={};class Mo{constructor(i,o,p){this._triggerName=i,this.ast=o,this._stateStyles=p}match(i,o,p,E){return function Qa(d,i,o,p,E){return d.some(P=>P(i,o,p,E))}(this.ast.matchers,i,o,p,E)}buildStyles(i,o,p){let E=this._stateStyles.get("*");return void 0!==i&&(E=this._stateStyles.get(i?.toString())||E),E?E.buildStyles(o,p):new Map}build(i,o,p,E,P,H,ee,he,Se,ht){const Nt=[],rn=this.ast.options&&this.ast.options.params||ua,Vn=this.buildStyles(p,ee&&ee.params||ua,Nt),hi=he&&he.params||ua,zi=this.buildStyles(E,hi,Nt),Tr=new Set,Es=new Map,us=new Map,ms="void"===E,ih={params:mu(hi,rn),delay:this.ast.options?.delay},hu=ht?[]:Dn(i,o,this.ast.animation,P,H,Vn,zi,ih,Se,Nt);let Hl=0;if(hu.forEach(rh=>{Hl=Math.max(rh.duration+rh.delay,Hl)}),Nt.length)return qr(o,this._triggerName,p,E,ms,Vn,zi,[],[],Es,us,Hl,Nt);hu.forEach(rh=>{const xd=rh.element,Im=li(Es,xd,new Set);rh.preStyleProps.forEach(Tm=>Im.add(Tm));const Ug=li(us,xd,new Set);rh.postStyleProps.forEach(Tm=>Ug.add(Tm)),xd!==o&&Tr.add(xd)});const Ku=$t(Tr.values());return qr(o,this._triggerName,p,E,ms,Vn,zi,hu,Ku,Es,us,Hl)}}function mu(d,i){const o=_e(i);for(const p in d)d.hasOwnProperty(p)&&null!=d[p]&&(o[p]=d[p]);return o}class Gl{constructor(i,o,p){this.styles=i,this.defaultParams=o,this.normalizer=p}buildStyles(i,o){const p=new Map,E=_e(this.defaultParams);return Object.keys(i).forEach(P=>{const H=i[P];null!==H&&(E[P]=H)}),this.styles.styles.forEach(P=>{"string"!=typeof P&&P.forEach((H,ee)=>{H&&(H=Wt(H,E,o));const he=this.normalizer.normalizePropertyName(ee,o);H=this.normalizer.normalizeStyleValue(ee,he,H,o),p.set(he,H)})}),p}}class Wl{constructor(i,o,p){this.name=i,this.ast=o,this._normalizer=p,this.transitionFactories=[],this.states=new Map,o.states.forEach(E=>{this.states.set(E.name,new Gl(E.style,E.options&&E.options.params||{},p))}),ts(this.states,"true","1"),ts(this.states,"false","0"),o.transitions.forEach(E=>{this.transitionFactories.push(new Mo(i,E,this.states))}),this.fallbackTransition=function Mr(d,i,o){return new Mo(d,{type:1,animation:{type:2,steps:[],options:null},matchers:[(H,ee)=>!0],options:null,queryCount:0,depCount:0},i)}(i,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,o,p,E){return this.transitionFactories.find(H=>H.match(i,o,p,E))||null}matchStyles(i,o,p){return this.fallbackTransition.buildStyles(i,o,p)}}function ts(d,i,o){d.has(i)?d.has(o)||d.set(o,d.get(i)):d.has(o)&&d.set(i,d.get(o))}const xl=new Dl;class Sl{constructor(i,o,p){this.bodyNode=i,this._driver=o,this._normalizer=p,this._animations=new Map,this._playersById=new Map,this.players=[]}register(i,o){const p=[],P=Fs(this._driver,o,p,[]);if(p.length)throw function bt(d){return new J.vHH(3503,!1)}();this._animations.set(i,P)}_buildPlayer(i,o,p){const E=i.element,P=oi(0,this._normalizer,0,i.keyframes,o,p);return this._driver.animate(E,P,i.duration,i.delay,i.easing,[],!0)}create(i,o,p={}){const E=[],P=this._animations.get(i);let H;const ee=new Map;if(P?(H=Dn(this._driver,o,P,ti,Fi,new Map,new Map,p,xl,E),H.forEach(ht=>{const Nt=li(ee,ht.element,new Map);ht.postStyleProps.forEach(rn=>Nt.set(rn,null))})):(E.push(function It(){return new J.vHH(3300,!1)}()),H=[]),E.length)throw function qt(d){return new J.vHH(3504,!1)}();ee.forEach((ht,Nt)=>{ht.forEach((rn,An)=>{ht.set(An,this._driver.computeStyle(Nt,An,qe.l3))})});const Se=wn(H.map(ht=>{const Nt=ee.get(ht.element);return this._buildPlayer(ht,new Map,Nt)}));return this._playersById.set(i,Se),Se.onDestroy(()=>this.destroy(i)),this.players.push(Se),Se}destroy(i){const o=this._getPlayer(i);o.destroy(),this._playersById.delete(i);const p=this.players.indexOf(o);p>=0&&this.players.splice(p,1)}_getPlayer(i){const o=this._playersById.get(i);if(!o)throw function en(d){return new J.vHH(3301,!1)}();return o}listen(i,o,p,E){const P=dn(o,"","","");return qn(this._getPlayer(i),p,P,E),()=>{}}command(i,o,p,E){if("register"==p)return void this.register(i,E[0]);if("create"==p)return void this.create(i,o,E[0]||{});const P=this._getPlayer(i);switch(p){case"play":P.play();break;case"pause":P.pause();break;case"reset":P.reset();break;case"restart":P.restart();break;case"finish":P.finish();break;case"init":P.init();break;case"setPosition":P.setPosition(parseFloat(E[0]));break;case"destroy":this.destroy(i)}}}const da="ng-animate-queued",Zr="ng-animate-disabled",qs=[],ll={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Xo={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},io="__ng_removed";class Qr{constructor(i,o=""){this.namespaceId=o;const p=i&&i.hasOwnProperty("value");if(this.value=function $i(d){return d??null}(p?i.value:i),p){const P=_e(i);delete P.value,this.options=P}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(i){const o=i.params;if(o){const p=this.options.params;Object.keys(o).forEach(E=>{null==p[E]&&(p[E]=o[E])})}}}const Io="void",zr=new Qr(Io);class Ml{constructor(i,o,p){this.id=i,this.hostElement=o,this._engine=p,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+i,yo(o,this._hostClassName)}listen(i,o,p,E){if(!this._triggers.has(o))throw function Ht(d,i){return new J.vHH(3302,!1)}();if(null==p||0==p.length)throw function Dt(d){return new J.vHH(3303,!1)}();if(!function gu(d){return"start"==d||"done"==d}(p))throw function xn(d,i){return new J.vHH(3400,!1)}();const P=li(this._elementListeners,i,[]),H={name:o,phase:p,callback:E};P.push(H);const ee=li(this._engine.statesByElement,i,new Map);return ee.has(o)||(yo(i,Pi),yo(i,Pi+"-"+o),ee.set(o,zr)),()=>{this._engine.afterFlush(()=>{const he=P.indexOf(H);he>=0&&P.splice(he,1),this._triggers.has(o)||ee.delete(o)})}}register(i,o){return!this._triggers.has(i)&&(this._triggers.set(i,o),!0)}_getTrigger(i){const o=this._triggers.get(i);if(!o)throw function St(d){return new J.vHH(3401,!1)}();return o}trigger(i,o,p,E=!0){const P=this._getTrigger(o),H=new Sa(this.id,o,i);let ee=this._engine.statesByElement.get(i);ee||(yo(i,Pi),yo(i,Pi+"-"+o),this._engine.statesByElement.set(i,ee=new Map));let he=ee.get(o);const Se=new Qr(p,this.id);if(!(p&&p.hasOwnProperty("value"))&&he&&Se.absorbOptions(he.options),ee.set(o,Se),he||(he=zr),Se.value!==Io&&he.value===Se.value){if(!function Ha(d,i){const o=Object.keys(d),p=Object.keys(i);if(o.length!=p.length)return!1;for(let E=0;E<o.length;E++){const P=o[E];if(!i.hasOwnProperty(P)||d[P]!==i[P])return!1}return!0}(he.params,Se.params)){const hi=[],zi=P.matchStyles(he.value,he.params,hi),Tr=P.matchStyles(Se.value,Se.params,hi);hi.length?this._engine.reportError(hi):this._engine.afterFlush(()=>{De(i,zi),Ee(i,Tr)})}return}const rn=li(this._engine.playersByElement,i,[]);rn.forEach(hi=>{hi.namespaceId==this.id&&hi.triggerName==o&&hi.queued&&hi.destroy()});let An=P.matchTransition(he.value,Se.value,i,Se.params),Vn=!1;if(!An){if(!E)return;An=P.fallbackTransition,Vn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:o,transition:An,fromState:he,toState:Se,player:H,isFallbackTransition:Vn}),Vn||(yo(i,da),H.onStart(()=>{Ta(i,da)})),H.onDone(()=>{let hi=this.players.indexOf(H);hi>=0&&this.players.splice(hi,1);const zi=this._engine.playersByElement.get(i);if(zi){let Tr=zi.indexOf(H);Tr>=0&&zi.splice(Tr,1)}}),this.players.push(H),rn.push(H),H}deregister(i){this._triggers.delete(i),this._engine.statesByElement.forEach(o=>o.delete(i)),this._elementListeners.forEach((o,p)=>{this._elementListeners.set(p,o.filter(E=>E.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);const o=this._engine.playersByElement.get(i);o&&(o.forEach(p=>p.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,o){const p=this._engine.driver.query(i,Bi,!0);p.forEach(E=>{if(E[io])return;const P=this._engine.fetchNamespacesByElement(E);P.size?P.forEach(H=>H.triggerLeaveAnimation(E,o,!1,!0)):this.clearElementCache(E)}),this._engine.afterFlushAnimationsDone(()=>p.forEach(E=>this.clearElementCache(E)))}triggerLeaveAnimation(i,o,p,E){const P=this._engine.statesByElement.get(i),H=new Map;if(P){const ee=[];if(P.forEach((he,Se)=>{if(H.set(Se,he.value),this._triggers.has(Se)){const ht=this.trigger(i,Se,Io,E);ht&&ee.push(ht)}}),ee.length)return this._engine.markElementAsRemoved(this.id,i,!0,o,H),p&&wn(ee).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){const o=this._elementListeners.get(i),p=this._engine.statesByElement.get(i);if(o&&p){const E=new Set;o.forEach(P=>{const H=P.name;if(E.has(H))return;E.add(H);const he=this._triggers.get(H).fallbackTransition,Se=p.get(H)||zr,ht=new Qr(Io),Nt=new Sa(this.id,H,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:H,transition:he,fromState:Se,toState:ht,player:Nt,isFallbackTransition:!0})})}}removeNode(i,o){const p=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,o),this.triggerLeaveAnimation(i,o,!0))return;let E=!1;if(p.totalAnimations){const P=p.players.length?p.playersByQueriedElement.get(i):[];if(P&&P.length)E=!0;else{let H=i;for(;H=H.parentNode;)if(p.statesByElement.get(H)){E=!0;break}}}if(this.prepareLeaveAnimationListeners(i),E)p.markElementAsRemoved(this.id,i,!1,o);else{const P=i[io];(!P||P===ll)&&(p.afterFlush(()=>this.clearElementCache(i)),p.destroyInnerAnimations(i),p._onRemovalComplete(i,o))}}insertNode(i,o){yo(i,this._hostClassName)}drainQueuedTransitions(i){const o=[];return this._queue.forEach(p=>{const E=p.player;if(E.destroyed)return;const P=p.element,H=this._elementListeners.get(P);H&&H.forEach(ee=>{if(ee.name==p.triggerName){const he=dn(P,p.triggerName,p.fromState.value,p.toState.value);he._data=i,qn(p.player,ee.phase,he,ee.callback)}}),E.markedForDestroy?this._engine.afterFlush(()=>{E.destroy()}):o.push(p)}),this._queue=[],o.sort((p,E)=>{const P=p.transition.ast.depCount,H=E.transition.ast.depCount;return 0==P||0==H?P-H:this._engine.driver.containsElement(p.element,E.element)?1:-1})}destroy(i){this.players.forEach(o=>o.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}elementContainsData(i){let o=!1;return this._elementListeners.has(i)&&(o=!0),o=!!this._queue.find(p=>p.element===i)||o,o}}class Zs{constructor(i,o,p){this.bodyNode=i,this.driver=o,this._normalizer=p,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(E,P)=>{}}_onRemovalComplete(i,o){this.onRemovalComplete(i,o)}get queuedPlayers(){const i=[];return this._namespaceList.forEach(o=>{o.players.forEach(p=>{p.queued&&i.push(p)})}),i}createNamespace(i,o){const p=new Ml(i,o,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,o)?this._balanceNamespaceList(p,o):(this.newHostElements.set(o,p),this.collectEnterElement(o)),this._namespaceLookup[i]=p}_balanceNamespaceList(i,o){const p=this._namespaceList,E=this.namespacesByHostElement;if(p.length-1>=0){let H=!1,ee=this.driver.getParentElement(o);for(;ee;){const he=E.get(ee);if(he){const Se=p.indexOf(he);p.splice(Se+1,0,i),H=!0;break}ee=this.driver.getParentElement(ee)}H||p.unshift(i)}else p.push(i);return E.set(o,i),i}register(i,o){let p=this._namespaceLookup[i];return p||(p=this.createNamespace(i,o)),p}registerTrigger(i,o,p){let E=this._namespaceLookup[i];E&&E.register(o,p)&&this.totalAnimations++}destroy(i,o){if(!i)return;const p=this._fetchNamespace(i);this.afterFlush(()=>{this.namespacesByHostElement.delete(p.hostElement),delete this._namespaceLookup[i];const E=this._namespaceList.indexOf(p);E>=0&&this._namespaceList.splice(E,1)}),this.afterFlushAnimationsDone(()=>p.destroy(o))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){const o=new Set,p=this.statesByElement.get(i);if(p)for(let E of p.values())if(E.namespaceId){const P=this._fetchNamespace(E.namespaceId);P&&o.add(P)}return o}trigger(i,o,p,E){if(vo(o)){const P=this._fetchNamespace(i);if(P)return P.trigger(o,p,E),!0}return!1}insertNode(i,o,p,E){if(!vo(o))return;const P=o[io];if(P&&P.setForRemoval){P.setForRemoval=!1,P.setForMove=!0;const H=this.collectedLeaveElements.indexOf(o);H>=0&&this.collectedLeaveElements.splice(H,1)}if(i){const H=this._fetchNamespace(i);H&&H.insertNode(o,p)}E&&this.collectEnterElement(o)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,o){o?this.disabledNodes.has(i)||(this.disabledNodes.add(i),yo(i,Zr)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),Ta(i,Zr))}removeNode(i,o,p,E){if(vo(o)){const P=i?this._fetchNamespace(i):null;if(P?P.removeNode(o,E):this.markElementAsRemoved(i,o,!1,E),p){const H=this.namespacesByHostElement.get(o);H&&H.id!==i&&H.removeNode(o,E)}}else this._onRemovalComplete(o,E)}markElementAsRemoved(i,o,p,E,P){this.collectedLeaveElements.push(o),o[io]={namespaceId:i,setForRemoval:E,hasAnimation:p,removedBeforeQueried:!1,previousTriggersValues:P}}listen(i,o,p,E,P){return vo(o)?this._fetchNamespace(i).listen(o,p,E,P):()=>{}}_buildInstruction(i,o,p,E,P){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,p,E,i.fromState.options,i.toState.options,o,P)}destroyInnerAnimations(i){let o=this.driver.query(i,Bi,!0);o.forEach(p=>this.destroyActiveAnimationsForElement(p)),0!=this.playersByQueriedElement.size&&(o=this.driver.query(i,br,!0),o.forEach(p=>this.finishActiveQueriedAnimationOnElement(p)))}destroyActiveAnimationsForElement(i){const o=this.playersByElement.get(i);o&&o.forEach(p=>{p.queued?p.markedForDestroy=!0:p.destroy()})}finishActiveQueriedAnimationOnElement(i){const o=this.playersByQueriedElement.get(i);o&&o.forEach(p=>p.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return wn(this.players).onDone(()=>i());i()})}processLeaveNode(i){const o=i[io];if(o&&o.setForRemoval){if(i[io]=ll,o.namespaceId){this.destroyInnerAnimations(i);const p=this._fetchNamespace(o.namespaceId);p&&p.clearElementCache(i)}this._onRemovalComplete(i,o.setForRemoval)}i.classList?.contains(Zr)&&this.markElementAsDisabled(i,!1),this.driver.query(i,".ng-animate-disabled",!0).forEach(p=>{this.markElementAsDisabled(p,!1)})}flush(i=-1){let o=[];if(this.newHostElements.size&&(this.newHostElements.forEach((p,E)=>this._balanceNamespaceList(p,E)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let p=0;p<this.collectedEnterElements.length;p++)yo(this.collectedEnterElements[p],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const p=[];try{o=this._flushAnimations(p,i)}finally{for(let E=0;E<p.length;E++)p[E]()}}else for(let p=0;p<this.collectedLeaveElements.length;p++)this.processLeaveNode(this.collectedLeaveElements[p]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(p=>p()),this._flushFns=[],this._whenQuietFns.length){const p=this._whenQuietFns;this._whenQuietFns=[],o.length?wn(o).onDone(()=>{p.forEach(E=>E())}):p.forEach(E=>E())}}reportError(i){throw function Vt(d){return new J.vHH(3402,!1)}()}_flushAnimations(i,o){const p=new Dl,E=[],P=new Map,H=[],ee=new Map,he=new Map,Se=new Map,ht=new Set;this.disabledNodes.forEach(Xi=>{ht.add(Xi);const gr=this.driver.query(Xi,".ng-animate-queued",!0);for(let xr=0;xr<gr.length;xr++)ht.add(gr[xr])});const Nt=this.bodyNode,rn=Array.from(this.statesByElement.keys()),An=Ia(rn,this.collectedEnterElements),Vn=new Map;let hi=0;An.forEach((Xi,gr)=>{const xr=ti+hi++;Vn.set(gr,xr),Xi.forEach(ds=>yo(ds,xr))});const zi=[],Tr=new Set,Es=new Set;for(let Xi=0;Xi<this.collectedLeaveElements.length;Xi++){const gr=this.collectedLeaveElements[Xi],xr=gr[io];xr&&xr.setForRemoval&&(zi.push(gr),Tr.add(gr),xr.hasAnimation?this.driver.query(gr,".ng-star-inserted",!0).forEach(ds=>Tr.add(ds)):Es.add(gr))}const us=new Map,ms=Ia(rn,Array.from(Tr));ms.forEach((Xi,gr)=>{const xr=Fi+hi++;us.set(gr,xr),Xi.forEach(ds=>yo(ds,xr))}),i.push(()=>{An.forEach((Xi,gr)=>{const xr=Vn.get(gr);Xi.forEach(ds=>Ta(ds,xr))}),ms.forEach((Xi,gr)=>{const xr=us.get(gr);Xi.forEach(ds=>Ta(ds,xr))}),zi.forEach(Xi=>{this.processLeaveNode(Xi)})});const ih=[],hu=[];for(let Xi=this._namespaceList.length-1;Xi>=0;Xi--)this._namespaceList[Xi].drainQueuedTransitions(o).forEach(xr=>{const ds=xr.player,So=xr.element;if(ih.push(ds),this.collectedEnterElements.length){const pu=So[io];if(pu&&pu.setForMove){if(pu.previousTriggersValues&&pu.previousTriggersValues.has(xr.triggerName)){const Af=pu.previousTriggersValues.get(xr.triggerName),Uc=this.statesByElement.get(xr.element);if(Uc&&Uc.has(xr.triggerName)){const Kh=Uc.get(xr.triggerName);Kh.value=Af,Uc.set(xr.triggerName,Kh)}}return void ds.destroy()}}const Ca=!Nt||!this.driver.containsElement(Nt,So),Sd=us.get(So),up=Vn.get(So),co=this._buildInstruction(xr,p,up,Sd,Ca);if(co.errors&&co.errors.length)return void hu.push(co);if(Ca)return ds.onStart(()=>De(So,co.fromStyles)),ds.onDestroy(()=>Ee(So,co.toStyles)),void E.push(ds);if(xr.isFallbackTransition)return ds.onStart(()=>De(So,co.fromStyles)),ds.onDestroy(()=>Ee(So,co.toStyles)),void E.push(ds);const cg=[];co.timelines.forEach(pu=>{pu.stretchStartingKeyframe=!0,this.disabledNodes.has(pu.element)||cg.push(pu)}),co.timelines=cg,p.append(So,co.timelines),H.push({instruction:co,player:ds,element:So}),co.queriedElements.forEach(pu=>li(ee,pu,[]).push(ds)),co.preStyleProps.forEach((pu,Af)=>{if(pu.size){let Uc=he.get(Af);Uc||he.set(Af,Uc=new Set),pu.forEach((Kh,Hg)=>Uc.add(Hg))}}),co.postStyleProps.forEach((pu,Af)=>{let Uc=Se.get(Af);Uc||Se.set(Af,Uc=new Set),pu.forEach((Kh,Hg)=>Uc.add(Hg))})});if(hu.length){const Xi=[];hu.forEach(gr=>{Xi.push(function Cn(d,i){return new J.vHH(3505,!1)}())}),ih.forEach(gr=>gr.destroy()),this.reportError(Xi)}const Hl=new Map,Ku=new Map;H.forEach(Xi=>{const gr=Xi.element;p.has(gr)&&(Ku.set(gr,gr),this._beforeAnimationBuild(Xi.player.namespaceId,Xi.instruction,Hl))}),E.forEach(Xi=>{const gr=Xi.element;this._getPreviousPlayers(gr,!1,Xi.namespaceId,Xi.triggerName,null).forEach(ds=>{li(Hl,gr,[]).push(ds),ds.destroy()})});const rh=zi.filter(Xi=>hc(Xi,he,Se)),xd=new Map;Ma(xd,this.driver,Es,Se,qe.l3).forEach(Xi=>{hc(Xi,he,Se)&&rh.push(Xi)});const Ug=new Map;An.forEach((Xi,gr)=>{Ma(Ug,this.driver,new Set(Xi),he,qe.k1)}),rh.forEach(Xi=>{const gr=xd.get(Xi),xr=Ug.get(Xi);xd.set(Xi,new Map([...Array.from(gr?.entries()??[]),...Array.from(xr?.entries()??[])]))});const Tm=[],Y_=[],cp={};H.forEach(Xi=>{const{element:gr,player:xr,instruction:ds}=Xi;if(p.has(gr)){if(ht.has(gr))return xr.onDestroy(()=>Ee(gr,ds.toStyles)),xr.disabled=!0,xr.overrideTotalTime(ds.totalTime),void E.push(xr);let So=cp;if(Ku.size>1){let Sd=gr;const up=[];for(;Sd=Sd.parentNode;){const co=Ku.get(Sd);if(co){So=co;break}up.push(Sd)}up.forEach(co=>Ku.set(co,So))}const Ca=this._buildAnimation(xr.namespaceId,ds,Hl,P,Ug,xd);if(xr.setRealPlayer(Ca),So===cp)Tm.push(xr);else{const Sd=this.playersByElement.get(So);Sd&&Sd.length&&(xr.parentPlayer=wn(Sd)),E.push(xr)}}else De(gr,ds.fromStyles),xr.onDestroy(()=>Ee(gr,ds.toStyles)),Y_.push(xr),ht.has(gr)&&E.push(xr)}),Y_.forEach(Xi=>{const gr=P.get(Xi.element);if(gr&&gr.length){const xr=wn(gr);Xi.setRealPlayer(xr)}}),E.forEach(Xi=>{Xi.parentPlayer?Xi.syncPlayerEvents(Xi.parentPlayer):Xi.destroy()});for(let Xi=0;Xi<zi.length;Xi++){const gr=zi[Xi],xr=gr[io];if(Ta(gr,Fi),xr&&xr.hasAnimation)continue;let ds=[];if(ee.size){let Ca=ee.get(gr);Ca&&Ca.length&&ds.push(...Ca);let Sd=this.driver.query(gr,br,!0);for(let up=0;up<Sd.length;up++){let co=ee.get(Sd[up]);co&&co.length&&ds.push(...co)}}const So=ds.filter(Ca=>!Ca.destroyed);So.length?Tl(this,gr,So):this.processLeaveNode(gr)}return zi.length=0,Tm.forEach(Xi=>{this.players.push(Xi),Xi.onDone(()=>{Xi.destroy();const gr=this.players.indexOf(Xi);this.players.splice(gr,1)}),Xi.play()}),Tm}elementContainsData(i,o){let p=!1;const E=o[io];return E&&E.setForRemoval&&(p=!0),this.playersByElement.has(o)&&(p=!0),this.playersByQueriedElement.has(o)&&(p=!0),this.statesByElement.has(o)&&(p=!0),this._fetchNamespace(i).elementContainsData(o)||p}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,o,p,E,P){let H=[];if(o){const ee=this.playersByQueriedElement.get(i);ee&&(H=ee)}else{const ee=this.playersByElement.get(i);if(ee){const he=!P||P==Io;ee.forEach(Se=>{Se.queued||!he&&Se.triggerName!=E||H.push(Se)})}}return(p||E)&&(H=H.filter(ee=>!(p&&p!=ee.namespaceId||E&&E!=ee.triggerName))),H}_beforeAnimationBuild(i,o,p){const P=o.element,H=o.isRemovalTransition?void 0:i,ee=o.isRemovalTransition?void 0:o.triggerName;for(const he of o.timelines){const Se=he.element,ht=Se!==P,Nt=li(p,Se,[]);this._getPreviousPlayers(Se,ht,H,ee,o.toState).forEach(An=>{const Vn=An.getRealPlayer();Vn.beforeDestroy&&Vn.beforeDestroy(),An.destroy(),Nt.push(An)})}De(P,o.fromStyles)}_buildAnimation(i,o,p,E,P,H){const ee=o.triggerName,he=o.element,Se=[],ht=new Set,Nt=new Set,rn=o.timelines.map(Vn=>{const hi=Vn.element;ht.add(hi);const zi=hi[io];if(zi&&zi.removedBeforeQueried)return new qe.ZN(Vn.duration,Vn.delay);const Tr=hi!==he,Es=function Un(d){const i=[];return Cr(d,i),i}((p.get(hi)||qs).map(Hl=>Hl.getRealPlayer())).filter(Hl=>!!Hl.element&&Hl.element===hi),us=P.get(hi),ms=H.get(hi),ih=oi(0,this._normalizer,0,Vn.keyframes,us,ms),hu=this._buildPlayer(Vn,ih,Es);if(Vn.subTimeline&&E&&Nt.add(hi),Tr){const Hl=new Sa(i,ee,hi);Hl.setRealPlayer(hu),Se.push(Hl)}return hu});Se.forEach(Vn=>{li(this.playersByQueriedElement,Vn.element,[]).push(Vn),Vn.onDone(()=>function Ls(d,i,o){let p=d.get(i);if(p){if(p.length){const E=p.indexOf(o);p.splice(E,1)}0==p.length&&d.delete(i)}return p}(this.playersByQueriedElement,Vn.element,Vn))}),ht.forEach(Vn=>yo(Vn,Ii));const An=wn(rn);return An.onDestroy(()=>{ht.forEach(Vn=>Ta(Vn,Ii)),Ee(he,o.toStyles)}),Nt.forEach(Vn=>{li(E,Vn,[]).push(An)}),An}_buildPlayer(i,o,p){return o.length>0?this.driver.animate(i.element,o,i.duration,i.delay,i.easing,p):new qe.ZN(i.duration,i.delay)}}class Sa{constructor(i,o,p){this.namespaceId=i,this.triggerName=o,this.element=p,this._player=new qe.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(i){this._containsRealPlayer||(this._player=i,this._queuedCallbacks.forEach((o,p)=>{o.forEach(E=>qn(i,p,void 0,E))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){const o=this._player;o.triggerCallback&&i.onStart(()=>o.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,o){li(this._queuedCallbacks,i,[]).push(o)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){const o=this._player;o.triggerCallback&&o.triggerCallback(i)}}function vo(d){return d&&1===d.nodeType}function Il(d,i){const o=d.style.display;return d.style.display=i??"none",o}function Ma(d,i,o,p,E){const P=[];o.forEach(he=>P.push(Il(he)));const H=[];p.forEach((he,Se)=>{const ht=new Map;he.forEach(Nt=>{const rn=i.computeStyle(Se,Nt,E);ht.set(Nt,rn),(!rn||0==rn.length)&&(Se[io]=Xo,H.push(Se))}),d.set(Se,ht)});let ee=0;return o.forEach(he=>Il(he,P[ee++])),H}function Ia(d,i){const o=new Map;if(d.forEach(ee=>o.set(ee,[])),0==i.length)return o;const E=new Set(i),P=new Map;function H(ee){if(!ee)return 1;let he=P.get(ee);if(he)return he;const Se=ee.parentNode;return he=o.has(Se)?Se:E.has(Se)?1:H(Se),P.set(ee,he),he}return i.forEach(ee=>{const he=H(ee);1!==he&&o.get(he).push(ee)}),o}function yo(d,i){d.classList?.add(i)}function Ta(d,i){d.classList?.remove(i)}function Tl(d,i,o){wn(o).onDone(()=>d.processLeaveNode(i))}function Cr(d,i){for(let o=0;o<d.length;o++){const p=d[o];p instanceof qe.ZE?Cr(p.players,i):i.push(p)}}function hc(d,i,o){const p=o.get(d);if(!p)return!1;let E=i.get(d);return E?p.forEach(P=>E.add(P)):i.set(d,p),o.delete(d),!0}class Br{constructor(i,o,p){this.bodyNode=i,this._driver=o,this._normalizer=p,this._triggerCache={},this.onRemovalComplete=(E,P)=>{},this._transitionEngine=new Zs(i,o,p),this._timelineEngine=new Sl(i,o,p),this._transitionEngine.onRemovalComplete=(E,P)=>this.onRemovalComplete(E,P)}registerTrigger(i,o,p,E,P){const H=i+"-"+E;let ee=this._triggerCache[H];if(!ee){const he=[],ht=Fs(this._driver,P,he,[]);if(he.length)throw function Ei(d,i){return new J.vHH(3404,!1)}();ee=function $l(d,i,o){return new Wl(d,i,o)}(E,ht,this._normalizer),this._triggerCache[H]=ee}this._transitionEngine.registerTrigger(o,E,ee)}register(i,o){this._transitionEngine.register(i,o)}destroy(i,o){this._transitionEngine.destroy(i,o)}onInsert(i,o,p,E){this._transitionEngine.insertNode(i,o,p,E)}onRemove(i,o,p,E){this._transitionEngine.removeNode(i,o,E||!1,p)}disableAnimations(i,o){this._transitionEngine.markElementAsDisabled(i,o)}process(i,o,p,E){if("@"==p.charAt(0)){const[P,H]=bn(p);this._timelineEngine.command(P,o,H,E)}else this._transitionEngine.trigger(i,o,p,E)}listen(i,o,p,E,P){if("@"==p.charAt(0)){const[H,ee]=bn(p);return this._timelineEngine.listen(H,o,ee,P)}return this._transitionEngine.listen(i,o,p,E,P)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let oe=(()=>{class d{constructor(o,p,E){this._element=o,this._startStyles=p,this._endStyles=E,this._state=0;let P=d.initialStylesByElement.get(o);P||d.initialStylesByElement.set(o,P=new Map),this._initialStyles=P}start(){this._state<1&&(this._startStyles&&Ee(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ee(this._element,this._initialStyles),this._endStyles&&(Ee(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(d.initialStylesByElement.delete(this._element),this._startStyles&&(De(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(De(this._element,this._endStyles),this._endStyles=null),Ee(this._element,this._initialStyles),this._state=3)}}return d.initialStylesByElement=new WeakMap,d})();function te(d){let i=null;return d.forEach((o,p)=>{(function Oe(d){return"display"===d||"position"===d})(p)&&(i=i||new Map,i.set(p,o))}),i}class hn{constructor(i,o,p,E){this.element=i,this.keyframes=o,this.options=p,this._specialStyles=E,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=p.duration,this._delay=p.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(i){const o=[];return i.forEach(p=>{o.push(Object.fromEntries(p))}),o}_triggerWebAnimation(i,o,p){return i.animate(this._convertKeyframesToObject(o),p)}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const i=new Map;this.hasStarted()&&this._finalKeyframe.forEach((p,E)=>{"offset"!==E&&i.set(E,this._finished?p:tr(this.element,E))}),this.currentSnapshot=i}triggerCallback(i){const o="start"===i?this._onStartFns:this._onDoneFns;o.forEach(p=>p()),o.length=0}}class gi{validateStyleProperty(i){return!0}validateAnimatableStyleProperty(i){return!0}matchesElement(i,o){return!1}containsElement(i,o){return Zn(i,o)}getParentElement(i){return $n(i)}query(i,o,p){return Fn(i,o,p)}computeStyle(i,o,p){return window.getComputedStyle(i)[o]}animate(i,o,p,E,P,H=[]){const he={duration:p,delay:E,fill:0==E?"both":"forwards"};P&&(he.easing=P);const Se=new Map,ht=H.filter(An=>An instanceof hn);(function Yi(d,i){return 0===d||0===i})(p,E)&&ht.forEach(An=>{An.currentSnapshot.forEach((Vn,hi)=>Se.set(hi,Vn))});let Nt=function gt(d){return d.length?d[0]instanceof Map?d:d.map(i=>Ce(i)):[]}(o).map(An=>et(An));Nt=function Ji(d,i,o){if(o.size&&i.length){let p=i[0],E=[];if(o.forEach((P,H)=>{p.has(H)||E.push(H),p.set(H,P)}),E.length)for(let P=1;P<i.length;P++){let H=i[P];E.forEach(ee=>H.set(ee,tr(d,ee)))}}return i}(i,Nt,Se);const rn=function ce(d,i){let o=null,p=null;return Array.isArray(i)&&i.length?(o=te(i[0]),i.length>1&&(p=te(i[i.length-1]))):i instanceof Map&&(o=te(i)),o||p?new oe(d,o,p):null}(i,Nt);return new hn(i,Nt,he,rn)}}var Wi=z(6895);let cl=(()=>{class d extends qe._j{constructor(o,p){super(),this._nextAnimationId=0,this._renderer=o.createRenderer(p.body,{id:"0",encapsulation:J.ifc.None,styles:[],data:{animation:[]}})}build(o){const p=this._nextAnimationId.toString();this._nextAnimationId++;const E=Array.isArray(o)?(0,qe.vP)(o):o;return Jo(this._renderer,null,p,"register",[E]),new ar(p,this._renderer)}}return d.\u0275fac=function(o){return new(o||d)(J.LFG(J.FYo),J.LFG(Wi.K0))},d.\u0275prov=J.Yz7({token:d,factory:d.\u0275fac}),d})();class ar extends qe.LC{constructor(i,o){super(),this._id=i,this._renderer=o}create(i,o){return new Ds(this._id,i,o||{},this._renderer)}}class Ds{constructor(i,o,p,E){this.id=i,this.element=o,this._renderer=E,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",p)}_listen(i,o){return this._renderer.listen(this.element,`@@${this.id}:${i}`,o)}_command(i,...o){return Jo(this._renderer,this.element,this.id,i,o)}onDone(i){this._listen("done",i)}onStart(i){this._listen("start",i)}onDestroy(i){this._listen("destroy",i)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(i){this._command("setPosition",i)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Jo(d,i,o,p,E){return d.setProperty(i,`@@${o}:${p}`,E)}const Aa="@.disabled";let ha=(()=>{class d{constructor(o,p,E){this.delegate=o,this.engine=p,this._zone=E,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),p.onRemovalComplete=(P,H)=>{const ee=H?.parentNode(P);ee&&H.removeChild(ee,P)}}createRenderer(o,p){const P=this.delegate.createRenderer(o,p);if(!(o&&p&&p.data&&p.data.animation)){let ht=this._rendererCache.get(P);return ht||(ht=new ka("",P,this.engine,()=>this._rendererCache.delete(P)),this._rendererCache.set(P,ht)),ht}const H=p.id,ee=p.id+"-"+this._currentId;this._currentId++,this.engine.register(ee,o);const he=ht=>{Array.isArray(ht)?ht.forEach(he):this.engine.registerTrigger(H,ee,o,ht.name,ht)};return p.data.animation.forEach(he),new dl(this,ee,P,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(o,p,E){o>=0&&o<this._microtaskId?this._zone.run(()=>p(E)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(P=>{const[H,ee]=P;H(ee)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([p,E]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return d.\u0275fac=function(o){return new(o||d)(J.LFG(J.FYo),J.LFG(Br),J.LFG(J.R0b))},d.\u0275prov=J.Yz7({token:d,factory:d.\u0275fac}),d})();class ka{constructor(i,o,p,E){this.namespaceId=i,this.delegate=o,this.engine=p,this._onDestroy=E,this.destroyNode=this.delegate.destroyNode?P=>o.destroyNode(P):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(i,o){return this.delegate.createElement(i,o)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,o){this.delegate.appendChild(i,o),this.engine.onInsert(this.namespaceId,o,i,!1)}insertBefore(i,o,p,E=!0){this.delegate.insertBefore(i,o,p),this.engine.onInsert(this.namespaceId,o,i,E)}removeChild(i,o,p){this.engine.onRemove(this.namespaceId,o,this.delegate,p)}selectRootElement(i,o){return this.delegate.selectRootElement(i,o)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,o,p,E){this.delegate.setAttribute(i,o,p,E)}removeAttribute(i,o,p){this.delegate.removeAttribute(i,o,p)}addClass(i,o){this.delegate.addClass(i,o)}removeClass(i,o){this.delegate.removeClass(i,o)}setStyle(i,o,p,E){this.delegate.setStyle(i,o,p,E)}removeStyle(i,o,p){this.delegate.removeStyle(i,o,p)}setProperty(i,o,p){"@"==o.charAt(0)&&o==Aa?this.disableAnimations(i,!!p):this.delegate.setProperty(i,o,p)}setValue(i,o){this.delegate.setValue(i,o)}listen(i,o,p){return this.delegate.listen(i,o,p)}disableAnimations(i,o){this.engine.disableAnimations(i,o)}}class dl extends ka{constructor(i,o,p,E,P){super(o,p,E,P),this.factory=i,this.namespaceId=o}setProperty(i,o,p){"@"==o.charAt(0)?"."==o.charAt(1)&&o==Aa?this.disableAnimations(i,p=void 0===p||!!p):this.engine.process(this.namespaceId,i,o.slice(1),p):this.delegate.setProperty(i,o,p)}listen(i,o,p){if("@"==o.charAt(0)){const E=function Yl(d){switch(d){case"body":return document.body;case"document":return document;case"window":return window;default:return d}}(i);let P=o.slice(1),H="";return"@"!=P.charAt(0)&&([P,H]=function Ra(d){const i=d.indexOf(".");return[d.substring(0,i),d.slice(i+1)]}(P)),this.engine.listen(this.namespaceId,E,P,H,ee=>{this.factory.scheduleListenerCallback(ee._data||-1,p,ee)})}return this.delegate.listen(i,o,p)}}const bo=[{provide:qe._j,useClass:cl},{provide:_o,useFactory:function hl(){return new zl}},{provide:Br,useClass:(()=>{class d extends Br{constructor(o,p,E,P){super(o.body,p,E)}ngOnDestroy(){this.flush()}}return d.\u0275fac=function(o){return new(o||d)(J.LFG(Wi.K0),J.LFG(Ye),J.LFG(_o),J.LFG(J.z2F))},d.\u0275prov=J.Yz7({token:d,factory:d.\u0275fac}),d})()},{provide:J.FYo,useFactory:function fc(d,i,o){return new ha(d,i,o)},deps:[M.se,Br,J.R0b]}],Mc=[{provide:Ye,useFactory:()=>new gi},{provide:J.QbO,useValue:"BrowserAnimations"},...bo],Xa=[{provide:Ye,useClass:sn},{provide:J.QbO,useValue:"NoopAnimations"},...bo];let Ja=(()=>{class d{static withConfig(o){return{ngModule:d,providers:o.disableAnimations?Xa:Mc}}}return d.\u0275fac=function(o){return new(o||d)},d.\u0275mod=J.oAB({type:d}),d.\u0275inj=J.cJS({providers:Mc,imports:[M.b2]}),d})();var Tc=z(7828),fa=z(7163),mc=z(3238),ta=z(2011),ns=z(1205),na=z(9751),ss=z(9646),Al=z(8996),qu=z(8372),ro=z(4004),fl=z(3900),uo=z(8623),el=z(3942),ja=z(5861),Oa=z(2951),Xe=z(2090),kl=z(4859);const To="firebasestorage.googleapis.com",ia="storageBucket";class Ts extends Xe.ZR{constructor(i,o,p=0){super(za(i),`Firebase Storage: ${o} (${za(i)})`),this.status_=p,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ts.prototype)}get status(){return this.status_}set status(i){this.status_=i}_codeEquals(i){return za(i)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(i){this.customData.serverResponse=i,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var cr=(()=>{return(d=cr||(cr={})).UNKNOWN="unknown",d.OBJECT_NOT_FOUND="object-not-found",d.BUCKET_NOT_FOUND="bucket-not-found",d.PROJECT_NOT_FOUND="project-not-found",d.QUOTA_EXCEEDED="quota-exceeded",d.UNAUTHENTICATED="unauthenticated",d.UNAUTHORIZED="unauthorized",d.UNAUTHORIZED_APP="unauthorized-app",d.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",d.INVALID_CHECKSUM="invalid-checksum",d.CANCELED="canceled",d.INVALID_EVENT_NAME="invalid-event-name",d.INVALID_URL="invalid-url",d.INVALID_DEFAULT_BUCKET="invalid-default-bucket",d.NO_DEFAULT_BUCKET="no-default-bucket",d.CANNOT_SLICE_BLOB="cannot-slice-blob",d.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",d.NO_DOWNLOAD_URL="no-download-url",d.INVALID_ARGUMENT="invalid-argument",d.INVALID_ARGUMENT_COUNT="invalid-argument-count",d.APP_DELETED="app-deleted",d.INVALID_ROOT_OPERATION="invalid-root-operation",d.INVALID_FORMAT="invalid-format",d.INTERNAL_ERROR="internal-error",d.UNSUPPORTED_ENVIRONMENT="unsupported-environment",cr;var d})();function za(d){return"storage/"+d}function Vr(){return new Ts(cr.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function ln(){return new Ts(cr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Pn(){return new Ts(cr.CANCELED,"User canceled the upload/download.")}function ur(){return new Ts(cr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Ar(d){return new Ts(cr.INVALID_ARGUMENT,d)}function Ao(){return new Ts(cr.APP_DELETED,"The Firebase app was deleted.")}function ho(d){return new Ts(cr.INVALID_ROOT_OPERATION,"The operation '"+d+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function As(d,i){return new Ts(cr.INVALID_FORMAT,"String does not match format '"+d+"': "+i)}function ks(d){throw new Ts(cr.INTERNAL_ERROR,"Internal error: "+d)}class Us{constructor(i,o){this.bucket=i,this.path_=o}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const i=encodeURIComponent;return"/b/"+i(this.bucket)+"/o/"+i(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(i,o){let p;try{p=Us.makeFromUrl(i,o)}catch{return new Us(i,"")}if(""===p.path)return p;throw function yr(d){return new Ts(cr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+d+"'.")}(i)}static makeFromUrl(i,o){let p=null;const E="([A-Za-z0-9.\\-_]+)",ee=new RegExp("^gs://"+E+"(/(.*))?$","i");function Se(ms){ms.path_=decodeURIComponent(ms.path)}const Nt=o.replace(/[.]/g,"\\."),us=[{regex:ee,indices:{bucket:1,path:3},postModify:function P(ms){"/"===ms.path.charAt(ms.path.length-1)&&(ms.path_=ms.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Nt}/v[A-Za-z0-9_]+/b/${E}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Se},{regex:new RegExp(`^https?://${o===To?"(?:storage.googleapis.com|storage.cloud.google.com)":o}/${E}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Se}];for(let ms=0;ms<us.length;ms++){const ih=us[ms],hu=ih.regex.exec(i);if(hu){let Ku=hu[ih.indices.path];Ku||(Ku=""),p=new Us(hu[ih.indices.bucket],Ku),ih.postModify(p);break}}if(null==p)throw function Di(d){return new Ts(cr.INVALID_URL,"Invalid URL '"+d+"'.")}(i);return p}}class xs{constructor(i){this.promise_=Promise.reject(i)}getPromise(){return this.promise_}cancel(i=!1){}}function vu(d){return"string"==typeof d||d instanceof String}function yc(d){return Qs()&&d instanceof Blob}function Qs(){return typeof Blob<"u"&&!(0,Xe.UG)()}function Gs(d,i,o,p){if(p<i)throw Ar(`Invalid value for '${d}'. Expected ${i} or greater.`);if(p>o)throw Ar(`Invalid value for '${d}'. Expected ${o} or less.`)}function Ga(d,i,o){let p=i;return null==o&&(p=`https://${i}`),`${o}://${p}/v0${d}`}function Co(d){const i=encodeURIComponent;let o="?";for(const p in d)d.hasOwnProperty(p)&&(o=o+(i(p)+"=")+i(d[p])+"&");return o=o.slice(0,-1),o}var Pa=(()=>{return(d=Pa||(Pa={}))[d.NO_ERROR=0]="NO_ERROR",d[d.NETWORK_ERROR=1]="NETWORK_ERROR",d[d.ABORT=2]="ABORT",Pa;var d})();function pl(d,i){const o=d>=500&&d<600,E=-1!==[408,429].indexOf(d),P=-1!==i.indexOf(d);return o||E||P}class Kn{constructor(i,o,p,E,P,H,ee,he,Se,ht,Nt,rn=!0){this.url_=i,this.method_=o,this.headers_=p,this.body_=E,this.successCodes_=P,this.additionalRetryCodes_=H,this.callback_=ee,this.errorCallback_=he,this.timeout_=Se,this.progressCallback_=ht,this.connectionFactory_=Nt,this.retry=rn,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((An,Vn)=>{this.resolve_=An,this.reject_=Vn,this.start_()})}start_(){const o=(p,E)=>{const P=this.resolve_,H=this.reject_,ee=E.connection;if(E.wasSuccessCode)try{const he=this.callback_(ee,ee.getResponse());!function _c(d){return void 0!==d}(he)?P():P(he)}catch(he){H(he)}else if(null!==ee){const he=Vr();he.serverResponse=ee.getErrorText(),H(this.errorCallback_?this.errorCallback_(ee,he):he)}else H(E.canceled?this.appDelete_?Ao():Pn():ln())};this.canceled_?o(0,new Rs(!1,null,!0)):this.backoffId_=function ql(d,i,o){let p=1,E=null,P=null,H=!1,ee=0;function he(){return 2===ee}let Se=!1;function ht(...zi){Se||(Se=!0,i.apply(null,zi))}function Nt(zi){E=setTimeout(()=>{E=null,d(An,he())},zi)}function rn(){P&&clearTimeout(P)}function An(zi,...Tr){if(Se)return void rn();if(zi)return rn(),void ht.call(null,zi,...Tr);if(he()||H)return rn(),void ht.call(null,zi,...Tr);let us;p<64&&(p*=2),1===ee?(ee=2,us=0):us=1e3*(p+Math.random()),Nt(us)}let Vn=!1;function hi(zi){Vn||(Vn=!0,rn(),!Se&&(null!==E?(zi||(ee=2),clearTimeout(E),Nt(0)):zi||(ee=1)))}return Nt(0),P=setTimeout(()=>{H=!0,hi(!0)},o),hi}((p,E)=>{if(E)return void p(!1,new Rs(!1,null,!0));const P=this.connectionFactory_();this.pendingConnection_=P;const H=ee=>{null!==this.progressCallback_&&this.progressCallback_(ee.loaded,ee.lengthComputable?ee.total:-1)};null!==this.progressCallback_&&P.addUploadProgressListener(H),P.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&P.removeUploadProgressListener(H),this.pendingConnection_=null;const ee=P.getErrorCode()===Pa.NO_ERROR,he=P.getStatus();if(!ee||pl(he,this.additionalRetryCodes_)&&this.retry){const ht=P.getErrorCode()===Pa.ABORT;return void p(!1,new Rs(!1,null,ht))}const Se=-1!==this.successCodes_.indexOf(he);p(!0,new Rs(Se,P))})},o,this.timeout_)}getPromise(){return this.promise_}cancel(i){this.canceled_=!0,this.appDelete_=i||!1,null!==this.backoffId_&&function so(d){d(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Rs{constructor(i,o,p){this.wasSuccessCode=i,this.connection=o,this.canceled=!!p}}function fn(...d){const i=function ci(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==i){const o=new i;for(let p=0;p<d.length;p++)o.append(d[p]);return o.getBlob()}if(Qs())return new Blob(d);throw new Ts(cr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Hs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Id{constructor(i,o){this.data=i,this.contentType=o||null}}function $a(d,i){switch(d){case Hs.RAW:return new Id(bc(i));case Hs.BASE64:case Hs.BASE64URL:return new Id(Qu(d,i));case Hs.DATA_URL:return new Id(function yu(d){const i=new os(d);return i.base64?Qu(Hs.BASE64,i.rest):function Zl(d){let i;try{i=decodeURIComponent(d)}catch{throw As(Hs.DATA_URL,"Malformed data URL.")}return bc(i)}(i.rest)}(i),function Td(d){return new os(d).contentType}(i))}throw Vr()}function bc(d){const i=[];for(let o=0;o<d.length;o++){let p=d.charCodeAt(o);p<=127?i.push(p):p<=2047?i.push(192|p>>6,128|63&p):55296==(64512&p)?o<d.length-1&&56320==(64512&d.charCodeAt(o+1))?(p=65536|(1023&p)<<10|1023&d.charCodeAt(++o),i.push(240|p>>18,128|p>>12&63,128|p>>6&63,128|63&p)):i.push(239,191,189):56320==(64512&p)?i.push(239,191,189):i.push(224|p>>12,128|p>>6&63,128|63&p)}return new Uint8Array(i)}function Qu(d,i){switch(d){case Hs.BASE64:{const E=-1!==i.indexOf("-"),P=-1!==i.indexOf("_");if(E||P)throw As(d,"Invalid character '"+(E?"-":"_")+"' found: is it base64url encoded?");break}case Hs.BASE64URL:{const E=-1!==i.indexOf("+"),P=-1!==i.indexOf("/");if(E||P)throw As(d,"Invalid character '"+(E?"+":"/")+"' found: is it base64 encoded?");i=i.replace(/-/g,"+").replace(/_/g,"/");break}}let o;try{o=function is(d){if(typeof atob>"u")throw function Dr(d){return new Ts(cr.UNSUPPORTED_ENVIRONMENT,`${d} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(d)}(i)}catch(E){throw E.message.includes("polyfill")?E:As(d,"Invalid character found")}const p=new Uint8Array(o.length);for(let E=0;E<o.length;E++)p[E]=o.charCodeAt(E);return p}class os{constructor(i){this.base64=!1,this.contentType=null;const o=i.match(/^data:([^,]+)?,/);if(null===o)throw As(Hs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const p=o[1]||null;null!=p&&(this.base64=function Rh(d,i){return d.length>=i.length&&d.substring(d.length-i.length)===i}(p,";base64"),this.contentType=this.base64?p.substring(0,p.length-7):p),this.rest=i.substring(i.indexOf(",")+1)}}class ml{constructor(i,o){let p=0,E="";yc(i)?(this.data_=i,p=i.size,E=i.type):i instanceof ArrayBuffer?(o?this.data_=new Uint8Array(i):(this.data_=new Uint8Array(i.byteLength),this.data_.set(new Uint8Array(i))),p=this.data_.length):i instanceof Uint8Array&&(o?this.data_=i:(this.data_=new Uint8Array(i.length),this.data_.set(i)),p=i.length),this.size_=p,this.type_=E}size(){return this.size_}type(){return this.type_}slice(i,o){if(yc(this.data_)){const E=function kn(d,i,o){return d.webkitSlice?d.webkitSlice(i,o):d.mozSlice?d.mozSlice(i,o):d.slice?d.slice(i,o):null}(this.data_,i,o);return null===E?null:new ml(E)}{const p=new Uint8Array(this.data_.buffer,i,o-i);return new ml(p,!0)}}static getBlob(...i){if(Qs()){const o=i.map(p=>p instanceof ml?p.data_:p);return new ml(fn.apply(null,o))}{const o=i.map(H=>vu(H)?$a(Hs.RAW,H).data:H.data_);let p=0;o.forEach(H=>{p+=H.byteLength});const E=new Uint8Array(p);let P=0;return o.forEach(H=>{for(let ee=0;ee<H.length;ee++)E[P++]=H[ee]}),new ml(E,!0)}}uploadData(){return this.data_}}function Zi(d){let i;try{i=JSON.parse(d)}catch{return null}return function _u(d){return"object"==typeof d&&!Array.isArray(d)}(i)?i:null}function as(d){const i=d.lastIndexOf("/",d.length-2);return-1===i?d:d.slice(i+1)}function Ki(d,i){return i}class js{constructor(i,o,p,E){this.server=i,this.local=o||i,this.writable=!!p,this.xform=E||Ki}}let qi=null;function rs(){if(qi)return qi;const d=[];d.push(new js("bucket")),d.push(new js("generation")),d.push(new js("metageneration")),d.push(new js("name","fullPath",!0));const o=new js("name");o.xform=function i(P,H){return function Xu(d){return!vu(d)||d.length<2?d:as(d)}(H)},d.push(o);const E=new js("size");return E.xform=function p(P,H){return void 0!==H?Number(H):H},d.push(E),d.push(new js("timeCreated")),d.push(new js("updated")),d.push(new js("md5Hash",null,!0)),d.push(new js("cacheControl",null,!0)),d.push(new js("contentDisposition",null,!0)),d.push(new js("contentEncoding",null,!0)),d.push(new js("contentLanguage",null,!0)),d.push(new js("contentType",null,!0)),d.push(new js("metadata","customMetadata",!0)),qi=d,qi}function wo(d,i,o){const p=Zi(i);return null===p?null:function Cu(d,i,o){const p={type:"file"},E=o.length;for(let P=0;P<E;P++){const H=o[P];p[H.local]=H.xform(p,i[H.server])}return function vi(d,i){Object.defineProperty(d,"ref",{get:function o(){const P=new Us(d.bucket,d.fullPath);return i._makeStorageReference(P)}})}(p,d),p}(d,p,o)}function wu(d,i){const o={},p=i.length;for(let E=0;E<p;E++){const P=i[E];P.writable&&(o[P.server]=d[P.local])}return JSON.stringify(o)}const G="prefixes",$="items";class ae{constructor(i,o,p,E){this.url=i,this.method=o,this.handler=p,this.timeout=E,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Ie(d){if(!d)throw Vr()}function st(d,i){return function o(p,E){const P=wo(d,E,i);return Ie(null!==P),P}}function ii(d){return function i(o,p){let E;return E=401===o.getStatus()?o.getErrorText().includes("Firebase App Check token is invalid")?function Re(){return new Ts(cr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function re(){return new Ts(cr.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===o.getStatus()?function me(d){return new Ts(cr.QUOTA_EXCEEDED,"Quota for bucket '"+d+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(d.bucket):403===o.getStatus()?function Et(d){return new Ts(cr.UNAUTHORIZED,"User does not have permission to access '"+d+"'.")}(d.path):p,E.status=o.getStatus(),E.serverResponse=p.serverResponse,E}}function ir(d){const i=ii(d);return function o(p,E){let P=i(p,E);return 404===p.getStatus()&&(P=function X(d){return new Ts(cr.OBJECT_NOT_FOUND,"Object '"+d+"' does not exist.")}(d.path)),P.serverResponse=E.serverResponse,P}}function Tt(d,i,o){const E=Ga(i.fullServerUrl(),d.host,d._protocol),H=d.maxOperationRetryTime,ee=new ae(E,"GET",st(d,o),H);return ee.errorHandler=ir(i),ee}function kr(d,i,o,p,E){const P={};P.prefix=i.isRoot?"":i.path+"/",o&&o.length>0&&(P.delimiter=o),p&&(P.pageToken=p),E&&(P.maxResults=E);const ee=Ga(i.bucketOnlyServerUrl(),d.host,d._protocol),Se=d.maxOperationRetryTime,ht=new ae(ee,"GET",function vt(d,i){return function o(p,E){const P=function ie(d,i,o){const p=Zi(o);return null===p?null:function V(d,i,o){const p={prefixes:[],items:[],nextPageToken:o.nextPageToken};if(o[G])for(const E of o[G]){const P=E.replace(/\/$/,""),H=d._makeStorageReference(new Us(i,P));p.prefixes.push(H)}if(o[$])for(const E of o[$]){const P=d._makeStorageReference(new Us(i,E.name));p.items.push(P)}return p}(d,i,p)}(d,i,E);return Ie(null!==P),P}}(d,i.bucket),Se);return ht.urlParams=P,ht.errorHandler=ii(i),ht}function Wa(d,i,o){const p=Object.assign({},o);return p.fullPath=d.path,p.size=i.size(),p.contentType||(p.contentType=function jc(d,i){return d&&d.contentType||i&&i.type()||"application/octet-stream"}(null,i)),p}class Du{constructor(i,o,p,E){this.current=i,this.total=o,this.finalized=!!p,this.metadata=E||null}}function sh(d,i){let o=null;try{o=d.getResponseHeader("X-Goog-Upload-Status")}catch{Ie(!1)}return Ie(!!o&&-1!==(i||["active"]).indexOf(o)),o}const kf={STATE_CHANGED:"state_changed"},vs={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ad(d){switch(d){case"running":case"pausing":case"canceling":return vs.RUNNING;case"paused":return vs.PAUSED;case"success":return vs.SUCCESS;case"canceled":return vs.CANCELED;default:return vs.ERROR}}class xu{constructor(i,o,p){if(function vc(d){return"function"==typeof d}(i)||null!=o||null!=p)this.next=i,this.error=o??void 0,this.complete=p??void 0;else{const P=i;this.next=P.next,this.error=P.error,this.complete=P.complete}}}function Uo(d){return(...i)=>{Promise.resolve().then(()=>d(...i))}}class Zh extends class ao{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Pa.NO_ERROR,this.sendPromise_=new Promise(i=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Pa.ABORT,i()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Pa.NETWORK_ERROR,i()}),this.xhr_.addEventListener("load",()=>{i()})})}send(i,o,p,E){if(this.sent_)throw ks("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(o,i,!0),void 0!==E)for(const P in E)E.hasOwnProperty(P)&&this.xhr_.setRequestHeader(P,E[P].toString());return void 0!==p?this.xhr_.send(p):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ks("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ks("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ks("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ks("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(i){return this.xhr_.getResponseHeader(i)}addUploadProgressListener(i){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",i)}removeUploadProgressListener(i){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",i)}}{initXhr(){this.xhr_.responseType="text"}}function Do(){return new Zh}class Xl{constructor(i,o,p=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=i,this._blob=o,this._metadata=p,this._mappings=rs(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=E=>{if(this._request=void 0,this._chunkMultiplier=1,E._codeEquals(cr.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const P=this.isExponentialBackoffExpired();if(pl(E.status,[])){if(!P)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();E=ln()}this._error=E,this._transition("error")}},this._metadataErrorHandler=E=>{this._request=void 0,E._codeEquals(cr.CANCELED)?this.completeTransitions_():(this._error=E,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((E,P)=>{this._resolve=E,this._reject=P,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const i=this._transferred;return o=>this._updateProgress(i+o)}_shouldDoResumable(i){return i.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(i){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([o,p])=>{switch(this._state){case"running":i(o,p);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((i,o)=>{const p=function kc(d,i,o,p,E){const P=i.bucketOnlyServerUrl(),H=Wa(i,p,E),ee={name:H.fullPath},he=Ga(P,d.host,d._protocol),ht={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${p.size()}`,"X-Goog-Upload-Header-Content-Type":H.contentType,"Content-Type":"application/json; charset=utf-8"},Nt=wu(H,o),Vn=new ae(he,"POST",function An(hi){let zi;sh(hi);try{zi=hi.getResponseHeader("X-Goog-Upload-URL")}catch{Ie(!1)}return Ie(vu(zi)),zi},d.maxUploadRetryTime);return Vn.urlParams=ee,Vn.headers=ht,Vn.body=Nt,Vn.errorHandler=ii(i),Vn}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),E=this._ref.storage._makeRequest(p,Do,i,o);this._request=E,E.getPromise().then(P=>{this._request=void 0,this._uploadUrl=P,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const i=this._uploadUrl;this._resolveToken((o,p)=>{const E=function Vo(d,i,o,p){const he=new ae(o,"POST",function P(Se){const ht=sh(Se,["active","final"]);let Nt=null;try{Nt=Se.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ie(!1)}Nt||Ie(!1);const rn=Number(Nt);return Ie(!isNaN(rn)),new Du(rn,p.size(),"final"===ht)},d.maxUploadRetryTime);return he.headers={"X-Goog-Upload-Command":"query"},he.errorHandler=ii(i),he}(this._ref.storage,this._ref._location,i,this._blob),P=this._ref.storage._makeRequest(E,Do,o,p);this._request=P,P.getPromise().then(H=>{this._request=void 0,this._updateProgress(H.current),this._needToFetchStatus=!1,H.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const i=262144*this._chunkMultiplier,o=new Du(this._transferred,this._blob.size()),p=this._uploadUrl;this._resolveToken((E,P)=>{let H;try{H=function Ya(d,i,o,p,E,P,H,ee){const he=new Du(0,0);if(H?(he.current=H.current,he.total=H.total):(he.current=0,he.total=p.size()),p.size()!==he.total)throw function hr(){return new Ts(cr.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const Se=he.total-he.current;let ht=Se;E>0&&(ht=Math.min(ht,E));const Nt=he.current;let An="";An=0===ht?"finalize":Se===ht?"upload, finalize":"upload";const Vn={"X-Goog-Upload-Command":An,"X-Goog-Upload-Offset":`${he.current}`},hi=p.slice(Nt,Nt+ht);if(null===hi)throw ur();const us=new ae(o,"POST",function zi(ms,ih){const hu=sh(ms,["active","final"]),Hl=he.current+ht,Ku=p.size();let rh;return rh="final"===hu?st(i,P)(ms,ih):null,new Du(Hl,Ku,"final"===hu,rh)},i.maxUploadRetryTime);return us.headers=Vn,us.body=hi.uploadData(),us.progressCallback=ee||null,us.errorHandler=ii(d),us}(this._ref._location,this._ref.storage,p,this._blob,i,this._mappings,o,this._makeProgressCallback())}catch(he){return this._error=he,void this._transition("error")}const ee=this._ref.storage._makeRequest(H,Do,E,P,!1);this._request=ee,ee.getPromise().then(he=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(he.current),he.finalized?(this._metadata=he.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((i,o)=>{const p=Tt(this._ref.storage,this._ref._location,this._mappings),E=this._ref.storage._makeRequest(p,Do,i,o);this._request=E,E.getPromise().then(P=>{this._request=void 0,this._metadata=P,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((i,o)=>{const p=function Eu(d,i,o,p,E){const P=i.bucketOnlyServerUrl(),H={"X-Goog-Upload-Protocol":"multipart"},he=function ee(){let us="";for(let ms=0;ms<2;ms++)us+=Math.random().toString().slice(2);return us}();H["Content-Type"]="multipart/related; boundary="+he;const Se=Wa(i,p,E),ht=wu(Se,o),An=ml.getBlob("--"+he+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+ht+"\r\n--"+he+"\r\nContent-Type: "+Se.contentType+"\r\n\r\n",p,"\r\n--"+he+"--");if(null===An)throw ur();const Vn={name:Se.fullPath},hi=Ga(P,d.host,d._protocol),Tr=d.maxUploadRetryTime,Es=new ae(hi,"POST",st(d,o),Tr);return Es.urlParams=Vn,Es.headers=H,Es.body=An.uploadData(),Es.errorHandler=ii(i),Es}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),E=this._ref.storage._makeRequest(p,Do,i,o);this._request=E,E.getPromise().then(P=>{this._request=void 0,this._metadata=P,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(i){const o=this._transferred;this._transferred=i,this._transferred!==o&&this._notifyObservers()}_transition(i){if(this._state!==i)switch(i){case"canceling":case"pausing":this._state=i,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const o="paused"===this._state;this._state=i,o&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=i,this._notifyObservers();break;case"canceled":this._error=Pn(),this._state=i,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const i=Ad(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:i,metadata:this._metadata,task:this,ref:this._ref}}on(i,o,p,E){const P=new xu(o||void 0,p||void 0,E||void 0);return this._addObserver(P),()=>{this._removeObserver(P)}}then(i,o){return this._promise.then(i,o)}catch(i){return this.then(null,i)}_addObserver(i){this._observers.push(i),this._notifyObserver(i)}_removeObserver(i){const o=this._observers.indexOf(i);-1!==o&&this._observers.splice(o,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(o=>{this._notifyObserver(o)})}_finishPromise(){if(void 0!==this._resolve){let i=!0;switch(Ad(this._state)){case vs.SUCCESS:Uo(this._resolve.bind(null,this.snapshot))();break;case vs.CANCELED:case vs.ERROR:Uo(this._reject.bind(null,this._error))();break;default:i=!1}i&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(i){switch(Ad(this._state)){case vs.RUNNING:case vs.PAUSED:i.next&&Uo(i.next.bind(i,this.snapshot))();break;case vs.SUCCESS:i.complete&&Uo(i.complete.bind(i))();break;default:i.error&&Uo(i.error.bind(i,this._error))()}}resume(){const i="paused"===this._state||"pausing"===this._state;return i&&this._transition("running"),i}pause(){const i="running"===this._state;return i&&this._transition("pausing"),i}cancel(){const i="running"===this._state||"pausing"===this._state;return i&&this._transition("canceling"),i}}class Ol{constructor(i,o){this._service=i,this._location=o instanceof Us?o:Us.makeFromUrl(o,i.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(i,o){return new Ol(i,o)}get root(){const i=new Us(this._location.bucket,"");return this._newRef(this._service,i)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return as(this._location.path)}get storage(){return this._service}get parent(){const i=function Ac(d){if(0===d.length)return null;const i=d.lastIndexOf("/");return-1===i?"":d.slice(0,i)}(this._location.path);if(null===i)return null;const o=new Us(this._location.bucket,i);return new Ol(this._service,o)}_throwIfRoot(i){if(""===this._location.path)throw ho(i)}}function Pd(d,i,o){return ah.apply(this,arguments)}function ah(){return(ah=(0,ja.Z)(function*(d,i,o){const E=yield Xh(d,{pageToken:o});i.prefixes.push(...E.prefixes),i.items.push(...E.items),null!=E.nextPageToken&&(yield Pd(d,i,E.nextPageToken))})).apply(this,arguments)}function Xh(d,i){null!=i&&"number"==typeof i.maxResults&&Gs("options.maxResults",1,1e3,i.maxResults);const o=i||{},p=kr(d.storage,d._location,"/",o.pageToken,o.maxResults);return d.storage.makeRequestWithTokens(p,Do)}function Fd(d){d._throwIfRoot("getDownloadURL");const i=function Rl(d,i,o){const E=Ga(i.fullServerUrl(),d.host,d._protocol),H=d.maxOperationRetryTime,ee=new ae(E,"GET",function mn(d,i){return function o(p,E){const P=wo(d,E,i);return Ie(null!==P),function oo(d,i,o,p){const E=Zi(i);if(null===E||!vu(E.downloadTokens))return null;const P=E.downloadTokens;if(0===P.length)return null;const H=encodeURIComponent;return P.split(",").map(Se=>{const Nt=d.fullPath;return Ga("/b/"+H(d.bucket)+"/o/"+H(Nt),o,p)+Co({alt:"media",token:Se})})[0]}(P,E,d.host,d._protocol)}}(d,o),H);return ee.errorHandler=ir(i),ee}(d.storage,d._location,rs());return d.storage.makeRequestWithTokens(i,Do).then(o=>{if(null===o)throw function Vs(){return new Ts(cr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return o})}function Jl(d,i){const o=function bu(d,i){const o=i.split("/").filter(p=>p.length>0).join("/");return 0===d.length?o:d+"/"+o}(d._location.path,i),p=new Us(d._location.bucket,o);return new Ol(d.storage,p)}function ec(d,i){if(d instanceof Xs){const o=d;if(null==o._bucket)throw function sr(){return new Ts(cr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ia+"' property when initializing the app?")}();const p=new Ol(o,o._bucket);return null!=i?ec(p,i):p}return void 0!==i?Jl(d,i):d}function Rf(d,i){if(i&&function Ho(d){return/^[A-Za-z]+:\/\//.test(d)}(i)){if(d instanceof Xs)return function Tu(d,i){return new Ol(d,i)}(d,i);throw Ar("To use ref(service, url), the first argument must be a Storage instance.")}return ec(d,i)}function ps(d,i){const o=i?.[ia];return null==o?null:Us.makeFromBucketSpec(o,d)}class Xs{constructor(i,o,p,E,P){this.app=i,this._authProvider=o,this._appCheckProvider=p,this._url=E,this._firebaseVersion=P,this._bucket=null,this._host=To,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=E?Us.makeFromBucketSpec(E,this._host):ps(this._host,this.app.options)}get host(){return this._host}set host(i){this._host=i,this._bucket=null!=this._url?Us.makeFromBucketSpec(this._url,i):ps(i,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(i){Gs("time",0,Number.POSITIVE_INFINITY,i),this._maxUploadRetryTime=i}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(i){Gs("time",0,Number.POSITIVE_INFINITY,i),this._maxOperationRetryTime=i}_getAuthToken(){var i=this;return(0,ja.Z)(function*(){if(i._overrideAuthToken)return i._overrideAuthToken;const o=i._authProvider.getImmediate({optional:!0});if(o){const p=yield o.getToken();if(null!==p)return p.accessToken}return null})()}_getAppCheckToken(){var i=this;return(0,ja.Z)(function*(){const o=i._appCheckProvider.getImmediate({optional:!0});return o?(yield o.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(i=>i.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(i){return new Ol(this,i)}_makeRequest(i,o,p,E,P=!0){if(this._deleted)return new xs(Ao());{const H=function Hc(d,i,o,p,E,P,H=!0){const ee=Co(d.urlParams),he=d.url+ee,Se=Object.assign({},d.headers);return function ni(d,i){i&&(d["X-Firebase-GMPID"]=i)}(Se,i),function Os(d,i){null!==i&&i.length>0&&(d.Authorization="Firebase "+i)}(Se,o),function Zu(d,i){d["X-Firebase-Storage-Version"]="webjs/"+(i??"AppManager")}(Se,P),function Ni(d,i){null!==i&&(d["X-Firebase-AppCheck"]=i)}(Se,p),new Kn(he,d.method,Se,d.body,d.successCodes,d.additionalRetryCodes,d.handler,d.errorHandler,d.timeout,d.progressCallback,E,H)}(i,this._appId,p,E,o,this._firebaseVersion,P);return this._requests.add(H),H.getPromise().then(()=>this._requests.delete(H),()=>this._requests.delete(H)),H}}makeRequestWithTokens(i,o){var p=this;return(0,ja.Z)(function*(){const[E,P]=yield Promise.all([p._getAuthToken(),p._getAppCheckToken()]);return p._makeRequest(i,o,E,P).getPromise()})()}}const ys="@firebase/storage",Z="0.11.2";function Ka(d,i){return Rf(d=(0,Xe.m9)(d),i)}function Ro(d,{instanceIdentifier:i}){const o=d.getProvider("app").getImmediate(),p=d.getProvider("auth-internal"),E=d.getProvider("app-check-internal");return new Xs(o,p,E,i,Oa.SDK_VERSION)}!function Au(){(0,Oa._registerComponent)(new kl.wA("storage",Ro,"PUBLIC").setMultipleInstances(!0)),(0,Oa.registerVersion)(ys,Z,""),(0,Oa.registerVersion)(ys,Z,"esm2017")}();class tc{constructor(i,o,p){this._delegate=i,this.task=o,this.ref=p}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class lh{constructor(i,o){this._delegate=i,this._ref=o,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new tc(this._delegate.snapshot,this,this._ref)}then(i,o){return this._delegate.then(p=>{if(i)return i(new tc(p,this,this._ref))},o)}on(i,o,p,E){let P;return o&&(P="function"==typeof o?H=>o(new tc(H,this,this._ref)):{next:o.next?H=>o.next(new tc(H,this,this._ref)):void 0,complete:o.complete||void 0,error:o.error||void 0}),this._delegate.on(i,P,p||void 0,E||void 0)}}class tl{constructor(i,o){this._delegate=i,this._service=o}get prefixes(){return this._delegate.prefixes.map(i=>new Gc(i,this._service))}get items(){return this._delegate.items.map(i=>new Gc(i,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Gc{constructor(i,o){this._delegate=i,this.storage=o}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(i){const o=function qa(d,i){return Jl(d,i)}(this._delegate,i);return new Gc(o,this.storage)}get root(){return new Gc(this._delegate.root,this.storage)}get parent(){const i=this._delegate.parent;return null==i?null:new Gc(i,this.storage)}put(i,o){return this._throwIfRoot("put"),new lh(function Yt(d,i,o){return function Od(d,i,o){return d._throwIfRoot("uploadBytesResumable"),new Xl(d,new ml(i),o)}(d=(0,Xe.m9)(d),i,o)}(this._delegate,i,o),this)}putString(i,o=Hs.RAW,p){this._throwIfRoot("putString");const E=$a(o,i),P=Object.assign({},p);return null==P.contentType&&null!=E.contentType&&(P.contentType=E.contentType),new lh(new Xl(this._delegate,new ml(E.data,!0),P),this)}listAll(){return function Ai(d){return function Oc(d){const i={prefixes:[],items:[]};return Pd(d,i).then(()=>i)}(d=(0,Xe.m9)(d))}(this._delegate).then(i=>new tl(i,this.storage))}list(i){return function ri(d,i){return Xh(d=(0,Xe.m9)(d),i)}(this._delegate,i||void 0).then(o=>new tl(o,this.storage))}getMetadata(){return function Bn(d){return function Nd(d){d._throwIfRoot("getMetadata");const i=Tt(d.storage,d._location,rs());return d.storage.makeRequestWithTokens(i,Do)}(d=(0,Xe.m9)(d))}(this._delegate)}updateMetadata(i){return function pi(d,i){return function ra(d,i){d._throwIfRoot("updateMetadata");const o=function ko(d,i,o,p){const P=Ga(i.fullServerUrl(),d.host,d._protocol),ee=wu(o,p),Se=d.maxOperationRetryTime,ht=new ae(P,"PATCH",st(d,p),Se);return ht.headers={"Content-Type":"application/json; charset=utf-8"},ht.body=ee,ht.errorHandler=ir(i),ht}(d.storage,d._location,i,rs());return d.storage.makeRequestWithTokens(o,Do)}(d=(0,Xe.m9)(d),i)}(this._delegate,i)}getDownloadURL(){return function mr(d){return Fd(d=(0,Xe.m9)(d))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function dr(d){return function dp(d){d._throwIfRoot("deleteObject");const i=function Eo(d,i){const p=Ga(i.fullServerUrl(),d.host,d._protocol),ee=new ae(p,"DELETE",function H(he,Se){},d.maxOperationRetryTime);return ee.successCodes=[200,204],ee.errorHandler=ir(i),ee}(d.storage,d._location);return d.storage.makeRequestWithTokens(i,Do)}(d=(0,Xe.m9)(d))}(this._delegate)}_throwIfRoot(i){if(""===this._delegate._location.path)throw ho(i)}}class Jh{constructor(i,o){this.app=i,this._delegate=o}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(i){if(Ec(i))throw Ar("ref() expected a child path but got a URL, use refFromURL instead.");return new Gc(Ka(this._delegate,i),this)}refFromURL(i){if(!Ec(i))throw Ar("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Us.makeFromUrl(i,this._delegate.host)}catch{throw Ar("refFromUrl() expected a valid full URL but got an invalid one.")}return new Gc(Ka(this._delegate,i),this)}setMaxUploadRetryTime(i){this._delegate.maxUploadRetryTime=i}setMaxOperationRetryTime(i){this._delegate.maxOperationRetryTime=i}useEmulator(i,o,p={}){!function Pl(d,i,o,p={}){!function zc(d,i,o,p={}){d.host=`${i}:${o}`,d._protocol="http";const{mockUserToken:E}=p;E&&(d._overrideAuthToken="string"==typeof E?E:(0,Xe.Sg)(E,d.app.options.projectId))}(d,i,o,p)}(this._delegate,i,o,p)}}function Ec(d){return/^[A-Za-z]+:\/\//.test(d)}function fp(d,{instanceIdentifier:i}){const o=d.getProvider("app-compat").getImmediate(),p=d.getProvider("storage").getImmediate({identifier:i});return new Jh(o,p)}!function Oh(d){const i={TaskState:vs,TaskEvent:kf,StringFormat:Hs,Storage:Jh,Reference:Gc};d.INTERNAL.registerComponent(new kl.wA("storage-compat",fp,"PUBLIC").setServiceProps(i).setMultipleInstances(!0)),d.registerVersion("@firebase/storage-compat","0.3.2")}(el.Z);var ed=z(6217),ku=z(9260);function nl(d){const i=function Ph(d){return new na.y(i=>{const o=H=>i.next(H);o(d.snapshot);const P=d.on("state_changed",o);return d.then(H=>{o(H),i.complete()},H=>{o(d.snapshot),(H=>{i.error(H)})(H)}),function(){P()}}).pipe((0,qu.b)(0))}(d);return{task:d,then:d.then.bind(d),catch:d.catch.bind(d),pause:d.pause.bind(d),cancel:d.cancel.bind(d),resume:d.resume.bind(d),snapshotChanges:()=>i,percentageChanges:()=>i.pipe((0,ro.U)(o=>o.bytesTransferred/o.totalBytes*100))}}function ch(d){return{getDownloadURL:()=>(0,ss.of)(void 0).pipe(uo.fc,(0,fl.w)(()=>d.getDownloadURL()),uo.iC),getMetadata:()=>(0,ss.of)(void 0).pipe(uo.fc,(0,fl.w)(()=>d.getMetadata()),uo.iC),delete:()=>(0,Al.D)(d.delete()),child:i=>ch(d.child(i)),updateMetadata:i=>(0,Al.D)(d.updateMetadata(i)),put:(i,o)=>nl(d.put(i,o)),putString:(i,o,p)=>nl(d.putString(i,o,p)),list:i=>(0,Al.D)(d.list(i)),listAll:()=>(0,Al.D)(d.listAll())}}const Ld=new J.OlP("angularfire2.storageBucket"),zo=new J.OlP("angularfire2.storage.maxUploadRetryTime"),Na=new J.OlP("angularfire2.storage.maxOperationRetryTime"),zs=new J.OlP("angularfire2.storage.use-emulator");let Fl=(()=>{class d{constructor(o,p,E,P,H,ee,he,Se,ht,Nt){const rn=(0,ta.on)(o,H,p);this.storage=(0,ta.cc)(`${rn.name}.storage.${E}`,"AngularFireStorage",rn.name,()=>{const An=H.runOutsideAngular(()=>rn.storage(E||void 0)),Vn=ht;return Vn&&An.useEmulator(...Vn),he&&An.setMaxUploadRetryTime(he),Se&&An.setMaxOperationRetryTime(Se),An},[he,Se])}ref(o){return ch(this.storage.ref(o))}refFromURL(o){return ch(this.storage.refFromURL(o))}upload(o,p,E){return ch(this.storage.ref(o)).put(p,E)}}return d.\u0275fac=function(o){return new(o||d)(J.LFG(ta.Dh),J.LFG(ta.xv,8),J.LFG(Ld,8),J.LFG(J.Lbi),J.LFG(J.R0b),J.LFG(uo.HU),J.LFG(zo,8),J.LFG(Na,8),J.LFG(zs,8),J.LFG(ed.nm,8))},d.\u0275prov=J.Yz7({token:d,factory:d.\u0275fac,providedIn:"any"}),d})(),Of=(()=>{class d{}return d.\u0275fac=function(o){return new(o||d)},d.\u0275mod=J.oAB({type:d}),d.\u0275inj=J.cJS({}),d})(),td=(()=>{class d{constructor(){ku.Z.registerVersion("angularfire",uo.q4.full,"gcs-compat")}}return d.\u0275fac=function(o){return new(o||d)},d.\u0275mod=J.oAB({type:d}),d.\u0275inj=J.cJS({providers:[Fl],imports:[Of]}),d})();var pp=z(1762),Pf=z(4986),Ur=z(6451),bs=z(3099),Bd=z(5026),Dc=z(1884),nd=z(4482),Ru=z(5403),tf=z(8421),Ou=z(4671),nf=z(5032),Vd=z(3269);z(2644);var Ud=z(1877);const $c="@firebase/database";let Hd="";function Pc(d){Hd=d}class jd{constructor(i){this.domStorage_=i,this.prefix_="firebase:"}set(i,o){null==o?this.domStorage_.removeItem(this.prefixedName_(i)):this.domStorage_.setItem(this.prefixedName_(i),(0,Xe.Wl)(o))}get(i){const o=this.domStorage_.getItem(this.prefixedName_(i));return null==o?null:(0,Xe.cI)(o)}remove(i){this.domStorage_.removeItem(this.prefixedName_(i))}prefixedName_(i){return this.prefix_+i}toString(){return this.domStorage_.toString()}}class uh{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(i,o){null==o?delete this.cache_[i]:this.cache_[i]=o}get(i){return(0,Xe.r3)(this.cache_,i)?this.cache_[i]:null}remove(i){delete this.cache_[i]}}const Ll=function(d){try{if(typeof window<"u"&&typeof window[d]<"u"){const i=window[d];return i.setItem("firebase:sentinel","cache"),i.removeItem("firebase:sentinel"),new jd(i)}}catch{}return new uh},Wc=Ll("localStorage"),zd=Ll("sessionStorage"),id=new Ud.Yd("@firebase/database"),gp=function(){let d=1;return function(){return d++}}(),Nh=function(d){const i=(0,Xe.dS)(d),o=new Xe.gQ;o.update(i);const p=o.digest();return Xe.US.encodeByteArray(p)},Go=function(...d){let i="";for(let o=0;o<d.length;o++){const p=d[o];Array.isArray(p)||p&&"object"==typeof p&&"number"==typeof p.length?i+=Go.apply(null,p):i+="object"==typeof p?(0,Xe.Wl)(p):p,i+=" "}return i};let Fa=null,Pu=!0;const af=function(d,i){(0,Xe.hu)(!i||!0===d||!1===d,"Can't turn on custom loggers persistently."),!0===d?(id.logLevel=Ud.in.VERBOSE,Fa=id.log.bind(id),i&&zd.set("logging_enabled",!0)):"function"==typeof d?Fa=d:(Fa=null,zd.remove("logging_enabled"))},lo=function(...d){if(!0===Pu&&(Pu=!1,null===Fa&&!0===zd.get("logging_enabled")&&af(!0)),Fa){const i=Go.apply(null,d);Fa(i)}},Yc=function(d){return function(...i){lo(d,...i)}},Nu=function(...d){const i="FIREBASE INTERNAL ERROR: "+Go(...d);id.error(i)},ma=function(...d){const i=`FIREBASE FATAL ERROR: ${Go(...d)}`;throw id.error(i),new Error(i)},Ss=function(...d){const i="FIREBASE WARNING: "+Go(...d);id.warn(i)},Kc=function(d){return"number"==typeof d&&(d!=d||d===Number.POSITIVE_INFINITY||d===Number.NEGATIVE_INFINITY)},qc="[MIN_NAME]",Bl="[MAX_NAME]",gl=function(d,i){if(d===i)return 0;if(d===qc||i===Bl)return-1;if(i===qc||d===Bl)return 1;{const o=hh(d),p=hh(i);return null!==o?null!==p?o-p==0?d.length-i.length:o-p:-1:null!==p?1:d<i?-1:1}},lf=function(d,i){return d===i?0:d<i?-1:1},Gd=function(d,i){if(i&&d in i)return i[d];throw new Error("Missing required key ("+d+") in object: "+(0,Xe.Wl)(i))},Fh=function(d){if("object"!=typeof d||null===d)return(0,Xe.Wl)(d);const i=[];for(const p in d)i.push(p);i.sort();let o="{";for(let p=0;p<i.length;p++)0!==p&&(o+=","),o+=(0,Xe.Wl)(i[p]),o+=":",o+=Fh(d[i[p]]);return o+="}",o},Zc=function(d,i){const o=d.length;if(o<=i)return[d];const p=[];for(let E=0;E<o;E+=i)p.push(d.substring(E,E+i>o?o:E+i));return p};function $o(d,i){for(const o in d)d.hasOwnProperty(o)&&i(o,d[o])}const _l=function(d){(0,Xe.hu)(!Kc(d),"Invalid JSON number");const p=1023;let E,P,H,ee,he;0===d?(P=0,H=0,E=1/d==-1/0?1:0):(E=d<0,(d=Math.abs(d))>=Math.pow(2,1-p)?(ee=Math.min(Math.floor(Math.log(d)/Math.LN2),p),P=ee+p,H=Math.round(d*Math.pow(2,52-ee)-Math.pow(2,52))):(P=0,H=Math.round(d/Math.pow(2,-1074))));const Se=[];for(he=52;he;he-=1)Se.push(H%2?1:0),H=Math.floor(H/2);for(he=11;he;he-=1)Se.push(P%2?1:0),P=Math.floor(P/2);Se.push(E?1:0),Se.reverse();const ht=Se.join("");let Nt="";for(he=0;he<64;he+=8){let rn=parseInt(ht.substr(he,8),2).toString(16);1===rn.length&&(rn="0"+rn),Nt+=rn}return Nt.toLowerCase()},ic=new RegExp("^-?(0*)\\d{1,10}$"),hh=function(d){if(ic.test(d)){const i=Number(d);if(i>=-2147483648&&i<=2147483647)return i}return null},$d=function(d){try{d()}catch(i){setTimeout(()=>{throw Ss("Exception was thrown by user callback.",i.stack||""),i},Math.floor(0))}},Wd=function(d,i){const o=setTimeout(d,i);return"number"==typeof o&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(o):"object"==typeof o&&o.unref&&o.unref(),o};class Yd{constructor(i,o){this.appName_=i,this.appCheckProvider=o,this.appCheck=o?.getImmediate({optional:!0}),this.appCheck||o?.get().then(p=>this.appCheck=p)}getToken(i){return this.appCheck?this.appCheck.getToken(i):new Promise((o,p)=>{setTimeout(()=>{this.appCheck?this.getToken(i).then(o,p):o(null)},0)})}addTokenChangeListener(i){var o;null===(o=this.appCheckProvider)||void 0===o||o.get().then(p=>p.addTokenListener(i))}notifyForInvalidToken(){Ss(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class uf{constructor(i,o,p){this.appName_=i,this.firebaseOptions_=o,this.authProvider_=p,this.auth_=null,this.auth_=p.getImmediate({optional:!0}),this.auth_||p.onInit(E=>this.auth_=E)}getToken(i){return this.auth_?this.auth_.getToken(i).catch(o=>o&&"auth/token-not-initialized"===o.code?(lo("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(o)):new Promise((o,p)=>{setTimeout(()=>{this.auth_?this.getToken(i).then(o,p):o(null)},0)})}addTokenChangeListener(i){this.auth_?this.auth_.addAuthTokenListener(i):this.authProvider_.get().then(o=>o.addAuthTokenListener(i))}removeTokenChangeListener(i){this.authProvider_.get().then(o=>o.removeAuthTokenListener(i))}notifyForInvalidToken(){let i='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';i+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ss(i)}}let Qc=(()=>{class d{constructor(o){this.accessToken=o}getToken(o){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(o){o(this.accessToken)}removeTokenChangeListener(o){}notifyForInvalidToken(){}}return d.OWNER="owner",d})();const mh=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,gh="websocket",Fc="long_polling";class rc{constructor(i,o,p,E,P=!1,H="",ee=!1,he=!1){this.secure=o,this.namespace=p,this.webSocketOnly=E,this.nodeAdmin=P,this.persistenceKey=H,this.includeNamespaceInQueryParams=ee,this.isUsingEmulator=he,this._host=i.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Wc.get("host:"+i)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(i){i!==this.internalHost&&(this.internalHost=i,this.isCacheableHost()&&Wc.set("host:"+this._host,this.internalHost))}toString(){let i=this.toURLString();return this.persistenceKey&&(i+="<"+this.persistenceKey+">"),i}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Fu(d,i,o){let p;if((0,Xe.hu)("string"==typeof i,"typeof type must == string"),(0,Xe.hu)("object"==typeof o,"typeof params must == object"),i===gh)p=(d.secure?"wss://":"ws://")+d.internalHost+"/.ws?";else{if(i!==Fc)throw new Error("Unknown connection type: "+i);p=(d.secure?"https://":"http://")+d.internalHost+"/.lp?"}(function df(d){return d.host!==d.internalHost||d.isCustomHost()||d.includeNamespaceInQueryParams})(d)&&(o.ns=d.namespace);const E=[];return $o(o,(P,H)=>{E.push(P+"="+H)}),p+E.join("&")}class hf{constructor(){this.counters_={}}incrementCounter(i,o=1){(0,Xe.r3)(this.counters_,i)||(this.counters_[i]=0),this.counters_[i]+=o}get(){return(0,Xe.p$)(this.counters_)}}const Lu={},Cs={};function ga(d){const i=d.toString();return Lu[i]||(Lu[i]=new hf),Lu[i]}class sc{constructor(i){this.onMessage_=i,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(i,o){this.closeAfterResponse=i,this.onClose=o,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(i,o){for(this.pendingResponses[i]=o;this.pendingResponses[this.currentResponseNum];){const p=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let E=0;E<p.length;++E)p[E]&&$d(()=>{this.onMessage_(p[E])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class dt{constructor(i,o,p,E,P,H,ee){this.connId=i,this.repoInfo=o,this.applicationId=p,this.appCheckToken=E,this.authToken=P,this.transportSessionId=H,this.lastSessionId=ee,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Yc(i),this.stats_=ga(o),this.urlFn=he=>(this.appCheckToken&&(he.ac=this.appCheckToken),Fu(o,Fc,he))}open(i,o){this.curSegmentNum=0,this.onDisconnect_=o,this.myPacketOrderer=new sc(i),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(d){if((0,Xe.Yr)()||"complete"===document.readyState)d();else{let i=!1;const o=function(){document.body?i||(i=!0,d()):setTimeout(o,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",o,!1),window.addEventListener("load",o,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&o()}),window.attachEvent("onload",o))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new nn((...P)=>{const[H,ee,he,Se,ht]=P;if(this.incrementIncomingBytes_(P),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===H)this.id=ee,this.password=he;else{if("close"!==H)throw new Error("Unrecognized command received: "+H);ee?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(ee,()=>{this.onClosed_()})):this.onClosed_()}},(...P)=>{const[H,ee]=P;this.incrementIncomingBytes_(P),this.myPacketOrderer.handleResponse(H,ee)},()=>{this.onClosed_()},this.urlFn);const p={start:"t"};p.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(p.cb=this.scriptTagHolder.uniqueCallbackIdentifier),p.v="5",this.transportSessionId&&(p.s=this.transportSessionId),this.lastSessionId&&(p.ls=this.lastSessionId),this.applicationId&&(p.p=this.applicationId),this.appCheckToken&&(p.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&mh.test(location.hostname)&&(p.r="f");const E=this.urlFn(p);this.log_("Connecting via long-poll to "+E),this.scriptTagHolder.addTag(E,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){dt.forceAllow_=!0}static forceDisallow(){dt.forceDisallow_=!0}static isAvailable(){return!((0,Xe.Yr)()||!dt.forceAllow_&&(dt.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(i){const o=(0,Xe.Wl)(i);this.bytesSent+=o.length,this.stats_.incrementCounter("bytes_sent",o.length);const p=(0,Xe.h$)(o),E=Zc(p,1840);for(let P=0;P<E.length;P++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,E.length,E[P]),this.curSegmentNum++}addDisconnectPingFrame(i,o){if((0,Xe.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const p={dframe:"t"};p.id=i,p.pw=o,this.myDisconnFrame.src=this.urlFn(p),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(i){const o=(0,Xe.Wl)(i).length;this.bytesReceived+=o,this.stats_.incrementCounter("bytes_received",o)}}class nn{constructor(i,o,p,E){if(this.onDisconnect=p,this.urlFn=E,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,Xe.Yr)())this.commandCB=i,this.onMessageCB=o;else{this.uniqueCallbackIdentifier=gp(),window["pLPCommand"+this.uniqueCallbackIdentifier]=i,window["pRTLPCB"+this.uniqueCallbackIdentifier]=o,this.myIFrame=nn.createIFrame_();let P="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(P='<script>document.domain="'+document.domain+'";<\/script>');const H="<html><body>"+P+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(H),this.myIFrame.doc.close()}catch(ee){lo("frame writing exception"),ee.stack&&lo(ee.stack),lo(ee)}}}static createIFrame_(){const i=document.createElement("iframe");if(i.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(i);try{i.contentWindow.document||lo("No IE domain setting required")}catch{const p=document.domain;i.src="javascript:void((function(){document.open();document.domain='"+p+"';document.close();})())"}return i.contentDocument?i.doc=i.contentDocument:i.contentWindow?i.doc=i.contentWindow.document:i.document&&(i.doc=i.document),i}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const i=this.onDisconnect;i&&(this.onDisconnect=null,i())}startLongPoll(i,o){for(this.myID=i,this.myPW=o,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const i={};i.id=this.myID,i.pw=this.myPW,i.ser=this.currentSerial;let o=this.urlFn(i),p="",E=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+p.length<=1870;){const H=this.pendingSegs.shift();p=p+"&seg"+E+"="+H.seg+"&ts"+E+"="+H.ts+"&d"+E+"="+H.d,E++}return o+=p,this.addLongPollTag_(o,this.currentSerial),!0}return!1}enqueueSegment(i,o,p){this.pendingSegs.push({seg:i,ts:o,d:p}),this.alive&&this.newRequest_()}addLongPollTag_(i,o){this.outstandingRequests.add(o);const p=()=>{this.outstandingRequests.delete(o),this.newRequest_()},E=setTimeout(p,Math.floor(25e3));this.addTag(i,()=>{clearTimeout(E),p()})}addTag(i,o){(0,Xe.Yr)()?this.doNodeLongPoll(i,o):setTimeout(()=>{try{if(!this.sendNewPolls)return;const p=this.myIFrame.doc.createElement("script");p.type="text/javascript",p.async=!0,p.src=i,p.onload=p.onreadystatechange=function(){const E=p.readyState;(!E||"loaded"===E||"complete"===E)&&(p.onload=p.onreadystatechange=null,p.parentNode&&p.parentNode.removeChild(p),o())},p.onerror=()=>{lo("Long-poll script failed to load: "+i),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(p)}catch{}},Math.floor(1))}}let xi=null;typeof MozWebSocket<"u"?xi=MozWebSocket:typeof WebSocket<"u"&&(xi=WebSocket);let Si=(()=>{class d{constructor(o,p,E,P,H,ee,he){this.connId=o,this.applicationId=E,this.appCheckToken=P,this.authToken=H,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Yc(this.connId),this.stats_=ga(p),this.connURL=d.connectionURL_(p,ee,he,P,E),this.nodeAdmin=p.nodeAdmin}static connectionURL_(o,p,E,P,H){const ee={v:"5"};return!(0,Xe.Yr)()&&typeof location<"u"&&location.hostname&&mh.test(location.hostname)&&(ee.r="f"),p&&(ee.s=p),E&&(ee.ls=E),P&&(ee.ac=P),H&&(ee.p=H),Fu(o,gh,ee)}open(o,p){this.onDisconnect=p,this.onMessage=o,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Wc.set("previous_websocket_failure",!0);try{let E;if((0,Xe.Yr)()){E={headers:{"User-Agent":`Firebase/5/${Hd}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(E.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(E.headers["X-Firebase-AppCheck"]=this.appCheckToken);const H=process.env,ee=0===this.connURL.indexOf("wss://")?H.HTTPS_PROXY||H.https_proxy:H.HTTP_PROXY||H.http_proxy;ee&&(E.proxy={origin:ee})}this.mySock=new xi(this.connURL,[],E)}catch(E){this.log_("Error instantiating WebSocket.");const P=E.message||E.data;return P&&this.log_(P),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=E=>{this.handleIncomingFrame(E)},this.mySock.onerror=E=>{this.log_("WebSocket error.  Closing connection.");const P=E.message||E.data;P&&this.log_(P),this.onClosed_()}}start(){}static forceDisallow(){d.forceDisallow_=!0}static isAvailable(){let o=!1;if(typeof navigator<"u"&&navigator.userAgent){const E=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);E&&E.length>1&&parseFloat(E[1])<4.4&&(o=!0)}return!o&&null!==xi&&!d.forceDisallow_}static previouslyFailed(){return Wc.isInMemoryStorage||!0===Wc.get("previous_websocket_failure")}markConnectionHealthy(){Wc.remove("previous_websocket_failure")}appendFrame_(o){if(this.frames.push(o),this.frames.length===this.totalFrames){const p=this.frames.join("");this.frames=null;const E=(0,Xe.cI)(p);this.onMessage(E)}}handleNewFrameCount_(o){this.totalFrames=o,this.frames=[]}extractFrameCount_(o){if((0,Xe.hu)(null===this.frames,"We already have a frame buffer"),o.length<=6){const p=Number(o);if(!isNaN(p))return this.handleNewFrameCount_(p),null}return this.handleNewFrameCount_(1),o}handleIncomingFrame(o){if(null===this.mySock)return;const p=o.data;if(this.bytesReceived+=p.length,this.stats_.incrementCounter("bytes_received",p.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(p);else{const E=this.extractFrameCount_(p);null!==E&&this.appendFrame_(E)}}send(o){this.resetKeepAlive();const p=(0,Xe.Wl)(o);this.bytesSent+=p.length,this.stats_.incrementCounter("bytes_sent",p.length);const E=Zc(p,16384);E.length>1&&this.sendString_(String(E.length));for(let P=0;P<E.length;P++)this.sendString_(E[P])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(o){try{this.mySock.send(o)}catch(p){this.log_("Exception thrown from WebSocket.send():",p.message||p.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return d.responsesRequiredToBeHealthy=2,d.healthyTimeout=3e4,d})(),$s=(()=>{class d{constructor(o){this.initTransports_(o)}static get ALL_TRANSPORTS(){return[dt,Si]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(o){const p=Si&&Si.isAvailable();let E=p&&!Si.previouslyFailed();if(o.webSocketOnly&&(p||Ss("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),E=!0),E)this.transports_=[Si];else{const P=this.transports_=[];for(const H of d.ALL_TRANSPORTS)H&&H.isAvailable()&&P.push(H);d.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return d.globalTransportInitialized_=!1,d})();class jp{constructor(i,o,p,E,P,H,ee,he,Se,ht){this.id=i,this.repoInfo_=o,this.applicationId_=p,this.appCheckToken_=E,this.authToken_=P,this.onMessage_=H,this.onReady_=ee,this.onDisconnect_=he,this.onKill_=Se,this.lastSessionId=ht,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Yc("c:"+this.id+":"),this.transportManager_=new $s(o),this.log_("Connection created"),this.start_()}start_(){const i=this.transportManager_.initialTransport();this.conn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;const o=this.connReceiver_(this.conn_),p=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(o,p)},Math.floor(0));const E=i.healthyTimeout||0;E>0&&(this.healthyTimeout_=Wd(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(E)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(i){return o=>{i===this.conn_?this.onConnectionLost_(o):i===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(i){return o=>{2!==this.state_&&(i===this.rx_?this.onPrimaryMessageReceived_(o):i===this.secondaryConn_?this.onSecondaryMessageReceived_(o):this.log_("message on old connection"))}}sendRequest(i){this.sendData_({t:"d",d:i})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(i){if("t"in i){const o=i.t;"a"===o?this.upgradeIfSecondaryHealthy_():"r"===o?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===o&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(i){const o=Gd("t",i),p=Gd("d",i);if("c"===o)this.onSecondaryControl_(p);else{if("d"!==o)throw new Error("Unknown protocol layer: "+o);this.pendingDataMessages.push(p)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(i){const o=Gd("t",i),p=Gd("d",i);"c"===o?this.onControl_(p):"d"===o&&this.onDataMessage_(p)}onDataMessage_(i){this.onPrimaryResponse_(),this.onMessage_(i)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(i){const o=Gd("t",i);if("d"in i){const p=i.d;if("h"===o){const E=Object.assign({},p);this.repoInfo_.isUsingEmulator&&(E.h=this.repoInfo_.host),this.onHandshake_(E)}else if("n"===o){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let E=0;E<this.pendingDataMessages.length;++E)this.onDataMessage_(this.pendingDataMessages[E]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===o?this.onConnectionShutdown_(p):"r"===o?this.onReset_(p):"e"===o?Nu("Server Error: "+p):"o"===o?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Nu("Unknown control packet command: "+o)}}onHandshake_(i){const o=i.ts,p=i.v,E=i.h;this.sessionId=i.s,this.repoInfo_.host=E,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,o),"5"!==p&&Ss("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const i=this.transportManager_.upgradeTransport();i&&this.startUpgrade_(i)}startUpgrade_(i){this.secondaryConn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;const o=this.connReceiver_(this.secondaryConn_),p=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(o,p),Wd(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(i){this.log_("Reset packet received.  New host: "+i),this.repoInfo_.host=i,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(i,o){this.log_("Realtime connection established."),this.conn_=i,this.state_=1,this.onReady_&&(this.onReady_(o,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Wd(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const i=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===i||this.rx_===i)&&this.close()}onConnectionLost_(i){this.conn_=null,i||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Wc.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(i){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(i),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(i){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(i)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class hg{put(i,o,p,E){}merge(i,o,p,E){}refreshAuthToken(i){}refreshAppCheckToken(i){}onDisconnectPut(i,o,p){}onDisconnectMerge(i,o,p){}onDisconnectCancel(i,o){}reportStats(i){}}class zp{constructor(i){this.allowedEvents_=i,this.listeners_={},(0,Xe.hu)(Array.isArray(i)&&i.length>0,"Requires a non-empty array")}trigger(i,...o){if(Array.isArray(this.listeners_[i])){const p=[...this.listeners_[i]];for(let E=0;E<p.length;E++)p[E].callback.apply(p[E].context,o)}}on(i,o,p){this.validateEventType_(i),this.listeners_[i]=this.listeners_[i]||[],this.listeners_[i].push({callback:o,context:p});const E=this.getInitialEvent(i);E&&o.apply(p,E)}off(i,o,p){this.validateEventType_(i);const E=this.listeners_[i]||[];for(let P=0;P<E.length;P++)if(E[P].callback===o&&(!p||p===E[P].context))return void E.splice(P,1)}validateEventType_(i){(0,Xe.hu)(this.allowedEvents_.find(o=>o===i),"Unknown event: "+i)}}class mf extends zp{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,Xe.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new mf}getInitialEvent(i){return(0,Xe.hu)("online"===i,"Unknown event type: "+i),[this.online_]}currentlyOnline(){return this.online_}}class Ws{constructor(i,o){if(void 0===o){this.pieces_=i.split("/");let p=0;for(let E=0;E<this.pieces_.length;E++)this.pieces_[E].length>0&&(this.pieces_[p]=this.pieces_[E],p++);this.pieces_.length=p,this.pieceNum_=0}else this.pieces_=i,this.pieceNum_=o}toString(){let i="";for(let o=this.pieceNum_;o<this.pieces_.length;o++)""!==this.pieces_[o]&&(i+="/"+this.pieces_[o]);return i||"/"}}function fr(){return new Ws("")}function Hr(d){return d.pieceNum_>=d.pieces_.length?null:d.pieces_[d.pieceNum_]}function Uh(d){return d.pieces_.length-d.pieceNum_}function Ps(d){let i=d.pieceNum_;return i<d.pieces_.length&&i++,new Ws(d.pieces_,i)}function _a(d){return d.pieceNum_<d.pieces_.length?d.pieces_[d.pieces_.length-1]:null}function xc(d,i=0){return d.pieces_.slice(d.pieceNum_+i)}function ud(d){if(d.pieceNum_>=d.pieces_.length)return null;const i=[];for(let o=d.pieceNum_;o<d.pieces_.length-1;o++)i.push(d.pieces_[o]);return new Ws(i,0)}function Gr(d,i){const o=[];for(let p=d.pieceNum_;p<d.pieces_.length;p++)o.push(d.pieces_[p]);if(i instanceof Ws)for(let p=i.pieceNum_;p<i.pieces_.length;p++)o.push(i.pieces_[p]);else{const p=i.split("/");for(let E=0;E<p.length;E++)p[E].length>0&&o.push(p[E])}return new Ws(o,0)}function Fr(d){return d.pieceNum_>=d.pieces_.length}function il(d,i){const o=Hr(d),p=Hr(i);if(null===o)return i;if(o===p)return il(Ps(d),Ps(i));throw new Error("INTERNAL ERROR: innerPath ("+i+") is not within outerPath ("+d+")")}function Gp(d,i){const o=xc(d,0),p=xc(i,0);for(let E=0;E<o.length&&E<p.length;E++){const P=gl(o[E],p[E]);if(0!==P)return P}return o.length===p.length?0:o.length<p.length?-1:1}function Bf(d,i){if(Uh(d)!==Uh(i))return!1;for(let o=d.pieceNum_,p=i.pieceNum_;o<=d.pieces_.length;o++,p++)if(d.pieces_[o]!==i.pieces_[p])return!1;return!0}function Vl(d,i){let o=d.pieceNum_,p=i.pieceNum_;if(Uh(d)>Uh(i))return!1;for(;o<d.pieces_.length;){if(d.pieces_[o]!==i.pieces_[p])return!1;++o,++p}return!0}class $p{constructor(i,o){this.errorPrefix_=o,this.parts_=xc(i,0),this.byteLength_=Math.max(1,this.parts_.length);for(let p=0;p<this.parts_.length;p++)this.byteLength_+=(0,Xe.ug)(this.parts_[p]);qd(this)}}function qd(d){if(d.byteLength_>768)throw new Error(d.errorPrefix_+"has a key path longer than 768 bytes ("+d.byteLength_+").");if(d.parts_.length>32)throw new Error(d.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+bl(d))}function bl(d){return 0===d.parts_.length?"":"in property '"+d.parts_.join(".")+"'"}class Vf extends zp{constructor(){let i,o;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(o="visibilitychange",i="hidden"):typeof document.mozHidden<"u"?(o="mozvisibilitychange",i="mozHidden"):typeof document.msHidden<"u"?(o="msvisibilitychange",i="msHidden"):typeof document.webkitHidden<"u"&&(o="webkitvisibilitychange",i="webkitHidden")),this.visible_=!0,o&&document.addEventListener(o,()=>{const p=!document[i];p!==this.visible_&&(this.visible_=p,this.trigger("visible",p))},!1)}static getInstance(){return new Vf}getInitialEvent(i){return(0,Xe.hu)("visible"===i,"Unknown event type: "+i),[this.visible_]}}const Hh=1e3;let I,h=(()=>{class d extends hg{constructor(o,p,E,P,H,ee,he,Se){if(super(),this.repoInfo_=o,this.applicationId_=p,this.onDataUpdate_=E,this.onConnectStatus_=P,this.onServerInfoUpdate_=H,this.authTokenProvider_=ee,this.appCheckTokenProvider_=he,this.authOverride_=Se,this.id=d.nextPersistentConnectionId_++,this.log_=Yc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Hh,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,Se&&!(0,Xe.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Vf.getInstance().on("visible",this.onVisible_,this),-1===o.host.indexOf("fblocal")&&mf.getInstance().on("online",this.onOnline_,this)}sendRequest(o,p,E){const P=++this.requestNumber_,H={r:P,a:o,b:p};this.log_((0,Xe.Wl)(H)),(0,Xe.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(H),E&&(this.requestCBHash_[P]=E)}get(o){this.initConnection_();const p=new Xe.BH,E={p:o._path.toString(),q:o._queryObject};return this.outstandingGets_.push({action:"g",request:E,onComplete:ee=>{const he=ee.d;"ok"===ee.s?p.resolve(he):p.reject(he)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),p.promise}listen(o,p,E,P){this.initConnection_();const H=o._queryIdentifier,ee=o._path.toString();this.log_("Listen called for "+ee+" "+H),this.listens.has(ee)||this.listens.set(ee,new Map),(0,Xe.hu)(o._queryParams.isDefault()||!o._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,Xe.hu)(!this.listens.get(ee).has(H),"listen() called twice for same path/queryId.");const he={onComplete:P,hashFn:p,query:o,tag:E};this.listens.get(ee).set(H,he),this.connected_&&this.sendListen_(he)}sendGet_(o){const p=this.outstandingGets_[o];this.sendRequest("g",p.request,E=>{delete this.outstandingGets_[o],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),p.onComplete&&p.onComplete(E)})}sendListen_(o){const p=o.query,E=p._path.toString(),P=p._queryIdentifier;this.log_("Listen on "+E+" for "+P);const H={p:E};o.tag&&(H.q=p._queryObject,H.t=o.tag),H.h=o.hashFn(),this.sendRequest("q",H,he=>{const Se=he.d,ht=he.s;d.warnOnListenWarnings_(Se,p),(this.listens.get(E)&&this.listens.get(E).get(P))===o&&(this.log_("listen response",he),"ok"!==ht&&this.removeListen_(E,P),o.onComplete&&o.onComplete(ht,Se))})}static warnOnListenWarnings_(o,p){if(o&&"object"==typeof o&&(0,Xe.r3)(o,"w")){const E=(0,Xe.DV)(o,"w");if(Array.isArray(E)&&~E.indexOf("no_index")){const P='".indexOn": "'+p._queryParams.getIndex().toString()+'"',H=p._path.toString();Ss(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${P} at ${H} to your security rules for better performance.`)}}}refreshAuthToken(o){this.authToken_=o,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(o)}reduceReconnectDelayIfAdminCredential_(o){(o&&40===o.length||(0,Xe.GJ)(o))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(o){this.appCheckToken_=o,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const o=this.authToken_,p=(0,Xe.w9)(o)?"auth":"gauth",E={cred:o};null===this.authOverride_?E.noauth=!0:"object"==typeof this.authOverride_&&(E.authvar=this.authOverride_),this.sendRequest(p,E,P=>{const H=P.s,ee=P.d||"error";this.authToken_===o&&("ok"===H?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(H,ee))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},o=>{const p=o.s,E=o.d||"error";"ok"===p?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(p,E)})}unlisten(o,p){const E=o._path.toString(),P=o._queryIdentifier;this.log_("Unlisten called for "+E+" "+P),(0,Xe.hu)(o._queryParams.isDefault()||!o._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(E,P)&&this.connected_&&this.sendUnlisten_(E,P,o._queryObject,p)}sendUnlisten_(o,p,E,P){this.log_("Unlisten on "+o+" for "+p);const H={p:o};P&&(H.q=E,H.t=P),this.sendRequest("n",H)}onDisconnectPut(o,p,E){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",o,p,E):this.onDisconnectRequestQueue_.push({pathString:o,action:"o",data:p,onComplete:E})}onDisconnectMerge(o,p,E){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",o,p,E):this.onDisconnectRequestQueue_.push({pathString:o,action:"om",data:p,onComplete:E})}onDisconnectCancel(o,p){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",o,null,p):this.onDisconnectRequestQueue_.push({pathString:o,action:"oc",data:null,onComplete:p})}sendOnDisconnect_(o,p,E,P){const H={p,d:E};this.log_("onDisconnect "+o,H),this.sendRequest(o,H,ee=>{P&&setTimeout(()=>{P(ee.s,ee.d)},Math.floor(0))})}put(o,p,E,P){this.putInternal("p",o,p,E,P)}merge(o,p,E,P){this.putInternal("m",o,p,E,P)}putInternal(o,p,E,P,H){this.initConnection_();const ee={p,d:E};void 0!==H&&(ee.h=H),this.outstandingPuts_.push({action:o,request:ee,onComplete:P}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+p)}sendPut_(o){const p=this.outstandingPuts_[o].action,E=this.outstandingPuts_[o].request,P=this.outstandingPuts_[o].onComplete;this.outstandingPuts_[o].queued=this.connected_,this.sendRequest(p,E,H=>{this.log_(p+" response",H),delete this.outstandingPuts_[o],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),P&&P(H.s,H.d)})}reportStats(o){if(this.connected_){const p={c:o};this.log_("reportStats",p),this.sendRequest("s",p,E=>{"ok"!==E.s&&this.log_("reportStats","Error sending stats: "+E.d)})}}onDataMessage_(o){if("r"in o){this.log_("from server: "+(0,Xe.Wl)(o));const p=o.r,E=this.requestCBHash_[p];E&&(delete this.requestCBHash_[p],E(o.b))}else{if("error"in o)throw"A server-side error has occurred: "+o.error;"a"in o&&this.onDataPush_(o.a,o.b)}}onDataPush_(o,p){this.log_("handleServerMessage",o,p),"d"===o?this.onDataUpdate_(p.p,p.d,!1,p.t):"m"===o?this.onDataUpdate_(p.p,p.d,!0,p.t):"c"===o?this.onListenRevoked_(p.p,p.q):"ac"===o?this.onAuthRevoked_(p.s,p.d):"apc"===o?this.onAppCheckRevoked_(p.s,p.d):"sd"===o?this.onSecurityDebugPacket_(p):Nu("Unrecognized action received from server: "+(0,Xe.Wl)(o)+"\nAre you using the latest client?")}onReady_(o,p){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(o),this.lastSessionId=p,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(o){(0,Xe.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(o))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(o){o&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Hh,this.realtime_||this.scheduleConnect_(0)),this.visible_=o}onOnline_(o){o?(this.log_("Browser went online."),this.reconnectDelay_=Hh,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Hh),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const o=(new Date).getTime()-this.lastConnectionAttemptTime_;let p=Math.max(0,this.reconnectDelay_-o);p=Math.random()*p,this.log_("Trying to reconnect in "+p+"ms"),this.scheduleConnect_(p),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var o=this;return(0,ja.Z)(function*(){if(o.shouldReconnect_()){o.log_("Making a connection attempt"),o.lastConnectionAttemptTime_=(new Date).getTime(),o.lastConnectionEstablishedTime_=null;const p=o.onDataMessage_.bind(o),E=o.onReady_.bind(o),P=o.onRealtimeDisconnect_.bind(o),H=o.id+":"+d.nextConnectionId_++,ee=o.lastSessionId;let he=!1,Se=null;const ht=function(){Se?Se.close():(he=!0,P())};o.realtime_={close:ht,sendRequest:function(An){(0,Xe.hu)(Se,"sendRequest call when we're not connected not allowed."),Se.sendRequest(An)}};const rn=o.forceTokenRefresh_;o.forceTokenRefresh_=!1;try{const[An,Vn]=yield Promise.all([o.authTokenProvider_.getToken(rn),o.appCheckTokenProvider_.getToken(rn)]);he?lo("getToken() completed but was canceled"):(lo("getToken() completed. Creating connection."),o.authToken_=An&&An.accessToken,o.appCheckToken_=Vn&&Vn.token,Se=new jp(H,o.repoInfo_,o.applicationId_,o.appCheckToken_,o.authToken_,p,E,P,hi=>{Ss(hi+" ("+o.repoInfo_.toString()+")"),o.interrupt("server_kill")},ee))}catch(An){o.log_("Failed to get token: "+An),he||(o.repoInfo_.nodeAdmin&&Ss(An),ht())}}})()}interrupt(o){lo("Interrupting connection for reason: "+o),this.interruptReasons_[o]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(o){lo("Resuming connection for reason: "+o),delete this.interruptReasons_[o],(0,Xe.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Hh,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(o){const p=o-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:p})}cancelSentTransactions_(){for(let o=0;o<this.outstandingPuts_.length;o++){const p=this.outstandingPuts_[o];p&&"h"in p.request&&p.queued&&(p.onComplete&&p.onComplete("disconnect"),delete this.outstandingPuts_[o],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(o,p){let E;E=p?p.map(H=>Fh(H)).join("$"):"default";const P=this.removeListen_(o,E);P&&P.onComplete&&P.onComplete("permission_denied")}removeListen_(o,p){const E=new Ws(o).toString();let P;if(this.listens.has(E)){const H=this.listens.get(E);P=H.get(p),H.delete(p),0===H.size&&this.listens.delete(E)}else P=void 0;return P}onAuthRevoked_(o,p){lo("Auth token revoked: "+o+"/"+p),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===o||"permission_denied"===o)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(o,p){lo("App check token revoked: "+o+"/"+p),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===o||"permission_denied"===o)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(o){this.securityDebugCallback_?this.securityDebugCallback_(o):"msg"in o&&console.log("FIREBASE: "+o.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const o of this.listens.values())for(const p of o.values())this.sendListen_(p);for(let o=0;o<this.outstandingPuts_.length;o++)this.outstandingPuts_[o]&&this.sendPut_(o);for(;this.onDisconnectRequestQueue_.length;){const o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(let o=0;o<this.outstandingGets_.length;o++)this.outstandingGets_[o]&&this.sendGet_(o)}sendConnectStats_(){const o={};let p="js";(0,Xe.Yr)()&&(p=this.repoInfo_.nodeAdmin?"admin_node":"node"),o["sdk."+p+"."+Hd.replace(/\./g,"-")]=1,(0,Xe.uI)()?o["framework.cordova"]=1:(0,Xe.b$)()&&(o["framework.reactnative"]=1),this.reportStats(o)}shouldReconnect_(){const o=mf.getInstance().currentlyOnline();return(0,Xe.xb)(this.interruptReasons_)&&o}}return d.nextPersistentConnectionId_=0,d.nextConnectionId_=0,d})();class g{constructor(i,o){this.name=i,this.node=o}static Wrap(i,o){return new g(i,o)}}class y{getCompare(){return this.compare.bind(this)}indexedValueChanged(i,o){const p=new g(qc,i),E=new g(qc,o);return 0!==this.compare(p,E)}minPost(){return g.MIN}}class O extends y{static get __EMPTY_NODE(){return I}static set __EMPTY_NODE(i){I=i}compare(i,o){return gl(i.name,o.name)}isDefinedOn(i){throw(0,Xe.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(i,o){return!1}minPost(){return g.MIN}maxPost(){return new g(Bl,I)}makePost(i,o){return(0,Xe.hu)("string"==typeof i,"KeyIndex indexValue must always be a string."),new g(i,I)}toString(){return".key"}}const F=new O;class j{constructor(i,o,p,E,P=null){this.isReverse_=E,this.resultGenerator_=P,this.nodeStack_=[];let H=1;for(;!i.isEmpty();)if(H=o?p(i.key,o):1,E&&(H*=-1),H<0)i=this.isReverse_?i.left:i.right;else{if(0===H){this.nodeStack_.push(i);break}this.nodeStack_.push(i),i=this.isReverse_?i.right:i.left}}getNext(){if(0===this.nodeStack_.length)return null;let o,i=this.nodeStack_.pop();if(o=this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value},this.isReverse_)for(i=i.left;!i.isEmpty();)this.nodeStack_.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack_.push(i),i=i.left;return o}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const i=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value}}}let At,Q=(()=>{class d{constructor(o,p,E,P,H){this.key=o,this.value=p,this.color=E??d.RED,this.left=P??ye.EMPTY_NODE,this.right=H??ye.EMPTY_NODE}copy(o,p,E,P,H){return new d(o??this.key,p??this.value,E??this.color,P??this.left,H??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(o){return this.left.inorderTraversal(o)||!!o(this.key,this.value)||this.right.inorderTraversal(o)}reverseTraversal(o){return this.right.reverseTraversal(o)||o(this.key,this.value)||this.left.reverseTraversal(o)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(o,p,E){let P=this;const H=E(o,P.key);return P=H<0?P.copy(null,null,null,P.left.insert(o,p,E),null):0===H?P.copy(null,p,null,null,null):P.copy(null,null,null,null,P.right.insert(o,p,E)),P.fixUp_()}removeMin_(){if(this.left.isEmpty())return ye.EMPTY_NODE;let o=this;return!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.removeMin_(),null),o.fixUp_()}remove(o,p){let E,P;if(E=this,p(o,E.key)<0)!E.left.isEmpty()&&!E.left.isRed_()&&!E.left.left.isRed_()&&(E=E.moveRedLeft_()),E=E.copy(null,null,null,E.left.remove(o,p),null);else{if(E.left.isRed_()&&(E=E.rotateRight_()),!E.right.isEmpty()&&!E.right.isRed_()&&!E.right.left.isRed_()&&(E=E.moveRedRight_()),0===p(o,E.key)){if(E.right.isEmpty())return ye.EMPTY_NODE;P=E.right.min_(),E=E.copy(P.key,P.value,null,null,E.right.removeMin_())}E=E.copy(null,null,null,null,E.right.remove(o,p))}return E.fixUp_()}isRed_(){return this.color}fixUp_(){let o=this;return o.right.isRed_()&&!o.left.isRed_()&&(o=o.rotateLeft_()),o.left.isRed_()&&o.left.left.isRed_()&&(o=o.rotateRight_()),o.left.isRed_()&&o.right.isRed_()&&(o=o.colorFlip_()),o}moveRedLeft_(){let o=this.colorFlip_();return o.right.left.isRed_()&&(o=o.copy(null,null,null,null,o.right.rotateRight_()),o=o.rotateLeft_(),o=o.colorFlip_()),o}moveRedRight_(){let o=this.colorFlip_();return o.left.left.isRed_()&&(o=o.rotateRight_(),o=o.colorFlip_()),o}rotateLeft_(){const o=this.copy(null,null,d.RED,null,this.right.left);return this.right.copy(null,null,this.color,o,null)}rotateRight_(){const o=this.copy(null,null,d.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,o)}colorFlip_(){const o=this.left.copy(null,null,!this.left.color,null,null),p=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,o,p)}checkMaxDepth_(){const o=this.check_();return Math.pow(2,o)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const o=this.left.check_();if(o!==this.right.check_())throw new Error("Black depths differ");return o+(this.isRed_()?0:1)}}return d.RED=!0,d.BLACK=!1,d})();class ye{constructor(i,o=ye.EMPTY_NODE){this.comparator_=i,this.root_=o}insert(i,o){return new ye(this.comparator_,this.root_.insert(i,o,this.comparator_).copy(null,null,Q.BLACK,null,null))}remove(i){return new ye(this.comparator_,this.root_.remove(i,this.comparator_).copy(null,null,Q.BLACK,null,null))}get(i){let o,p=this.root_;for(;!p.isEmpty();){if(o=this.comparator_(i,p.key),0===o)return p.value;o<0?p=p.left:o>0&&(p=p.right)}return null}getPredecessorKey(i){let o,p=this.root_,E=null;for(;!p.isEmpty();){if(o=this.comparator_(i,p.key),0===o){if(p.left.isEmpty())return E?E.key:null;for(p=p.left;!p.right.isEmpty();)p=p.right;return p.key}o<0?p=p.left:o>0&&(E=p,p=p.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(i){return this.root_.inorderTraversal(i)}reverseTraversal(i){return this.root_.reverseTraversal(i)}getIterator(i){return new j(this.root_,null,this.comparator_,!1,i)}getIteratorFrom(i,o){return new j(this.root_,i,this.comparator_,!1,o)}getReverseIteratorFrom(i,o){return new j(this.root_,i,this.comparator_,!0,o)}getReverseIterator(i){return new j(this.root_,null,this.comparator_,!0,i)}}function Fe(d,i){return gl(d.name,i.name)}function nt(d,i){return gl(d,i)}ye.EMPTY_NODE=new class de{copy(i,o,p,E,P){return this}insert(i,o,p){return new Q(i,o,null)}remove(i,o){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Kt=function(d){return"number"==typeof d?"number:"+_l(d):"string:"+d},gn=function(d){if(d.isLeafNode()){const i=d.val();(0,Xe.hu)("string"==typeof i||"number"==typeof i||"object"==typeof i&&(0,Xe.r3)(i,".sv"),"Priority must be a string or number.")}else(0,Xe.hu)(d===At||d.isEmpty(),"priority of unexpected type.");(0,Xe.hu)(d===At||d.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Tn,Jn,jn,si=(()=>{class d{constructor(o,p=d.__childrenNodeConstructor.EMPTY_NODE){this.value_=o,this.priorityNode_=p,this.lazyHash_=null,(0,Xe.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),gn(this.priorityNode_)}static set __childrenNodeConstructor(o){Tn=o}static get __childrenNodeConstructor(){return Tn}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(o){return new d(this.value_,o)}getImmediateChild(o){return".priority"===o?this.priorityNode_:d.__childrenNodeConstructor.EMPTY_NODE}getChild(o){return Fr(o)?this:".priority"===Hr(o)?this.priorityNode_:d.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(o,p){return null}updateImmediateChild(o,p){return".priority"===o?this.updatePriority(p):p.isEmpty()&&".priority"!==o?this:d.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(o,p).updatePriority(this.priorityNode_)}updateChild(o,p){const E=Hr(o);return null===E?p:p.isEmpty()&&".priority"!==E?this:((0,Xe.hu)(".priority"!==E||1===Uh(o),".priority must be the last token in a path"),this.updateImmediateChild(E,d.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ps(o),p)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(o,p){return!1}val(o){return o&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let o="";this.priorityNode_.isEmpty()||(o+="priority:"+Kt(this.priorityNode_.val())+":");const p=typeof this.value_;o+=p+":",o+="number"===p?_l(this.value_):this.value_,this.lazyHash_=Nh(o)}return this.lazyHash_}getValue(){return this.value_}compareTo(o){return o===d.__childrenNodeConstructor.EMPTY_NODE?1:o instanceof d.__childrenNodeConstructor?-1:((0,Xe.hu)(o.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(o))}compareToLeafNode_(o){const p=typeof o.value_,E=typeof this.value_,P=d.VALUE_TYPE_ORDER.indexOf(p),H=d.VALUE_TYPE_ORDER.indexOf(E);return(0,Xe.hu)(P>=0,"Unknown leaf type: "+p),(0,Xe.hu)(H>=0,"Unknown leaf type: "+E),P===H?"object"===E?0:this.value_<o.value_?-1:this.value_===o.value_?0:1:H-P}withIndex(){return this}isIndexed(){return!0}equals(o){if(o===this)return!0;if(o.isLeafNode()){const p=o;return this.value_===p.value_&&this.priorityNode_.equals(p.priorityNode_)}return!1}}return d.VALUE_TYPE_ORDER=["object","boolean","number","string"],d})();const wi=new class Mi extends y{compare(i,o){const p=i.node.getPriority(),E=o.node.getPriority(),P=p.compareTo(E);return 0===P?gl(i.name,o.name):P}isDefinedOn(i){return!i.getPriority().isEmpty()}indexedValueChanged(i,o){return!i.getPriority().equals(o.getPriority())}minPost(){return g.MIN}maxPost(){return new g(Bl,new si("[PRIORITY-POST]",jn))}makePost(i,o){const p=Jn(i);return new g(o,new si("[PRIORITY-POST]",p))}toString(){return".priority"}},$r=Math.log(2);class Xr{constructor(i){this.count=parseInt(Math.log(i+1)/$r,10),this.current_=this.count-1;const E=(P=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=i+1&E}nextBitIsOne(){const i=!(this.bits_&1<<this.current_);return this.current_--,i}}const Jr=function(d,i,o,p){d.sort(i);const E=function(he,Se){const ht=Se-he;let Nt,rn;if(0===ht)return null;if(1===ht)return Nt=d[he],rn=o?o(Nt):Nt,new Q(rn,Nt.node,Q.BLACK,null,null);{const An=parseInt(ht/2,10)+he,Vn=E(he,An),hi=E(An+1,Se);return Nt=d[An],rn=o?o(Nt):Nt,new Q(rn,Nt.node,Q.BLACK,Vn,hi)}},ee=function(he){let Se=null,ht=null,Nt=d.length;const rn=function(Vn,hi){const zi=Nt-Vn,Tr=Nt;Nt-=Vn;const Es=E(zi+1,Tr),us=d[zi],ms=o?o(us):us;An(new Q(ms,us.node,hi,null,Es))},An=function(Vn){Se?(Se.left=Vn,Se=Vn):(ht=Vn,Se=Vn)};for(let Vn=0;Vn<he.count;++Vn){const hi=he.nextBitIsOne(),zi=Math.pow(2,he.count-(Vn+1));hi?rn(zi,Q.BLACK):(rn(zi,Q.BLACK),rn(zi,Q.RED))}return ht}(new Xr(d.length));return new ye(p||i,ee)};let Yo;const xo={};class Ir{constructor(i,o){this.indexes_=i,this.indexSet_=o}static get Default(){return(0,Xe.hu)(xo&&wi,"ChildrenNode.ts has not been loaded"),Yo=Yo||new Ir({".priority":xo},{".priority":wi}),Yo}get(i){const o=(0,Xe.DV)(this.indexes_,i);if(!o)throw new Error("No index defined for "+i);return o instanceof ye?o:null}hasIndex(i){return(0,Xe.r3)(this.indexSet_,i.toString())}addIndex(i,o){(0,Xe.hu)(i!==F,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const p=[];let E=!1;const P=o.getIterator(g.Wrap);let ee,H=P.getNext();for(;H;)E=E||i.isDefinedOn(H.node),p.push(H),H=P.getNext();ee=E?Jr(p,i.getCompare()):xo;const he=i.toString(),Se=Object.assign({},this.indexSet_);Se[he]=i;const ht=Object.assign({},this.indexes_);return ht[he]=ee,new Ir(ht,Se)}addToIndexes(i,o){const p=(0,Xe.UI)(this.indexes_,(E,P)=>{const H=(0,Xe.DV)(this.indexSet_,P);if((0,Xe.hu)(H,"Missing index implementation for "+P),E===xo){if(H.isDefinedOn(i.node)){const ee=[],he=o.getIterator(g.Wrap);let Se=he.getNext();for(;Se;)Se.name!==i.name&&ee.push(Se),Se=he.getNext();return ee.push(i),Jr(ee,H.getCompare())}return xo}{const ee=o.get(i.name);let he=E;return ee&&(he=he.remove(new g(i.name,ee))),he.insert(i,i.node)}});return new Ir(p,this.indexSet_)}removeFromIndexes(i,o){const p=(0,Xe.UI)(this.indexes_,E=>{if(E===xo)return E;{const P=o.get(i.name);return P?E.remove(new g(i.name,P)):E}});return new Ir(p,this.indexSet_)}}let Js,Hi=(()=>{class d{constructor(o,p,E){this.children_=o,this.priorityNode_=p,this.indexMap_=E,this.lazyHash_=null,this.priorityNode_&&gn(this.priorityNode_),this.children_.isEmpty()&&(0,Xe.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Js||(Js=new d(new ye(nt),null,Ir.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Js}updatePriority(o){return this.children_.isEmpty()?this:new d(this.children_,o,this.indexMap_)}getImmediateChild(o){if(".priority"===o)return this.getPriority();{const p=this.children_.get(o);return null===p?Js:p}}getChild(o){const p=Hr(o);return null===p?this:this.getImmediateChild(p).getChild(Ps(o))}hasChild(o){return null!==this.children_.get(o)}updateImmediateChild(o,p){if((0,Xe.hu)(p,"We should always be passing snapshot nodes"),".priority"===o)return this.updatePriority(p);{const E=new g(o,p);let P,H;p.isEmpty()?(P=this.children_.remove(o),H=this.indexMap_.removeFromIndexes(E,this.children_)):(P=this.children_.insert(o,p),H=this.indexMap_.addToIndexes(E,this.children_));const ee=P.isEmpty()?Js:this.priorityNode_;return new d(P,ee,H)}}updateChild(o,p){const E=Hr(o);if(null===E)return p;{(0,Xe.hu)(".priority"!==Hr(o)||1===Uh(o),".priority must be the last token in a path");const P=this.getImmediateChild(E).updateChild(Ps(o),p);return this.updateImmediateChild(E,P)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(o){if(this.isEmpty())return null;const p={};let E=0,P=0,H=!0;if(this.forEachChild(wi,(ee,he)=>{p[ee]=he.val(o),E++,H&&d.INTEGER_REGEXP_.test(ee)?P=Math.max(P,Number(ee)):H=!1}),!o&&H&&P<2*E){const ee=[];for(const he in p)ee[he]=p[he];return ee}return o&&!this.getPriority().isEmpty()&&(p[".priority"]=this.getPriority().val()),p}hash(){if(null===this.lazyHash_){let o="";this.getPriority().isEmpty()||(o+="priority:"+Kt(this.getPriority().val())+":"),this.forEachChild(wi,(p,E)=>{const P=E.hash();""!==P&&(o+=":"+p+":"+P)}),this.lazyHash_=""===o?"":Nh(o)}return this.lazyHash_}getPredecessorChildName(o,p,E){const P=this.resolveIndex_(E);if(P){const H=P.getPredecessorKey(new g(o,p));return H?H.name:null}return this.children_.getPredecessorKey(o)}getFirstChildName(o){const p=this.resolveIndex_(o);if(p){const E=p.minKey();return E&&E.name}return this.children_.minKey()}getFirstChild(o){const p=this.getFirstChildName(o);return p?new g(p,this.children_.get(p)):null}getLastChildName(o){const p=this.resolveIndex_(o);if(p){const E=p.maxKey();return E&&E.name}return this.children_.maxKey()}getLastChild(o){const p=this.getLastChildName(o);return p?new g(p,this.children_.get(p)):null}forEachChild(o,p){const E=this.resolveIndex_(o);return E?E.inorderTraversal(P=>p(P.name,P.node)):this.children_.inorderTraversal(p)}getIterator(o){return this.getIteratorFrom(o.minPost(),o)}getIteratorFrom(o,p){const E=this.resolveIndex_(p);if(E)return E.getIteratorFrom(o,P=>P);{const P=this.children_.getIteratorFrom(o.name,g.Wrap);let H=P.peek();for(;null!=H&&p.compare(H,o)<0;)P.getNext(),H=P.peek();return P}}getReverseIterator(o){return this.getReverseIteratorFrom(o.maxPost(),o)}getReverseIteratorFrom(o,p){const E=this.resolveIndex_(p);if(E)return E.getReverseIteratorFrom(o,P=>P);{const P=this.children_.getReverseIteratorFrom(o.name,g.Wrap);let H=P.peek();for(;null!=H&&p.compare(H,o)>0;)P.getNext(),H=P.peek();return P}}compareTo(o){return this.isEmpty()?o.isEmpty()?0:-1:o.isLeafNode()||o.isEmpty()?1:o===La?-1:0}withIndex(o){if(o===F||this.indexMap_.hasIndex(o))return this;{const p=this.indexMap_.addIndex(o,this.children_);return new d(this.children_,this.priorityNode_,p)}}isIndexed(o){return o===F||this.indexMap_.hasIndex(o)}equals(o){if(o===this)return!0;if(o.isLeafNode())return!1;{const p=o;if(this.getPriority().equals(p.getPriority())){if(this.children_.count()===p.children_.count()){const E=this.getIterator(wi),P=p.getIterator(wi);let H=E.getNext(),ee=P.getNext();for(;H&&ee;){if(H.name!==ee.name||!H.node.equals(ee.node))return!1;H=E.getNext(),ee=P.getNext()}return null===H&&null===ee}return!1}return!1}}resolveIndex_(o){return o===F?null:this.indexMap_.get(o.toString())}}return d.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,d})();const La=new class ac extends Hi{constructor(){super(new ye(nt),Hi.EMPTY_NODE,Ir.Default)}compareTo(i){return i===this?0:1}equals(i){return i===this}getPriority(){return this}getImmediateChild(i){return Hi.EMPTY_NODE}isEmpty(){return!1}};function eo(d,i=null){if(null===d)return Hi.EMPTY_NODE;if("object"==typeof d&&".priority"in d&&(i=d[".priority"]),(0,Xe.hu)(null===i||"string"==typeof i||"number"==typeof i||"object"==typeof i&&".sv"in i,"Invalid priority type found: "+typeof i),"object"==typeof d&&".value"in d&&null!==d[".value"]&&(d=d[".value"]),"object"!=typeof d||".sv"in d)return new si(d,eo(i));if(d instanceof Array){let o=Hi.EMPTY_NODE;return $o(d,(p,E)=>{if((0,Xe.r3)(d,p)&&"."!==p.substring(0,1)){const P=eo(E);(P.isLeafNode()||!P.isEmpty())&&(o=o.updateImmediateChild(p,P))}}),o.updatePriority(eo(i))}{const o=[];let p=!1;if($o(d,(H,ee)=>{if("."!==H.substring(0,1)){const he=eo(ee);he.isEmpty()||(p=p||!he.getPriority().isEmpty(),o.push(new g(H,he)))}}),0===o.length)return Hi.EMPTY_NODE;const P=Jr(o,Fe,H=>H.name,nt);if(p){const H=Jr(o,wi.getCompare());return new Hi(P,eo(i),new Ir({".priority":H},{".priority":wi}))}return new Hi(P,eo(i),Ir.Default)}}Object.defineProperties(g,{MIN:{value:new g(qc,Hi.EMPTY_NODE)},MAX:{value:new g(Bl,La)}}),O.__EMPTY_NODE=Hi.EMPTY_NODE,si.__childrenNodeConstructor=Hi,function Bt(d){At=d}(La),function Ci(d){jn=d}(La),function bi(d){Jn=d}(eo);class Eh extends y{constructor(i){super(),this.indexPath_=i,(0,Xe.hu)(!Fr(i)&&".priority"!==Hr(i),"Can't create PathIndex with empty path or .priority key")}extractChild(i){return i.getChild(this.indexPath_)}isDefinedOn(i){return!i.getChild(this.indexPath_).isEmpty()}compare(i,o){const p=this.extractChild(i.node),E=this.extractChild(o.node),P=p.compareTo(E);return 0===P?gl(i.name,o.name):P}makePost(i,o){const p=eo(i),E=Hi.EMPTY_NODE.updateChild(this.indexPath_,p);return new g(o,E)}maxPost(){const i=Hi.EMPTY_NODE.updateChild(this.indexPath_,La);return new g(Bl,i)}toString(){return xc(this.indexPath_,0).join("/")}}const hd=new class gf extends y{compare(i,o){const p=i.node.compareTo(o.node);return 0===p?gl(i.name,o.name):p}isDefinedOn(i){return!0}indexedValueChanged(i,o){return!i.equals(o)}minPost(){return g.MIN}maxPost(){return g.MAX}makePost(i,o){const p=eo(i);return new g(o,p)}toString(){return".value"}};function Zd(d){return{type:"value",snapshotNode:d}}function Ba(d,i){return{type:"child_added",snapshotNode:i,childName:d}}function Hu(d,i){return{type:"child_removed",snapshotNode:i,childName:d}}function bp(d,i,o){return{type:"child_changed",snapshotNode:i,childName:d,oldSnap:o}}class q_{constructor(i){this.index_=i}updateChild(i,o,p,E,P,H){(0,Xe.hu)(i.isIndexed(this.index_),"A node must be indexed if only a child is updated");const ee=i.getImmediateChild(o);return ee.getChild(E).equals(p.getChild(E))&&ee.isEmpty()===p.isEmpty()||(null!=H&&(p.isEmpty()?i.hasChild(o)?H.trackChildChange(Hu(o,ee)):(0,Xe.hu)(i.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):ee.isEmpty()?H.trackChildChange(Ba(o,p)):H.trackChildChange(bp(o,p,ee))),i.isLeafNode()&&p.isEmpty())?i:i.updateImmediateChild(o,p).withIndex(this.index_)}updateFullNode(i,o,p){return null!=p&&(i.isLeafNode()||i.forEachChild(wi,(E,P)=>{o.hasChild(E)||p.trackChildChange(Hu(E,P))}),o.isLeafNode()||o.forEachChild(wi,(E,P)=>{if(i.hasChild(E)){const H=i.getImmediateChild(E);H.equals(P)||p.trackChildChange(bp(E,P,H))}else p.trackChildChange(Ba(E,P))})),o.withIndex(this.index_)}updatePriority(i,o){return i.isEmpty()?Hi.EMPTY_NODE:i.updatePriority(o)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Pm{constructor(i){this.indexedFilter_=new q_(i.getIndex()),this.index_=i.getIndex(),this.startPost_=Pm.getStartPost_(i),this.endPost_=Pm.getEndPost_(i),this.startIsInclusive_=!i.startAfterSet_,this.endIsInclusive_=!i.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(i){const o=this.startIsInclusive_?this.index_.compare(this.getStartPost(),i)<=0:this.index_.compare(this.getStartPost(),i)<0,p=this.endIsInclusive_?this.index_.compare(i,this.getEndPost())<=0:this.index_.compare(i,this.getEndPost())<0;return o&&p}updateChild(i,o,p,E,P,H){return this.matches(new g(o,p))||(p=Hi.EMPTY_NODE),this.indexedFilter_.updateChild(i,o,p,E,P,H)}updateFullNode(i,o,p){o.isLeafNode()&&(o=Hi.EMPTY_NODE);let E=o.withIndex(this.index_);E=E.updatePriority(Hi.EMPTY_NODE);const P=this;return o.forEachChild(wi,(H,ee)=>{P.matches(new g(H,ee))||(E=E.updateImmediateChild(H,Hi.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(i,E,p)}updatePriority(i,o){return i}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(i){if(i.hasStart()){const o=i.getIndexStartName();return i.getIndex().makePost(i.getIndexStartValue(),o)}return i.getIndex().minPost()}static getEndPost_(i){if(i.hasEnd()){const o=i.getIndexEndName();return i.getIndex().makePost(i.getIndexEndValue(),o)}return i.getIndex().maxPost()}}class Kp{constructor(i){this.withinDirectionalStart=o=>this.reverse_?this.withinEndPost(o):this.withinStartPost(o),this.withinDirectionalEnd=o=>this.reverse_?this.withinStartPost(o):this.withinEndPost(o),this.withinStartPost=o=>{const p=this.index_.compare(this.rangedFilter_.getStartPost(),o);return this.startIsInclusive_?p<=0:p<0},this.withinEndPost=o=>{const p=this.index_.compare(o,this.rangedFilter_.getEndPost());return this.endIsInclusive_?p<=0:p<0},this.rangedFilter_=new Pm(i),this.index_=i.getIndex(),this.limit_=i.getLimit(),this.reverse_=!i.isViewFromLeft(),this.startIsInclusive_=!i.startAfterSet_,this.endIsInclusive_=!i.endBeforeSet_}updateChild(i,o,p,E,P,H){return this.rangedFilter_.matches(new g(o,p))||(p=Hi.EMPTY_NODE),i.getImmediateChild(o).equals(p)?i:i.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(i,o,p,E,P,H):this.fullLimitUpdateChild_(i,o,p,P,H)}updateFullNode(i,o,p){let E;if(o.isLeafNode()||o.isEmpty())E=Hi.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<o.numChildren()&&o.isIndexed(this.index_)){let P;E=Hi.EMPTY_NODE.withIndex(this.index_),P=this.reverse_?o.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let H=0;for(;P.hasNext()&&H<this.limit_;){const ee=P.getNext();if(this.withinDirectionalStart(ee)){if(!this.withinDirectionalEnd(ee))break;E=E.updateImmediateChild(ee.name,ee.node),H++}}}else{let P;E=o.withIndex(this.index_),E=E.updatePriority(Hi.EMPTY_NODE),P=this.reverse_?E.getReverseIterator(this.index_):E.getIterator(this.index_);let H=0;for(;P.hasNext();){const ee=P.getNext();H<this.limit_&&this.withinDirectionalStart(ee)&&this.withinDirectionalEnd(ee)?H++:E=E.updateImmediateChild(ee.name,Hi.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(i,E,p)}updatePriority(i,o){return i}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(i,o,p,E,P){let H;if(this.reverse_){const Nt=this.index_.getCompare();H=(rn,An)=>Nt(An,rn)}else H=this.index_.getCompare();const ee=i;(0,Xe.hu)(ee.numChildren()===this.limit_,"");const he=new g(o,p),Se=this.reverse_?ee.getFirstChild(this.index_):ee.getLastChild(this.index_),ht=this.rangedFilter_.matches(he);if(ee.hasChild(o)){const Nt=ee.getImmediateChild(o);let rn=E.getChildAfterChild(this.index_,Se,this.reverse_);for(;null!=rn&&(rn.name===o||ee.hasChild(rn.name));)rn=E.getChildAfterChild(this.index_,rn,this.reverse_);const An=null==rn?1:H(rn,he);if(ht&&!p.isEmpty()&&An>=0)return P?.trackChildChange(bp(o,p,Nt)),ee.updateImmediateChild(o,p);{P?.trackChildChange(Hu(o,Nt));const hi=ee.updateImmediateChild(o,Hi.EMPTY_NODE);return null!=rn&&this.rangedFilter_.matches(rn)?(P?.trackChildChange(Ba(rn.name,rn.node)),hi.updateImmediateChild(rn.name,rn.node)):hi}}return p.isEmpty()?i:ht&&H(Se,he)>=0?(null!=P&&(P.trackChildChange(Hu(Se.name,Se.node)),P.trackChildChange(Ba(o,p))),ee.updateImmediateChild(o,p).updateImmediateChild(Se.name,Hi.EMPTY_NODE)):i}}class qp{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=wi}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,Xe.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,Xe.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:qc}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,Xe.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,Xe.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Bl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,Xe.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===wi}copy(){const i=new qp;return i.limitSet_=this.limitSet_,i.limit_=this.limit_,i.startSet_=this.startSet_,i.startAfterSet_=this.startAfterSet_,i.indexStartValue_=this.indexStartValue_,i.startNameSet_=this.startNameSet_,i.indexStartName_=this.indexStartName_,i.endSet_=this.endSet_,i.endBeforeSet_=this.endBeforeSet_,i.indexEndValue_=this.indexEndValue_,i.endNameSet_=this.endNameSet_,i.indexEndName_=this.indexEndName_,i.index_=this.index_,i.viewFrom_=this.viewFrom_,i}}function lc(d,i,o){const p=d.copy();return p.startSet_=!0,void 0===i&&(i=null),p.indexStartValue_=i,null!=o?(p.startNameSet_=!0,p.indexStartName_=o):(p.startNameSet_=!1,p.indexStartName_=""),p}function Zp(d,i,o){const p=d.copy();return p.endSet_=!0,void 0===i&&(i=null),p.indexEndValue_=i,void 0!==o?(p.endNameSet_=!0,p.indexEndName_=o):(p.endNameSet_=!1,p.indexEndName_=""),p}function ru(d,i){const o=d.copy();return o.index_=i,o}function _f(d){const i={};if(d.isDefault())return i;let o;if(d.index_===wi?o="$priority":d.index_===hd?o="$value":d.index_===F?o="$key":((0,Xe.hu)(d.index_ instanceof Eh,"Unrecognized index type!"),o=d.index_.toString()),i.orderBy=(0,Xe.Wl)(o),d.startSet_){const p=d.startAfterSet_?"startAfter":"startAt";i[p]=(0,Xe.Wl)(d.indexStartValue_),d.startNameSet_&&(i[p]+=","+(0,Xe.Wl)(d.indexStartName_))}if(d.endSet_){const p=d.endBeforeSet_?"endBefore":"endAt";i[p]=(0,Xe.Wl)(d.indexEndValue_),d.endNameSet_&&(i[p]+=","+(0,Xe.Wl)(d.indexEndName_))}return d.limitSet_&&(d.isViewFromLeft()?i.limitToFirst=d.limit_:i.limitToLast=d.limit_),i}function Hf(d){const i={};if(d.startSet_&&(i.sp=d.indexStartValue_,d.startNameSet_&&(i.sn=d.indexStartName_),i.sin=!d.startAfterSet_),d.endSet_&&(i.ep=d.indexEndValue_,d.endNameSet_&&(i.en=d.indexEndName_),i.ein=!d.endBeforeSet_),d.limitSet_){i.l=d.limit_;let o=d.viewFrom_;""===o&&(o=d.isViewFromLeft()?"l":"r"),i.vf=o}return d.index_!==wi&&(i.i=d.index_.toString()),i}class Nm extends hg{constructor(i,o,p,E){super(),this.repoInfo_=i,this.onDataUpdate_=o,this.authTokenProvider_=p,this.appCheckTokenProvider_=E,this.log_=Yc("p:rest:"),this.listens_={}}reportStats(i){throw new Error("Method not implemented.")}static getListenId_(i,o){return void 0!==o?"tag$"+o:((0,Xe.hu)(i._queryParams.isDefault(),"should have a tag if it's not a default query."),i._path.toString())}listen(i,o,p,E){const P=i._path.toString();this.log_("Listen called for "+P+" "+i._queryIdentifier);const H=Nm.getListenId_(i,p),ee={};this.listens_[H]=ee;const he=_f(i._queryParams);this.restRequest_(P+".json",he,(Se,ht)=>{let Nt=ht;if(404===Se&&(Nt=null,Se=null),null===Se&&this.onDataUpdate_(P,Nt,!1,p),(0,Xe.DV)(this.listens_,H)===ee){let rn;rn=Se?401===Se?"permission_denied":"rest_error:"+Se:"ok",E(rn,null)}})}unlisten(i,o){const p=Nm.getListenId_(i,o);delete this.listens_[p]}get(i){const o=_f(i._queryParams),p=i._path.toString(),E=new Xe.BH;return this.restRequest_(p+".json",o,(P,H)=>{let ee=H;404===P&&(ee=null,P=null),null===P?(this.onDataUpdate_(p,ee,!1,null),E.resolve(ee)):E.reject(new Error(ee))}),E.promise}refreshAuthToken(i){}restRequest_(i,o={},p){return o.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([E,P])=>{E&&E.accessToken&&(o.auth=E.accessToken),P&&P.token&&(o.ac=P.token);const H=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+i+"?ns="+this.repoInfo_.namespace+(0,Xe.xO)(o);this.log_("Sending REST request for "+H);const ee=new XMLHttpRequest;ee.onreadystatechange=()=>{if(p&&4===ee.readyState){this.log_("REST Response for "+H+" received. status:",ee.status,"response:",ee.responseText);let he=null;if(ee.status>=200&&ee.status<300){try{he=(0,Xe.cI)(ee.responseText)}catch{Ss("Failed to parse JSON response for "+H+": "+ee.responseText)}p(null,he)}else 401!==ee.status&&404!==ee.status&&Ss("Got unsuccessful REST response for "+H+" Status: "+ee.status),p(ee.status);p=null}},ee.open("GET",H,!0),ee.send()})}}class Cp{constructor(){this.rootNode_=Hi.EMPTY_NODE}getNode(i){return this.rootNode_.getChild(i)}updateSnapshot(i,o){this.rootNode_=this.rootNode_.updateChild(i,o)}}function Qd(){return{value:null,children:new Map}}function Dh(d,i,o){if(Fr(i))d.value=o,d.children.clear();else if(null!==d.value)d.value=d.value.updateChild(i,o);else{const p=Hr(i);d.children.has(p)||d.children.set(p,Qd()),Dh(d.children.get(p),i=Ps(i),o)}}function jf(d,i){if(Fr(i))return d.value=null,d.children.clear(),!0;if(null!==d.value){if(d.value.isLeafNode())return!1;{const o=d.value;return d.value=null,o.forEachChild(wi,(p,E)=>{Dh(d,new Ws(p),E)}),jf(d,i)}}if(d.children.size>0){const o=Hr(i);return i=Ps(i),d.children.has(o)&&jf(d.children.get(o),i)&&d.children.delete(o),0===d.children.size}return!0}function xh(d,i,o){null!==d.value?o(i,d.value):function Wg(d,i){d.children.forEach((o,p)=>{i(p,o)})}(d,(p,E)=>{xh(E,new Ws(i.toString()+"/"+p),o)})}class zv{constructor(i){this.collection_=i,this.last_=null}get(){const i=this.collection_.get(),o=Object.assign({},i);return this.last_&&$o(this.last_,(p,E)=>{o[p]=o[p]-E}),this.last_=i,o}}class Yg{constructor(i,o){this.server_=o,this.statsToReport_={},this.statsListener_=new zv(i);const p=1e4+2e4*Math.random();Wd(this.reportStats_.bind(this),Math.floor(p))}reportStats_(){const i=this.statsListener_.get(),o={};let p=!1;$o(i,(E,P)=>{P>0&&(0,Xe.r3)(this.statsToReport_,E)&&(o[E]=P,p=!0)}),p&&this.server_.reportStats(o),Wd(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Bc=(()=>{return(d=Bc||(Bc={}))[d.OVERWRITE=0]="OVERWRITE",d[d.MERGE=1]="MERGE",d[d.ACK_USER_WRITE=2]="ACK_USER_WRITE",d[d.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Bc;var d})();function wp(d){return{fromUser:!1,fromServer:!0,queryId:d,tagged:!0}}class Sh{constructor(i,o,p){this.path=i,this.affectedTree=o,this.revert=p,this.type=Bc.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(i){if(Fr(this.path)){if(null!=this.affectedTree.value)return(0,Xe.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const o=this.affectedTree.subtree(new Ws(i));return new Sh(fr(),o,this.revert)}}return(0,Xe.hu)(Hr(this.path)===i,"operationForChild called for unrelated child."),new Sh(Ps(this.path),this.affectedTree,this.revert)}}class Ep{constructor(i,o){this.source=i,this.path=o,this.type=Bc.LISTEN_COMPLETE}operationForChild(i){return Fr(this.path)?new Ep(this.source,fr()):new Ep(this.source,Ps(this.path))}}class Ul{constructor(i,o,p){this.source=i,this.path=o,this.snap=p,this.type=Bc.OVERWRITE}operationForChild(i){return Fr(this.path)?new Ul(this.source,fr(),this.snap.getImmediateChild(i)):new Ul(this.source,Ps(this.path),this.snap)}}class su{constructor(i,o,p){this.source=i,this.path=o,this.children=p,this.type=Bc.MERGE}operationForChild(i){if(Fr(this.path)){const o=this.children.subtree(new Ws(i));return o.isEmpty()?null:o.value?new Ul(this.source,fr(),o.value):new su(this.source,fr(),o)}return(0,Xe.hu)(Hr(this.path)===i,"Can't get a merge for a child not on the path of the operation"),new su(this.source,Ps(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ju{constructor(i,o,p){this.node_=i,this.fullyInitialized_=o,this.filtered_=p}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(i){if(Fr(i))return this.isFullyInitialized()&&!this.filtered_;const o=Hr(i);return this.isCompleteForChild(o)}isCompleteForChild(i){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(i)}getNode(){return this.node_}}class vg{constructor(i){this.query_=i,this.index_=this.query_._queryParams.getIndex()}}function ou(d,i,o,p,E,P){const H=p.filter(ee=>ee.type===o);H.sort((ee,he)=>function Xp(d,i,o){if(null==i.childName||null==o.childName)throw(0,Xe.g5)("Should only compare child_ events.");const p=new g(i.childName,i.snapshotNode),E=new g(o.childName,o.snapshotNode);return d.index_.compare(p,E)}(d,ee,he)),H.forEach(ee=>{const he=function Qp(d,i,o){return"value"===i.type||"child_removed"===i.type||(i.prevName=o.getPredecessorChildName(i.childName,i.snapshotNode,d.index_)),i}(d,ee,P);E.forEach(Se=>{Se.respondsTo(ee.type)&&i.push(Se.createEvent(he,d.query_))})})}function Gf(d,i){return{eventCache:d,serverCache:i}}function va(d,i,o,p){return Gf(new ju(i,o,p),d.serverCache)}function Kg(d,i,o,p){return Gf(d.eventCache,new ju(i,o,p))}function Jp(d){return d.eventCache.isFullyInitialized()?d.eventCache.getNode():null}function vf(d){return d.serverCache.isFullyInitialized()?d.serverCache.getNode():null}let yg;class Oo{constructor(i,o=(()=>(yg||(yg=new ye(lf)),yg))()){this.value=i,this.children=o}static fromObject(i){let o=new Oo(null);return $o(i,(p,E)=>{o=o.set(new Ws(p),E)}),o}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(i,o){if(null!=this.value&&o(this.value))return{path:fr(),value:this.value};if(Fr(i))return null;{const p=Hr(i),E=this.children.get(p);if(null!==E){const P=E.findRootMostMatchingPathAndValue(Ps(i),o);return null!=P?{path:Gr(new Ws(p),P.path),value:P.value}:null}return null}}findRootMostValueAndPath(i){return this.findRootMostMatchingPathAndValue(i,()=>!0)}subtree(i){if(Fr(i))return this;{const o=Hr(i),p=this.children.get(o);return null!==p?p.subtree(Ps(i)):new Oo(null)}}set(i,o){if(Fr(i))return new Oo(o,this.children);{const p=Hr(i),P=(this.children.get(p)||new Oo(null)).set(Ps(i),o),H=this.children.insert(p,P);return new Oo(this.value,H)}}remove(i){if(Fr(i))return this.children.isEmpty()?new Oo(null):new Oo(null,this.children);{const o=Hr(i),p=this.children.get(o);if(p){const E=p.remove(Ps(i));let P;return P=E.isEmpty()?this.children.remove(o):this.children.insert(o,E),null===this.value&&P.isEmpty()?new Oo(null):new Oo(this.value,P)}return this}}get(i){if(Fr(i))return this.value;{const o=Hr(i),p=this.children.get(o);return p?p.get(Ps(i)):null}}setTree(i,o){if(Fr(i))return o;{const p=Hr(i),P=(this.children.get(p)||new Oo(null)).setTree(Ps(i),o);let H;return H=P.isEmpty()?this.children.remove(p):this.children.insert(p,P),new Oo(this.value,H)}}fold(i){return this.fold_(fr(),i)}fold_(i,o){const p={};return this.children.inorderTraversal((E,P)=>{p[E]=P.fold_(Gr(i,E),o)}),o(i,this.value,p)}findOnPath(i,o){return this.findOnPath_(i,fr(),o)}findOnPath_(i,o,p){const E=!!this.value&&p(o,this.value);if(E)return E;if(Fr(i))return null;{const P=Hr(i),H=this.children.get(P);return H?H.findOnPath_(Ps(i),Gr(o,P),p):null}}foreachOnPath(i,o){return this.foreachOnPath_(i,fr(),o)}foreachOnPath_(i,o,p){if(Fr(i))return this;{this.value&&p(o,this.value);const E=Hr(i),P=this.children.get(E);return P?P.foreachOnPath_(Ps(i),Gr(o,E),p):new Oo(null)}}foreach(i){this.foreach_(fr(),i)}foreach_(i,o){this.children.inorderTraversal((p,E)=>{E.foreach_(Gr(i,p),o)}),this.value&&o(i,this.value)}foreachChild(i){this.children.inorderTraversal((o,p)=>{p.value&&i(o,p.value)})}}class Cl{constructor(i){this.writeTree_=i}static empty(){return new Cl(new Oo(null))}}function fd(d,i,o){if(Fr(i))return new Cl(new Oo(o));{const p=d.writeTree_.findRootMostValueAndPath(i);if(null!=p){const E=p.path;let P=p.value;const H=il(E,i);return P=P.updateChild(H,o),new Cl(d.writeTree_.set(E,P))}{const E=new Oo(o),P=d.writeTree_.setTree(i,E);return new Cl(P)}}}function Vm(d,i,o){let p=d;return $o(o,(E,P)=>{p=fd(p,Gr(i,E),P)}),p}function Dp(d,i){if(Fr(i))return Cl.empty();{const o=d.writeTree_.setTree(i,new Oo(null));return new Cl(o)}}function jh(d,i){return null!=zu(d,i)}function zu(d,i){const o=d.writeTree_.findRootMostValueAndPath(i);return null!=o?d.writeTree_.get(o.path).getChild(il(o.path,i)):null}function au(d){const i=[],o=d.writeTree_.value;return null!=o?o.isLeafNode()||o.forEachChild(wi,(p,E)=>{i.push(new g(p,E))}):d.writeTree_.children.inorderTraversal((p,E)=>{null!=E.value&&i.push(new g(p,E.value))}),i}function Gu(d,i){if(Fr(i))return d;{const o=zu(d,i);return new Cl(null!=o?new Oo(o):d.writeTree_.subtree(i))}}function $f(d){return d.writeTree_.isEmpty()}function Mh(d,i){return xp(fr(),d.writeTree_,i)}function xp(d,i,o){if(null!=i.value)return o.updateChild(d,i.value);{let p=null;return i.children.inorderTraversal((E,P)=>{".priority"===E?((0,Xe.hu)(null!==P.value,"Priority writes must always be leaf nodes"),p=P.value):o=xp(Gr(d,E),P,o)}),!o.getChild(d).isEmpty()&&null!==p&&(o=o.updateChild(Gr(d,".priority"),p)),o}}function Sp(d,i){return Hm(i,d)}function Gv(d,i){if(d.snap)return Vl(d.path,i);for(const o in d.children)if(d.children.hasOwnProperty(o)&&Vl(Gr(d.path,o),i))return!0;return!1}function Z_(d){return d.visible}function $v(d,i,o){let p=Cl.empty();for(let E=0;E<d.length;++E){const P=d[E];if(i(P)){const H=P.path;let ee;if(P.snap)Vl(o,H)?(ee=il(o,H),p=fd(p,ee,P.snap)):Vl(H,o)&&(ee=il(H,o),p=fd(p,fr(),P.snap.getChild(ee)));else{if(!P.children)throw(0,Xe.g5)("WriteRecord should have .snap or .children");if(Vl(o,H))ee=il(o,H),p=Vm(p,ee,P.children);else if(Vl(H,o))if(ee=il(H,o),Fr(ee))p=Vm(p,fr(),P.children);else{const he=(0,Xe.DV)(P.children,Hr(ee));if(he){const Se=he.getChild(Ps(ee));p=fd(p,fr(),Se)}}}}}return p}function Xd(d,i,o,p,E){if(p||E){const P=Gu(d.visibleWrites,i);return!E&&$f(P)?o:E||null!=o||jh(P,fr())?Mh($v(d.allWrites,function(Se){return(Se.visible||E)&&(!p||!~p.indexOf(Se.writeId))&&(Vl(Se.path,i)||Vl(i,Se.path))},i),o||Hi.EMPTY_NODE):null}{const P=zu(d.visibleWrites,i);if(null!=P)return P;{const H=Gu(d.visibleWrites,i);return $f(H)?o:null!=o||jh(H,fr())?Mh(H,o||Hi.EMPTY_NODE):null}}}function tm(d,i,o,p){return Xd(d.writeTree,d.treePath,i,o,p)}function pd(d,i){return function zh(d,i,o){let p=Hi.EMPTY_NODE;const E=zu(d.visibleWrites,i);if(E)return E.isLeafNode()||E.forEachChild(wi,(P,H)=>{p=p.updateImmediateChild(P,H)}),p;if(o){const P=Gu(d.visibleWrites,i);return o.forEachChild(wi,(H,ee)=>{const he=Mh(Gu(P,new Ws(H)),ee);p=p.updateImmediateChild(H,he)}),au(P).forEach(H=>{p=p.updateImmediateChild(H.name,H.node)}),p}return au(Gu(d.visibleWrites,i)).forEach(H=>{p=p.updateImmediateChild(H.name,H.node)}),p}(d.writeTree,d.treePath,i)}function Wf(d,i,o,p){return function Um(d,i,o,p,E){(0,Xe.hu)(p||E,"Either existingEventSnap or existingServerSnap must exist");const P=Gr(i,o);if(jh(d.visibleWrites,P))return null;{const H=Gu(d.visibleWrites,P);return $f(H)?E.getChild(o):Mh(H,E.getChild(o))}}(d.writeTree,d.treePath,i,o,p)}function Th(d,i){return function Vc(d,i){return zu(d.visibleWrites,i)}(d.writeTree,Gr(d.treePath,i))}function Jg(d,i,o){return function Ih(d,i,o,p){const E=Gr(i,o),P=zu(d.visibleWrites,E);return null!=P?P:p.isCompleteForChild(o)?Mh(Gu(d.visibleWrites,E),p.getNode().getImmediateChild(o)):null}(d.writeTree,d.treePath,i,o)}function im(d,i){return Hm(Gr(d.treePath,i),d.writeTree)}function Hm(d,i){return{treePath:d,writeTree:i}}class yf{constructor(){this.changeMap=new Map}trackChildChange(i){const o=i.type,p=i.childName;(0,Xe.hu)("child_added"===o||"child_changed"===o||"child_removed"===o,"Only child changes supported for tracking"),(0,Xe.hu)(".priority"!==p,"Only non-priority child changes can be tracked.");const E=this.changeMap.get(p);if(E){const P=E.type;if("child_added"===o&&"child_removed"===P)this.changeMap.set(p,bp(p,i.snapshotNode,E.snapshotNode));else if("child_removed"===o&&"child_added"===P)this.changeMap.delete(p);else if("child_removed"===o&&"child_changed"===P)this.changeMap.set(p,Hu(p,E.oldSnap));else if("child_changed"===o&&"child_added"===P)this.changeMap.set(p,Ba(p,i.snapshotNode));else{if("child_changed"!==o||"child_changed"!==P)throw(0,Xe.g5)("Illegal combination of changes: "+i+" occurred after "+E);this.changeMap.set(p,bp(p,i.snapshotNode,E.oldSnap))}}else this.changeMap.set(p,i)}getChanges(){return Array.from(this.changeMap.values())}}const Ip=new class Yf{getCompleteChild(i){return null}getChildAfterChild(i,o,p){return null}};class Kf{constructor(i,o,p=null){this.writes_=i,this.viewCache_=o,this.optCompleteServerCache_=p}getCompleteChild(i){const o=this.viewCache_.eventCache;if(o.isCompleteForChild(i))return o.getNode().getImmediateChild(i);{const p=null!=this.optCompleteServerCache_?new ju(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Jg(this.writes_,i,p)}}getChildAfterChild(i,o,p){const E=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:vf(this.viewCache_),P=function nm(d,i,o,p,E,P){return function Mp(d,i,o,p,E,P,H){let ee;const he=Gu(d.visibleWrites,i),Se=zu(he,fr());if(null!=Se)ee=Se;else{if(null==o)return[];ee=Mh(he,o)}if(ee=ee.withIndex(H),ee.isEmpty()||ee.isLeafNode())return[];{const ht=[],Nt=H.getCompare(),rn=P?ee.getReverseIteratorFrom(p,H):ee.getIteratorFrom(p,H);let An=rn.getNext();for(;An&&ht.length<E;)0!==Nt(An,p)&&ht.push(An),An=rn.getNext();return ht}}(d.writeTree,d.treePath,i,o,p,E,P)}(this.writes_,E,o,1,p,i);return 0===P.length?null:P[0]}}function Tp(d,i,o,p,E,P){const H=i.eventCache;if(null!=Th(p,o))return i;{let ee,he;if(Fr(o))if((0,Xe.hu)(i.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),i.serverCache.isFiltered()){const Se=vf(i),Nt=pd(p,Se instanceof Hi?Se:Hi.EMPTY_NODE);ee=d.filter.updateFullNode(i.eventCache.getNode(),Nt,P)}else{const Se=tm(p,vf(i));ee=d.filter.updateFullNode(i.eventCache.getNode(),Se,P)}else{const Se=Hr(o);if(".priority"===Se){(0,Xe.hu)(1===Uh(o),"Can't have a priority with additional path components");const ht=H.getNode();he=i.serverCache.getNode();const Nt=Wf(p,o,ht,he);ee=null!=Nt?d.filter.updatePriority(ht,Nt):H.getNode()}else{const ht=Ps(o);let Nt;if(H.isCompleteForChild(Se)){he=i.serverCache.getNode();const rn=Wf(p,o,H.getNode(),he);Nt=null!=rn?H.getNode().getImmediateChild(Se).updateChild(ht,rn):H.getNode().getImmediateChild(Se)}else Nt=Jg(p,Se,i.serverCache);ee=null!=Nt?d.filter.updateChild(H.getNode(),Se,Nt,ht,E,P):H.getNode()}}return va(i,ee,H.isFullyInitialized()||Fr(o),d.filter.filtersNodes())}}function qf(d,i,o,p,E,P,H,ee){const he=i.serverCache;let Se;const ht=H?d.filter:d.filter.getIndexedFilter();if(Fr(o))Se=ht.updateFullNode(he.getNode(),p,null);else if(ht.filtersNodes()&&!he.isFiltered()){const An=he.getNode().updateChild(o,p);Se=ht.updateFullNode(he.getNode(),An,null)}else{const An=Hr(o);if(!he.isCompleteForPath(o)&&Uh(o)>1)return i;const Vn=Ps(o),zi=he.getNode().getImmediateChild(An).updateChild(Vn,p);Se=".priority"===An?ht.updatePriority(he.getNode(),zi):ht.updateChild(he.getNode(),An,zi,Vn,Ip,null)}const Nt=Kg(i,Se,he.isFullyInitialized()||Fr(o),ht.filtersNodes());return Tp(d,Nt,o,E,new Kf(E,Nt,P),ee)}function jm(d,i,o,p,E,P,H){const ee=i.eventCache;let he,Se;const ht=new Kf(E,i,P);if(Fr(o))Se=d.filter.updateFullNode(i.eventCache.getNode(),p,H),he=va(i,Se,!0,d.filter.filtersNodes());else{const Nt=Hr(o);if(".priority"===Nt)Se=d.filter.updatePriority(i.eventCache.getNode(),p),he=va(i,Se,ee.isFullyInitialized(),ee.isFiltered());else{const rn=Ps(o),An=ee.getNode().getImmediateChild(Nt);let Vn;if(Fr(rn))Vn=p;else{const hi=ht.getCompleteChild(Nt);Vn=null!=hi?".priority"===_a(rn)&&hi.getChild(ud(rn)).isEmpty()?hi:hi.updateChild(rn,p):Hi.EMPTY_NODE}he=An.equals(Vn)?i:va(i,d.filter.updateChild(ee.getNode(),Nt,Vn,rn,ht,H),ee.isFullyInitialized(),d.filter.filtersNodes())}}return he}function i_(d,i){return d.eventCache.isCompleteForChild(i)}function Q_(d,i,o){return o.foreach((p,E)=>{i=i.updateChild(p,E)}),i}function sm(d,i,o,p,E,P,H,ee){if(i.serverCache.getNode().isEmpty()&&!i.serverCache.isFullyInitialized())return i;let Se,he=i;Se=Fr(o)?p:new Oo(null).setTree(o,p);const ht=i.serverCache.getNode();return Se.children.inorderTraversal((Nt,rn)=>{if(ht.hasChild(Nt)){const Vn=Q_(0,i.serverCache.getNode().getImmediateChild(Nt),rn);he=qf(d,he,new Ws(Nt),Vn,E,P,H,ee)}}),Se.children.inorderTraversal((Nt,rn)=>{const An=!i.serverCache.isCompleteForChild(Nt)&&null===rn.value;if(!ht.hasChild(Nt)&&!An){const hi=Q_(0,i.serverCache.getNode().getImmediateChild(Nt),rn);he=qf(d,he,new Ws(Nt),hi,E,P,H,ee)}}),he}class X_{constructor(i,o){this.query_=i,this.eventRegistrations_=[];const p=this.query_._queryParams,E=new q_(p.getIndex()),P=function Uf(d){return d.loadsAllData()?new q_(d.getIndex()):d.hasLimit()?new Kp(d):new Pm(d)}(p);this.processor_=function rm(d){return{filter:d}}(P);const H=o.serverCache,ee=o.eventCache,he=E.updateFullNode(Hi.EMPTY_NODE,H.getNode(),null),Se=P.updateFullNode(Hi.EMPTY_NODE,ee.getNode(),null),ht=new ju(he,H.isFullyInitialized(),E.filtersNodes()),Nt=new ju(Se,ee.isFullyInitialized(),P.filtersNodes());this.viewCache_=Gf(Nt,ht),this.eventGenerator_=new vg(this.query_)}get query(){return this.query_}}function J_(d,i){const o=vf(d.viewCache_);return o&&(d.query._queryParams.loadsAllData()||!Fr(i)&&!o.getImmediateChild(Hr(i)).isEmpty())?o.getChild(i):null}function ev(d){return 0===d.eventRegistrations_.length}function Yv(d,i,o){const p=[];if(o){(0,Xe.hu)(null==i,"A cancel should cancel all event registrations.");const E=d.query._path;d.eventRegistrations_.forEach(P=>{const H=P.createCancelEvent(o,E);H&&p.push(H)})}if(i){let E=[];for(let P=0;P<d.eventRegistrations_.length;++P){const H=d.eventRegistrations_[P];if(H.matches(i)){if(i.hasAnyCallback()){E=E.concat(d.eventRegistrations_.slice(P+1));break}}else E.push(H)}d.eventRegistrations_=E}else d.eventRegistrations_=[];return p}function nv(d,i,o,p){i.type===Bc.MERGE&&null!==i.source.queryId&&((0,Xe.hu)(vf(d.viewCache_),"We should always have a full cache before handling merges"),(0,Xe.hu)(Jp(d.viewCache_),"Missing event cache, even though we have a server cache"));const E=d.viewCache_,P=function t_(d,i,o,p,E){const P=new yf;let H,ee;if(o.type===Bc.OVERWRITE){const Se=o;Se.source.fromUser?H=jm(d,i,Se.path,Se.snap,p,E,P):((0,Xe.hu)(Se.source.fromServer,"Unknown source."),ee=Se.source.tagged||i.serverCache.isFiltered()&&!Fr(Se.path),H=qf(d,i,Se.path,Se.snap,p,E,ee,P))}else if(o.type===Bc.MERGE){const Se=o;Se.source.fromUser?H=function Sc(d,i,o,p,E,P,H){let ee=i;return p.foreach((he,Se)=>{const ht=Gr(o,he);i_(i,Hr(ht))&&(ee=jm(d,ee,ht,Se,E,P,H))}),p.foreach((he,Se)=>{const ht=Gr(o,he);i_(i,Hr(ht))||(ee=jm(d,ee,ht,Se,E,P,H))}),ee}(d,i,Se.path,Se.children,p,E,P):((0,Xe.hu)(Se.source.fromServer,"Unknown source."),ee=Se.source.tagged||i.serverCache.isFiltered(),H=sm(d,i,Se.path,Se.children,p,E,ee,P))}else if(o.type===Bc.ACK_USER_WRITE){const Se=o;H=Se.revert?function lm(d,i,o,p,E,P){let H;if(null!=Th(p,o))return i;{const ee=new Kf(p,i,E),he=i.eventCache.getNode();let Se;if(Fr(o)||".priority"===Hr(o)){let ht;if(i.serverCache.isFullyInitialized())ht=tm(p,vf(i));else{const Nt=i.serverCache.getNode();(0,Xe.hu)(Nt instanceof Hi,"serverChildren would be complete if leaf node"),ht=pd(p,Nt)}Se=d.filter.updateFullNode(he,ht,P)}else{const ht=Hr(o);let Nt=Jg(p,ht,i.serverCache);null==Nt&&i.serverCache.isCompleteForChild(ht)&&(Nt=he.getImmediateChild(ht)),Se=null!=Nt?d.filter.updateChild(he,ht,Nt,Ps(o),ee,P):i.eventCache.getNode().hasChild(ht)?d.filter.updateChild(he,ht,Hi.EMPTY_NODE,Ps(o),ee,P):he,Se.isEmpty()&&i.serverCache.isFullyInitialized()&&(H=tm(p,vf(i)),H.isLeafNode()&&(Se=d.filter.updateFullNode(Se,H,P)))}return H=i.serverCache.isFullyInitialized()||null!=Th(p,fr()),va(i,Se,H,d.filter.filtersNodes())}}(d,i,Se.path,p,E,P):function om(d,i,o,p,E,P,H){if(null!=Th(E,o))return i;const ee=i.serverCache.isFiltered(),he=i.serverCache;if(null!=p.value){if(Fr(o)&&he.isFullyInitialized()||he.isCompleteForPath(o))return qf(d,i,o,he.getNode().getChild(o),E,P,ee,H);if(Fr(o)){let Se=new Oo(null);return he.getNode().forEachChild(F,(ht,Nt)=>{Se=Se.set(new Ws(ht),Nt)}),sm(d,i,o,Se,E,P,ee,H)}return i}{let Se=new Oo(null);return p.foreach((ht,Nt)=>{const rn=Gr(o,ht);he.isCompleteForPath(rn)&&(Se=Se.set(ht,he.getNode().getChild(rn)))}),sm(d,i,o,Se,E,P,ee,H)}}(d,i,Se.path,Se.affectedTree,p,E,P)}else{if(o.type!==Bc.LISTEN_COMPLETE)throw(0,Xe.g5)("Unknown operation type: "+o.type);H=function am(d,i,o,p,E){const P=i.serverCache;return Tp(d,Kg(i,P.getNode(),P.isFullyInitialized()||Fr(o),P.isFiltered()),o,p,Ip,E)}(d,i,o.path,p,P)}const he=P.getChanges();return function n_(d,i,o){const p=i.eventCache;if(p.isFullyInitialized()){const E=p.getNode().isLeafNode()||p.getNode().isEmpty(),P=Jp(d);(o.length>0||!d.eventCache.isFullyInitialized()||E&&!p.getNode().equals(P)||!p.getNode().getPriority().equals(P.getPriority()))&&o.push(Zd(Jp(i)))}}(i,H,he),{viewCache:H,changes:he}}(d.processor_,E,i,o,p);return function e_(d,i){(0,Xe.hu)(i.eventCache.getNode().isIndexed(d.filter.getIndex()),"Event snap not indexed"),(0,Xe.hu)(i.serverCache.getNode().isIndexed(d.filter.getIndex()),"Server snap not indexed")}(d.processor_,P.viewCache),(0,Xe.hu)(P.viewCache.serverCache.isFullyInitialized()||!E.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),d.viewCache_=P.viewCache,S(d,P.changes,P.viewCache.eventCache.getNode(),null)}function S(d,i,o,p){return function zf(d,i,o,p){const E=[],P=[];return i.forEach(H=>{"child_changed"===H.type&&d.index_.indexedValueChanged(H.oldSnap,H.snapshotNode)&&P.push(function pg(d,i){return{type:"child_moved",snapshotNode:i,childName:d}}(H.childName,H.snapshotNode))}),ou(d,E,"child_removed",i,p,o),ou(d,E,"child_added",i,p,o),ou(d,E,"child_moved",P,p,o),ou(d,E,"child_changed",i,p,o),ou(d,E,"value",i,p,o),E}(d.eventGenerator_,i,o,p?[p]:d.eventRegistrations_)}let a,md;class v{constructor(){this.views=new Map}}function yt(d,i,o,p){const E=i.source.queryId;if(null!==E){const P=d.views.get(E);return(0,Xe.hu)(null!=P,"SyncTree gave us an op for an invalid query."),nv(P,i,o,p)}{let P=[];for(const H of d.views.values())P=P.concat(nv(H,i,o,p));return P}}function yn(d,i,o,p,E){const H=d.views.get(i._queryIdentifier);if(!H){let ee=tm(o,E?p:null),he=!1;ee?he=!0:p instanceof Hi?(ee=pd(o,p),he=!1):(ee=Hi.EMPTY_NODE,he=!1);const Se=Gf(new ju(ee,he,!1),new ju(p,E,!1));return new X_(i,Se)}return H}function ji(d){const i=[];for(const o of d.views.values())o.query._queryParams.loadsAllData()||i.push(o);return i}function _r(d,i){let o=null;for(const p of d.views.values())o=o||J_(p,i);return o}function ws(d,i){return i._queryParams.loadsAllData()?ya(d):d.views.get(i._queryIdentifier)}function rl(d,i){return null!=ws(d,i)}function Po(d){return null!=ya(d)}function ya(d){for(const i of d.views.values())if(i.query._queryParams.loadsAllData())return i;return null}let cm=1;class Qf{constructor(i){this.listenProvider_=i,this.syncPointTree_=new Oo(null),this.pendingWriteTree_=function em(){return{visibleWrites:Cl.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Ap(d,i,o,p,E){return function qg(d,i,o,p,E){(0,Xe.hu)(p>d.lastWriteId,"Stacking an older write on top of newer ones"),void 0===E&&(E=!0),d.allWrites.push({path:i,snap:o,writeId:p,visible:E}),E&&(d.visibleWrites=fd(d.visibleWrites,i,o)),d.lastWriteId=p}(d.pendingWriteTree_,i,o,p,E),E?Rp(d,new Ul({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},i,o)):[]}function Xf(d,i,o=!1){const p=function bg(d,i){for(let o=0;o<d.allWrites.length;o++){const p=d.allWrites[o];if(p.writeId===i)return p}return null}(d.pendingWriteTree_,i);if(function Qg(d,i){const o=d.allWrites.findIndex(ee=>ee.writeId===i);(0,Xe.hu)(o>=0,"removeWrite called with nonexistent writeId.");const p=d.allWrites[o];d.allWrites.splice(o,1);let E=p.visible,P=!1,H=d.allWrites.length-1;for(;E&&H>=0;){const ee=d.allWrites[H];ee.visible&&(H>=o&&Gv(ee,p.path)?E=!1:Vl(p.path,ee.path)&&(P=!0)),H--}return!!E&&(P?(function Xg(d){d.visibleWrites=$v(d.allWrites,Z_,fr()),d.lastWriteId=d.allWrites.length>0?d.allWrites[d.allWrites.length-1].writeId:-1}(d),!0):(p.snap?d.visibleWrites=Dp(d.visibleWrites,p.path):$o(p.children,he=>{d.visibleWrites=Dp(d.visibleWrites,Gr(p.path,he))}),!0))}(d.pendingWriteTree_,i)){let P=new Oo(null);return null!=p.snap?P=P.set(fr(),!0):$o(p.children,H=>{P=P.set(new Ws(H),!0)}),Rp(d,new Sh(p.path,P,o))}return[]}function kp(d,i,o){return Rp(d,new Ul({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i,o))}function s_(d,i,o,p,E=!1){const P=i._path,H=d.syncPointTree_.get(P);let ee=[];if(H&&("default"===i._queryIdentifier||rl(H,i))){const he=function In(d,i,o,p){const E=i._queryIdentifier,P=[];let H=[];const ee=Po(d);if("default"===E)for(const[he,Se]of d.views.entries())H=H.concat(Yv(Se,o,p)),ev(Se)&&(d.views.delete(he),Se.query._queryParams.loadsAllData()||P.push(Se.query));else{const he=d.views.get(E);he&&(H=H.concat(Yv(he,o,p)),ev(he)&&(d.views.delete(E),he.query._queryParams.loadsAllData()||P.push(he.query)))}return ee&&!Po(d)&&P.push(new(function q(){return(0,Xe.hu)(a,"Reference.ts has not been loaded"),a}())(i._repo,i._path)),{removed:P,events:H}}(H,i,o,p);(function He(d){return 0===d.views.size})(H)&&(d.syncPointTree_=d.syncPointTree_.remove(P));const Se=he.removed;if(ee=he.events,!E){const ht=-1!==Se.findIndex(rn=>rn._queryParams.loadsAllData()),Nt=d.syncPointTree_.findOnPath(P,(rn,An)=>Po(An));if(ht&&!Nt){const rn=d.syncPointTree_.subtree(P);if(!rn.isEmpty()){const An=function Zv(d){return d.fold((i,o,p)=>{if(o&&Po(o))return[ya(o)];{let E=[];return o&&(E=ji(o)),$o(p,(P,H)=>{E=E.concat(H)}),E}})}(rn);for(let Vn=0;Vn<An.length;++Vn){const hi=An[Vn],zi=hi.query,Tr=Eg(d,hi);d.listenProvider_.startListening(Ef(zi),bf(d,zi),Tr.hashFn,Tr.onComplete)}}}!Nt&&Se.length>0&&!p&&(ht?d.listenProvider_.stopListening(Ef(i),null):Se.forEach(rn=>{const An=d.queryToTagMap.get(Cf(rn));d.listenProvider_.stopListening(Ef(rn),An)}))}!function Fy(d,i){for(let o=0;o<i.length;++o){const p=i[o];if(!p._queryParams.loadsAllData()){const E=Cf(p),P=d.queryToTagMap.get(E);d.queryToTagMap.delete(E),d.tagToQueryMap.delete(P)}}}(d,Se)}return ee}function iv(d,i,o,p){const E=Dg(d,p);if(null!=E){const P=wf(E),H=P.path,ee=P.queryId,he=il(H,i);return Jf(d,H,new Ul(wp(ee),he,o))}return[]}function zm(d,i,o,p=!1){const E=i._path;let P=null,H=!1;d.syncPointTree_.foreachOnPath(E,(rn,An)=>{const Vn=il(rn,E);P=P||_r(An,Vn),H=H||Po(An)});let he,ee=d.syncPointTree_.get(E);ee?(H=H||Po(ee),P=P||_r(ee,fr())):(ee=new v,d.syncPointTree_=d.syncPointTree_.set(E,ee)),null!=P?he=!0:(he=!1,P=Hi.EMPTY_NODE,d.syncPointTree_.subtree(E).foreachChild((An,Vn)=>{const hi=_r(Vn,fr());hi&&(P=P.updateImmediateChild(An,hi))}));const Se=rl(ee,i);if(!Se&&!i._queryParams.loadsAllData()){const rn=Cf(i);(0,Xe.hu)(!d.queryToTagMap.has(rn),"View does not exist, but we have a tag");const An=function Qv(){return cm++}();d.queryToTagMap.set(rn,An),d.tagToQueryMap.set(An,rn)}let Nt=function Xn(d,i,o,p,E,P){const H=yn(d,i,p,E,P);return d.views.has(i._queryIdentifier)||d.views.set(i._queryIdentifier,H),function tv(d,i){d.eventRegistrations_.push(i)}(H,o),function x(d,i){const o=d.viewCache_.eventCache,p=[];return o.getNode().isLeafNode()||o.getNode().forEachChild(wi,(P,H)=>{p.push(Ba(P,H))}),o.isFullyInitialized()&&p.push(Zd(o.getNode())),S(d,p,o.getNode(),i)}(H,o)}(ee,i,o,Sp(d.pendingWriteTree_,E),P,he);if(!Se&&!H&&!p){const rn=ws(ee,i);Nt=Nt.concat(function rv(d,i,o){const p=i._path,E=bf(d,i),P=Eg(d,o),H=d.listenProvider_.startListening(Ef(i),E,P.hashFn,P.onComplete),ee=d.syncPointTree_.subtree(p);if(E)(0,Xe.hu)(!Po(ee.value),"If we're adding a query, it shouldn't be shadowed");else{const he=ee.fold((Se,ht,Nt)=>{if(!Fr(Se)&&ht&&Po(ht))return[ya(ht).query];{let rn=[];return ht&&(rn=rn.concat(ji(ht).map(An=>An.query))),$o(Nt,(An,Vn)=>{rn=rn.concat(Vn)}),rn}});for(let Se=0;Se<he.length;++Se){const ht=he[Se];d.listenProvider_.stopListening(Ef(ht),bf(d,ht))}}return H}(d,i,rn))}return Nt}function o_(d,i,o){const E=d.pendingWriteTree_,P=d.syncPointTree_.findOnPath(i,(H,ee)=>{const Se=_r(ee,il(H,i));if(Se)return Se});return Xd(E,i,P,o,!0)}function Rp(d,i){return l_(i,d.syncPointTree_,null,Sp(d.pendingWriteTree_,fr()))}function l_(d,i,o,p){if(Fr(d.path))return lu(d,i,o,p);{const E=i.get(fr());null==o&&null!=E&&(o=_r(E,fr()));let P=[];const H=Hr(d.path),ee=d.operationForChild(H),he=i.children.get(H);if(he&&ee){const Se=o?o.getImmediateChild(H):null,ht=im(p,H);P=P.concat(l_(ee,he,Se,ht))}return E&&(P=P.concat(yt(E,d,p,o))),P}}function lu(d,i,o,p){const E=i.get(fr());null==o&&null!=E&&(o=_r(E,fr()));let P=[];return i.children.inorderTraversal((H,ee)=>{const he=o?o.getImmediateChild(H):null,Se=im(p,H),ht=d.operationForChild(H);ht&&(P=P.concat(lu(ht,ee,he,Se)))}),E&&(P=P.concat(yt(E,d,p,o))),P}function Eg(d,i){const o=i.query,p=bf(d,o);return{hashFn:()=>(function Wv(d){return d.viewCache_.serverCache.getNode()}(i)||Hi.EMPTY_NODE).hash(),onComplete:E=>{if("ok"===E)return p?function wg(d,i,o){const p=Dg(d,o);if(p){const E=wf(p),P=E.path,H=E.queryId,ee=il(P,i);return Jf(d,P,new Ep(wp(H),ee))}return[]}(d,o._path,p):function qv(d,i){return Rp(d,new Ep({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i))}(d,o._path);{const P=function Ff(d,i){let o="Unknown Error";"too_big"===d?o="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===d?o="Client doesn't have permission to access the desired data.":"unavailable"===d&&(o="The service is unavailable");const p=new Error(d+" at "+i._path.toString()+": "+o);return p.code=d.toUpperCase(),p}(E,o);return s_(d,o,null,P)}}}}function bf(d,i){const o=Cf(i);return d.queryToTagMap.get(o)}function Cf(d){return d._path.toString()+"$"+d._queryIdentifier}function Dg(d,i){return d.tagToQueryMap.get(i)}function wf(d){const i=d.indexOf("$");return(0,Xe.hu)(-1!==i&&i<d.length-1,"Bad queryKey."),{queryId:d.substr(i+1),path:new Ws(d.substr(0,i))}}function Jf(d,i,o){const p=d.syncPointTree_.get(i);return(0,Xe.hu)(p,"Missing sync point for query tag that we're tracking"),yt(p,o,Sp(d.pendingWriteTree_,i),null)}function Ef(d){return d._queryParams.loadsAllData()&&!d._queryParams.isDefault()?new(function Cg(){return(0,Xe.hu)(md,"Reference.ts has not been loaded"),md}())(d._repo,d._path):d}class Gm{constructor(i){this.node_=i}getImmediateChild(i){const o=this.node_.getImmediateChild(i);return new Gm(o)}node(){return this.node_}}class xg{constructor(i,o){this.syncTree_=i,this.path_=o}getImmediateChild(i){const o=Gr(this.path_,i);return new xg(this.syncTree_,o)}node(){return o_(this.syncTree_,this.path_)}}const ov=function(d,i,o){return d&&"object"==typeof d?((0,Xe.hu)(".sv"in d,"Unexpected leaf node or priority contents"),"string"==typeof d[".sv"]?Xv(d[".sv"],i,o):"object"==typeof d[".sv"]?av(d[".sv"],i):void(0,Xe.hu)(!1,"Unexpected server value: "+JSON.stringify(d,null,2))):d},Xv=function(d,i,o){if("timestamp"===d)return o.timestamp;(0,Xe.hu)(!1,"Unexpected server value: "+d)},av=function(d,i,o){d.hasOwnProperty("increment")||(0,Xe.hu)(!1,"Unexpected server value: "+JSON.stringify(d,null,2));const p=d.increment;"number"!=typeof p&&(0,Xe.hu)(!1,"Unexpected increment value: "+p);const E=i.node();if((0,Xe.hu)(null!==E&&typeof E<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!E.isLeafNode())return p;const H=E.getValue();return"number"!=typeof H?p:H+p},Jd=function(d,i,o,p){return c_(i,new xg(o,d),p)},Sg=function(d,i,o){return c_(d,new Gm(i),o)};function c_(d,i,o){const p=d.getPriority().val(),E=ov(p,i.getImmediateChild(".priority"),o);let P;if(d.isLeafNode()){const H=d,ee=ov(H.getValue(),i,o);return ee!==H.getValue()||E!==H.getPriority().val()?new si(ee,eo(E)):d}{const H=d;return P=H,E!==H.getPriority().val()&&(P=P.updatePriority(new si(E))),H.forEachChild(wi,(ee,he)=>{const Se=c_(he,i.getImmediateChild(ee),o);Se!==he&&(P=P.updateImmediateChild(ee,Se))}),P}}class lv{constructor(i="",o=null,p={children:{},childCount:0}){this.name=i,this.parent=o,this.node=p}}function u_(d,i){let o=i instanceof Ws?i:new Ws(i),p=d,E=Hr(o);for(;null!==E;){const P=(0,Xe.DV)(p.node.children,E)||{children:{},childCount:0};p=new lv(E,p,P),o=Ps(o),E=Hr(o)}return p}function ep(d){return d.node.value}function d_(d,i){d.node.value=i,um(d)}function cv(d){return d.node.childCount>0}function $m(d,i){$o(d.node.children,(o,p)=>{i(new lv(o,d,p))})}function Jv(d,i,o,p){o&&!p&&i(d),$m(d,E=>{Jv(E,i,!0,p)}),o&&p&&i(d)}function Df(d){return new Ws(null===d.parent?d.name:Df(d.parent)+"/"+d.name)}function um(d){null!==d.parent&&function Wm(d,i,o){const p=function Ly(d){return void 0===ep(d)&&!cv(d)}(o),E=(0,Xe.r3)(d.node.children,i);p&&E?(delete d.node.children[i],d.node.childCount--,um(d)):!p&&!E&&(d.node.children[i]=o.node,d.node.childCount++,um(d))}(d.parent,d.name,d)}const db=/[\[\].#$\/\u0000-\u001F\u007F]/,Mg=/[\[\].#$\u0000-\u001F\u007F]/,ey=10485760,dm=function(d){return"string"==typeof d&&0!==d.length&&!db.test(d)},h_=function(d){return"string"==typeof d&&0!==d.length&&!Mg.test(d)},hm=function(d){return null===d||"string"==typeof d||"number"==typeof d&&!Kc(d)||d&&"object"==typeof d&&(0,Xe.r3)(d,".sv")},Ah=function(d,i,o,p){p&&void 0===i||$u((0,Xe.gK)(d,"value"),i,o)},$u=function(d,i,o){const p=o instanceof Ws?new $p(o,d):o;if(void 0===i)throw new Error(d+"contains undefined "+bl(p));if("function"==typeof i)throw new Error(d+"contains a function "+bl(p)+" with contents = "+i.toString());if(Kc(i))throw new Error(d+"contains "+i.toString()+" "+bl(p));if("string"==typeof i&&i.length>ey/3&&(0,Xe.ug)(i)>ey)throw new Error(d+"contains a string greater than "+ey+" utf8 bytes "+bl(p)+" ('"+i.substring(0,50)+"...')");if(i&&"object"==typeof i){let E=!1,P=!1;if($o(i,(H,ee)=>{if(".value"===H)E=!0;else if(".priority"!==H&&".sv"!==H&&(P=!0,!dm(H)))throw new Error(d+" contains an invalid key ("+H+") "+bl(p)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Wp(d,i){d.parts_.length>0&&(d.byteLength_+=1),d.parts_.push(i),d.byteLength_+=(0,Xe.ug)(i),qd(d)})(p,H),$u(d,ee,p),function yp(d){const i=d.parts_.pop();d.byteLength_-=(0,Xe.ug)(i),d.parts_.length>0&&(d.byteLength_-=1)}(p)}),E&&P)throw new Error(d+' contains ".value" child '+bl(p)+" in addition to actual children.")}},fm=function(d,i,o,p){if(p&&void 0===i)return;const E=(0,Xe.gK)(d,"values");if(!i||"object"!=typeof i||Array.isArray(i))throw new Error(E+" must be an object containing the children to replace.");const P=[];$o(i,(H,ee)=>{const he=new Ws(H);if($u(E,ee,Gr(o,he)),".priority"===_a(he)&&!hm(ee))throw new Error(E+"contains an invalid value for '"+he.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");P.push(he)}),function(d,i){let o,p;for(o=0;o<i.length;o++){p=i[o];const P=xc(p);for(let H=0;H<P.length;H++)if((".priority"!==P[H]||H!==P.length-1)&&!dm(P[H]))throw new Error(d+"contains an invalid key ("+P[H]+") in path "+p.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}i.sort(Gp);let E=null;for(o=0;o<i.length;o++){if(p=i[o],null!==E&&Vl(E,p))throw new Error(d+"contains a path "+E.toString()+" that is ancestor of another path "+p.toString());E=p}}(E,P)},pm=function(d,i,o){if(!o||void 0!==i){if(Kc(i))throw new Error((0,Xe.gK)(d,"priority")+"is "+i.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!hm(i))throw new Error((0,Xe.gK)(d,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},mm=function(d,i,o,p){if(!(p&&void 0===o||dm(o)))throw new Error((0,Xe.gK)(d,i)+'was an invalid key = "'+o+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},gm=function(d,i,o,p){if(!(p&&void 0===o||h_(o)))throw new Error((0,Xe.gK)(d,i)+'was an invalid path = "'+o+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},gd=function(d,i){if(".info"===Hr(i))throw new Error(d+" failed = Can't modify data under /.info/")},g_=function(d,i){const o=i.path.toString();if("string"!=typeof i.repoInfo.host||0===i.repoInfo.host.length||!dm(i.repoInfo.namespace)&&"localhost"!==i.repoInfo.host.split(":")[0]||0!==o.length&&!function(d){return d&&(d=d.replace(/^\/*\.info(\/|$)/,"/")),h_(d)}(o))throw new Error((0,Xe.gK)(d,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class xf{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ig(d,i){let o=null;for(let p=0;p<i.length;p++){const E=i[p],P=E.getPath();null!==o&&!Bf(P,o.path)&&(d.eventLists_.push(o),o=null),null===o&&(o={events:[],path:P}),o.events.push(E)}o&&d.eventLists_.push(o)}function uv(d,i,o){Ig(d,o),dv(d,p=>Bf(p,i))}function eh(d,i,o){Ig(d,o),dv(d,p=>Vl(p,i)||Vl(i,p))}function dv(d,i){d.recursionDepth_++;let o=!0;for(let p=0;p<d.eventLists_.length;p++){const E=d.eventLists_[p];E&&(i(E.path)?(tp(d.eventLists_[p]),d.eventLists_[p]=null):o=!1)}o&&(d.eventLists_=[]),d.recursionDepth_--}function tp(d){for(let i=0;i<d.events.length;i++){const o=d.events[i];if(null!==o){d.events[i]=null;const p=o.getEventRunner();Fa&&lo("event: "+o.toString()),$d(p)}}}const __="repo_interrupt";class v_{constructor(i,o,p,E){this.repoInfo_=i,this.forceRestClient_=o,this.authTokenProvider_=p,this.appCheckProvider_=E,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new xf,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Qd(),this.transactionQueueTree_=new lv,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ty(d){const o=d.infoData_.getNode(new Ws(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+o}function np(d){return function(d){return(d=d||{}).timestamp=d.timestamp||(new Date).getTime(),d}({timestamp:ty(d)})}function ny(d,i,o,p,E){d.dataUpdateCount++;const P=new Ws(i);o=d.interceptServerDataCallback_?d.interceptServerDataCallback_(i,o):o;let H=[];if(E)if(p){const he=(0,Xe.UI)(o,Se=>eo(Se));H=function Ny(d,i,o,p){const E=Dg(d,p);if(E){const P=wf(E),H=P.path,ee=P.queryId,he=il(H,i),Se=Oo.fromObject(o);return Jf(d,H,new su(wp(ee),he,Se))}return[]}(d.serverSyncTree_,P,he,E)}else{const he=eo(o);H=iv(d.serverSyncTree_,P,he,E)}else if(p){const he=(0,Xe.UI)(o,Se=>eo(Se));H=function r_(d,i,o){const p=Oo.fromObject(o);return Rp(d,new su({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i,p))}(d.serverSyncTree_,P,he)}else{const he=eo(o);H=kp(d.serverSyncTree_,P,he)}let ee=P;H.length>0&&(ee=bd(d,P)),eh(d.eventQueue_,ee,H)}function y_(d,i){Tg(d,"connected",i),!1===i&&function Hy(d){uu(d,"onDisconnectEvents");const i=np(d),o=Qd();xh(d.onDisconnect_,fr(),(E,P)=>{const H=Jd(E,P,d.serverSyncTree_,i);Dh(o,E,H)});let p=[];xh(o,fr(),(E,P)=>{p=p.concat(kp(d.serverSyncTree_,E,P));const H=Sf(d,E);bd(d,H)}),d.onDisconnect_=Qd(),eh(d.eventQueue_,fr(),p)}(d)}function Tg(d,i,o){const p=new Ws("/.info/"+i),E=eo(o);d.infoData_.updateSnapshot(p,E);const P=kp(d.infoSyncTree_,p,E);eh(d.eventQueue_,p,P)}function b_(d){return d.nextWriteId_++}function _m(d,i,o,p,E){uu(d,"set",{path:i.toString(),value:o,priority:p});const P=np(d),H=eo(o,p),ee=o_(d.serverSyncTree_,i),he=Sg(H,ee,P),Se=b_(d),ht=Ap(d.serverSyncTree_,i,he,Se,!0);Ig(d.eventQueue_,ht),d.server_.put(i.toString(),H.val(!0),(rn,An)=>{const Vn="ok"===rn;Vn||Ss("set at "+i+" failed: "+rn);const hi=Xf(d.serverSyncTree_,Se,!Vn);eh(d.eventQueue_,i,hi),Gh(0,E,rn,An)});const Nt=Sf(d,i);bd(d,Nt),eh(d.eventQueue_,Nt,[])}function Ag(d,i,o){d.server_.onDisconnectCancel(i.toString(),(p,E)=>{"ok"===p&&jf(d.onDisconnect_,i),Gh(0,o,p,E)})}function iy(d,i,o,p){const E=eo(o);d.server_.onDisconnectPut(i.toString(),E.val(!0),(P,H)=>{"ok"===P&&Dh(d.onDisconnect_,i,E),Gh(0,p,P,H)})}function _d(d,i,o){let p;p=".info"===Hr(i._path)?s_(d.infoSyncTree_,i,o):s_(d.serverSyncTree_,i,o),uv(d.eventQueue_,i._path,p)}function Op(d){d.persistentConnection_&&d.persistentConnection_.interrupt(__)}function uu(d,...i){let o="";d.persistentConnection_&&(o=d.persistentConnection_.id+":"),lo(o,...i)}function Gh(d,i,o,p){i&&$d(()=>{if("ok"===o)i(null);else{const E=(o||"error").toUpperCase();let P=E;p&&(P+=": "+p);const H=new Error(P);H.code=E,i(H)}})}function Ym(d,i,o){return o_(d.serverSyncTree_,i,o)||Hi.EMPTY_NODE}function yd(d,i=d.transactionQueueTree_){if(i||kh(d,i),ep(i)){const o=bm(d,i);(0,Xe.hu)(o.length>0,"Sending zero length transaction queue"),o.every(E=>0===E.status)&&function vm(d,i,o){const p=o.map(Se=>Se.currentWriteId),E=Ym(d,i,p);let P=E;const H=E.hash();for(let Se=0;Se<o.length;Se++){const ht=o[Se];(0,Xe.hu)(0===ht.status,"tryToSendTransactionQueue_: items in queue should all be run."),ht.status=1,ht.retryCount++;const Nt=il(i,ht.path);P=P.updateChild(Nt,ht.currentOutputSnapshotRaw)}const ee=P.val(!0),he=i;d.server_.put(he.toString(),ee,Se=>{uu(d,"transaction put response",{path:he.toString(),status:Se});let ht=[];if("ok"===Se){const Nt=[];for(let rn=0;rn<o.length;rn++)o[rn].status=2,ht=ht.concat(Xf(d.serverSyncTree_,o[rn].currentWriteId)),o[rn].onComplete&&Nt.push(()=>o[rn].onComplete(null,!0,o[rn].currentOutputSnapshotResolved)),o[rn].unwatcher();kh(d,u_(d.transactionQueueTree_,i)),yd(d,d.transactionQueueTree_),eh(d.eventQueue_,i,ht);for(let rn=0;rn<Nt.length;rn++)$d(Nt[rn])}else{if("datastale"===Se)for(let Nt=0;Nt<o.length;Nt++)o[Nt].status=3===o[Nt].status?4:0;else{Ss("transaction at "+he.toString()+" failed: "+Se);for(let Nt=0;Nt<o.length;Nt++)o[Nt].status=4,o[Nt].abortReason=Se}bd(d,i)}},H)}(d,Df(i),o)}else cv(i)&&$m(i,o=>{yd(d,o)})}function bd(d,i){const o=ym(d,i),p=Df(o);return function Km(d,i,o){if(0===i.length)return;const p=[];let E=[];const H=i.filter(ee=>0===ee.status).map(ee=>ee.currentWriteId);for(let ee=0;ee<i.length;ee++){const he=i[ee],Se=il(o,he.path);let Nt,ht=!1;if((0,Xe.hu)(null!==Se,"rerunTransactionsUnderNode_: relativePath should not be null."),4===he.status)ht=!0,Nt=he.abortReason,E=E.concat(Xf(d.serverSyncTree_,he.currentWriteId,!0));else if(0===he.status)if(he.retryCount>=25)ht=!0,Nt="maxretry",E=E.concat(Xf(d.serverSyncTree_,he.currentWriteId,!0));else{const rn=Ym(d,he.path,H);he.currentInputSnapshot=rn;const An=i[ee].update(rn.val());if(void 0!==An){$u("transaction failed: Data returned ",An,he.path);let Vn=eo(An);"object"==typeof An&&null!=An&&(0,Xe.r3)(An,".priority")||(Vn=Vn.updatePriority(rn.getPriority()));const zi=he.currentWriteId,Tr=np(d),Es=Sg(Vn,rn,Tr);he.currentOutputSnapshotRaw=Vn,he.currentOutputSnapshotResolved=Es,he.currentWriteId=b_(d),H.splice(H.indexOf(zi),1),E=E.concat(Ap(d.serverSyncTree_,he.path,Es,he.currentWriteId,he.applyLocally)),E=E.concat(Xf(d.serverSyncTree_,zi,!0))}else ht=!0,Nt="nodata",E=E.concat(Xf(d.serverSyncTree_,he.currentWriteId,!0))}eh(d.eventQueue_,o,E),E=[],ht&&(i[ee].status=2,setTimeout(i[ee].unwatcher,Math.floor(0)),i[ee].onComplete&&p.push("nodata"===Nt?()=>i[ee].onComplete(null,!1,i[ee].currentInputSnapshot):()=>i[ee].onComplete(new Error(Nt),!1,null)))}kh(d,d.transactionQueueTree_);for(let ee=0;ee<p.length;ee++)$d(p[ee]);yd(d,d.transactionQueueTree_)}(d,bm(d,o),p),p}function ym(d,i){let o,p=d.transactionQueueTree_;for(o=Hr(i);null!==o&&void 0===ep(p);)p=u_(p,o),o=Hr(i=Ps(i));return p}function bm(d,i){const o=[];return Cm(d,i,o),o.sort((p,E)=>p.order-E.order),o}function Cm(d,i,o){const p=ep(i);if(p)for(let E=0;E<p.length;E++)o.push(p[E]);$m(i,E=>{Cm(d,E,o)})}function kh(d,i){const o=ep(i);if(o){let p=0;for(let E=0;E<o.length;E++)2!==o[E].status&&(o[p]=o[E],p++);o.length=p,d_(i,o.length>0?o:void 0)}$m(i,p=>{kh(d,p)})}function Sf(d,i){const o=Df(ym(d,i)),p=u_(d.transactionQueueTree_,i);return function By(d,i,o){let p=o?d:d.parent;for(;null!==p;){if(i(p))return!0;p=p.parent}}(p,E=>{qm(d,E)}),qm(d,p),Jv(p,E=>{qm(d,E)}),o}function qm(d,i){const o=ep(i);if(o){const p=[];let E=[],P=-1;for(let H=0;H<o.length;H++)3===o[H].status||(1===o[H].status?((0,Xe.hu)(P===H-1,"All SENT items should be at beginning of queue."),P=H,o[H].status=3,o[H].abortReason="set"):((0,Xe.hu)(0===o[H].status,"Unexpected transaction status in abort"),o[H].unwatcher(),E=E.concat(Xf(d.serverSyncTree_,o[H].currentWriteId,!0)),o[H].onComplete&&p.push(o[H].onComplete.bind(null,new Error("set"),!1,null))));-1===P?d_(i,void 0):o.length=P+1,eh(d.eventQueue_,Df(i),E);for(let H=0;H<p.length;H++)$d(p[H])}}const Zm=function(d,i){const o=w_(d),p=o.namespace;return"firebase.com"===o.domain&&ma(o.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!p||"undefined"===p)&&"localhost"!==o.domain&&ma("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),o.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ss("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new rc(o.host,o.secure,p,"ws"===o.scheme||"wss"===o.scheme,i,"",p!==o.subdomain),path:new Ws(o.pathString)}},w_=function(d){let i="",o="",p="",E="",P="",H=!0,ee="https",he=443;if("string"==typeof d){let Se=d.indexOf("//");Se>=0&&(ee=d.substring(0,Se-1),d=d.substring(Se+2));let ht=d.indexOf("/");-1===ht&&(ht=d.length);let Nt=d.indexOf("?");-1===Nt&&(Nt=d.length),i=d.substring(0,Math.min(ht,Nt)),ht<Nt&&(E=function C_(d){let i="";const o=d.split("/");for(let p=0;p<o.length;p++)if(o[p].length>0){let E=o[p];try{E=decodeURIComponent(E.replace(/\+/g," "))}catch{}i+="/"+E}return i}(d.substring(ht,Nt)));const rn=function _v(d){const i={};"?"===d.charAt(0)&&(d=d.substring(1));for(const o of d.split("&")){if(0===o.length)continue;const p=o.split("=");2===p.length?i[decodeURIComponent(p[0])]=decodeURIComponent(p[1]):Ss(`Invalid query segment '${o}' in query '${d}'`)}return i}(d.substring(Math.min(d.length,Nt)));Se=i.indexOf(":"),Se>=0?(H="https"===ee||"wss"===ee,he=parseInt(i.substring(Se+1),10)):Se=i.length;const An=i.slice(0,Se);if("localhost"===An.toLowerCase())o="localhost";else if(An.split(".").length<=2)o=An;else{const Vn=i.indexOf(".");p=i.substring(0,Vn).toLowerCase(),o=i.substring(Vn+1),P=p}"ns"in rn&&(P=rn.ns)}return{host:i,port:he,domain:o,subdomain:p,secure:H,scheme:ee,pathString:E,namespace:P}},Qm="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",E_=function(){let d=0;const i=[];return function(o){const p=o===d;let E;d=o;const P=new Array(8);for(E=7;E>=0;E--)P[E]=Qm.charAt(o%64),o=Math.floor(o/64);(0,Xe.hu)(0===o,"Cannot push at time == 0");let H=P.join("");if(p){for(E=11;E>=0&&63===i[E];E--)i[E]=0;i[E]++}else for(E=0;E<12;E++)i[E]=Math.floor(64*Math.random());for(E=0;E<12;E++)H+=Qm.charAt(i[E]);return(0,Xe.hu)(20===H.length,"nextPushId: Length should be 20."),H}}();class D_{constructor(i,o,p,E){this.eventType=i,this.eventRegistration=o,this.snapshot=p,this.prevName=E}getPath(){const i=this.snapshot.ref;return"value"===this.eventType?i._path:i.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,Xe.Wl)(this.snapshot.exportVal())}}class Xm{constructor(i,o,p){this.eventRegistration=i,this.error=o,this.path=p}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class x_{constructor(i,o){this.snapshotCallback=i,this.cancelCallback=o}onValue(i,o){this.snapshotCallback.call(null,i,o)}onCancel(i){return(0,Xe.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,i)}get hasCancelCallback(){return!!this.cancelCallback}matches(i){return this.snapshotCallback===i.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===i.snapshotCallback.userCallback&&this.snapshotCallback.context===i.snapshotCallback.context}}class S_{constructor(i,o){this._repo=i,this._path=o}cancel(){const i=new Xe.BH;return Ag(this._repo,this._path,i.wrapCallback(()=>{})),i.promise}remove(){gd("OnDisconnect.remove",this._path);const i=new Xe.BH;return iy(this._repo,this._path,null,i.wrapCallback(()=>{})),i.promise}set(i){gd("OnDisconnect.set",this._path),Ah("OnDisconnect.set",i,this._path,!1);const o=new Xe.BH;return iy(this._repo,this._path,i,o.wrapCallback(()=>{})),o.promise}setWithPriority(i,o){gd("OnDisconnect.setWithPriority",this._path),Ah("OnDisconnect.setWithPriority",i,this._path,!1),pm("OnDisconnect.setWithPriority",o,!1);const p=new Xe.BH;return function pv(d,i,o,p,E){const P=eo(o,p);d.server_.onDisconnectPut(i.toString(),P.val(!0),(H,ee)=>{"ok"===H&&Dh(d.onDisconnect_,i,P),Gh(0,E,H,ee)})}(this._repo,this._path,i,o,p.wrapCallback(()=>{})),p.promise}update(i){gd("OnDisconnect.update",this._path),fm("OnDisconnect.update",i,this._path,!1);const o=new Xe.BH;return function mv(d,i,o,p){if((0,Xe.xb)(o))return lo("onDisconnect().update() called with empty data.  Don't do anything."),void Gh(0,p,"ok",void 0);d.server_.onDisconnectMerge(i.toString(),o,(E,P)=>{"ok"===E&&$o(o,(H,ee)=>{const he=eo(ee);Dh(d.onDisconnect_,Gr(i,H),he)}),Gh(0,p,E,P)})}(this._repo,this._path,i,o.wrapCallback(()=>{})),o.promise}}class du{constructor(i,o,p,E){this._repo=i,this._path=o,this._queryParams=p,this._orderByCalled=E}get key(){return Fr(this._path)?null:_a(this._path)}get ref(){return new Cd(this._repo,this._path)}get _queryIdentifier(){const i=Hf(this._queryParams),o=Fh(i);return"{}"===o?"default":o}get _queryObject(){return Hf(this._queryParams)}isEqual(i){if(!((i=(0,Xe.m9)(i))instanceof du))return!1;const o=this._repo===i._repo,p=Bf(this._path,i._path);return o&&p&&this._queryIdentifier===i._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Lf(d){let i="";for(let o=d.pieceNum_;o<d.pieces_.length;o++)""!==d.pieces_[o]&&(i+="/"+encodeURIComponent(String(d.pieces_[o])));return i||"/"}(this._path)}}function rp(d,i){if(!0===d._orderByCalled)throw new Error(i+": You can't combine multiple orderBy calls.")}function $h(d){let i=null,o=null;if(d.hasStart()&&(i=d.getIndexStartValue()),d.hasEnd()&&(o=d.getIndexEndValue()),d.getIndex()===F){const p="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",E="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(d.hasStart()){if(d.getIndexStartName()!==qc)throw new Error(p);if("string"!=typeof i)throw new Error(E)}if(d.hasEnd()){if(d.getIndexEndName()!==Bl)throw new Error(p);if("string"!=typeof o)throw new Error(E)}}else if(d.getIndex()===wi){if(null!=i&&!hm(i)||null!=o&&!hm(o))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,Xe.hu)(d.getIndex()instanceof Eh||d.getIndex()===hd,"unknown index type."),null!=i&&"object"==typeof i||null!=o&&"object"==typeof o)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Jm(d){if(d.hasStart()&&d.hasEnd()&&d.hasLimit()&&!d.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Cd extends du{constructor(i,o){super(i,o,new qp,!1)}get parent(){const i=ud(this._path);return null===i?null:new Cd(this._repo,i)}get root(){let i=this;for(;null!==i.parent;)i=i.parent;return i}}class wm{constructor(i,o,p){this._node=i,this.ref=o,this._index=p}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(i){const o=new Ws(i),p=Mf(this.ref,i);return new wm(this._node.getChild(o),p,wi)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(i){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(p,E)=>i(new wm(E,Mf(this.ref,p),wi)))}hasChild(i){const o=new Ws(i);return!this._node.getChild(o).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function eg(d,i){return(d=(0,Xe.m9)(d))._checkNotDeleted("ref"),void 0!==i?Mf(d._root,i):d._root}function kg(d,i){(d=(0,Xe.m9)(d))._checkNotDeleted("refFromURL");const o=Zm(i,d._repo.repoInfo_.nodeAdmin);g_("refFromURL",o);const p=o.repoInfo;return!d._repo.repoInfo_.isCustomHost()&&p.host!==d._repo.repoInfo_.host&&ma("refFromURL: Host name does not match the current database: (found "+p.host+" but expected "+d._repo.repoInfo_.host+")"),eg(d,o.path.toString())}function Mf(d,i){return null===Hr((d=(0,Xe.m9)(d))._path)?(o=i,o&&(o=o.replace(/^\/*\.info(\/|$)/,"/")),gm("child","path",o,!1)):gm("child","path",i,!1),new Cd(d._repo,Gr(d._path,i));var o}function Rg(d,i){d=(0,Xe.m9)(d),gd("set",d._path),Ah("set",i,d._path,!1);const o=new Xe.BH;return _m(d._repo,d._path,i,null,o.wrapCallback(()=>{})),o.promise}function A_(d,i){fm("update",i,d._path,!1);const o=new Xe.BH;return function ip(d,i,o,p){uu(d,"update",{path:i.toString(),value:o});let E=!0;const P=np(d),H={};if($o(o,(ee,he)=>{E=!1,H[ee]=Jd(Gr(i,ee),eo(he),d.serverSyncTree_,P)}),E)lo("update() called with empty data.  Don't do anything."),Gh(0,p,"ok",void 0);else{const ee=b_(d),he=function Kv(d,i,o,p){!function Zg(d,i,o,p){(0,Xe.hu)(p>d.lastWriteId,"Stacking an older merge on top of newer ones"),d.allWrites.push({path:i,children:o,writeId:p,visible:!0}),d.visibleWrites=Vm(d.visibleWrites,i,o),d.lastWriteId=p}(d.pendingWriteTree_,i,o,p);const E=Oo.fromObject(o);return Rp(d,new su({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},i,E))}(d.serverSyncTree_,i,H,ee);Ig(d.eventQueue_,he),d.server_.merge(i.toString(),o,(Se,ht)=>{const Nt="ok"===Se;Nt||Ss("update at "+i+" failed: "+Se);const rn=Xf(d.serverSyncTree_,ee,!Nt),An=rn.length>0?bd(d,i):i;eh(d.eventQueue_,An,rn),Gh(0,p,Se,ht)}),$o(o,Se=>{const ht=Sf(d,Gr(i,Se));bd(d,ht)}),eh(d.eventQueue_,i,[])}}(d._repo,d._path,i,o.wrapCallback(()=>{})),o.promise}function yv(d){d=(0,Xe.m9)(d);const i=new x_(()=>{}),o=new Pp(i);return function fv(d,i,o){const p=function a_(d,i){const o=i._path;let p=null;d.syncPointTree_.foreachOnPath(o,(Se,ht)=>{const Nt=il(Se,o);p=p||_r(ht,Nt)});let E=d.syncPointTree_.get(o);E?p=p||_r(E,fr()):(E=new v,d.syncPointTree_=d.syncPointTree_.set(o,E));const P=null!=p,H=P?new ju(p,!0,!1):null;return function Py(d){return Jp(d.viewCache_)}(yn(E,i,Sp(d.pendingWriteTree_,i._path),P?H.getNode():Hi.EMPTY_NODE,P))}(d.serverSyncTree_,i);return null!=p?Promise.resolve(p):d.server_.get(i).then(E=>{const P=eo(E).withIndex(i._queryParams.getIndex());let H;if(zm(d.serverSyncTree_,i,o,!0),i._queryParams.loadsAllData())H=kp(d.serverSyncTree_,i._path,P);else{const ee=bf(d.serverSyncTree_,i);H=iv(d.serverSyncTree_,i._path,P,ee)}return eh(d.eventQueue_,i._path,H),s_(d.serverSyncTree_,i,o,null,!0),P},E=>(uu(d,"get for query "+(0,Xe.Wl)(i)+" failed: "+E),Promise.reject(new Error(E))))}(d._repo,d,o).then(p=>new wm(p,new Cd(d._repo,d._path),d._queryParams.getIndex()))}class Pp{constructor(i){this.callbackContext=i}respondsTo(i){return"value"===i}createEvent(i,o){const p=o._queryParams.getIndex();return new D_("value",this,new wm(i.snapshotNode,new Cd(o._repo,o._path),p))}getEventRunner(i){return"cancel"===i.getEventType()?()=>this.callbackContext.onCancel(i.error):()=>this.callbackContext.onValue(i.snapshot,null)}createCancelEvent(i,o){return this.callbackContext.hasCancelCallback?new Xm(this,i,o):null}matches(i){return i instanceof Pp&&(!i.callbackContext||!this.callbackContext||i.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Em{constructor(i,o){this.eventType=i,this.callbackContext=o}respondsTo(i){let o="children_added"===i?"child_added":i;return o="children_removed"===o?"child_removed":o,this.eventType===o}createCancelEvent(i,o){return this.callbackContext.hasCancelCallback?new Xm(this,i,o):null}createEvent(i,o){(0,Xe.hu)(null!=i.childName,"Child events should have a childName.");const p=Mf(new Cd(o._repo,o._path),i.childName),E=o._queryParams.getIndex();return new D_(i.type,this,new wm(i.snapshotNode,p,E),i.prevName)}getEventRunner(i){return"cancel"===i.getEventType()?()=>this.callbackContext.onCancel(i.error):()=>this.callbackContext.onValue(i.snapshot,i.prevName)}matches(i){return i instanceof Em&&this.eventType===i.eventType&&(!this.callbackContext||!i.callbackContext||this.callbackContext.matches(i.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Np(d,i,o,p,E){let P;if("object"==typeof p&&(P=void 0,E=p),"function"==typeof p&&(P=p),E&&E.onlyOnce){const he=o,Se=(ht,Nt)=>{_d(d._repo,d,ee),he(ht,Nt)};Se.userCallback=o.userCallback,Se.context=o.context,o=Se}const H=new x_(o,P||void 0),ee="value"===i?new Pp(H):new Em(i,H);return function gv(d,i,o){let p;p=".info"===Hr(i._path)?zm(d.infoSyncTree_,i,o):zm(d.serverSyncTree_,i,o),uv(d.eventQueue_,i._path,p)}(d._repo,d,ee),()=>_d(d._repo,d,ee)}function cs(d,i,o,p){return Np(d,"value",i,o,p)}function k_(d,i,o,p){return Np(d,"child_added",i,o,p)}function R_(d,i,o,p){return Np(d,"child_changed",i,o,p)}function Dm(d,i,o,p){return Np(d,"child_moved",i,o,p)}function bv(d,i,o,p){return Np(d,"child_removed",i,o,p)}function Ko(d,i,o){let p=null;const E=o?new x_(o):null;"value"===i?p=new Pp(E):i&&(p=new Em(i,E)),_d(d._repo,d,p)}class No{}class th extends No{constructor(i,o){super(),this._value=i,this._key=o}_apply(i){Ah("endAt",this._value,i._path,!0);const o=Zp(i._queryParams,this._value,this._key);if(Jm(o),$h(o),i._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new du(i._repo,i._path,o,i._orderByCalled)}}class ry extends No{constructor(i,o){super(),this._value=i,this._key=o}_apply(i){Ah("endBefore",this._value,i._path,!1);const o=function mg(d,i,o){let p;return p=Zp(d,i,d.index_===F||o?o:qc),p.endBeforeSet_=!0,p}(i._queryParams,this._value,this._key);if(Jm(o),$h(o),i._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new du(i._repo,i._path,o,i._orderByCalled)}}class O_ extends No{constructor(i,o){super(),this._value=i,this._key=o}_apply(i){Ah("startAt",this._value,i._path,!0);const o=lc(i._queryParams,this._value,this._key);if(Jm(o),$h(o),i._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new du(i._repo,i._path,o,i._orderByCalled)}}class sy extends No{constructor(i,o){super(),this._value=i,this._key=o}_apply(i){Ah("startAfter",this._value,i._path,!1);const o=function $g(d,i,o){let p;return p=lc(d,i,d.index_===F||o?o:Bl),p.startAfterSet_=!0,p}(i._queryParams,this._value,this._key);if(Jm(o),$h(o),i._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new du(i._repo,i._path,o,i._orderByCalled)}}class oy extends No{constructor(i){super(),this._limit=i}_apply(i){if(i._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new du(i._repo,i._path,function jv(d,i){const o=d.copy();return o.limitSet_=!0,o.limit_=i,o.viewFrom_="l",o}(i._queryParams,this._limit),i._orderByCalled)}}class Va extends No{constructor(i){super(),this._limit=i}_apply(i){if(i._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new du(i._repo,i._path,function Gg(d,i){const o=d.copy();return o.limitSet_=!0,o.limit_=i,o.viewFrom_="r",o}(i._queryParams,this._limit),i._orderByCalled)}}class pb extends No{constructor(i){super(),this._path=i}_apply(i){rp(i,"orderByChild");const o=new Ws(this._path);if(Fr(o))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const p=new Eh(o),E=ru(i._queryParams,p);return $h(E),new du(i._repo,i._path,E,!0)}}class ly extends No{_apply(i){rp(i,"orderByKey");const o=ru(i._queryParams,F);return $h(o),new du(i._repo,i._path,o,!0)}}class cy extends No{_apply(i){rp(i,"orderByPriority");const o=ru(i._queryParams,wi);return $h(o),new du(i._repo,i._path,o,!0)}}class jy extends No{_apply(i){rp(i,"orderByValue");const o=ru(i._queryParams,hd);return $h(o),new du(i._repo,i._path,o,!0)}}class zy extends No{constructor(i,o){super(),this._value=i,this._key=o}_apply(i){if(Ah("equalTo",this._value,i._path,!1),i._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(i._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new th(this._value,this._key)._apply(new O_(this._value,this._key)._apply(i))}}function Wh(d,...i){let o=(0,Xe.m9)(d);for(const p of i)o=p._apply(o);return o}(function N(d){(0,Xe.hu)(!a,"__referenceConstructor has already been defined"),a=d})(Cd),function Zf(d){(0,Xe.hu)(!md,"__referenceConstructor has already been defined"),md=d}(Cd);const Cv={};function fy(d,i,o,p,E){let P=p||d.options.databaseURL;void 0===P&&(d.options.projectId||ma("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),lo("Using default host for project ",d.options.projectId),P=`${d.options.projectId}-default-rtdb.firebaseio.com`);let he,Se,H=Zm(P,E),ee=H.repoInfo;typeof process<"u"&&process.env&&(Se=process.env.FIREBASE_DATABASE_EMULATOR_HOST),Se?(he=!0,P=`http://${Se}?ns=${ee.namespace}`,H=Zm(P,E),ee=H.repoInfo):he=!H.repoInfo.secure;const ht=E&&he?new Qc(Qc.OWNER):new uf(d.name,d.options,i);g_("Invalid Firebase Database URL",H),Fr(H.path)||ma("Database URL must point to the root of a Firebase Database (not including a child path).");const Nt=function Fp(d,i,o,p){let E=Cv[i.name];E||(E={},Cv[i.name]=E);let P=E[d.toURLString()];return P&&ma("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),P=new v_(d,false,o,p),E[d.toURLString()]=P,P}(ee,d,ht,new Yd(d.name,o));return new sp(Nt,d)}class sp{constructor(i,o){this._repoInternal=i,this.app=o,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function hv(d,i,o){if(d.stats_=ga(d.repoInfo_),d.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)d.server_=new Nm(d.repoInfo_,(p,E,P,H)=>{ny(d,p,E,P,H)},d.authTokenProvider_,d.appCheckProvider_),setTimeout(()=>y_(d,!0),0);else{if(typeof o<"u"&&null!==o){if("object"!=typeof o)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,Xe.Wl)(o)}catch(p){throw new Error("Invalid authOverride provided: "+p)}}d.persistentConnection_=new h(d.repoInfo_,i,(p,E,P,H)=>{ny(d,p,E,P,H)},p=>{y_(d,p)},p=>{!function Uy(d,i){$o(i,(o,p)=>{Tg(d,o,p)})}(d,p)},d.authTokenProvider_,d.appCheckProvider_,o),d.server_=d.persistentConnection_}d.authTokenProvider_.addTokenChangeListener(p=>{d.server_.refreshAuthToken(p)}),d.appCheckProvider_.addTokenChangeListener(p=>{d.server_.refreshAppCheckToken(p.token)}),d.statsReporter_=function tu(d,i){const o=d.toString();return Cs[o]||(Cs[o]=i()),Cs[o]}(d.repoInfo_,()=>new Yg(d.stats_,d.server_)),d.infoData_=new Cp,d.infoSyncTree_=new Qf({startListening:(p,E,P,H)=>{let ee=[];const he=d.infoData_.getNode(p._path);return he.isEmpty()||(ee=kp(d.infoSyncTree_,p._path,he),setTimeout(()=>{H("ok")},0)),ee},stopListening:()=>{}}),Tg(d,"connected",!1),d.serverSyncTree_=new Qf({startListening:(p,E,P,H)=>(d.server_.listen(p,P,E,(ee,he)=>{const Se=H(ee,he);eh(d.eventQueue_,p._path,Se)}),[]),stopListening:(p,E)=>{d.server_.unlisten(p,E)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Cd(this._repo,fr())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Yh(d,i){const o=Cv[i];(!o||o[d.key]!==d)&&ma(`Database ${i}(${d.repoInfo_}) has already been deleted.`),Op(d),delete o[d.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(i){null===this._rootInternal&&ma("Cannot call "+i+" on a deleted database.")}}function wd(){$s.IS_TRANSPORT_INITIALIZED&&Ss("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Gy(){wd(),dt.forceDisallow()}function $y(){wd(),Si.forceDisallow(),dt.forceAllow()}function Lp(d,i){af(d,i)}const Ng={".sv":"timestamp"};class Dv{constructor(i,o){this.committed=i,this.snapshot=o}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}h.prototype.simpleListen=function(d,i){this.sendRequest("q",{p:d},i)},h.prototype.echo=function(d,i){this.sendRequest("echo",{d},i)},function F_(d){Pc(Oa.SDK_VERSION),(0,Oa._registerComponent)(new kl.wA("database",(i,{instanceIdentifier:o})=>fy(i.getProvider("app").getImmediate(),i.getProvider("auth-internal"),i.getProvider("app-check-internal"),o),"PUBLIC").setMultipleInstances(!0)),(0,Oa.registerVersion)($c,"0.14.4",d),(0,Oa.registerVersion)($c,"0.14.4","esm2017")}();const Bp=new Ud.Yd("@firebase/database-compat"),ig=function(d){Bp.warn("FIREBASE WARNING: "+d)};class rg{constructor(i){this._delegate=i}cancel(i){(0,Xe.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,Xe.Wj)("OnDisconnect.cancel","onComplete",i,!0);const o=this._delegate.cancel();return i&&o.then(()=>i(null),p=>i(p)),o}remove(i){(0,Xe.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,Xe.Wj)("OnDisconnect.remove","onComplete",i,!0);const o=this._delegate.remove();return i&&o.then(()=>i(null),p=>i(p)),o}set(i,o){(0,Xe.Dv)("OnDisconnect.set",1,2,arguments.length),(0,Xe.Wj)("OnDisconnect.set","onComplete",o,!0);const p=this._delegate.set(i);return o&&p.then(()=>o(null),E=>o(E)),p}setWithPriority(i,o,p){(0,Xe.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,Xe.Wj)("OnDisconnect.setWithPriority","onComplete",p,!0);const E=this._delegate.setWithPriority(i,o);return p&&E.then(()=>p(null),P=>p(P)),E}update(i,o){if((0,Xe.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(i)){const E={};for(let P=0;P<i.length;++P)E[""+P]=i[P];i=E,ig("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,Xe.Wj)("OnDisconnect.update","onComplete",o,!0);const p=this._delegate.update(i);return o&&p.then(()=>o(null),E=>o(E)),p}}class Iv{constructor(i,o){this.committed=i,this.snapshot=o}toJSON(){return(0,Xe.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Dd{constructor(i,o){this._database=i,this._delegate=o}val(){return(0,Xe.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,Xe.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,Xe.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,Xe.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(i){return(0,Xe.Dv)("DataSnapshot.child",0,1,arguments.length),i=String(i),gm("DataSnapshot.child","path",i,!1),new Dd(this._database,this._delegate.child(i))}hasChild(i){return(0,Xe.Dv)("DataSnapshot.hasChild",1,1,arguments.length),gm("DataSnapshot.hasChild","path",i,!1),this._delegate.hasChild(i)}getPriority(){return(0,Xe.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(i){return(0,Xe.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,Xe.Wj)("DataSnapshot.forEach","action",i,!1),this._delegate.forEach(o=>i(new Dd(this._database,o)))}hasChildren(){return(0,Xe.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,Xe.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,Xe.Dv)("DataSnapshot.ref",0,0,arguments.length),new Wu(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class wl{constructor(i,o){this.database=i,this._delegate=o}on(i,o,p,E){var P;(0,Xe.Dv)("Query.on",2,4,arguments.length),(0,Xe.Wj)("Query.on","callback",o,!1);const H=wl.getCancelAndContextArgs_("Query.on",p,E),ee=(Se,ht)=>{o.call(H.context,new Dd(this.database,Se),ht)};ee.userCallback=o,ee.context=H.context;const he=null===(P=H.cancel)||void 0===P?void 0:P.bind(H.context);switch(i){case"value":return cs(this._delegate,ee,he),o;case"child_added":return k_(this._delegate,ee,he),o;case"child_removed":return bv(this._delegate,ee,he),o;case"child_changed":return R_(this._delegate,ee,he),o;case"child_moved":return Dm(this._delegate,ee,he),o;default:throw new Error((0,Xe.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(i,o,p){if((0,Xe.Dv)("Query.off",0,3,arguments.length),function(d,i,o){if(void 0!==i)switch(i){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,Xe.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,i),(0,Xe.Wj)("Query.off","callback",o,!0),(0,Xe.lb)("Query.off","context",p,!0),o){const E=()=>{};E.userCallback=o,E.context=p,Ko(this._delegate,i,E)}else Ko(this._delegate,i)}get(){return yv(this._delegate).then(i=>new Dd(this.database,i))}once(i,o,p,E){(0,Xe.Dv)("Query.once",1,4,arguments.length),(0,Xe.Wj)("Query.once","callback",o,!0);const P=wl.getCancelAndContextArgs_("Query.once",p,E),H=new Xe.BH,ee=(Se,ht)=>{const Nt=new Dd(this.database,Se);o&&o.call(P.context,Nt,ht),H.resolve(Nt)};ee.userCallback=o,ee.context=P.context;const he=Se=>{P.cancel&&P.cancel.call(P.context,Se),H.reject(Se)};switch(i){case"value":cs(this._delegate,ee,he,{onlyOnce:!0});break;case"child_added":k_(this._delegate,ee,he,{onlyOnce:!0});break;case"child_removed":bv(this._delegate,ee,he,{onlyOnce:!0});break;case"child_changed":R_(this._delegate,ee,he,{onlyOnce:!0});break;case"child_moved":Dm(this._delegate,ee,he,{onlyOnce:!0});break;default:throw new Error((0,Xe.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return H.promise}limitToFirst(i){return(0,Xe.Dv)("Query.limitToFirst",1,1,arguments.length),new wl(this.database,Wh(this._delegate,function ay(d){if("number"!=typeof d||Math.floor(d)!==d||d<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new oy(d)}(i)))}limitToLast(i){return(0,Xe.Dv)("Query.limitToLast",1,1,arguments.length),new wl(this.database,Wh(this._delegate,function fb(d){if("number"!=typeof d||Math.floor(d)!==d||d<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Va(d)}(i)))}orderByChild(i){return(0,Xe.Dv)("Query.orderByChild",1,1,arguments.length),new wl(this.database,Wh(this._delegate,function sl(d){if("$key"===d)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===d)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===d)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return gm("orderByChild","path",d,!1),new pb(d)}(i)))}orderByKey(){return(0,Xe.Dv)("Query.orderByKey",0,0,arguments.length),new wl(this.database,Wh(this._delegate,function cc(){return new ly}()))}orderByPriority(){return(0,Xe.Dv)("Query.orderByPriority",0,0,arguments.length),new wl(this.database,Wh(this._delegate,function uy(){return new cy}()))}orderByValue(){return(0,Xe.Dv)("Query.orderByValue",0,0,arguments.length),new wl(this.database,Wh(this._delegate,function dy(){return new jy}()))}startAt(i=null,o){return(0,Xe.Dv)("Query.startAt",0,2,arguments.length),new wl(this.database,Wh(this._delegate,function P_(d=null,i){return mm("startAt","key",i,!0),new O_(d,i)}(i,o)))}startAfter(i=null,o){return(0,Xe.Dv)("Query.startAfter",0,2,arguments.length),new wl(this.database,Wh(this._delegate,function N_(d,i){return mm("startAfter","key",i,!0),new sy(d,i)}(i,o)))}endAt(i=null,o){return(0,Xe.Dv)("Query.endAt",0,2,arguments.length),new wl(this.database,Wh(this._delegate,function Og(d,i){return mm("endAt","key",i,!0),new th(d,i)}(i,o)))}endBefore(i=null,o){return(0,Xe.Dv)("Query.endBefore",0,2,arguments.length),new wl(this.database,Wh(this._delegate,function Pg(d,i){return mm("endBefore","key",i,!0),new ry(d,i)}(i,o)))}equalTo(i,o){return(0,Xe.Dv)("Query.equalTo",1,2,arguments.length),new wl(this.database,Wh(this._delegate,function hy(d,i){return mm("equalTo","key",i,!0),new zy(d,i)}(i,o)))}toString(){return(0,Xe.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,Xe.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(i){if((0,Xe.Dv)("Query.isEqual",1,1,arguments.length),!(i instanceof wl))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(i._delegate)}static getCancelAndContextArgs_(i,o,p){const E={cancel:void 0,context:void 0};if(o&&p)E.cancel=o,(0,Xe.Wj)(i,"cancel",E.cancel,!0),E.context=p,(0,Xe.lb)(i,"context",E.context,!0);else if(o)if("object"==typeof o&&null!==o)E.context=o;else{if("function"!=typeof o)throw new Error((0,Xe.gK)(i,"cancelOrContext")+" must either be a cancel callback or a context object.");E.cancel=o}return E}get ref(){return new Wu(this.database,new Cd(this._delegate._repo,this._delegate._path))}}class Wu extends wl{constructor(i,o){super(i,new du(o._repo,o._path,new qp,!1)),this.database=i,this._delegate=o}getKey(){return(0,Xe.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(i){return(0,Xe.Dv)("Reference.child",1,1,arguments.length),"number"==typeof i&&(i=String(i)),new Wu(this.database,Mf(this._delegate,i))}getParent(){(0,Xe.Dv)("Reference.parent",0,0,arguments.length);const i=this._delegate.parent;return i?new Wu(this.database,i):null}getRoot(){return(0,Xe.Dv)("Reference.root",0,0,arguments.length),new Wu(this.database,this._delegate.root)}set(i,o){(0,Xe.Dv)("Reference.set",1,2,arguments.length),(0,Xe.Wj)("Reference.set","onComplete",o,!0);const p=Rg(this._delegate,i);return o&&p.then(()=>o(null),E=>o(E)),p}update(i,o){if((0,Xe.Dv)("Reference.update",1,2,arguments.length),Array.isArray(i)){const E={};for(let P=0;P<i.length;++P)E[""+P]=i[P];i=E,ig("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}gd("Reference.update",this._delegate._path),(0,Xe.Wj)("Reference.update","onComplete",o,!0);const p=A_(this._delegate,i);return o&&p.then(()=>o(null),E=>o(E)),p}setWithPriority(i,o,p){(0,Xe.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,Xe.Wj)("Reference.setWithPriority","onComplete",p,!0);const E=function T_(d,i,o){if(gd("setWithPriority",d._path),Ah("setWithPriority",i,d._path,!1),pm("setWithPriority",o,!1),".length"===d.key||".keys"===d.key)throw"setWithPriority failed: "+d.key+" is a read-only object.";const p=new Xe.BH;return _m(d._repo,d._path,i,o,p.wrapCallback(()=>{})),p.promise}(this._delegate,i,o);return p&&E.then(()=>p(null),P=>p(P)),E}remove(i){(0,Xe.Dv)("Reference.remove",0,1,arguments.length),(0,Xe.Wj)("Reference.remove","onComplete",i,!0);const o=function I_(d){return gd("remove",d._path),Rg(d,null)}(this._delegate);return i&&o.then(()=>i(null),p=>i(p)),o}transaction(i,o,p){(0,Xe.Dv)("Reference.transaction",1,3,arguments.length),(0,Xe.Wj)("Reference.transaction","transactionUpdate",i,!1),(0,Xe.Wj)("Reference.transaction","onComplete",o,!0),function(d,i,o,p){if(void 0!==o&&"boolean"!=typeof o)throw new Error((0,Xe.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,p);const E=function Fg(d,i,o){var p;if(d=(0,Xe.m9)(d),gd("Reference.transaction",d._path),".length"===d.key||".keys"===d.key)throw"Reference.transaction failed: "+d.key+" is a read-only object.";const E=null===(p=o?.applyLocally)||void 0===p||p,P=new Xe.BH,ee=cs(d,()=>{});return function vd(d,i,o,p,E,P){uu(d,"transaction on "+i);const H={path:i,update:o,onComplete:p,status:null,order:gp(),applyLocally:P,retryCount:0,unwatcher:E,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},ee=Ym(d,i,void 0);H.currentInputSnapshot=ee;const he=H.update(ee.val());if(void 0===he)H.unwatcher(),H.currentOutputSnapshotRaw=null,H.currentOutputSnapshotResolved=null,H.onComplete&&H.onComplete(null,!1,H.currentInputSnapshot);else{$u("transaction failed: Data returned ",he,H.path),H.status=0;const Se=u_(d.transactionQueueTree_,i),ht=ep(Se)||[];let Nt;ht.push(H),d_(Se,ht),"object"==typeof he&&null!==he&&(0,Xe.r3)(he,".priority")?(Nt=(0,Xe.DV)(he,".priority"),(0,Xe.hu)(hm(Nt),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):Nt=(o_(d.serverSyncTree_,i)||Hi.EMPTY_NODE).getPriority().val();const rn=np(d),An=eo(he,Nt),Vn=Sg(An,ee,rn);H.currentOutputSnapshotRaw=An,H.currentOutputSnapshotResolved=Vn,H.currentWriteId=b_(d);const hi=Ap(d.serverSyncTree_,i,Vn,H.currentWriteId,H.applyLocally);eh(d.eventQueue_,i,hi),yd(d,d.transactionQueueTree_)}}(d._repo,d._path,i,(he,Se,ht)=>{let Nt=null;he?P.reject(he):(Nt=new wm(ht,new Cd(d._repo,d._path),wi),P.resolve(new Dv(Se,Nt)))},ee,E),P.promise}(this._delegate,i,{applyLocally:p}).then(P=>new Iv(P.committed,new Dd(this.database,P.snapshot)));return o&&E.then(P=>o(null,P.committed,P.snapshot),P=>o(P,!1,null)),E}setPriority(i,o){(0,Xe.Dv)("Reference.setPriority",1,2,arguments.length),(0,Xe.Wj)("Reference.setPriority","onComplete",o,!0);const p=function vv(d,i){d=(0,Xe.m9)(d),gd("setPriority",d._path),pm("setPriority",i,!1);const o=new Xe.BH;return _m(d._repo,Gr(d._path,".priority"),i,null,o.wrapCallback(()=>{})),o.promise}(this._delegate,i);return o&&p.then(()=>o(null),E=>o(E)),p}push(i,o){(0,Xe.Dv)("Reference.push",0,2,arguments.length),(0,Xe.Wj)("Reference.push","onComplete",o,!0);const p=function M_(d,i){d=(0,Xe.m9)(d),gd("push",d._path),Ah("push",i,d._path,!0);const o=ty(d._repo),p=E_(o),E=Mf(d,p),P=Mf(d,p);let H;return H=null!=i?Rg(P,i).then(()=>P):Promise.resolve(P),E.then=H.then.bind(H),E.catch=H.then.bind(H,void 0),E}(this._delegate,i),E=p.then(H=>new Wu(this.database,H));o&&E.then(()=>o(null),H=>o(H));const P=new Wu(this.database,p);return P.then=E.then.bind(E),P.catch=E.catch.bind(E,void 0),P}onDisconnect(){return gd("Reference.onDisconnect",this._delegate._path),new rg(new S_(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Tf{constructor(i,o){this._delegate=i,this.app=o,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Gy,forceLongPolling:$y}}useEmulator(i,o,p={}){!function nh(d,i,o,p={}){(d=(0,Xe.m9)(d))._checkNotDeleted("useEmulator"),d._instanceStarted&&ma("Cannot call useEmulator() after instance has already been initialized.");const E=d._repoInternal;let P;if(E.repoInfo_.nodeAdmin)p.mockUserToken&&ma('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),P=new Qc(Qc.OWNER);else if(p.mockUserToken){const H="string"==typeof p.mockUserToken?p.mockUserToken:(0,Xe.Sg)(p.mockUserToken,d.app.options.projectId);P=new Qc(H)}!function ng(d,i,o,p){d.repoInfo_=new rc(`${i}:${o}`,!1,d.repoInfo_.namespace,d.repoInfo_.webSocketOnly,d.repoInfo_.nodeAdmin,d.repoInfo_.persistenceKey,d.repoInfo_.includeNamespaceInQueryParams,!0),p&&(d.authTokenProvider_=p)}(E,i,o,P)}(this._delegate,i,o,p)}ref(i){if((0,Xe.Dv)("database.ref",0,1,arguments.length),i instanceof Wu){const o=kg(this._delegate,i.toString());return new Wu(this,o)}{const o=eg(this._delegate,i);return new Wu(this,o)}}refFromURL(i){(0,Xe.Dv)("database.refFromURL",1,1,arguments.length);const p=kg(this._delegate,i);return new Wu(this,p)}goOffline(){return(0,Xe.Dv)("database.goOffline",0,0,arguments.length),function Ed(d){(d=(0,Xe.m9)(d))._checkNotDeleted("goOffline"),Op(d._repo)}(this._delegate)}goOnline(){return(0,Xe.Dv)("database.goOnline",0,0,arguments.length),function my(d){(d=(0,Xe.m9)(d))._checkNotDeleted("goOnline"),function cu(d){d.persistentConnection_&&d.persistentConnection_.resume(__)}(d._repo)}(this._delegate)}}Tf.ServerValue={TIMESTAMP:function gy(){return Ng}(),increment:d=>function Ev(d){return{".sv":{increment:d}}}(d)};var Lg=Object.freeze({__proto__:null,initStandalone:function vy({app:d,url:i,version:o,customAuthImpl:p,namespace:E,nodeAdmin:P=!1}){Pc(o);const H=new kl.zt("auth-internal",new kl.H0("database-standalone"));return H.setComponent(new kl.wA("auth-internal",()=>p,"PRIVATE")),{instance:new Tf(fy(d,H,void 0,i,P),d),namespace:E}}});const Tv=Tf.ServerValue;function og(d){return null==d}function yy(d){return"function"==typeof d.set}function xm(d,i){return yy(i)?i:d.ref(i)}function Wy(d,i){if(function sg(d){return"string"==typeof d}(d))return i.stringCase();if(yy(d))return i.firebaseCase();if(function Vp(d){return"function"==typeof d.exportVal}(d))return i.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof d)}function V_(d,i,o="on",p=Pf.z){return new na.y(E=>{let P=null;return P=d[o](i,(H,ee)=>{p.schedule(()=>{E.next({snapshot:H,prevKey:ee})}),"once"===o&&p.schedule(()=>E.complete())},H=>{p.schedule(()=>E.error(H))}),"on"===o?{unsubscribe(){null!=P&&d.off(i,P)}}:{unsubscribe(){}}}).pipe((0,ro.U)(E=>{const{snapshot:P,prevKey:H}=E;let ee=null;return P.exists()&&(ee=P.key),{type:i,payload:P,prevKey:H,key:ee}}),(0,bs.B)())}function by(d,i){const o=d.length;for(let p=0;p<o;p++)if(d[p].payload.key===i)return p;return-1}function Yy(d,i){const{payload:o,prevKey:p,key:E}=i,P=by(d,E),H=function U_(d,i){if(og(i))return 0;{const o=by(d,i);return-1===o?d.length:o+1}}(d,p);switch(i.type){case"value":if(i.payload&&i.payload.exists()){let ee=null;i.payload.forEach(he=>{const Se={payload:he,type:"value",prevKey:ee,key:he.key};return ee=he.key,d=[...d,Se],!1})}return d;case"child_added":if(P>-1){const ee=d[P-1];(ee&&ee.key||null)!==p&&(d=d.filter(he=>he.payload.key!==o.key)).splice(H,0,i)}else{if(null==p)return[i,...d];(d=d.slice()).splice(H,0,i)}return d;case"child_removed":return d.filter(ee=>ee.payload.key!==o.key);case"child_changed":return d.map(ee=>ee.payload.key===E?i:ee);case"child_moved":if(P>-1){const ee=d.splice(P,1)[0];return(d=d.slice()).splice(H,0,ee),d}return d;default:return d}}function Cy(d){return(og(d)||0===d.length)&&(d=["child_added","child_removed","child_changed","child_moved"]),d}function Bg(d,i,o){return function Av(d,i,o){return V_(d,"value","once",o).pipe((0,fl.w)(p=>{const E=[(0,ss.of)(p)];return i.forEach(P=>E.push(V_(d,P,"on",o))),(0,Ur.T)(...E).pipe((0,Bd.R)(Yy,[]))}),(0,Dc.x)())}(d,i=Cy(i),o)}function wy(d,i,o){const p=(i=Cy(i)).map(E=>V_(d,E,"on",o));return(0,Ur.T)(...p)}function Ey(d,i){return function(p,E){return Wy(p,{stringCase:()=>d.child(p)[i](E),firebaseCase:()=>p[i](E),snapshotCase:()=>p.ref[i](E)})}}function Dy(d){return function(o){return o?Wy(o,{stringCase:()=>d.child(o).remove(),firebaseCase:()=>o.remove(),snapshotCase:()=>o.ref.remove()}):d.remove()}}function j_(d,i){return function(){return V_(d,"value","on",i)}}!function B_(d){d.INTERNAL.registerComponent(new kl.wA("database-compat",(i,{instanceIdentifier:o})=>{const p=i.getProvider("app-compat").getImmediate(),E=i.getProvider("database").getImmediate({identifier:o});return new Tf(E,p)},"PUBLIC").setServiceProps({Reference:Wu,Query:wl,Database:Tf,DataSnapshot:Dd,enableLogging:Lp,INTERNAL:Lg,ServerValue:Tv}).setMultipleInstances(!0)),d.registerVersion("@firebase/database-compat","0.3.4")}(el.Z);const Ov=new J.OlP("angularfire2.realtimeDatabaseURL"),Pv=new J.OlP("angularfire2.database.use-emulator");let z_=(()=>{class d{constructor(o,p,E,P,H,ee,he,Se,ht,Nt,rn,An,Vn,hi,zi){this.schedulers=ee;const Tr=he,Es=(0,ta.on)(o,H,p);Se&&(0,ns.nw)(Es,H,ht,rn,An,Vn,Nt,hi),this.database=(0,ta.cc)(`${Es.name}.database.${E}`,"AngularFireDatabase",Es.name,()=>{const us=H.runOutsideAngular(()=>Es.database(E||void 0));return Tr&&us.useEmulator(...Tr),us},[Tr])}list(o,p){const E=this.schedulers.ngZone.runOutsideAngular(()=>xm(this.database,o));let P=E;return p&&(P=p(E)),function kv(d,i){const o=i.schedulers.outsideAngular,p=i.schedulers.ngZone.run(()=>d.ref);return{query:d,update:Ey(p,"update"),set:Ey(p,"set"),push:E=>p.push(E),remove:Dy(p),snapshotChanges:E=>Bg(d,E,o).pipe(uo.iC),stateChanges:E=>wy(d,E,o).pipe(uo.iC),auditTrail:E=>function Ky(d,i,o){return function qy(d,i,o){return function H_(d,i){return V_(d,"value","on",i).pipe((0,ro.U)(o=>{let p;return o.payload.forEach(E=>(p=E.key,!1)),{data:o,lastKeyToLoad:p}}))}(d,o).pipe(function mp(...d){const i=(0,Vd.jO)(d);return(0,nd.e)((o,p)=>{const E=d.length,P=new Array(E);let H=d.map(()=>!1),ee=!1;for(let he=0;he<E;he++)(0,tf.Xf)(d[he]).subscribe((0,Ru.x)(p,Se=>{P[he]=Se,!ee&&!H[he]&&(H[he]=!0,(ee=H.every(Ou.y))&&(H=null))},nf.Z));o.subscribe((0,Ru.x)(p,he=>{if(ee){const Se=[he,...P];p.next(i?i(...Se):Se)}}))})}(i),(0,ro.U)(([E,P])=>{const H=E.lastKeyToLoad,ee=P.map(he=>he.key);return{actions:P,lastKeyToLoad:H,loadedKeys:ee}}),function rf(d){return(0,nd.e)((i,o)=>{let p=!1,E=0;i.subscribe((0,Ru.x)(o,P=>(p||(p=!d(P,E++)))&&o.next(P)))})}(E=>-1===E.loadedKeys.indexOf(E.lastKeyToLoad)),(0,ro.U)(E=>E.actions))}(d,wy(d,i).pipe((0,Bd.R)((E,P)=>[...E,P],[])),o)}(d,E,o).pipe(uo.iC),valueChanges:(E,P)=>Bg(d,E,o).pipe((0,ro.U)(ee=>ee.map(he=>P&&P.idField?Object.assign(Object.assign({},he.payload.val()),{[P.idField]:he.key}):he.payload.val())),uo.iC)}}(P,this)}object(o){return function Rv(d,i){return{query:d,snapshotChanges:()=>j_(d,i.schedulers.outsideAngular)().pipe(uo.iC),update:o=>d.ref.update(o),set:o=>d.ref.set(o),remove:()=>d.ref.remove(),valueChanges:()=>j_(d,i.schedulers.outsideAngular)().pipe(uo.iC,(0,ro.U)(p=>p.payload.exists()?p.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>xm(this.database,o)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return d.\u0275fac=function(o){return new(o||d)(J.LFG(ta.Dh),J.LFG(ta.xv,8),J.LFG(Ov,8),J.LFG(J.Lbi),J.LFG(J.R0b),J.LFG(uo.HU),J.LFG(Pv,8),J.LFG(ns.zQ,8),J.LFG(ns.Qv,8),J.LFG(ns.L6,8),J.LFG(ns._Q,8),J.LFG(ns.rT,8),J.LFG(ns.lh,8),J.LFG(ns.f7,8),J.LFG(ed.nm,8))},d.\u0275prov=J.Yz7({token:d,factory:d.\u0275fac,providedIn:"any"}),d})(),Vg=(()=>{class d{constructor(){ku.Z.registerVersion("angularfire",uo.q4.full,"rtdb-compat")}}return d.\u0275fac=function(o){return new(o||d)},d.\u0275mod=J.oAB({type:d}),d.\u0275inj=J.cJS({providers:[z_]}),d})();const xy_firebaseConfig={apiKey:"AIzaSyDzyBspL521SkJW1iU5zDyGdLEWAjLIzAk",authDomain:"jdev-il.firebaseapp.com",databaseURL:"https://jdev-il-default-rtdb.europe-west1.firebasedatabase.app/",projectId:"jdev-il",storageBucket:"jdev-il.appspot.com",messagingSenderId:"704733248110",appId:"1:704733248110:web:0ae697f78ecb3c30a8847f",measurementId:"G-WGS8XYJ146"};var Sy=z(4006),Nv=z(9770),Fv=z(2843),Sm=z(4968),gb=z(7272),op=z(7579);const El=new na.y(nf.Z);var Yu=z(9300),_b=z(4033),G_=z(576);const Mm={connector:()=>new op.x};function vr(d,i=Mm){const{connector:o}=i;return(0,nd.e)((p,E)=>{const P=o();(0,tf.Xf)(d(function My(d){return new na.y(i=>d.subscribe(i))}(P))).subscribe(E),E.add(p.subscribe(P))})}var ag=z(5698),lg=z(8505),Iy=z(1005);const ap="Service workers are disabled or not supported by this browser";class ba{constructor(i){if(this.serviceWorker=i,i){const p=(0,Sm.R)(i,"controllerchange").pipe((0,ro.U)(()=>i.controller)),E=(0,Nv.P)(()=>(0,ss.of)(i.controller)),P=(0,gb.z)(E,p);this.worker=P.pipe((0,Yu.h)(ht=>!!ht)),this.registration=this.worker.pipe((0,fl.w)(()=>i.getRegistration()));const Se=(0,Sm.R)(i,"message").pipe((0,ro.U)(ht=>ht.data)).pipe((0,Yu.h)(ht=>ht&&ht.type)).pipe(function Qy(d){return d?i=>vr(d)(i):i=>function Zy(d,i){const o=(0,G_.m)(d)?d:()=>d;return(0,G_.m)(i)?vr(i,{connector:o}):p=>new _b.c(p,o)}(new op.x)(i)}());Se.connect(),this.events=Se}else this.worker=this.events=this.registration=function $_(d){return(0,Nv.P)(()=>(0,Fv._)(new Error(d)))}(ap)}postMessage(i,o){return this.worker.pipe((0,ag.q)(1),(0,lg.b)(p=>{p.postMessage({action:i,...o})})).toPromise().then(()=>{})}postMessageWithOperation(i,o,p){const E=this.waitForOperationCompleted(p),P=this.postMessage(i,o);return Promise.all([P,E]).then(([,H])=>H)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(i){let o;return o="string"==typeof i?p=>p.type===i:p=>i.includes(p.type),this.events.pipe((0,Yu.h)(o))}nextEventOfType(i){return this.eventsOfType(i).pipe((0,ag.q)(1))}waitForOperationCompleted(i){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,Yu.h)(o=>o.nonce===i),(0,ag.q)(1),(0,ro.U)(o=>{if(void 0!==o.result)return o.result;throw new Error(o.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let Xy=(()=>{class d{constructor(o){if(this.sw=o,this.subscriptionChanges=new op.x,!o.isEnabled)return this.messages=El,this.notificationClicks=El,void(this.subscription=El);this.messages=this.sw.eventsOfType("PUSH").pipe((0,ro.U)(E=>E.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,ro.U)(E=>E.data)),this.pushManager=this.sw.registration.pipe((0,ro.U)(E=>E.pushManager));const p=this.pushManager.pipe((0,fl.w)(E=>E.getSubscription()));this.subscription=(0,Ur.T)(p,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(o){if(!this.sw.isEnabled)return Promise.reject(new Error(ap));const p={userVisibleOnly:!0};let E=this.decodeBase64(o.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),P=new Uint8Array(new ArrayBuffer(E.length));for(let H=0;H<E.length;H++)P[H]=E.charCodeAt(H);return p.applicationServerKey=P,this.pushManager.pipe((0,fl.w)(H=>H.subscribe(p)),(0,ag.q)(1)).toPromise().then(H=>(this.subscriptionChanges.next(H),H))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,ag.q)(1),(0,fl.w)(p=>{if(null===p)throw new Error("Not subscribed to push notifications.");return p.unsubscribe().then(E=>{if(!E)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(ap))}decodeBase64(o){return atob(o)}}return d.\u0275fac=function(o){return new(o||d)(J.LFG(ba))},d.\u0275prov=J.Yz7({token:d,factory:d.\u0275fac}),d})(),Ty=(()=>{class d{constructor(o){if(this.sw=o,!o.isEnabled)return this.versionUpdates=El,this.available=El,this.activated=El,void(this.unrecoverable=El);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe((0,Yu.h)(p=>"VERSION_READY"===p.type),(0,ro.U)(p=>({type:"UPDATE_AVAILABLE",current:p.currentVersion,available:p.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ap));const o=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:o},o)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ap));const o=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:o},o)}}return d.\u0275fac=function(o){return new(o||d)(J.LFG(ba))},d.\u0275prov=J.Yz7({token:d,factory:d.\u0275fac}),d})();class lp{}const W_=new J.OlP("NGSW_REGISTER_SCRIPT");function Jy(d,i,o,p){return()=>{if(!(0,Wi.NF)(p)||!("serviceWorker"in navigator)||!1===o.enabled)return;let E;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof o.registrationStrategy)E=o.registrationStrategy();else{const[H,...ee]=(o.registrationStrategy||"registerWhenStable:30000").split(":");switch(H){case"registerImmediately":E=(0,ss.of)(null);break;case"registerWithDelay":E=Bv(+ee[0]||0);break;case"registerWhenStable":E=ee[0]?(0,Ur.T)(Vv(d),Bv(+ee[0])):Vv(d);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${o.registrationStrategy}`)}}d.get(J.R0b).runOutsideAngular(()=>E.pipe((0,ag.q)(1)).subscribe(()=>navigator.serviceWorker.register(i,{scope:o.scope}).catch(H=>console.error("Service worker registration failed with:",H))))}}function Bv(d){return(0,ss.of)(null).pipe((0,Iy.g)(d))}function Vv(d){return d.get(J.z2F).isStable.pipe((0,Yu.h)(o=>o))}function Ay(d,i){return new ba((0,Wi.NF)(i)&&!1!==d.enabled?navigator.serviceWorker:void 0)}let eb=(()=>{class d{static register(o,p={}){return{ngModule:d,providers:[{provide:W_,useValue:o},{provide:lp,useValue:p},{provide:ba,useFactory:Ay,deps:[lp,J.Lbi]},{provide:J.ip1,useFactory:Jy,deps:[J.zs3,W_,lp,J.Lbi],multi:!0}]}}}return d.\u0275fac=function(o){return new(o||d)},d.\u0275mod=J.oAB({type:d}),d.\u0275inj=J.cJS({providers:[Xy,Ty]}),d})(),tb=(()=>{class d{}return d.\u0275fac=function(o){return new(o||d)},d.\u0275mod=J.oAB({type:d,bootstrap:[Ve]}),d.\u0275inj=J.cJS({providers:[{provide:be.TP,useClass:at,multi:!0},{provide:mc.Y2,useValue:{disabled:!0}}],imports:[b,M.b2,Ja,be.JF,fa.R,Tc.q,Sy.u5,Sy.UX,ta.hO.initializeApp(xy_firebaseConfig),ns.ww,pp.yb,td,Vg,eb.register("ngsw-worker.js",{enabled:!(0,J.X6Q)(),registrationStrategy:"registerWhenStable:30000"})]}),d})();M.q6().bootstrapModule(tb).catch(d=>console.error(d))},1135:(Hn,Mt,z)=>{z.d(Mt,{X:()=>J});var M=z(7579);class J extends M.x{constructor(Le){super(),this._value=Le}get value(){return this.getValue()}_subscribe(Le){const b=super._subscribe(Le);return!b.closed&&Le.next(this._value),b}getValue(){const{hasError:Le,thrownError:b,_value:be}=this;if(Le)throw b;return this._throwIfClosed(),be}next(Le){super.next(this._value=Le)}}},9751:(Hn,Mt,z)=>{z.d(Mt,{y:()=>Ve});var M=z(930),J=z(727),W=z(8822),Le=z(9635),b=z(2416),be=z(576),at=z(2806);let Ve=(()=>{class Ge{constructor(it){it&&(this._subscribe=it)}lift(it){const tt=new Ge;return tt.source=this,tt.operator=it,tt}subscribe(it,tt,xt){const Rt=function Ue(Ge){return Ge&&Ge instanceof M.Lv||function Ae(Ge){return Ge&&(0,be.m)(Ge.next)&&(0,be.m)(Ge.error)&&(0,be.m)(Ge.complete)}(Ge)&&(0,J.Nn)(Ge)}(it)?it:new M.Hp(it,tt,xt);return(0,at.x)(()=>{const{operator:Ct,source:pt}=this;Rt.add(Ct?Ct.call(Rt,pt):pt?this._subscribe(Rt):this._trySubscribe(Rt))}),Rt}_trySubscribe(it){try{return this._subscribe(it)}catch(tt){it.error(tt)}}forEach(it,tt){return new(tt=qe(tt))((xt,Rt)=>{const Ct=new M.Hp({next:pt=>{try{it(pt)}catch(En){Rt(En),Ct.unsubscribe()}},error:Rt,complete:xt});this.subscribe(Ct)})}_subscribe(it){var tt;return null===(tt=this.source)||void 0===tt?void 0:tt.subscribe(it)}[W.L](){return this}pipe(...it){return(0,Le.U)(it)(this)}toPromise(it){return new(it=qe(it))((tt,xt)=>{let Rt;this.subscribe(Ct=>Rt=Ct,Ct=>xt(Ct),()=>tt(Rt))})}}return Ge.create=kt=>new Ge(kt),Ge})();function qe(Ge){var kt;return null!==(kt=Ge??b.v.Promise)&&void 0!==kt?kt:Promise}},7579:(Hn,Mt,z)=>{z.d(Mt,{x:()=>at});var M=z(9751),J=z(727);const Le=(0,z(3888).d)(qe=>function(){qe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var b=z(8737),be=z(2806);let at=(()=>{class qe extends M.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Ue){const Ge=new Ve(this,this);return Ge.operator=Ue,Ge}_throwIfClosed(){if(this.closed)throw new Le}next(Ue){(0,be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ge of this.currentObservers)Ge.next(Ue)}})}error(Ue){(0,be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Ue;const{observers:Ge}=this;for(;Ge.length;)Ge.shift().error(Ue)}})}complete(){(0,be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Ue}=this;for(;Ue.length;)Ue.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Ue;return(null===(Ue=this.observers)||void 0===Ue?void 0:Ue.length)>0}_trySubscribe(Ue){return this._throwIfClosed(),super._trySubscribe(Ue)}_subscribe(Ue){return this._throwIfClosed(),this._checkFinalizedStatuses(Ue),this._innerSubscribe(Ue)}_innerSubscribe(Ue){const{hasError:Ge,isStopped:kt,observers:it}=this;return Ge||kt?J.Lc:(this.currentObservers=null,it.push(Ue),new J.w0(()=>{this.currentObservers=null,(0,b.P)(it,Ue)}))}_checkFinalizedStatuses(Ue){const{hasError:Ge,thrownError:kt,isStopped:it}=this;Ge?Ue.error(kt):it&&Ue.complete()}asObservable(){const Ue=new M.y;return Ue.source=this,Ue}}return qe.create=(Ae,Ue)=>new Ve(Ae,Ue),qe})();class Ve extends at{constructor(Ae,Ue){super(),this.destination=Ae,this.source=Ue}next(Ae){var Ue,Ge;null===(Ge=null===(Ue=this.destination)||void 0===Ue?void 0:Ue.next)||void 0===Ge||Ge.call(Ue,Ae)}error(Ae){var Ue,Ge;null===(Ge=null===(Ue=this.destination)||void 0===Ue?void 0:Ue.error)||void 0===Ge||Ge.call(Ue,Ae)}complete(){var Ae,Ue;null===(Ue=null===(Ae=this.destination)||void 0===Ae?void 0:Ae.complete)||void 0===Ue||Ue.call(Ae)}_subscribe(Ae){var Ue,Ge;return null!==(Ge=null===(Ue=this.source)||void 0===Ue?void 0:Ue.subscribe(Ae))&&void 0!==Ge?Ge:J.Lc}}},930:(Hn,Mt,z)=>{z.d(Mt,{Hp:()=>xt,Lv:()=>Ge});var M=z(576),J=z(727),W=z(2416),Le=z(7849),b=z(5032);const be=qe("C",void 0,void 0);function qe(_t,je,Te){return{kind:_t,value:je,error:Te}}var Ae=z(3410),Ue=z(2806);class Ge extends J.w0{constructor(je){super(),this.isStopped=!1,je?(this.destination=je,(0,J.Nn)(je)&&je.add(this)):this.destination=En}static create(je,Te,Be){return new xt(je,Te,Be)}next(je){this.isStopped?pt(function Ve(_t){return qe("N",_t,void 0)}(je),this):this._next(je)}error(je){this.isStopped?pt(function at(_t){return qe("E",void 0,_t)}(je),this):(this.isStopped=!0,this._error(je))}complete(){this.isStopped?pt(be,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(je){this.destination.next(je)}_error(je){try{this.destination.error(je)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const kt=Function.prototype.bind;function it(_t,je){return kt.call(_t,je)}class tt{constructor(je){this.partialObserver=je}next(je){const{partialObserver:Te}=this;if(Te.next)try{Te.next(je)}catch(Be){Rt(Be)}}error(je){const{partialObserver:Te}=this;if(Te.error)try{Te.error(je)}catch(Be){Rt(Be)}else Rt(je)}complete(){const{partialObserver:je}=this;if(je.complete)try{je.complete()}catch(Te){Rt(Te)}}}class xt extends Ge{constructor(je,Te,Be){let ct;if(super(),(0,M.m)(je)||!je)ct={next:je??void 0,error:Te??void 0,complete:Be??void 0};else{let lt;this&&W.v.useDeprecatedNextContext?(lt=Object.create(je),lt.unsubscribe=()=>this.unsubscribe(),ct={next:je.next&&it(je.next,lt),error:je.error&&it(je.error,lt),complete:je.complete&&it(je.complete,lt)}):ct=je}this.destination=new tt(ct)}}function Rt(_t){W.v.useDeprecatedSynchronousErrorHandling?(0,Ue.O)(_t):(0,Le.h)(_t)}function pt(_t,je){const{onStoppedNotification:Te}=W.v;Te&&Ae.z.setTimeout(()=>Te(_t,je))}const En={closed:!0,next:b.Z,error:function Ct(_t){throw _t},complete:b.Z}},727:(Hn,Mt,z)=>{z.d(Mt,{Lc:()=>be,w0:()=>b,Nn:()=>at});var M=z(576);const W=(0,z(3888).d)(qe=>function(Ue){qe(this),this.message=Ue?`${Ue.length} errors occurred during unsubscription:\n${Ue.map((Ge,kt)=>`${kt+1}) ${Ge.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Ue});var Le=z(8737);class b{constructor(Ae){this.initialTeardown=Ae,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Ae;if(!this.closed){this.closed=!0;const{_parentage:Ue}=this;if(Ue)if(this._parentage=null,Array.isArray(Ue))for(const it of Ue)it.remove(this);else Ue.remove(this);const{initialTeardown:Ge}=this;if((0,M.m)(Ge))try{Ge()}catch(it){Ae=it instanceof W?it.errors:[it]}const{_finalizers:kt}=this;if(kt){this._finalizers=null;for(const it of kt)try{Ve(it)}catch(tt){Ae=Ae??[],tt instanceof W?Ae=[...Ae,...tt.errors]:Ae.push(tt)}}if(Ae)throw new W(Ae)}}add(Ae){var Ue;if(Ae&&Ae!==this)if(this.closed)Ve(Ae);else{if(Ae instanceof b){if(Ae.closed||Ae._hasParent(this))return;Ae._addParent(this)}(this._finalizers=null!==(Ue=this._finalizers)&&void 0!==Ue?Ue:[]).push(Ae)}}_hasParent(Ae){const{_parentage:Ue}=this;return Ue===Ae||Array.isArray(Ue)&&Ue.includes(Ae)}_addParent(Ae){const{_parentage:Ue}=this;this._parentage=Array.isArray(Ue)?(Ue.push(Ae),Ue):Ue?[Ue,Ae]:Ae}_removeParent(Ae){const{_parentage:Ue}=this;Ue===Ae?this._parentage=null:Array.isArray(Ue)&&(0,Le.P)(Ue,Ae)}remove(Ae){const{_finalizers:Ue}=this;Ue&&(0,Le.P)(Ue,Ae),Ae instanceof b&&Ae._removeParent(this)}}b.EMPTY=(()=>{const qe=new b;return qe.closed=!0,qe})();const be=b.EMPTY;function at(qe){return qe instanceof b||qe&&"closed"in qe&&(0,M.m)(qe.remove)&&(0,M.m)(qe.add)&&(0,M.m)(qe.unsubscribe)}function Ve(qe){(0,M.m)(qe)?qe():qe.unsubscribe()}},2416:(Hn,Mt,z)=>{z.d(Mt,{v:()=>M});const M={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4033:(Hn,Mt,z)=>{z.d(Mt,{c:()=>be});var M=z(9751),J=z(727),W=z(8343),Le=z(5403),b=z(4482);class be extends M.y{constructor(Ve,qe){super(),this.source=Ve,this.subjectFactory=qe,this._subject=null,this._refCount=0,this._connection=null,(0,b.A)(Ve)&&(this.lift=Ve.lift)}_subscribe(Ve){return this.getSubject().subscribe(Ve)}getSubject(){const Ve=this._subject;return(!Ve||Ve.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:Ve}=this;this._subject=this._connection=null,Ve?.unsubscribe()}connect(){let Ve=this._connection;if(!Ve){Ve=this._connection=new J.w0;const qe=this.getSubject();Ve.add(this.source.subscribe((0,Le.x)(qe,void 0,()=>{this._teardown(),qe.complete()},Ae=>{this._teardown(),qe.error(Ae)},()=>this._teardown()))),Ve.closed&&(this._connection=null,Ve=J.w0.EMPTY)}return Ve}refCount(){return(0,W.x)()(this)}}},9841:(Hn,Mt,z)=>{z.d(Mt,{a:()=>Ae});var M=z(9751),J=z(4742),W=z(8996),Le=z(4671),b=z(3268),be=z(3269),at=z(1810),Ve=z(5403),qe=z(9672);function Ae(...kt){const it=(0,be.yG)(kt),tt=(0,be.jO)(kt),{args:xt,keys:Rt}=(0,J.D)(kt);if(0===xt.length)return(0,W.D)([],it);const Ct=new M.y(function Ue(kt,it,tt=Le.y){return xt=>{Ge(it,()=>{const{length:Rt}=kt,Ct=new Array(Rt);let pt=Rt,En=Rt;for(let _t=0;_t<Rt;_t++)Ge(it,()=>{const je=(0,W.D)(kt[_t],it);let Te=!1;je.subscribe((0,Ve.x)(xt,Be=>{Ct[_t]=Be,Te||(Te=!0,En--),En||xt.next(tt(Ct.slice()))},()=>{--pt||xt.complete()}))},xt)},xt)}}(xt,it,Rt?pt=>(0,at.n)(Rt,pt):Le.y));return tt?Ct.pipe((0,b.Z)(tt)):Ct}function Ge(kt,it,tt){kt?(0,qe.f)(tt,kt,it):it()}},7272:(Hn,Mt,z)=>{z.d(Mt,{z:()=>b});var M=z(8189),W=z(3269),Le=z(8996);function b(...be){return function J(){return(0,M.J)(1)}()((0,Le.D)(be,(0,W.yG)(be)))}},9770:(Hn,Mt,z)=>{z.d(Mt,{P:()=>W});var M=z(9751),J=z(8421);function W(Le){return new M.y(b=>{(0,J.Xf)(Le()).subscribe(b)})}},515:(Hn,Mt,z)=>{z.d(Mt,{E:()=>J});const J=new(z(9751).y)(b=>b.complete())},4128:(Hn,Mt,z)=>{z.d(Mt,{D:()=>Ve});var M=z(9751),J=z(4742),W=z(8421),Le=z(3269),b=z(5403),be=z(3268),at=z(1810);function Ve(...qe){const Ae=(0,Le.jO)(qe),{args:Ue,keys:Ge}=(0,J.D)(qe),kt=new M.y(it=>{const{length:tt}=Ue;if(!tt)return void it.complete();const xt=new Array(tt);let Rt=tt,Ct=tt;for(let pt=0;pt<tt;pt++){let En=!1;(0,W.Xf)(Ue[pt]).subscribe((0,b.x)(it,_t=>{En||(En=!0,Ct--),xt[pt]=_t},()=>Rt--,void 0,()=>{(!Rt||!En)&&(Ct||it.next(Ge?(0,at.n)(Ge,xt):xt),it.complete())}))}});return Ae?kt.pipe((0,be.Z)(Ae)):kt}},8996:(Hn,Mt,z)=>{z.d(Mt,{D:()=>je});var M=z(8421),J=z(5363),W=z(9468),be=z(9751),Ve=z(2202),qe=z(576),Ae=z(9672);function Ge(Te,Be){if(!Te)throw new Error("Iterable cannot be null");return new be.y(ct=>{(0,Ae.f)(ct,Be,()=>{const lt=Te[Symbol.asyncIterator]();(0,Ae.f)(ct,Be,()=>{lt.next().then(ut=>{ut.done?ct.complete():ct.next(ut.value)})},0,!0)})})}var kt=z(3670),it=z(8239),tt=z(1144),xt=z(6495),Rt=z(2206),Ct=z(4532),pt=z(3260);function je(Te,Be){return Be?function _t(Te,Be){if(null!=Te){if((0,kt.c)(Te))return function Le(Te,Be){return(0,M.Xf)(Te).pipe((0,W.R)(Be),(0,J.Q)(Be))}(Te,Be);if((0,tt.z)(Te))return function at(Te,Be){return new be.y(ct=>{let lt=0;return Be.schedule(function(){lt===Te.length?ct.complete():(ct.next(Te[lt++]),ct.closed||this.schedule())})})}(Te,Be);if((0,it.t)(Te))return function b(Te,Be){return(0,M.Xf)(Te).pipe((0,W.R)(Be),(0,J.Q)(Be))}(Te,Be);if((0,Rt.D)(Te))return Ge(Te,Be);if((0,xt.T)(Te))return function Ue(Te,Be){return new be.y(ct=>{let lt;return(0,Ae.f)(ct,Be,()=>{lt=Te[Ve.h](),(0,Ae.f)(ct,Be,()=>{let ut,vn;try{({value:ut,done:vn}=lt.next())}catch(pn){return void ct.error(pn)}vn?ct.complete():ct.next(ut)},0,!0)}),()=>(0,qe.m)(lt?.return)&&lt.return()})}(Te,Be);if((0,pt.L)(Te))return function En(Te,Be){return Ge((0,pt.Q)(Te),Be)}(Te,Be)}throw(0,Ct.z)(Te)}(Te,Be):(0,M.Xf)(Te)}},4968:(Hn,Mt,z)=>{z.d(Mt,{R:()=>Ae});var M=z(8421),J=z(9751),W=z(5577),Le=z(1144),b=z(576),be=z(3268);const at=["addListener","removeListener"],Ve=["addEventListener","removeEventListener"],qe=["on","off"];function Ae(tt,xt,Rt,Ct){if((0,b.m)(Rt)&&(Ct=Rt,Rt=void 0),Ct)return Ae(tt,xt,Rt).pipe((0,be.Z)(Ct));const[pt,En]=function it(tt){return(0,b.m)(tt.addEventListener)&&(0,b.m)(tt.removeEventListener)}(tt)?Ve.map(_t=>je=>tt[_t](xt,je,Rt)):function Ge(tt){return(0,b.m)(tt.addListener)&&(0,b.m)(tt.removeListener)}(tt)?at.map(Ue(tt,xt)):function kt(tt){return(0,b.m)(tt.on)&&(0,b.m)(tt.off)}(tt)?qe.map(Ue(tt,xt)):[];if(!pt&&(0,Le.z)(tt))return(0,W.z)(_t=>Ae(_t,xt,Rt))((0,M.Xf)(tt));if(!pt)throw new TypeError("Invalid event target");return new J.y(_t=>{const je=(...Te)=>_t.next(1<Te.length?Te:Te[0]);return pt(je),()=>En(je)})}function Ue(tt,xt){return Rt=>Ct=>tt[Rt](xt,Ct)}},8421:(Hn,Mt,z)=>{z.d(Mt,{Xf:()=>kt});var M=z(7582),J=z(1144),W=z(8239),Le=z(9751),b=z(3670),be=z(2206),at=z(4532),Ve=z(6495),qe=z(3260),Ae=z(576),Ue=z(7849),Ge=z(8822);function kt(_t){if(_t instanceof Le.y)return _t;if(null!=_t){if((0,b.c)(_t))return function it(_t){return new Le.y(je=>{const Te=_t[Ge.L]();if((0,Ae.m)(Te.subscribe))return Te.subscribe(je);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(_t);if((0,J.z)(_t))return function tt(_t){return new Le.y(je=>{for(let Te=0;Te<_t.length&&!je.closed;Te++)je.next(_t[Te]);je.complete()})}(_t);if((0,W.t)(_t))return function xt(_t){return new Le.y(je=>{_t.then(Te=>{je.closed||(je.next(Te),je.complete())},Te=>je.error(Te)).then(null,Ue.h)})}(_t);if((0,be.D)(_t))return Ct(_t);if((0,Ve.T)(_t))return function Rt(_t){return new Le.y(je=>{for(const Te of _t)if(je.next(Te),je.closed)return;je.complete()})}(_t);if((0,qe.L)(_t))return function pt(_t){return Ct((0,qe.Q)(_t))}(_t)}throw(0,at.z)(_t)}function Ct(_t){return new Le.y(je=>{(function En(_t,je){var Te,Be,ct,lt;return(0,M.mG)(this,void 0,void 0,function*(){try{for(Te=(0,M.KL)(_t);!(Be=yield Te.next()).done;)if(je.next(Be.value),je.closed)return}catch(ut){ct={error:ut}}finally{try{Be&&!Be.done&&(lt=Te.return)&&(yield lt.call(Te))}finally{if(ct)throw ct.error}}je.complete()})})(_t,je).catch(Te=>je.error(Te))})}},6451:(Hn,Mt,z)=>{z.d(Mt,{T:()=>be});var M=z(8189),J=z(8421),W=z(515),Le=z(3269),b=z(8996);function be(...at){const Ve=(0,Le.yG)(at),qe=(0,Le._6)(at,1/0),Ae=at;return Ae.length?1===Ae.length?(0,J.Xf)(Ae[0]):(0,M.J)(qe)((0,b.D)(Ae,Ve)):W.E}},9646:(Hn,Mt,z)=>{z.d(Mt,{of:()=>W});var M=z(3269),J=z(8996);function W(...Le){const b=(0,M.yG)(Le);return(0,J.D)(Le,b)}},2843:(Hn,Mt,z)=>{z.d(Mt,{_:()=>W});var M=z(9751),J=z(576);function W(Le,b){const be=(0,J.m)(Le)?Le:()=>Le,at=Ve=>Ve.error(be());return new M.y(b?Ve=>b.schedule(at,0,Ve):at)}},5963:(Hn,Mt,z)=>{z.d(Mt,{H:()=>b});var M=z(9751),J=z(4986),W=z(3532);function b(be=0,at,Ve=J.P){let qe=-1;return null!=at&&((0,W.K)(at)?Ve=at:qe=at),new M.y(Ae=>{let Ue=function Le(be){return be instanceof Date&&!isNaN(be)}(be)?+be-Ve.now():be;Ue<0&&(Ue=0);let Ge=0;return Ve.schedule(function(){Ae.closed||(Ae.next(Ge++),0<=qe?this.schedule(void 0,qe):Ae.complete())},Ue)})}},5403:(Hn,Mt,z)=>{z.d(Mt,{x:()=>J});var M=z(930);function J(Le,b,be,at,Ve){return new W(Le,b,be,at,Ve)}class W extends M.Lv{constructor(b,be,at,Ve,qe,Ae){super(b),this.onFinalize=qe,this.shouldUnsubscribe=Ae,this._next=be?function(Ue){try{be(Ue)}catch(Ge){b.error(Ge)}}:super._next,this._error=Ve?function(Ue){try{Ve(Ue)}catch(Ge){b.error(Ge)}finally{this.unsubscribe()}}:super._error,this._complete=at?function(){try{at()}catch(Ue){b.error(Ue)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var b;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:be}=this;super.unsubscribe(),!be&&(null===(b=this.onFinalize)||void 0===b||b.call(this))}}}},262:(Hn,Mt,z)=>{z.d(Mt,{K:()=>Le});var M=z(8421),J=z(5403),W=z(4482);function Le(b){return(0,W.e)((be,at)=>{let Ae,Ve=null,qe=!1;Ve=be.subscribe((0,J.x)(at,void 0,void 0,Ue=>{Ae=(0,M.Xf)(b(Ue,Le(b)(be))),Ve?(Ve.unsubscribe(),Ve=null,Ae.subscribe(at)):qe=!0})),qe&&(Ve.unsubscribe(),Ve=null,Ae.subscribe(at))})}},4351:(Hn,Mt,z)=>{z.d(Mt,{b:()=>W});var M=z(5577),J=z(576);function W(Le,b){return(0,J.m)(b)?(0,M.z)(Le,b,1):(0,M.z)(Le,1)}},8372:(Hn,Mt,z)=>{z.d(Mt,{b:()=>Le});var M=z(4986),J=z(4482),W=z(5403);function Le(b,be=M.z){return(0,J.e)((at,Ve)=>{let qe=null,Ae=null,Ue=null;const Ge=()=>{if(qe){qe.unsubscribe(),qe=null;const it=Ae;Ae=null,Ve.next(it)}};function kt(){const it=Ue+b,tt=be.now();if(tt<it)return qe=this.schedule(void 0,it-tt),void Ve.add(qe);Ge()}at.subscribe((0,W.x)(Ve,it=>{Ae=it,Ue=be.now(),qe||(qe=be.schedule(kt,b),Ve.add(qe))},()=>{Ge(),Ve.complete()},void 0,()=>{Ae=qe=null}))})}},6590:(Hn,Mt,z)=>{z.d(Mt,{d:()=>W});var M=z(4482),J=z(5403);function W(Le){return(0,M.e)((b,be)=>{let at=!1;b.subscribe((0,J.x)(be,Ve=>{at=!0,be.next(Ve)},()=>{at||be.next(Le),be.complete()}))})}},1005:(Hn,Mt,z)=>{z.d(Mt,{g:()=>kt});var M=z(4986),J=z(7272),W=z(5698),Le=z(4482),b=z(5403),be=z(5032),Ve=z(9718),qe=z(5577),Ae=z(8421);function Ue(it,tt){return tt?xt=>(0,J.z)(tt.pipe((0,W.q)(1),function at(){return(0,Le.e)((it,tt)=>{it.subscribe((0,b.x)(tt,be.Z))})}()),xt.pipe(Ue(it))):(0,qe.z)((xt,Rt)=>(0,Ae.Xf)(it(xt,Rt)).pipe((0,W.q)(1),(0,Ve.h)(xt)))}var Ge=z(5963);function kt(it,tt=M.z){const xt=(0,Ge.H)(it,tt);return Ue(()=>xt)}},1884:(Hn,Mt,z)=>{z.d(Mt,{x:()=>Le});var M=z(4671),J=z(4482),W=z(5403);function Le(be,at=M.y){return be=be??b,(0,J.e)((Ve,qe)=>{let Ae,Ue=!0;Ve.subscribe((0,W.x)(qe,Ge=>{const kt=at(Ge);(Ue||!be(Ae,kt))&&(Ue=!1,Ae=kt,qe.next(Ge))}))})}function b(be,at){return be===at}},9300:(Hn,Mt,z)=>{z.d(Mt,{h:()=>W});var M=z(4482),J=z(5403);function W(Le,b){return(0,M.e)((be,at)=>{let Ve=0;be.subscribe((0,J.x)(at,qe=>Le.call(b,qe,Ve++)&&at.next(qe)))})}},8746:(Hn,Mt,z)=>{z.d(Mt,{x:()=>J});var M=z(4482);function J(W){return(0,M.e)((Le,b)=>{try{Le.subscribe(b)}finally{b.add(W)}})}},590:(Hn,Mt,z)=>{z.d(Mt,{P:()=>at});var M=z(6805),J=z(9300),W=z(5698),Le=z(6590),b=z(8068),be=z(4671);function at(Ve,qe){const Ae=arguments.length>=2;return Ue=>Ue.pipe(Ve?(0,J.h)((Ge,kt)=>Ve(Ge,kt,Ue)):be.y,(0,W.q)(1),Ae?(0,Le.d)(qe):(0,b.T)(()=>new M.K))}},4004:(Hn,Mt,z)=>{z.d(Mt,{U:()=>W});var M=z(4482),J=z(5403);function W(Le,b){return(0,M.e)((be,at)=>{let Ve=0;be.subscribe((0,J.x)(at,qe=>{at.next(Le.call(b,qe,Ve++))}))})}},9718:(Hn,Mt,z)=>{z.d(Mt,{h:()=>J});var M=z(4004);function J(W){return(0,M.U)(()=>W)}},8189:(Hn,Mt,z)=>{z.d(Mt,{J:()=>W});var M=z(5577),J=z(4671);function W(Le=1/0){return(0,M.z)(J.y,Le)}},5577:(Hn,Mt,z)=>{z.d(Mt,{z:()=>Ve});var M=z(4004),J=z(8421),W=z(4482),Le=z(9672),b=z(5403),at=z(576);function Ve(qe,Ae,Ue=1/0){return(0,at.m)(Ae)?Ve((Ge,kt)=>(0,M.U)((it,tt)=>Ae(Ge,it,kt,tt))((0,J.Xf)(qe(Ge,kt))),Ue):("number"==typeof Ae&&(Ue=Ae),(0,W.e)((Ge,kt)=>function be(qe,Ae,Ue,Ge,kt,it,tt,xt){const Rt=[];let Ct=0,pt=0,En=!1;const _t=()=>{En&&!Rt.length&&!Ct&&Ae.complete()},je=Be=>Ct<Ge?Te(Be):Rt.push(Be),Te=Be=>{it&&Ae.next(Be),Ct++;let ct=!1;(0,J.Xf)(Ue(Be,pt++)).subscribe((0,b.x)(Ae,lt=>{kt?.(lt),it?je(lt):Ae.next(lt)},()=>{ct=!0},void 0,()=>{if(ct)try{for(Ct--;Rt.length&&Ct<Ge;){const lt=Rt.shift();tt?(0,Le.f)(Ae,tt,()=>Te(lt)):Te(lt)}_t()}catch(lt){Ae.error(lt)}}))};return qe.subscribe((0,b.x)(Ae,je,()=>{En=!0,_t()})),()=>{xt?.()}}(Ge,kt,qe,Ue)))}},5363:(Hn,Mt,z)=>{z.d(Mt,{Q:()=>Le});var M=z(9672),J=z(4482),W=z(5403);function Le(b,be=0){return(0,J.e)((at,Ve)=>{at.subscribe((0,W.x)(Ve,qe=>(0,M.f)(Ve,b,()=>Ve.next(qe),be),()=>(0,M.f)(Ve,b,()=>Ve.complete(),be),qe=>(0,M.f)(Ve,b,()=>Ve.error(qe),be)))})}},8343:(Hn,Mt,z)=>{z.d(Mt,{x:()=>W});var M=z(4482),J=z(5403);function W(){return(0,M.e)((Le,b)=>{let be=null;Le._refCount++;const at=(0,J.x)(b,void 0,void 0,void 0,()=>{if(!Le||Le._refCount<=0||0<--Le._refCount)return void(be=null);const Ve=Le._connection,qe=be;be=null,Ve&&(!qe||Ve===qe)&&Ve.unsubscribe(),b.unsubscribe()});Le.subscribe(at),at.closed||(be=Le.connect())})}},5026:(Hn,Mt,z)=>{z.d(Mt,{R:()=>Le});var M=z(4482),J=z(5403);function W(b,be,at,Ve,qe){return(Ae,Ue)=>{let Ge=at,kt=be,it=0;Ae.subscribe((0,J.x)(Ue,tt=>{const xt=it++;kt=Ge?b(kt,tt,xt):(Ge=!0,tt),Ve&&Ue.next(kt)},qe&&(()=>{Ge&&Ue.next(kt),Ue.complete()})))}}function Le(b,be){return(0,M.e)(W(b,be,arguments.length>=2,!0))}},3099:(Hn,Mt,z)=>{z.d(Mt,{B:()=>b});var M=z(8421),J=z(7579),W=z(930),Le=z(4482);function b(at={}){const{connector:Ve=(()=>new J.x),resetOnError:qe=!0,resetOnComplete:Ae=!0,resetOnRefCountZero:Ue=!0}=at;return Ge=>{let kt,it,tt,xt=0,Rt=!1,Ct=!1;const pt=()=>{it?.unsubscribe(),it=void 0},En=()=>{pt(),kt=tt=void 0,Rt=Ct=!1},_t=()=>{const je=kt;En(),je?.unsubscribe()};return(0,Le.e)((je,Te)=>{xt++,!Ct&&!Rt&&pt();const Be=tt=tt??Ve();Te.add(()=>{xt--,0===xt&&!Ct&&!Rt&&(it=be(_t,Ue))}),Be.subscribe(Te),!kt&&xt>0&&(kt=new W.Hp({next:ct=>Be.next(ct),error:ct=>{Ct=!0,pt(),it=be(En,qe,ct),Be.error(ct)},complete:()=>{Rt=!0,pt(),it=be(En,Ae),Be.complete()}}),(0,M.Xf)(je).subscribe(kt))})(Ge)}}function be(at,Ve,...qe){if(!0===Ve)return void at();if(!1===Ve)return;const Ae=new W.Hp({next:()=>{Ae.unsubscribe(),at()}});return(0,M.Xf)(Ve(...qe)).subscribe(Ae)}},5684:(Hn,Mt,z)=>{z.d(Mt,{T:()=>J});var M=z(9300);function J(W){return(0,M.h)((Le,b)=>W<=b)}},8675:(Hn,Mt,z)=>{z.d(Mt,{O:()=>Le});var M=z(7272),J=z(3269),W=z(4482);function Le(...b){const be=(0,J.yG)(b);return(0,W.e)((at,Ve)=>{(be?(0,M.z)(b,at,be):(0,M.z)(b,at)).subscribe(Ve)})}},9468:(Hn,Mt,z)=>{z.d(Mt,{R:()=>J});var M=z(4482);function J(W,Le=0){return(0,M.e)((b,be)=>{be.add(W.schedule(()=>b.subscribe(be),Le))})}},3900:(Hn,Mt,z)=>{z.d(Mt,{w:()=>Le});var M=z(8421),J=z(4482),W=z(5403);function Le(b,be){return(0,J.e)((at,Ve)=>{let qe=null,Ae=0,Ue=!1;const Ge=()=>Ue&&!qe&&Ve.complete();at.subscribe((0,W.x)(Ve,kt=>{qe?.unsubscribe();let it=0;const tt=Ae++;(0,M.Xf)(b(kt,tt)).subscribe(qe=(0,W.x)(Ve,xt=>Ve.next(be?be(kt,xt,tt,it++):xt),()=>{qe=null,Ge()}))},()=>{Ue=!0,Ge()}))})}},5698:(Hn,Mt,z)=>{z.d(Mt,{q:()=>Le});var M=z(515),J=z(4482),W=z(5403);function Le(b){return b<=0?()=>M.E:(0,J.e)((be,at)=>{let Ve=0;be.subscribe((0,W.x)(at,qe=>{++Ve<=b&&(at.next(qe),b<=Ve&&at.complete())}))})}},2722:(Hn,Mt,z)=>{z.d(Mt,{R:()=>b});var M=z(4482),J=z(5403),W=z(8421),Le=z(5032);function b(be){return(0,M.e)((at,Ve)=>{(0,W.Xf)(be).subscribe((0,J.x)(Ve,()=>Ve.complete(),Le.Z)),!Ve.closed&&at.subscribe(Ve)})}},8505:(Hn,Mt,z)=>{z.d(Mt,{b:()=>b});var M=z(576),J=z(4482),W=z(5403),Le=z(4671);function b(be,at,Ve){const qe=(0,M.m)(be)||at||Ve?{next:be,error:at,complete:Ve}:be;return qe?(0,J.e)((Ae,Ue)=>{var Ge;null===(Ge=qe.subscribe)||void 0===Ge||Ge.call(qe);let kt=!0;Ae.subscribe((0,W.x)(Ue,it=>{var tt;null===(tt=qe.next)||void 0===tt||tt.call(qe,it),Ue.next(it)},()=>{var it;kt=!1,null===(it=qe.complete)||void 0===it||it.call(qe),Ue.complete()},it=>{var tt;kt=!1,null===(tt=qe.error)||void 0===tt||tt.call(qe,it),Ue.error(it)},()=>{var it,tt;kt&&(null===(it=qe.unsubscribe)||void 0===it||it.call(qe)),null===(tt=qe.finalize)||void 0===tt||tt.call(qe)}))}):Le.y}},8068:(Hn,Mt,z)=>{z.d(Mt,{T:()=>Le});var M=z(6805),J=z(4482),W=z(5403);function Le(be=b){return(0,J.e)((at,Ve)=>{let qe=!1;at.subscribe((0,W.x)(Ve,Ae=>{qe=!0,Ve.next(Ae)},()=>qe?Ve.complete():Ve.error(be())))})}function b(){return new M.K}},4408:(Hn,Mt,z)=>{z.d(Mt,{o:()=>b});var M=z(727);class J extends M.w0{constructor(at,Ve){super()}schedule(at,Ve=0){return this}}const W={setInterval(be,at,...Ve){const{delegate:qe}=W;return qe?.setInterval?qe.setInterval(be,at,...Ve):setInterval(be,at,...Ve)},clearInterval(be){const{delegate:at}=W;return(at?.clearInterval||clearInterval)(be)},delegate:void 0};var Le=z(8737);class b extends J{constructor(at,Ve){super(at,Ve),this.scheduler=at,this.work=Ve,this.pending=!1}schedule(at,Ve=0){var qe;if(this.closed)return this;this.state=at;const Ae=this.id,Ue=this.scheduler;return null!=Ae&&(this.id=this.recycleAsyncId(Ue,Ae,Ve)),this.pending=!0,this.delay=Ve,this.id=null!==(qe=this.id)&&void 0!==qe?qe:this.requestAsyncId(Ue,this.id,Ve),this}requestAsyncId(at,Ve,qe=0){return W.setInterval(at.flush.bind(at,this),qe)}recycleAsyncId(at,Ve,qe=0){if(null!=qe&&this.delay===qe&&!1===this.pending)return Ve;null!=Ve&&W.clearInterval(Ve)}execute(at,Ve){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const qe=this._execute(at,Ve);if(qe)return qe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(at,Ve){let Ae,qe=!1;try{this.work(at)}catch(Ue){qe=!0,Ae=Ue||new Error("Scheduled action threw falsy error")}if(qe)return this.unsubscribe(),Ae}unsubscribe(){if(!this.closed){const{id:at,scheduler:Ve}=this,{actions:qe}=Ve;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Le.P)(qe,this),null!=at&&(this.id=this.recycleAsyncId(Ve,at,null)),this.delay=null,super.unsubscribe()}}}},7565:(Hn,Mt,z)=>{z.d(Mt,{v:()=>W});var M=z(6063);class J{constructor(b,be=J.now){this.schedulerActionCtor=b,this.now=be}schedule(b,be=0,at){return new this.schedulerActionCtor(this,b).schedule(at,be)}}J.now=M.l.now;class W extends J{constructor(b,be=J.now){super(b,be),this.actions=[],this._active=!1}flush(b){const{actions:be}=this;if(this._active)return void be.push(b);let at;this._active=!0;do{if(at=b.execute(b.state,b.delay))break}while(b=be.shift());if(this._active=!1,at){for(;b=be.shift();)b.unsubscribe();throw at}}}},4986:(Hn,Mt,z)=>{z.d(Mt,{P:()=>Le,z:()=>W});var M=z(4408);const W=new(z(7565).v)(M.o),Le=W},6063:(Hn,Mt,z)=>{z.d(Mt,{l:()=>M});const M={now:()=>(M.delegate||Date).now(),delegate:void 0}},3410:(Hn,Mt,z)=>{z.d(Mt,{z:()=>M});const M={setTimeout(J,W,...Le){const{delegate:b}=M;return b?.setTimeout?b.setTimeout(J,W,...Le):setTimeout(J,W,...Le)},clearTimeout(J){const{delegate:W}=M;return(W?.clearTimeout||clearTimeout)(J)},delegate:void 0}},2202:(Hn,Mt,z)=>{z.d(Mt,{h:()=>J});const J=function M(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Hn,Mt,z)=>{z.d(Mt,{L:()=>M});const M="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Hn,Mt,z)=>{z.d(Mt,{K:()=>J});const J=(0,z(3888).d)(W=>function(){W(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(Hn,Mt,z)=>{z.d(Mt,{_6:()=>be,jO:()=>Le,yG:()=>b});var M=z(576),J=z(3532);function W(at){return at[at.length-1]}function Le(at){return(0,M.m)(W(at))?at.pop():void 0}function b(at){return(0,J.K)(W(at))?at.pop():void 0}function be(at,Ve){return"number"==typeof W(at)?at.pop():Ve}},4742:(Hn,Mt,z)=>{z.d(Mt,{D:()=>b});const{isArray:M}=Array,{getPrototypeOf:J,prototype:W,keys:Le}=Object;function b(at){if(1===at.length){const Ve=at[0];if(M(Ve))return{args:Ve,keys:null};if(function be(at){return at&&"object"==typeof at&&J(at)===W}(Ve)){const qe=Le(Ve);return{args:qe.map(Ae=>Ve[Ae]),keys:qe}}}return{args:at,keys:null}}},8737:(Hn,Mt,z)=>{function M(J,W){if(J){const Le=J.indexOf(W);0<=Le&&J.splice(Le,1)}}z.d(Mt,{P:()=>M})},3888:(Hn,Mt,z)=>{function M(J){const Le=J(b=>{Error.call(b),b.stack=(new Error).stack});return Le.prototype=Object.create(Error.prototype),Le.prototype.constructor=Le,Le}z.d(Mt,{d:()=>M})},1810:(Hn,Mt,z)=>{function M(J,W){return J.reduce((Le,b,be)=>(Le[b]=W[be],Le),{})}z.d(Mt,{n:()=>M})},2806:(Hn,Mt,z)=>{z.d(Mt,{O:()=>Le,x:()=>W});var M=z(2416);let J=null;function W(b){if(M.v.useDeprecatedSynchronousErrorHandling){const be=!J;if(be&&(J={errorThrown:!1,error:null}),b(),be){const{errorThrown:at,error:Ve}=J;if(J=null,at)throw Ve}}else b()}function Le(b){M.v.useDeprecatedSynchronousErrorHandling&&J&&(J.errorThrown=!0,J.error=b)}},9672:(Hn,Mt,z)=>{function M(J,W,Le,b=0,be=!1){const at=W.schedule(function(){Le(),be?J.add(this.schedule(null,b)):this.unsubscribe()},b);if(J.add(at),!be)return at}z.d(Mt,{f:()=>M})},4671:(Hn,Mt,z)=>{function M(J){return J}z.d(Mt,{y:()=>M})},1144:(Hn,Mt,z)=>{z.d(Mt,{z:()=>M});const M=J=>J&&"number"==typeof J.length&&"function"!=typeof J},2206:(Hn,Mt,z)=>{z.d(Mt,{D:()=>J});var M=z(576);function J(W){return Symbol.asyncIterator&&(0,M.m)(W?.[Symbol.asyncIterator])}},576:(Hn,Mt,z)=>{function M(J){return"function"==typeof J}z.d(Mt,{m:()=>M})},3670:(Hn,Mt,z)=>{z.d(Mt,{c:()=>W});var M=z(8822),J=z(576);function W(Le){return(0,J.m)(Le[M.L])}},6495:(Hn,Mt,z)=>{z.d(Mt,{T:()=>W});var M=z(2202),J=z(576);function W(Le){return(0,J.m)(Le?.[M.h])}},8239:(Hn,Mt,z)=>{z.d(Mt,{t:()=>J});var M=z(576);function J(W){return(0,M.m)(W?.then)}},3260:(Hn,Mt,z)=>{z.d(Mt,{L:()=>Le,Q:()=>W});var M=z(7582),J=z(576);function W(b){return(0,M.FC)(this,arguments,function*(){const at=b.getReader();try{for(;;){const{value:Ve,done:qe}=yield(0,M.qq)(at.read());if(qe)return yield(0,M.qq)(void 0);yield yield(0,M.qq)(Ve)}}finally{at.releaseLock()}})}function Le(b){return(0,J.m)(b?.getReader)}},3532:(Hn,Mt,z)=>{z.d(Mt,{K:()=>J});var M=z(576);function J(W){return W&&(0,M.m)(W.schedule)}},4482:(Hn,Mt,z)=>{z.d(Mt,{A:()=>J,e:()=>W});var M=z(576);function J(Le){return(0,M.m)(Le?.lift)}function W(Le){return b=>{if(J(b))return b.lift(function(be){try{return Le(be,this)}catch(at){this.error(at)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Hn,Mt,z)=>{z.d(Mt,{Z:()=>Le});var M=z(4004);const{isArray:J}=Array;function Le(b){return(0,M.U)(be=>function W(b,be){return J(be)?b(...be):b(be)}(b,be))}},5032:(Hn,Mt,z)=>{function M(){}z.d(Mt,{Z:()=>M})},9635:(Hn,Mt,z)=>{z.d(Mt,{U:()=>W,z:()=>J});var M=z(4671);function J(...Le){return W(Le)}function W(Le){return 0===Le.length?M.y:1===Le.length?Le[0]:function(be){return Le.reduce((at,Ve)=>Ve(at),be)}}},7849:(Hn,Mt,z)=>{z.d(Mt,{h:()=>W});var M=z(2416),J=z(3410);function W(Le){J.z.setTimeout(()=>{const{onUnhandledError:b}=M.v;if(!b)throw Le;b(Le)})}},4532:(Hn,Mt,z)=>{function M(J){return new TypeError(`You provided ${null!==J&&"object"==typeof J?"an invalid object":`'${J}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}z.d(Mt,{z:()=>M})},7340:(Hn,Mt,z)=>{z.d(Mt,{F4:()=>Ae,IO:()=>tt,LC:()=>J,SB:()=>qe,X$:()=>Le,ZE:()=>pt,ZN:()=>Ct,_j:()=>M,eR:()=>Ue,jt:()=>b,k1:()=>En,l3:()=>W,oB:()=>Ve,pV:()=>kt,ru:()=>be,vP:()=>at});class M{}class J{}const W="*";function Le(_t,je){return{type:7,name:_t,definitions:je,options:{}}}function b(_t,je=null){return{type:4,styles:je,timings:_t}}function be(_t,je=null){return{type:3,steps:_t,options:je}}function at(_t,je=null){return{type:2,steps:_t,options:je}}function Ve(_t){return{type:6,styles:_t,offset:null}}function qe(_t,je,Te){return{type:0,name:_t,styles:je,options:Te}}function Ae(_t){return{type:5,steps:_t}}function Ue(_t,je,Te=null){return{type:1,expr:_t,animation:je,options:Te}}function kt(_t=null){return{type:9,options:_t}}function tt(_t,je,Te=null){return{type:11,selector:_t,animation:je,options:Te}}function Rt(_t){Promise.resolve().then(_t)}class Ct{constructor(je=0,Te=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=je+Te}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(je=>je()),this._onDoneFns=[])}onStart(je){this._originalOnStartFns.push(je),this._onStartFns.push(je)}onDone(je){this._originalOnDoneFns.push(je),this._onDoneFns.push(je)}onDestroy(je){this._onDestroyFns.push(je)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Rt(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(je=>je()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(je=>je()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(je){this._position=this.totalTime?je*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(je){const Te="start"==je?this._onStartFns:this._onDoneFns;Te.forEach(Be=>Be()),Te.length=0}}class pt{constructor(je){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=je;let Te=0,Be=0,ct=0;const lt=this.players.length;0==lt?Rt(()=>this._onFinish()):this.players.forEach(ut=>{ut.onDone(()=>{++Te==lt&&this._onFinish()}),ut.onDestroy(()=>{++Be==lt&&this._onDestroy()}),ut.onStart(()=>{++ct==lt&&this._onStart()})}),this.totalTime=this.players.reduce((ut,vn)=>Math.max(ut,vn.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(je=>je()),this._onDoneFns=[])}init(){this.players.forEach(je=>je.init())}onStart(je){this._onStartFns.push(je)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(je=>je()),this._onStartFns=[])}onDone(je){this._onDoneFns.push(je)}onDestroy(je){this._onDestroyFns.push(je)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(je=>je.play())}pause(){this.players.forEach(je=>je.pause())}restart(){this.players.forEach(je=>je.restart())}finish(){this._onFinish(),this.players.forEach(je=>je.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(je=>je.destroy()),this._onDestroyFns.forEach(je=>je()),this._onDestroyFns=[])}reset(){this.players.forEach(je=>je.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(je){const Te=je*this.totalTime;this.players.forEach(Be=>{const ct=Be.totalTime?Math.min(1,Te/Be.totalTime):1;Be.setPosition(ct)})}getPosition(){const je=this.players.reduce((Te,Be)=>null===Te||Be.totalTime>Te.totalTime?Be:Te,null);return null!=je?je.getPosition():0}beforeDestroy(){this.players.forEach(je=>{je.beforeDestroy&&je.beforeDestroy()})}triggerCallback(je){const Te="start"==je?this._onStartFns:this._onDoneFns;Te.forEach(Be=>Be()),Te.length=0}}const En="!"},2693:(Hn,Mt,z)=>{z.d(Mt,{rt:()=>gt,kH:()=>mt,Em:()=>on,tE:()=>Gi,qV:()=>Ot,qm:()=>Ce,ic:()=>tn,X6:()=>Zn,yG:()=>Fn});var M=z(6895),J=z(4650),W=z(3353),Le=z(7579),b=z(727),be=z(1135),at=z(9646),Ve=z(9521),qe=z(8505),Ae=z(8372),Ue=z(9300),Ge=z(4004),kt=z(5698),it=z(5684),tt=z(1884),xt=z(2722),Rt=z(1281),Ct=z(9643),pt=z(9841),En=z(7272),_t=z(9751),je=z(8675);const Be=new Set;let ct,lt=(()=>{class We{constructor($e){this._platform=$e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):vn}matchMedia($e){return(this._platform.WEBKIT||this._platform.BLINK)&&function ut(We){if(!Be.has(We))try{ct||(ct=document.createElement("style"),ct.setAttribute("type","text/css"),document.head.appendChild(ct)),ct.sheet&&(ct.sheet.insertRule(`@media ${We} {body{ }}`,0),Be.add(We))}catch(et){console.error(et)}}($e),this._matchMedia($e)}}return We.\u0275fac=function($e){return new($e||We)(J.LFG(W.t4))},We.\u0275prov=J.Yz7({token:We,factory:We.\u0275fac,providedIn:"root"}),We})();function vn(We){return{matches:"all"===We||""===We,media:We,addListener:()=>{},removeListener:()=>{}}}let pn=(()=>{class We{constructor($e,pe){this._mediaMatcher=$e,this._zone=pe,this._queries=new Map,this._destroySubject=new Le.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched($e){return ai((0,Rt.Eq)($e)).some(Ee=>this._registerQuery(Ee).mql.matches)}observe($e){const Ee=ai((0,Rt.Eq)($e)).map(ft=>this._registerQuery(ft).observable);let De=(0,pt.a)(Ee);return De=(0,En.z)(De.pipe((0,kt.q)(1)),De.pipe((0,it.T)(1),(0,Ae.b)(0))),De.pipe((0,Ge.U)(ft=>{const cn={matches:!1,breakpoints:{}};return ft.forEach(({matches:Qn,query:Ri})=>{cn.matches=cn.matches||Qn,cn.breakpoints[Ri]=Qn}),cn}))}_registerQuery($e){if(this._queries.has($e))return this._queries.get($e);const pe=this._mediaMatcher.matchMedia($e),De={observable:new _t.y(ft=>{const cn=Qn=>this._zone.run(()=>ft.next(Qn));return pe.addListener(cn),()=>{pe.removeListener(cn)}}).pipe((0,je.O)(pe),(0,Ge.U)(({matches:ft})=>({query:$e,matches:ft})),(0,xt.R)(this._destroySubject)),mql:pe};return this._queries.set($e,De),De}}return We.\u0275fac=function($e){return new($e||We)(J.LFG(lt),J.LFG(J.R0b))},We.\u0275prov=J.Yz7({token:We,factory:We.\u0275fac,providedIn:"root"}),We})();function ai(We){return We.map(et=>et.split(",")).reduce((et,$e)=>et.concat($e)).map(et=>et.trim())}class on extends class St{constructor(et){this._items=et,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Le.x,this._typeaheadSubscription=b.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=$e=>$e.disabled,this._pressedLetters=[],this.tabOut=new Le.x,this.change=new Le.x,et instanceof J.n_E&&et.changes.subscribe($e=>{if(this._activeItem){const Ee=$e.toArray().indexOf(this._activeItem);Ee>-1&&Ee!==this._activeItemIndex&&(this._activeItemIndex=Ee)}})}skipPredicate(et){return this._skipPredicateFn=et,this}withWrap(et=!0){return this._wrap=et,this}withVerticalOrientation(et=!0){return this._vertical=et,this}withHorizontalOrientation(et){return this._horizontal=et,this}withAllowedModifierKeys(et){return this._allowedModifierKeys=et,this}withTypeAhead(et=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,qe.b)($e=>this._pressedLetters.push($e)),(0,Ae.b)(et),(0,Ue.h)(()=>this._pressedLetters.length>0),(0,Ge.U)(()=>this._pressedLetters.join(""))).subscribe($e=>{const pe=this._getItemsArray();for(let Ee=1;Ee<pe.length+1;Ee++){const De=(this._activeItemIndex+Ee)%pe.length,ft=pe[De];if(!this._skipPredicateFn(ft)&&0===ft.getLabel().toUpperCase().trim().indexOf($e)){this.setActiveItem(De);break}}this._pressedLetters=[]}),this}withHomeAndEnd(et=!0){return this._homeAndEnd=et,this}setActiveItem(et){const $e=this._activeItem;this.updateActiveItem(et),this._activeItem!==$e&&this.change.next(this._activeItemIndex)}onKeydown(et){const $e=et.keyCode,Ee=["altKey","ctrlKey","metaKey","shiftKey"].every(De=>!et[De]||this._allowedModifierKeys.indexOf(De)>-1);switch($e){case Ve.Mf:return void this.tabOut.next();case Ve.JH:if(this._vertical&&Ee){this.setNextItemActive();break}return;case Ve.LH:if(this._vertical&&Ee){this.setPreviousItemActive();break}return;case Ve.SV:if(this._horizontal&&Ee){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case Ve.oh:if(this._horizontal&&Ee){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case Ve.Sd:if(this._homeAndEnd&&Ee){this.setFirstItemActive();break}return;case Ve.uR:if(this._homeAndEnd&&Ee){this.setLastItemActive();break}return;default:return void((Ee||(0,Ve.Vb)(et,"shiftKey"))&&(et.key&&1===et.key.length?this._letterKeyStream.next(et.key.toLocaleUpperCase()):($e>=Ve.A&&$e<=Ve.Z||$e>=Ve.xE&&$e<=Ve.aO)&&this._letterKeyStream.next(String.fromCharCode($e))))}this._pressedLetters=[],et.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(et){const $e=this._getItemsArray(),pe="number"==typeof et?et:$e.indexOf(et);this._activeItem=$e[pe]??null,this._activeItemIndex=pe}_setActiveItemByDelta(et){this._wrap?this._setActiveInWrapMode(et):this._setActiveInDefaultMode(et)}_setActiveInWrapMode(et){const $e=this._getItemsArray();for(let pe=1;pe<=$e.length;pe++){const Ee=(this._activeItemIndex+et*pe+$e.length)%$e.length;if(!this._skipPredicateFn($e[Ee]))return void this.setActiveItem(Ee)}}_setActiveInDefaultMode(et){this._setActiveItemByIndex(this._activeItemIndex+et,et)}_setActiveItemByIndex(et,$e){const pe=this._getItemsArray();if(pe[et]){for(;this._skipPredicateFn(pe[et]);)if(!pe[et+=$e])return;this.setActiveItem(et)}}_getItemsArray(){return this._items instanceof J.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(et){return this._origin=et,this}setActiveItem(et){super.setActiveItem(et),this.activeItem&&this.activeItem.focus(this._origin)}}let tn=(()=>{class We{constructor($e){this._platform=$e}isDisabled($e){return $e.hasAttribute("disabled")}isVisible($e){return function jt(We){return!!(We.offsetWidth||We.offsetHeight||"function"==typeof We.getClientRects&&We.getClientRects().length)}($e)&&"visible"===getComputedStyle($e).visibility}isTabbable($e){if(!this._platform.isBrowser)return!1;const pe=function Mn(We){try{return We.frameElement}catch{return null}}(function Nn(We){return We.ownerDocument&&We.ownerDocument.defaultView||window}($e));if(pe&&(-1===bn(pe)||!this.isVisible(pe)))return!1;let Ee=$e.nodeName.toLowerCase(),De=bn($e);return $e.hasAttribute("contenteditable")?-1!==De:!("iframe"===Ee||"object"===Ee||this._platform.WEBKIT&&this._platform.IOS&&!function On(We){let et=We.nodeName.toLowerCase(),$e="input"===et&&We.type;return"text"===$e||"password"===$e||"select"===et||"textarea"===et}($e))&&("audio"===Ee?!!$e.hasAttribute("controls")&&-1!==De:"video"===Ee?-1!==De&&(null!==De||this._platform.FIREFOX||$e.hasAttribute("controls")):$e.tabIndex>=0)}isFocusable($e,pe){return function Qt(We){return!function oi(We){return function mi(We){return"input"==We.nodeName.toLowerCase()}(We)&&"hidden"==We.type}(We)&&(function wn(We){let et=We.nodeName.toLowerCase();return"input"===et||"select"===et||"button"===et||"textarea"===et}(We)||function qn(We){return function dn(We){return"a"==We.nodeName.toLowerCase()}(We)&&We.hasAttribute("href")}(We)||We.hasAttribute("contenteditable")||li(We))}($e)&&!this.isDisabled($e)&&(pe?.ignoreVisibility||this.isVisible($e))}}return We.\u0275fac=function($e){return new($e||We)(J.LFG(W.t4))},We.\u0275prov=J.Yz7({token:We,factory:We.\u0275fac,providedIn:"root"}),We})();function li(We){if(!We.hasAttribute("tabindex")||void 0===We.tabIndex)return!1;let et=We.getAttribute("tabindex");return!(!et||isNaN(parseInt(et,10)))}function bn(We){if(!li(We))return null;const et=parseInt(We.getAttribute("tabindex")||"",10);return isNaN(et)?-1:et}class $n{constructor(et,$e,pe,Ee,De=!1){this._element=et,this._checker=$e,this._ngZone=pe,this._document=Ee,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,De||this.attachAnchors()}get enabled(){return this._enabled}set enabled(et){this._enabled=et,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(et,this._startAnchor),this._toggleAnchorTabIndex(et,this._endAnchor))}destroy(){const et=this._startAnchor,$e=this._endAnchor;et&&(et.removeEventListener("focus",this.startAnchorListener),et.remove()),$e&&($e.removeEventListener("focus",this.endAnchorListener),$e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(et){return new Promise($e=>{this._executeOnStable(()=>$e(this.focusInitialElement(et)))})}focusFirstTabbableElementWhenReady(et){return new Promise($e=>{this._executeOnStable(()=>$e(this.focusFirstTabbableElement(et)))})}focusLastTabbableElementWhenReady(et){return new Promise($e=>{this._executeOnStable(()=>$e(this.focusLastTabbableElement(et)))})}_getRegionBoundary(et){const $e=this._element.querySelectorAll(`[cdk-focus-region-${et}], [cdkFocusRegion${et}], [cdk-focus-${et}]`);return"start"==et?$e.length?$e[0]:this._getFirstTabbableElement(this._element):$e.length?$e[$e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(et){const $e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if($e){if(!this._checker.isFocusable($e)){const pe=this._getFirstTabbableElement($e);return pe?.focus(et),!!pe}return $e.focus(et),!0}return this.focusFirstTabbableElement(et)}focusFirstTabbableElement(et){const $e=this._getRegionBoundary("start");return $e&&$e.focus(et),!!$e}focusLastTabbableElement(et){const $e=this._getRegionBoundary("end");return $e&&$e.focus(et),!!$e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(et){if(this._checker.isFocusable(et)&&this._checker.isTabbable(et))return et;const $e=et.children;for(let pe=0;pe<$e.length;pe++){const Ee=$e[pe].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement($e[pe]):null;if(Ee)return Ee}return null}_getLastTabbableElement(et){if(this._checker.isFocusable(et)&&this._checker.isTabbable(et))return et;const $e=et.children;for(let pe=$e.length-1;pe>=0;pe--){const Ee=$e[pe].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement($e[pe]):null;if(Ee)return Ee}return null}_createAnchor(){const et=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,et),et.classList.add("cdk-visually-hidden"),et.classList.add("cdk-focus-trap-anchor"),et.setAttribute("aria-hidden","true"),et}_toggleAnchorTabIndex(et,$e){et?$e.setAttribute("tabindex","0"):$e.removeAttribute("tabindex")}toggleAnchors(et){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(et,this._startAnchor),this._toggleAnchorTabIndex(et,this._endAnchor))}_executeOnStable(et){this._ngZone.isStable?et():this._ngZone.onStable.pipe((0,kt.q)(1)).subscribe(et)}}let Ot=(()=>{class We{constructor($e,pe,Ee){this._checker=$e,this._ngZone=pe,this._document=Ee}create($e,pe=!1){return new $n($e,this._checker,this._ngZone,this._document,pe)}}return We.\u0275fac=function($e){return new($e||We)(J.LFG(tn),J.LFG(J.R0b),J.LFG(M.K0))},We.\u0275prov=J.Yz7({token:We,factory:We.\u0275fac,providedIn:"root"}),We})();function Zn(We){return 0===We.buttons||0===We.offsetX&&0===We.offsetY}function Fn(We){const et=We.touches&&We.touches[0]||We.changedTouches&&We.changedTouches[0];return!(!et||-1!==et.identifier||null!=et.radiusX&&1!==et.radiusX||null!=et.radiusY&&1!==et.radiusY)}const Lt=new J.OlP("cdk-input-modality-detector-options"),sn={ignoreKeys:[Ve.zL,Ve.jx,Ve.b2,Ve.MW,Ve.JU]},Ke=(0,W.i$)({passive:!0,capture:!0});let Je=(()=>{class We{constructor($e,pe,Ee,De){this._platform=$e,this._mostRecentTarget=null,this._modality=new be.X(null),this._lastTouchMs=0,this._onKeydown=ft=>{this._options?.ignoreKeys?.some(cn=>cn===ft.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,W.sA)(ft))},this._onMousedown=ft=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Zn(ft)?"keyboard":"mouse"),this._mostRecentTarget=(0,W.sA)(ft))},this._onTouchstart=ft=>{Fn(ft)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,W.sA)(ft))},this._options={...sn,...De},this.modalityDetected=this._modality.pipe((0,it.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,tt.x)()),$e.isBrowser&&pe.runOutsideAngular(()=>{Ee.addEventListener("keydown",this._onKeydown,Ke),Ee.addEventListener("mousedown",this._onMousedown,Ke),Ee.addEventListener("touchstart",this._onTouchstart,Ke)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ke),document.removeEventListener("mousedown",this._onMousedown,Ke),document.removeEventListener("touchstart",this._onTouchstart,Ke))}}return We.\u0275fac=function($e){return new($e||We)(J.LFG(W.t4),J.LFG(J.R0b),J.LFG(M.K0),J.LFG(Lt,8))},We.\u0275prov=J.Yz7({token:We,factory:We.\u0275fac,providedIn:"root"}),We})();const Ii=new J.OlP("cdk-focus-monitor-default-options"),br=(0,W.i$)({passive:!0,capture:!0});let Gi=(()=>{class We{constructor($e,pe,Ee,De,ft){this._ngZone=$e,this._platform=pe,this._inputModalityDetector=Ee,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Le.x,this._rootNodeFocusAndBlurListener=cn=>{for(let Ri=(0,W.sA)(cn);Ri;Ri=Ri.parentElement)"focus"===cn.type?this._onFocus(cn,Ri):this._onBlur(cn,Ri)},this._document=De,this._detectionMode=ft?.detectionMode||0}monitor($e,pe=!1){const Ee=(0,Rt.fI)($e);if(!this._platform.isBrowser||1!==Ee.nodeType)return(0,at.of)(null);const De=(0,W.kV)(Ee)||this._getDocument(),ft=this._elementInfo.get(Ee);if(ft)return pe&&(ft.checkChildren=!0),ft.subject;const cn={checkChildren:pe,subject:new Le.x,rootNode:De};return this._elementInfo.set(Ee,cn),this._registerGlobalListeners(cn),cn.subject}stopMonitoring($e){const pe=(0,Rt.fI)($e),Ee=this._elementInfo.get(pe);Ee&&(Ee.subject.complete(),this._setClasses(pe),this._elementInfo.delete(pe),this._removeGlobalListeners(Ee))}focusVia($e,pe,Ee){const De=(0,Rt.fI)($e);De===this._getDocument().activeElement?this._getClosestElementsInfo(De).forEach(([cn,Qn])=>this._originChanged(cn,pe,Qn)):(this._setOrigin(pe),"function"==typeof De.focus&&De.focus(Ee))}ngOnDestroy(){this._elementInfo.forEach(($e,pe)=>this.stopMonitoring(pe))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin($e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch($e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:$e&&this._isLastInteractionFromInputLabel($e)?"mouse":"program"}_shouldBeAttributedToTouch($e){return 1===this._detectionMode||!!$e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses($e,pe){$e.classList.toggle("cdk-focused",!!pe),$e.classList.toggle("cdk-touch-focused","touch"===pe),$e.classList.toggle("cdk-keyboard-focused","keyboard"===pe),$e.classList.toggle("cdk-mouse-focused","mouse"===pe),$e.classList.toggle("cdk-program-focused","program"===pe)}_setOrigin($e,pe=!1){this._ngZone.runOutsideAngular(()=>{this._origin=$e,this._originFromTouchInteraction="touch"===$e&&pe,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus($e,pe){const Ee=this._elementInfo.get(pe),De=(0,W.sA)($e);!Ee||!Ee.checkChildren&&pe!==De||this._originChanged(pe,this._getFocusOrigin(De),Ee)}_onBlur($e,pe){const Ee=this._elementInfo.get(pe);!Ee||Ee.checkChildren&&$e.relatedTarget instanceof Node&&pe.contains($e.relatedTarget)||(this._setClasses(pe),this._emitOrigin(Ee,null))}_emitOrigin($e,pe){$e.subject.observers.length&&this._ngZone.run(()=>$e.subject.next(pe))}_registerGlobalListeners($e){if(!this._platform.isBrowser)return;const pe=$e.rootNode,Ee=this._rootNodeFocusListenerCount.get(pe)||0;Ee||this._ngZone.runOutsideAngular(()=>{pe.addEventListener("focus",this._rootNodeFocusAndBlurListener,br),pe.addEventListener("blur",this._rootNodeFocusAndBlurListener,br)}),this._rootNodeFocusListenerCount.set(pe,Ee+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,xt.R)(this._stopInputModalityDetector)).subscribe(De=>{this._setOrigin(De,!0)}))}_removeGlobalListeners($e){const pe=$e.rootNode;if(this._rootNodeFocusListenerCount.has(pe)){const Ee=this._rootNodeFocusListenerCount.get(pe);Ee>1?this._rootNodeFocusListenerCount.set(pe,Ee-1):(pe.removeEventListener("focus",this._rootNodeFocusAndBlurListener,br),pe.removeEventListener("blur",this._rootNodeFocusAndBlurListener,br),this._rootNodeFocusListenerCount.delete(pe))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged($e,pe,Ee){this._setClasses($e,pe),this._emitOrigin(Ee,pe),this._lastFocusOrigin=pe}_getClosestElementsInfo($e){const pe=[];return this._elementInfo.forEach((Ee,De)=>{(De===$e||Ee.checkChildren&&De.contains($e))&&pe.push([De,Ee])}),pe}_isLastInteractionFromInputLabel($e){const{_mostRecentTarget:pe,mostRecentModality:Ee}=this._inputModalityDetector;if("mouse"!==Ee||!pe||pe===$e||"INPUT"!==$e.nodeName&&"TEXTAREA"!==$e.nodeName||$e.disabled)return!1;const De=$e.labels;if(De)for(let ft=0;ft<De.length;ft++)if(De[ft].contains(pe))return!0;return!1}}return We.\u0275fac=function($e){return new($e||We)(J.LFG(J.R0b),J.LFG(W.t4),J.LFG(Je),J.LFG(M.K0,8),J.LFG(Ii,8))},We.\u0275prov=J.Yz7({token:We,factory:We.\u0275fac,providedIn:"root"}),We})(),mt=(()=>{class We{constructor($e,pe){this._elementRef=$e,this._focusMonitor=pe,this._focusOrigin=null,this.cdkFocusChange=new J.vpe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const $e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor($e,1===$e.nodeType&&$e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(pe=>{this._focusOrigin=pe,this.cdkFocusChange.emit(pe)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return We.\u0275fac=function($e){return new($e||We)(J.Y36(J.SBq),J.Y36(Gi))},We.\u0275dir=J.lG2({type:We,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]}),We})();const Me="cdk-high-contrast-black-on-white",Qe="cdk-high-contrast-white-on-black",_e="cdk-high-contrast-active";let Ce=(()=>{class We{constructor($e,pe){this._platform=$e,this._document=pe,this._breakpointSubscription=(0,J.f3M)(pn).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const $e=this._document.createElement("div");$e.style.backgroundColor="rgb(1,2,3)",$e.style.position="absolute",this._document.body.appendChild($e);const pe=this._document.defaultView||window,Ee=pe&&pe.getComputedStyle?pe.getComputedStyle($e):null,De=(Ee&&Ee.backgroundColor||"").replace(/ /g,"");switch($e.remove(),De){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const $e=this._document.body.classList;$e.remove(_e,Me,Qe),this._hasCheckedHighContrastMode=!0;const pe=this.getHighContrastMode();1===pe?$e.add(_e,Me):2===pe&&$e.add(_e,Qe)}}}return We.\u0275fac=function($e){return new($e||We)(J.LFG(W.t4),J.LFG(M.K0))},We.\u0275prov=J.Yz7({token:We,factory:We.\u0275fac,providedIn:"root"}),We})(),gt=(()=>{class We{constructor($e){$e._applyBodyHighContrastModeCssClasses()}}return We.\u0275fac=function($e){return new($e||We)(J.LFG(Ce))},We.\u0275mod=J.oAB({type:We}),We.\u0275inj=J.cJS({imports:[Ct.Q8]}),We})()},445:(Hn,Mt,z)=>{z.d(Mt,{Is:()=>at,vT:()=>qe});var M=z(4650),J=z(6895);const W=new M.OlP("cdk-dir-doc",{providedIn:"root",factory:function Le(){return(0,M.f3M)(J.K0)}}),b=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let at=(()=>{class Ae{constructor(Ge){if(this.value="ltr",this.change=new M.vpe,Ge){const it=Ge.documentElement?Ge.documentElement.dir:null;this.value=function be(Ae){const Ue=Ae?.toLowerCase()||"";return"auto"===Ue&&typeof navigator<"u"&&navigator?.language?b.test(navigator.language)?"rtl":"ltr":"rtl"===Ue?"rtl":"ltr"}((Ge.body?Ge.body.dir:null)||it||"ltr")}}ngOnDestroy(){this.change.complete()}}return Ae.\u0275fac=function(Ge){return new(Ge||Ae)(M.LFG(W,8))},Ae.\u0275prov=M.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"root"}),Ae})(),qe=(()=>{class Ae{}return Ae.\u0275fac=function(Ge){return new(Ge||Ae)},Ae.\u0275mod=M.oAB({type:Ae}),Ae.\u0275inj=M.cJS({}),Ae})()},1281:(Hn,Mt,z)=>{z.d(Mt,{Eq:()=>b,HM:()=>be,Ig:()=>J,fI:()=>at,su:()=>W});var M=z(4650);function J(qe){return null!=qe&&"false"!=`${qe}`}function W(qe,Ae=0){return function Le(qe){return!isNaN(parseFloat(qe))&&!isNaN(Number(qe))}(qe)?Number(qe):Ae}function b(qe){return Array.isArray(qe)?qe:[qe]}function be(qe){return null==qe?"":"string"==typeof qe?qe:`${qe}px`}function at(qe){return qe instanceof M.SBq?qe.nativeElement:qe}},5017:(Hn,Mt,z)=>{z.d(Mt,{A8:()=>Ue,Ov:()=>qe,Z9:()=>b,eX:()=>Ve,k:()=>Ge,yy:()=>at});var M=z(4033),J=z(7579),W=z(4650);function b(kt){return kt&&"function"==typeof kt.connect&&!(kt instanceof M.c)}class at{applyChanges(it,tt,xt,Rt,Ct){it.forEachOperation((pt,En,_t)=>{let je,Te;if(null==pt.previousIndex){const Be=xt(pt,En,_t);je=tt.createEmbeddedView(Be.templateRef,Be.context,Be.index),Te=1}else null==_t?(tt.remove(En),Te=3):(je=tt.get(En),tt.move(je,_t),Te=2);Ct&&Ct({context:je?.context,operation:Te,record:pt})})}detach(){}}class Ve{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(it,tt,xt,Rt,Ct){it.forEachOperation((pt,En,_t)=>{let je,Te;null==pt.previousIndex?(je=this._insertView(()=>xt(pt,En,_t),_t,tt,Rt(pt)),Te=je?1:0):null==_t?(this._detachAndCacheView(En,tt),Te=3):(je=this._moveView(En,_t,tt,Rt(pt)),Te=2),Ct&&Ct({context:je?.context,operation:Te,record:pt})})}detach(){for(const it of this._viewCache)it.destroy();this._viewCache=[]}_insertView(it,tt,xt,Rt){const Ct=this._insertViewFromCache(tt,xt);if(Ct)return void(Ct.context.$implicit=Rt);const pt=it();return xt.createEmbeddedView(pt.templateRef,pt.context,pt.index)}_detachAndCacheView(it,tt){const xt=tt.detach(it);this._maybeCacheView(xt,tt)}_moveView(it,tt,xt,Rt){const Ct=xt.get(it);return xt.move(Ct,tt),Ct.context.$implicit=Rt,Ct}_maybeCacheView(it,tt){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(it);else{const xt=tt.indexOf(it);-1===xt?it.destroy():tt.remove(xt)}}_insertViewFromCache(it,tt){const xt=this._viewCache.pop();return xt&&tt.insert(xt,it),xt||null}}class qe{constructor(it=!1,tt,xt=!0,Rt){this._multiple=it,this._emitChanges=xt,this.compareWith=Rt,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new J.x,tt&&tt.length&&(it?tt.forEach(Ct=>this._markSelected(Ct)):this._markSelected(tt[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...it){this._verifyValueAssignment(it),it.forEach(xt=>this._markSelected(xt));const tt=this._hasQueuedChanges();return this._emitChangeEvent(),tt}deselect(...it){this._verifyValueAssignment(it),it.forEach(xt=>this._unmarkSelected(xt));const tt=this._hasQueuedChanges();return this._emitChangeEvent(),tt}setSelection(...it){this._verifyValueAssignment(it);const tt=this.selected,xt=new Set(it);it.forEach(Ct=>this._markSelected(Ct)),tt.filter(Ct=>!xt.has(Ct)).forEach(Ct=>this._unmarkSelected(Ct));const Rt=this._hasQueuedChanges();return this._emitChangeEvent(),Rt}toggle(it){return this.isSelected(it)?this.deselect(it):this.select(it)}clear(it=!0){this._unmarkAll();const tt=this._hasQueuedChanges();return it&&this._emitChangeEvent(),tt}isSelected(it){if(this.compareWith){for(const tt of this._selection)if(this.compareWith(tt,it))return!0;return!1}return this._selection.has(it)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(it){this._multiple&&this.selected&&this._selected.sort(it)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(it){this.isSelected(it)||(this._multiple||this._unmarkAll(),this.isSelected(it)||this._selection.add(it),this._emitChanges&&this._selectedToEmit.push(it))}_unmarkSelected(it){this.isSelected(it)&&(this._selection.delete(it),this._emitChanges&&this._deselectedToEmit.push(it))}_unmarkAll(){this.isEmpty()||this._selection.forEach(it=>this._unmarkSelected(it))}_verifyValueAssignment(it){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}}let Ue=(()=>{class kt{constructor(){this._listeners=[]}notify(tt,xt){for(let Rt of this._listeners)Rt(tt,xt)}listen(tt){return this._listeners.push(tt),()=>{this._listeners=this._listeners.filter(xt=>tt!==xt)}}ngOnDestroy(){this._listeners=[]}}return kt.\u0275fac=function(tt){return new(tt||kt)},kt.\u0275prov=W.Yz7({token:kt,factory:kt.\u0275fac,providedIn:"root"}),kt})();const Ge=new W.OlP("_ViewRepeater")},9521:(Hn,Mt,z)=>{z.d(Mt,{A:()=>en,JH:()=>En,JU:()=>be,K5:()=>b,Ku:()=>kt,LH:()=>Ct,L_:()=>Ge,MW:()=>Ze,Mf:()=>W,SV:()=>pt,Sd:()=>xt,VM:()=>it,Vb:()=>hs,Z:()=>ke,ZH:()=>J,aO:()=>Ei,b2:()=>Er,hY:()=>Ue,jx:()=>at,oh:()=>Rt,uR:()=>tt,xE:()=>ct,yY:()=>Be,zL:()=>Ve});const J=8,W=9,b=13,be=16,at=17,Ve=18,Ue=27,Ge=32,kt=33,it=34,tt=35,xt=36,Rt=37,Ct=38,pt=39,En=40,Be=46,ct=48,Ei=57,en=65,ke=90,Ze=91,Er=224;function hs(Lr,...aa){return aa.length?aa.some(Kr=>Lr[Kr]):Lr.altKey||Lr.shiftKey||Lr.ctrlKey||Lr.metaKey}},9643:(Hn,Mt,z)=>{z.d(Mt,{Q8:()=>qe,wD:()=>Ve});var M=z(1281),J=z(4650),W=z(9751),Le=z(7579),b=z(8372);let be=(()=>{class Ae{create(Ge){return typeof MutationObserver>"u"?null:new MutationObserver(Ge)}}return Ae.\u0275fac=function(Ge){return new(Ge||Ae)},Ae.\u0275prov=J.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"root"}),Ae})(),at=(()=>{class Ae{constructor(Ge){this._mutationObserverFactory=Ge,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((Ge,kt)=>this._cleanupObserver(kt))}observe(Ge){const kt=(0,M.fI)(Ge);return new W.y(it=>{const xt=this._observeElement(kt).subscribe(it);return()=>{xt.unsubscribe(),this._unobserveElement(kt)}})}_observeElement(Ge){if(this._observedElements.has(Ge))this._observedElements.get(Ge).count++;else{const kt=new Le.x,it=this._mutationObserverFactory.create(tt=>kt.next(tt));it&&it.observe(Ge,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(Ge,{observer:it,stream:kt,count:1})}return this._observedElements.get(Ge).stream}_unobserveElement(Ge){this._observedElements.has(Ge)&&(this._observedElements.get(Ge).count--,this._observedElements.get(Ge).count||this._cleanupObserver(Ge))}_cleanupObserver(Ge){if(this._observedElements.has(Ge)){const{observer:kt,stream:it}=this._observedElements.get(Ge);kt&&kt.disconnect(),it.complete(),this._observedElements.delete(Ge)}}}return Ae.\u0275fac=function(Ge){return new(Ge||Ae)(J.LFG(be))},Ae.\u0275prov=J.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"root"}),Ae})(),Ve=(()=>{class Ae{constructor(Ge,kt,it){this._contentObserver=Ge,this._elementRef=kt,this._ngZone=it,this.event=new J.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(Ge){this._disabled=(0,M.Ig)(Ge),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(Ge){this._debounce=(0,M.su)(Ge),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const Ge=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?Ge.pipe((0,b.b)(this.debounce)):Ge).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return Ae.\u0275fac=function(Ge){return new(Ge||Ae)(J.Y36(at),J.Y36(J.SBq),J.Y36(J.R0b))},Ae.\u0275dir=J.lG2({type:Ae,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),Ae})(),qe=(()=>{class Ae{}return Ae.\u0275fac=function(Ge){return new(Ge||Ae)},Ae.\u0275mod=J.oAB({type:Ae}),Ae.\u0275inj=J.cJS({providers:[be]}),Ae})()},3353:(Hn,Mt,z)=>{z.d(Mt,{Mq:()=>it,Oy:()=>_t,_i:()=>tt,ht:()=>pt,i$:()=>Ue,kV:()=>Ct,qK:()=>Ve,sA:()=>En,t4:()=>Le});var M=z(4650),J=z(6895);let W;try{W=typeof Intl<"u"&&Intl.v8BreakIterator}catch{W=!1}let be,Le=(()=>{class je{constructor(Be){this._platformId=Be,this.isBrowser=this._platformId?(0,J.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!W)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return je.\u0275fac=function(Be){return new(Be||je)(M.LFG(M.Lbi))},je.\u0275prov=M.Yz7({token:je,factory:je.\u0275fac,providedIn:"root"}),je})();const at=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Ve(){if(be)return be;if("object"!=typeof document||!document)return be=new Set(at),be;let je=document.createElement("input");return be=new Set(at.filter(Te=>(je.setAttribute("type",Te),je.type===Te))),be}let qe,Ge,kt,xt;function Ue(je){return function Ae(){if(null==qe&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>qe=!0}))}finally{qe=qe||!1}return qe}()?je:!!je.capture}function it(){if(null==kt){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return kt=!1,kt;if("scrollBehavior"in document.documentElement.style)kt=!0;else{const je=Element.prototype.scrollTo;kt=!!je&&!/\{\s*\[native code\]\s*\}/.test(je.toString())}}return kt}function tt(){if("object"!=typeof document||!document)return 0;if(null==Ge){const je=document.createElement("div"),Te=je.style;je.dir="rtl",Te.width="1px",Te.overflow="auto",Te.visibility="hidden",Te.pointerEvents="none",Te.position="absolute";const Be=document.createElement("div"),ct=Be.style;ct.width="2px",ct.height="1px",je.appendChild(Be),document.body.appendChild(je),Ge=0,0===je.scrollLeft&&(je.scrollLeft=1,Ge=0===je.scrollLeft?1:2),je.remove()}return Ge}function Ct(je){if(function Rt(){if(null==xt){const je=typeof document<"u"?document.head:null;xt=!(!je||!je.createShadowRoot&&!je.attachShadow)}return xt}()){const Te=je.getRootNode?je.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&Te instanceof ShadowRoot)return Te}return null}function pt(){let je=typeof document<"u"&&document?document.activeElement:null;for(;je&&je.shadowRoot;){const Te=je.shadowRoot.activeElement;if(Te===je)break;je=Te}return je}function En(je){return je.composedPath?je.composedPath()[0]:je.target}function _t(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},4080:(Hn,Mt,z)=>{z.d(Mt,{C5:()=>Ae,Pl:()=>pt,UE:()=>Ue,eL:()=>_t,en:()=>kt,u0:()=>tt});var M=z(4650),J=z(6895);class qe{attach(Be){return this._attachedHost=Be,Be.attach(this)}detach(){let Be=this._attachedHost;null!=Be&&(this._attachedHost=null,Be.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(Be){this._attachedHost=Be}}class Ae extends qe{constructor(Be,ct,lt,ut){super(),this.component=Be,this.viewContainerRef=ct,this.injector=lt,this.componentFactoryResolver=ut}}class Ue extends qe{constructor(Be,ct,lt,ut){super(),this.templateRef=Be,this.viewContainerRef=ct,this.context=lt,this.injector=ut}get origin(){return this.templateRef.elementRef}attach(Be,ct=this.context){return this.context=ct,super.attach(Be)}detach(){return this.context=void 0,super.detach()}}class Ge extends qe{constructor(Be){super(),this.element=Be instanceof M.SBq?Be.nativeElement:Be}}class kt{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(Be){return Be instanceof Ae?(this._attachedPortal=Be,this.attachComponentPortal(Be)):Be instanceof Ue?(this._attachedPortal=Be,this.attachTemplatePortal(Be)):this.attachDomPortal&&Be instanceof Ge?(this._attachedPortal=Be,this.attachDomPortal(Be)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(Be){this._disposeFn=Be}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class tt extends kt{constructor(Be,ct,lt,ut,vn){super(),this.outletElement=Be,this._componentFactoryResolver=ct,this._appRef=lt,this._defaultInjector=ut,this.attachDomPortal=pn=>{const ai=pn.element,Gn=this._document.createComment("dom-portal");ai.parentNode.insertBefore(Gn,ai),this.outletElement.appendChild(ai),this._attachedPortal=pn,super.setDisposeFn(()=>{Gn.parentNode&&Gn.parentNode.replaceChild(ai,Gn)})},this._document=vn}attachComponentPortal(Be){const lt=(Be.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Be.component);let ut;return Be.viewContainerRef?(ut=Be.viewContainerRef.createComponent(lt,Be.viewContainerRef.length,Be.injector||Be.viewContainerRef.injector),this.setDisposeFn(()=>ut.destroy())):(ut=lt.create(Be.injector||this._defaultInjector||M.zs3.NULL),this._appRef.attachView(ut.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(ut.hostView),ut.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(ut)),this._attachedPortal=Be,ut}attachTemplatePortal(Be){let ct=Be.viewContainerRef,lt=ct.createEmbeddedView(Be.templateRef,Be.context,{injector:Be.injector});return lt.rootNodes.forEach(ut=>this.outletElement.appendChild(ut)),lt.detectChanges(),this.setDisposeFn(()=>{let ut=ct.indexOf(lt);-1!==ut&&ct.remove(ut)}),this._attachedPortal=Be,lt}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(Be){return Be.hostView.rootNodes[0]}}let pt=(()=>{class Te extends kt{constructor(ct,lt,ut){super(),this._componentFactoryResolver=ct,this._viewContainerRef=lt,this._isInitialized=!1,this.attached=new M.vpe,this.attachDomPortal=vn=>{const pn=vn.element,ai=this._document.createComment("dom-portal");vn.setAttachedHost(this),pn.parentNode.insertBefore(ai,pn),this._getRootNode().appendChild(pn),this._attachedPortal=vn,super.setDisposeFn(()=>{ai.parentNode&&ai.parentNode.replaceChild(pn,ai)})},this._document=ut}get portal(){return this._attachedPortal}set portal(ct){this.hasAttached()&&!ct&&!this._isInitialized||(this.hasAttached()&&super.detach(),ct&&super.attach(ct),this._attachedPortal=ct||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(ct){ct.setAttachedHost(this);const lt=null!=ct.viewContainerRef?ct.viewContainerRef:this._viewContainerRef,vn=(ct.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(ct.component),pn=lt.createComponent(vn,lt.length,ct.injector||lt.injector);return lt!==this._viewContainerRef&&this._getRootNode().appendChild(pn.hostView.rootNodes[0]),super.setDisposeFn(()=>pn.destroy()),this._attachedPortal=ct,this._attachedRef=pn,this.attached.emit(pn),pn}attachTemplatePortal(ct){ct.setAttachedHost(this);const lt=this._viewContainerRef.createEmbeddedView(ct.templateRef,ct.context,{injector:ct.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=ct,this._attachedRef=lt,this.attached.emit(lt),lt}_getRootNode(){const ct=this._viewContainerRef.element.nativeElement;return ct.nodeType===ct.ELEMENT_NODE?ct:ct.parentNode}}return Te.\u0275fac=function(ct){return new(ct||Te)(M.Y36(M._Vd),M.Y36(M.s_b),M.Y36(J.K0))},Te.\u0275dir=M.lG2({type:Te,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[M.qOj]}),Te})(),_t=(()=>{class Te{}return Te.\u0275fac=function(ct){return new(ct||Te)},Te.\u0275mod=M.oAB({type:Te}),Te.\u0275inj=M.cJS({}),Te})()},8605:(Hn,Mt,z)=>{z.d(Mt,{PQ:()=>Mn,ZD:()=>$n,mF:()=>tn,Cl:()=>Ot,rL:()=>wn});var M=z(1281),J=z(4650),W=z(7579),Le=z(9646),b=z(9751),be=z(4968),at=z(4408),Ve=z(727);const qe={schedule(ze){let we=requestAnimationFrame,ke=cancelAnimationFrame;const{delegate:Ze}=qe;Ze&&(we=Ze.requestAnimationFrame,ke=Ze.cancelAnimationFrame);const Zt=we(_n=>{ke=void 0,ze(_n)});return new Ve.w0(()=>ke?.(Zt))},requestAnimationFrame(...ze){const{delegate:we}=qe;return(we?.requestAnimationFrame||requestAnimationFrame)(...ze)},cancelAnimationFrame(...ze){const{delegate:we}=qe;return(we?.cancelAnimationFrame||cancelAnimationFrame)(...ze)},delegate:void 0};var Ue=z(7565);new class Ge extends Ue.v{flush(we){this._active=!0;const ke=this._scheduled;this._scheduled=void 0;const{actions:Ze}=this;let Zt;we=we||Ze.shift();do{if(Zt=we.execute(we.state,we.delay))break}while((we=Ze[0])&&we.id===ke&&Ze.shift());if(this._active=!1,Zt){for(;(we=Ze[0])&&we.id===ke&&Ze.shift();)we.unsubscribe();throw Zt}}}(class Ae extends at.o{constructor(we,ke){super(we,ke),this.scheduler=we,this.work=ke}requestAsyncId(we,ke,Ze=0){return null!==Ze&&Ze>0?super.requestAsyncId(we,ke,Ze):(we.actions.push(this),we._scheduled||(we._scheduled=qe.requestAnimationFrame(()=>we.flush(void 0))))}recycleAsyncId(we,ke,Ze=0){var Zt;if(null!=Ze?Ze>0:this.delay>0)return super.recycleAsyncId(we,ke,Ze);const{actions:_n}=we;null!=ke&&(null===(Zt=_n[_n.length-1])||void 0===Zt?void 0:Zt.id)!==ke&&(qe.cancelAnimationFrame(ke),we._scheduled=void 0)}});let xt,tt=1;const Rt={};function Ct(ze){return ze in Rt&&(delete Rt[ze],!0)}const pt={setImmediate(ze){const we=tt++;return Rt[we]=!0,xt||(xt=Promise.resolve()),xt.then(()=>Ct(we)&&ze()),we},clearImmediate(ze){Ct(ze)}},{setImmediate:_t,clearImmediate:je}=pt,Te={setImmediate(...ze){const{delegate:we}=Te;return(we?.setImmediate||_t)(...ze)},clearImmediate(ze){const{delegate:we}=Te;return(we?.clearImmediate||je)(ze)},delegate:void 0};new class ct extends Ue.v{flush(we){this._active=!0;const ke=this._scheduled;this._scheduled=void 0;const{actions:Ze}=this;let Zt;we=we||Ze.shift();do{if(Zt=we.execute(we.state,we.delay))break}while((we=Ze[0])&&we.id===ke&&Ze.shift());if(this._active=!1,Zt){for(;(we=Ze[0])&&we.id===ke&&Ze.shift();)we.unsubscribe();throw Zt}}}(class Be extends at.o{constructor(we,ke){super(we,ke),this.scheduler=we,this.work=ke}requestAsyncId(we,ke,Ze=0){return null!==Ze&&Ze>0?super.requestAsyncId(we,ke,Ze):(we.actions.push(this),we._scheduled||(we._scheduled=Te.setImmediate(we.flush.bind(we,void 0))))}recycleAsyncId(we,ke,Ze=0){var Zt;if(null!=Ze?Ze>0:this.delay>0)return super.recycleAsyncId(we,ke,Ze);const{actions:_n}=we;null!=ke&&(null===(Zt=_n[_n.length-1])||void 0===Zt?void 0:Zt.id)!==ke&&(Te.clearImmediate(ke),we._scheduled===ke&&(we._scheduled=void 0))}});var vn=z(4986),pn=z(4482),ai=z(8421),Gn=z(5403),or=z(5963);function Ei(ze,we=vn.z){return function Qi(ze){return(0,pn.e)((we,ke)=>{let Ze=!1,Zt=null,_n=null,Zn=!1;const Fn=()=>{if(_n?.unsubscribe(),_n=null,Ze){Ze=!1;const sn=Zt;Zt=null,ke.next(sn)}Zn&&ke.complete()},Lt=()=>{_n=null,Zn&&ke.complete()};we.subscribe((0,Gn.x)(ke,sn=>{Ze=!0,Zt=sn,_n||(0,ai.Xf)(ze(sn)).subscribe(_n=(0,Gn.x)(ke,Fn,Lt))},()=>{Zn=!0,(!Ze||!_n||_n.closed)&&ke.complete()}))})}(()=>(0,or.H)(ze,we))}var yi=z(9300),bt=z(2722),It=z(3353),qt=z(6895),en=z(445);let tn=(()=>{class ze{constructor(ke,Ze,Zt){this._ngZone=ke,this._platform=Ze,this._scrolled=new W.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Zt}register(ke){this.scrollContainers.has(ke)||this.scrollContainers.set(ke,ke.elementScrolled().subscribe(()=>this._scrolled.next(ke)))}deregister(ke){const Ze=this.scrollContainers.get(ke);Ze&&(Ze.unsubscribe(),this.scrollContainers.delete(ke))}scrolled(ke=20){return this._platform.isBrowser?new b.y(Ze=>{this._globalSubscription||this._addGlobalListener();const Zt=ke>0?this._scrolled.pipe(Ei(ke)).subscribe(Ze):this._scrolled.subscribe(Ze);return this._scrolledCount++,()=>{Zt.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Le.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((ke,Ze)=>this.deregister(Ze)),this._scrolled.complete()}ancestorScrolled(ke,Ze){const Zt=this.getAncestorScrollContainers(ke);return this.scrolled(Ze).pipe((0,yi.h)(_n=>!_n||Zt.indexOf(_n)>-1))}getAncestorScrollContainers(ke){const Ze=[];return this.scrollContainers.forEach((Zt,_n)=>{this._scrollableContainsElement(_n,ke)&&Ze.push(_n)}),Ze}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(ke,Ze){let Zt=(0,M.fI)(Ze),_n=ke.getElementRef().nativeElement;do{if(Zt==_n)return!0}while(Zt=Zt.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const ke=this._getWindow();return(0,be.R)(ke.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return ze.\u0275fac=function(ke){return new(ke||ze)(J.LFG(J.R0b),J.LFG(It.t4),J.LFG(qt.K0,8))},ze.\u0275prov=J.Yz7({token:ze,factory:ze.\u0275fac,providedIn:"root"}),ze})(),Mn=(()=>{class ze{constructor(ke,Ze,Zt,_n){this.elementRef=ke,this.scrollDispatcher=Ze,this.ngZone=Zt,this.dir=_n,this._destroyed=new W.x,this._elementScrolled=new b.y(Zn=>this.ngZone.runOutsideAngular(()=>(0,be.R)(this.elementRef.nativeElement,"scroll").pipe((0,bt.R)(this._destroyed)).subscribe(Zn)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(ke){const Ze=this.elementRef.nativeElement,Zt=this.dir&&"rtl"==this.dir.value;null==ke.left&&(ke.left=Zt?ke.end:ke.start),null==ke.right&&(ke.right=Zt?ke.start:ke.end),null!=ke.bottom&&(ke.top=Ze.scrollHeight-Ze.clientHeight-ke.bottom),Zt&&0!=(0,It._i)()?(null!=ke.left&&(ke.right=Ze.scrollWidth-Ze.clientWidth-ke.left),2==(0,It._i)()?ke.left=ke.right:1==(0,It._i)()&&(ke.left=ke.right?-ke.right:ke.right)):null!=ke.right&&(ke.left=Ze.scrollWidth-Ze.clientWidth-ke.right),this._applyScrollToOptions(ke)}_applyScrollToOptions(ke){const Ze=this.elementRef.nativeElement;(0,It.Mq)()?Ze.scrollTo(ke):(null!=ke.top&&(Ze.scrollTop=ke.top),null!=ke.left&&(Ze.scrollLeft=ke.left))}measureScrollOffset(ke){const Ze="left",_n=this.elementRef.nativeElement;if("top"==ke)return _n.scrollTop;if("bottom"==ke)return _n.scrollHeight-_n.clientHeight-_n.scrollTop;const Zn=this.dir&&"rtl"==this.dir.value;return"start"==ke?ke=Zn?"right":Ze:"end"==ke&&(ke=Zn?Ze:"right"),Zn&&2==(0,It._i)()?ke==Ze?_n.scrollWidth-_n.clientWidth-_n.scrollLeft:_n.scrollLeft:Zn&&1==(0,It._i)()?ke==Ze?_n.scrollLeft+_n.scrollWidth-_n.clientWidth:-_n.scrollLeft:ke==Ze?_n.scrollLeft:_n.scrollWidth-_n.clientWidth-_n.scrollLeft}}return ze.\u0275fac=function(ke){return new(ke||ze)(J.Y36(J.SBq),J.Y36(tn),J.Y36(J.R0b),J.Y36(en.Is,8))},ze.\u0275dir=J.lG2({type:ze,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),ze})(),wn=(()=>{class ze{constructor(ke,Ze,Zt){this._platform=ke,this._change=new W.x,this._changeListener=_n=>{this._change.next(_n)},this._document=Zt,Ze.runOutsideAngular(()=>{if(ke.isBrowser){const _n=this._getWindow();_n.addEventListener("resize",this._changeListener),_n.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const ke=this._getWindow();ke.removeEventListener("resize",this._changeListener),ke.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const ke={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),ke}getViewportRect(){const ke=this.getViewportScrollPosition(),{width:Ze,height:Zt}=this.getViewportSize();return{top:ke.top,left:ke.left,bottom:ke.top+Zt,right:ke.left+Ze,height:Zt,width:Ze}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const ke=this._document,Ze=this._getWindow(),Zt=ke.documentElement,_n=Zt.getBoundingClientRect();return{top:-_n.top||ke.body.scrollTop||Ze.scrollY||Zt.scrollTop||0,left:-_n.left||ke.body.scrollLeft||Ze.scrollX||Zt.scrollLeft||0}}change(ke=20){return ke>0?this._change.pipe(Ei(ke)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const ke=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:ke.innerWidth,height:ke.innerHeight}:{width:0,height:0}}}return ze.\u0275fac=function(ke){return new(ke||ze)(J.LFG(It.t4),J.LFG(J.R0b),J.LFG(qt.K0,8))},ze.\u0275prov=J.Yz7({token:ze,factory:ze.\u0275fac,providedIn:"root"}),ze})(),$n=(()=>{class ze{}return ze.\u0275fac=function(ke){return new(ke||ze)},ze.\u0275mod=J.oAB({type:ze}),ze.\u0275inj=J.cJS({}),ze})(),Ot=(()=>{class ze{}return ze.\u0275fac=function(ke){return new(ke||ze)},ze.\u0275mod=J.oAB({type:ze}),ze.\u0275inj=J.cJS({imports:[en.vT,$n,en.vT,$n]}),ze})()},6895:(Hn,Mt,z)=>{z.d(Mt,{Do:()=>En,EM:()=>no,HT:()=>b,JF:()=>Xo,K0:()=>at,Mx:()=>Ea,NF:()=>xl,O5:()=>Lr,PC:()=>Ua,PM:()=>Sl,RF:()=>la,S$:()=>Rt,V_:()=>Ae,Ye:()=>_t,b0:()=>pt,bD:()=>$l,ez:()=>Gl,i8:()=>Xt,mk:()=>Or,n9:()=>xa,q:()=>W,sg:()=>pr,w_:()=>be});var M=z(4650);let J=null;function W(){return J}function b(X){J||(J=X)}class be{}const at=new M.OlP("DocumentToken");let Ve=(()=>{class X{historyGo(re){throw new Error("Not implemented")}}return X.\u0275fac=function(re){return new(re||X)},X.\u0275prov=M.Yz7({token:X,factory:function(){return function qe(){return(0,M.LFG)(Ue)}()},providedIn:"platform"}),X})();const Ae=new M.OlP("Location Initialized");let Ue=(()=>{class X extends Ve{constructor(re){super(),this._doc=re,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return W().getBaseHref(this._doc)}onPopState(re){const Re=W().getGlobalEventTarget(this._doc,"window");return Re.addEventListener("popstate",re,!1),()=>Re.removeEventListener("popstate",re)}onHashChange(re){const Re=W().getGlobalEventTarget(this._doc,"window");return Re.addEventListener("hashchange",re,!1),()=>Re.removeEventListener("hashchange",re)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(re){this.location.pathname=re}pushState(re,Re,Et){Ge()?this._history.pushState(re,Re,Et):this.location.hash=Et}replaceState(re,Re,Et){Ge()?this._history.replaceState(re,Re,Et):this.location.hash=Et}forward(){this._history.forward()}back(){this._history.back()}historyGo(re=0){this._history.go(re)}getState(){return this._history.state}}return X.\u0275fac=function(re){return new(re||X)(M.LFG(at))},X.\u0275prov=M.Yz7({token:X,factory:function(){return function kt(){return new Ue((0,M.LFG)(at))}()},providedIn:"platform"}),X})();function Ge(){return!!window.history.pushState}function it(X,me){if(0==X.length)return me;if(0==me.length)return X;let re=0;return X.endsWith("/")&&re++,me.startsWith("/")&&re++,2==re?X+me.substring(1):1==re?X+me:X+"/"+me}function tt(X){const me=X.match(/#|\?|$/),re=me&&me.index||X.length;return X.slice(0,re-("/"===X[re-1]?1:0))+X.slice(re)}function xt(X){return X&&"?"!==X[0]?"?"+X:X}let Rt=(()=>{class X{historyGo(re){throw new Error("Not implemented")}}return X.\u0275fac=function(re){return new(re||X)},X.\u0275prov=M.Yz7({token:X,factory:function(){return(0,M.f3M)(pt)},providedIn:"root"}),X})();const Ct=new M.OlP("appBaseHref");let pt=(()=>{class X extends Rt{constructor(re,Re){super(),this._platformLocation=re,this._removeListenerFns=[],this._baseHref=Re??this._platformLocation.getBaseHrefFromDOM()??(0,M.f3M)(at).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(re){this._removeListenerFns.push(this._platformLocation.onPopState(re),this._platformLocation.onHashChange(re))}getBaseHref(){return this._baseHref}prepareExternalUrl(re){return it(this._baseHref,re)}path(re=!1){const Re=this._platformLocation.pathname+xt(this._platformLocation.search),Et=this._platformLocation.hash;return Et&&re?`${Re}${Et}`:Re}pushState(re,Re,Et,ln){const Pn=this.prepareExternalUrl(Et+xt(ln));this._platformLocation.pushState(re,Re,Pn)}replaceState(re,Re,Et,ln){const Pn=this.prepareExternalUrl(Et+xt(ln));this._platformLocation.replaceState(re,Re,Pn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(re=0){this._platformLocation.historyGo?.(re)}}return X.\u0275fac=function(re){return new(re||X)(M.LFG(Ve),M.LFG(Ct,8))},X.\u0275prov=M.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"}),X})(),En=(()=>{class X extends Rt{constructor(re,Re){super(),this._platformLocation=re,this._baseHref="",this._removeListenerFns=[],null!=Re&&(this._baseHref=Re)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(re){this._removeListenerFns.push(this._platformLocation.onPopState(re),this._platformLocation.onHashChange(re))}getBaseHref(){return this._baseHref}path(re=!1){let Re=this._platformLocation.hash;return null==Re&&(Re="#"),Re.length>0?Re.substring(1):Re}prepareExternalUrl(re){const Re=it(this._baseHref,re);return Re.length>0?"#"+Re:Re}pushState(re,Re,Et,ln){let Pn=this.prepareExternalUrl(Et+xt(ln));0==Pn.length&&(Pn=this._platformLocation.pathname),this._platformLocation.pushState(re,Re,Pn)}replaceState(re,Re,Et,ln){let Pn=this.prepareExternalUrl(Et+xt(ln));0==Pn.length&&(Pn=this._platformLocation.pathname),this._platformLocation.replaceState(re,Re,Pn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(re=0){this._platformLocation.historyGo?.(re)}}return X.\u0275fac=function(re){return new(re||X)(M.LFG(Ve),M.LFG(Ct,8))},X.\u0275prov=M.Yz7({token:X,factory:X.\u0275fac}),X})(),_t=(()=>{class X{constructor(re){this._subject=new M.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=re;const Re=this._locationStrategy.getBaseHref();this._baseHref=tt(Be(Re)),this._locationStrategy.onPopState(Et=>{this._subject.emit({url:this.path(!0),pop:!0,state:Et.state,type:Et.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(re=!1){return this.normalize(this._locationStrategy.path(re))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(re,Re=""){return this.path()==this.normalize(re+xt(Re))}normalize(re){return X.stripTrailingSlash(function Te(X,me){return X&&me.startsWith(X)?me.substring(X.length):me}(this._baseHref,Be(re)))}prepareExternalUrl(re){return re&&"/"!==re[0]&&(re="/"+re),this._locationStrategy.prepareExternalUrl(re)}go(re,Re="",Et=null){this._locationStrategy.pushState(Et,"",re,Re),this._notifyUrlChangeListeners(this.prepareExternalUrl(re+xt(Re)),Et)}replaceState(re,Re="",Et=null){this._locationStrategy.replaceState(Et,"",re,Re),this._notifyUrlChangeListeners(this.prepareExternalUrl(re+xt(Re)),Et)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(re=0){this._locationStrategy.historyGo?.(re)}onUrlChange(re){return this._urlChangeListeners.push(re),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Re=>{this._notifyUrlChangeListeners(Re.url,Re.state)})),()=>{const Re=this._urlChangeListeners.indexOf(re);this._urlChangeListeners.splice(Re,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(re="",Re){this._urlChangeListeners.forEach(Et=>Et(re,Re))}subscribe(re,Re,Et){return this._subject.subscribe({next:re,error:Re,complete:Et})}}return X.normalizeQueryParams=xt,X.joinWithSlash=it,X.stripTrailingSlash=tt,X.\u0275fac=function(re){return new(re||X)(M.LFG(Rt))},X.\u0275prov=M.Yz7({token:X,factory:function(){return function je(){return new _t((0,M.LFG)(Rt))}()},providedIn:"root"}),X})();function Be(X){return X.replace(/\/index.html$/,"")}function Ea(X,me){me=encodeURIComponent(me);for(const re of X.split(";")){const Re=re.indexOf("="),[Et,ln]=-1==Re?[re,""]:[re.slice(0,Re),re.slice(Re+1)];if(Et.trim()===me)return decodeURIComponent(ln)}return null}let Or=(()=>{class X{constructor(re,Re,Et,ln){this._iterableDiffers=re,this._keyValueDiffers=Re,this._ngEl=Et,this._renderer=ln,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(re){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof re?re.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(re){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof re?re.split(/\s+/):re,this._rawClass&&((0,M.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const re=this._iterableDiffer.diff(this._rawClass);re&&this._applyIterableChanges(re)}else if(this._keyValueDiffer){const re=this._keyValueDiffer.diff(this._rawClass);re&&this._applyKeyValueChanges(re)}}_applyKeyValueChanges(re){re.forEachAddedItem(Re=>this._toggleClass(Re.key,Re.currentValue)),re.forEachChangedItem(Re=>this._toggleClass(Re.key,Re.currentValue)),re.forEachRemovedItem(Re=>{Re.previousValue&&this._toggleClass(Re.key,!1)})}_applyIterableChanges(re){re.forEachAddedItem(Re=>{if("string"!=typeof Re.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,M.AaK)(Re.item)}`);this._toggleClass(Re.item,!0)}),re.forEachRemovedItem(Re=>this._toggleClass(Re.item,!1))}_applyClasses(re){re&&(Array.isArray(re)||re instanceof Set?re.forEach(Re=>this._toggleClass(Re,!0)):Object.keys(re).forEach(Re=>this._toggleClass(Re,!!re[Re])))}_removeClasses(re){re&&(Array.isArray(re)||re instanceof Set?re.forEach(Re=>this._toggleClass(Re,!1)):Object.keys(re).forEach(Re=>this._toggleClass(Re,!1)))}_toggleClass(re,Re){(re=re.trim())&&re.split(/\s+/g).forEach(Et=>{Re?this._renderer.addClass(this._ngEl.nativeElement,Et):this._renderer.removeClass(this._ngEl.nativeElement,Et)})}}return X.\u0275fac=function(re){return new(re||X)(M.Y36(M.ZZ4),M.Y36(M.aQg),M.Y36(M.SBq),M.Y36(M.Qsj))},X.\u0275dir=M.lG2({type:X,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),X})();class Da{constructor(me,re,Re,Et){this.$implicit=me,this.ngForOf=re,this.index=Re,this.count=Et}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let pr=(()=>{class X{constructor(re,Re,Et){this._viewContainer=re,this._template=Re,this._differs=Et,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(re){this._ngForOf=re,this._ngForOfDirty=!0}set ngForTrackBy(re){this._trackByFn=re}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(re){re&&(this._template=re)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const re=this._ngForOf;!this._differ&&re&&(this._differ=this._differs.find(re).create(this.ngForTrackBy))}if(this._differ){const re=this._differ.diff(this._ngForOf);re&&this._applyChanges(re)}}_applyChanges(re){const Re=this._viewContainer;re.forEachOperation((Et,ln,Pn)=>{if(null==Et.previousIndex)Re.createEmbeddedView(this._template,new Da(Et.item,this._ngForOf,-1,-1),null===Pn?void 0:Pn);else if(null==Pn)Re.remove(null===ln?void 0:ln);else if(null!==ln){const Di=Re.get(ln);Re.move(Di,Pn),Er(Di,Et)}});for(let Et=0,ln=Re.length;Et<ln;Et++){const Di=Re.get(Et).context;Di.index=Et,Di.count=ln,Di.ngForOf=this._ngForOf}re.forEachIdentityChange(Et=>{Er(Re.get(Et.currentIndex),Et)})}static ngTemplateContextGuard(re,Re){return!0}}return X.\u0275fac=function(re){return new(re||X)(M.Y36(M.s_b),M.Y36(M.Rgc),M.Y36(M.ZZ4))},X.\u0275dir=M.lG2({type:X,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),X})();function Er(X,me){X.context.$implicit=me.item}let Lr=(()=>{class X{constructor(re,Re){this._viewContainer=re,this._context=new aa,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Re}set ngIf(re){this._context.$implicit=this._context.ngIf=re,this._updateView()}set ngIfThen(re){Kr("ngIfThen",re),this._thenTemplateRef=re,this._thenViewRef=null,this._updateView()}set ngIfElse(re){Kr("ngIfElse",re),this._elseTemplateRef=re,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(re,Re){return!0}}return X.\u0275fac=function(re){return new(re||X)(M.Y36(M.s_b),M.Y36(M.Rgc))},X.\u0275dir=M.lG2({type:X,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),X})();class aa{constructor(){this.$implicit=null,this.ngIf=null}}function Kr(X,me){if(me&&!me.createEmbeddedView)throw new Error(`${X} must be a TemplateRef, but received '${(0,M.AaK)(me)}'.`)}class Fs{constructor(me,re){this._viewContainerRef=me,this._templateRef=re,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(me){me&&!this._created?this.create():!me&&this._created&&this.destroy()}}let la=(()=>{class X{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(re){this._ngSwitch=re,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(re){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(re)}_matchCase(re){const Re=re==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Re,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Re}_updateDefaultCases(re){if(this._defaultViews&&re!==this._defaultUsed){this._defaultUsed=re;for(let Re=0;Re<this._defaultViews.length;Re++)this._defaultViews[Re].enforceState(re)}}}return X.\u0275fac=function(re){return new(re||X)},X.\u0275dir=M.lG2({type:X,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),X})(),xa=(()=>{class X{constructor(re,Re,Et){this.ngSwitch=Et,Et._addCase(),this._view=new Fs(re,Re)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return X.\u0275fac=function(re){return new(re||X)(M.Y36(M.s_b),M.Y36(M.Rgc),M.Y36(la,9))},X.\u0275dir=M.lG2({type:X,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),X})(),Ua=(()=>{class X{constructor(re,Re,Et){this._ngEl=re,this._differs=Re,this._renderer=Et,this._ngStyle=null,this._differ=null}set ngStyle(re){this._ngStyle=re,!this._differ&&re&&(this._differ=this._differs.find(re).create())}ngDoCheck(){if(this._differ){const re=this._differ.diff(this._ngStyle);re&&this._applyChanges(re)}}_setStyle(re,Re){const[Et,ln]=re.split("."),Pn=-1===Et.indexOf("-")?void 0:M.JOm.DashCase;null!=Re?this._renderer.setStyle(this._ngEl.nativeElement,Et,ln?`${Re}${ln}`:Re,Pn):this._renderer.removeStyle(this._ngEl.nativeElement,Et,Pn)}_applyChanges(re){re.forEachRemovedItem(Re=>this._setStyle(Re.key,null)),re.forEachAddedItem(Re=>this._setStyle(Re.key,Re.currentValue)),re.forEachChangedItem(Re=>this._setStyle(Re.key,Re.currentValue))}}return X.\u0275fac=function(re){return new(re||X)(M.Y36(M.SBq),M.Y36(M.aQg),M.Y36(M.Qsj))},X.\u0275dir=M.lG2({type:X,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),X})();let Xt=(()=>{class X{transform(re){if(null==re)return null;if("string"!=typeof re)throw function Pr(X,me){return new M.vHH(2100,!1)}();return re.toLowerCase()}}return X.\u0275fac=function(re){return new(re||X)},X.\u0275pipe=M.Yjl({name:"lowercase",type:X,pure:!0,standalone:!0}),X})(),Gl=(()=>{class X{}return X.\u0275fac=function(re){return new(re||X)},X.\u0275mod=M.oAB({type:X}),X.\u0275inj=M.cJS({}),X})();const $l="browser";function xl(X){return X===$l}function Sl(X){return"server"===X}let no=(()=>{class X{}return X.\u0275prov=(0,M.Yz7)({token:X,providedIn:"root",factory:()=>new _s((0,M.LFG)(at),window)}),X})();class _s{constructor(me,re){this.document=me,this.window=re,this.offset=()=>[0,0]}setOffset(me){this.offset=Array.isArray(me)?()=>me:me}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(me){this.supportsScrolling()&&this.window.scrollTo(me[0],me[1])}scrollToAnchor(me){if(!this.supportsScrolling())return;const re=function qs(X,me){const re=X.getElementById(me)||X.getElementsByName(me)[0];if(re)return re;if("function"==typeof X.createTreeWalker&&X.body&&(X.body.createShadowRoot||X.body.attachShadow)){const Re=X.createTreeWalker(X.body,NodeFilter.SHOW_ELEMENT);let Et=Re.currentNode;for(;Et;){const ln=Et.shadowRoot;if(ln){const Pn=ln.getElementById(me)||ln.querySelector(`[name="${me}"]`);if(Pn)return Pn}Et=Re.nextNode()}}return null}(this.document,me);re&&(this.scrollToElement(re),re.focus())}setHistoryScrollRestoration(me){if(this.supportScrollRestoration()){const re=this.window.history;re&&re.scrollRestoration&&(re.scrollRestoration=me)}}scrollToElement(me){const re=me.getBoundingClientRect(),Re=re.left+this.window.pageXOffset,Et=re.top+this.window.pageYOffset,ln=this.offset();this.window.scrollTo(Re-ln[0],Et-ln[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const me=jr(this.window.history)||jr(Object.getPrototypeOf(this.window.history));return!(!me||!me.writable&&!me.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function jr(X){return Object.getOwnPropertyDescriptor(X,"scrollRestoration")}class Xo{}},529:(Hn,Mt,z)=>{z.d(Mt,{JF:()=>Qt,TP:()=>yi,eN:()=>or});var M=z(6895),J=z(4650),W=z(9646),Le=z(9751),b=z(4351),be=z(9300),at=z(4004);class Ve{}class qe{}class Ae{constructor(ze){this.normalizedNames=new Map,this.lazyUpdate=null,ze?this.lazyInit="string"==typeof ze?()=>{this.headers=new Map,ze.split("\n").forEach(we=>{const ke=we.indexOf(":");if(ke>0){const Ze=we.slice(0,ke),Zt=Ze.toLowerCase(),_n=we.slice(ke+1).trim();this.maybeSetNormalizedName(Ze,Zt),this.headers.has(Zt)?this.headers.get(Zt).push(_n):this.headers.set(Zt,[_n])}})}:()=>{this.headers=new Map,Object.keys(ze).forEach(we=>{let ke=ze[we];const Ze=we.toLowerCase();"string"==typeof ke&&(ke=[ke]),ke.length>0&&(this.headers.set(Ze,ke),this.maybeSetNormalizedName(we,Ze))})}:this.headers=new Map}has(ze){return this.init(),this.headers.has(ze.toLowerCase())}get(ze){this.init();const we=this.headers.get(ze.toLowerCase());return we&&we.length>0?we[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ze){return this.init(),this.headers.get(ze.toLowerCase())||null}append(ze,we){return this.clone({name:ze,value:we,op:"a"})}set(ze,we){return this.clone({name:ze,value:we,op:"s"})}delete(ze,we){return this.clone({name:ze,value:we,op:"d"})}maybeSetNormalizedName(ze,we){this.normalizedNames.has(we)||this.normalizedNames.set(we,ze)}init(){this.lazyInit&&(this.lazyInit instanceof Ae?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ze=>this.applyUpdate(ze)),this.lazyUpdate=null))}copyFrom(ze){ze.init(),Array.from(ze.headers.keys()).forEach(we=>{this.headers.set(we,ze.headers.get(we)),this.normalizedNames.set(we,ze.normalizedNames.get(we))})}clone(ze){const we=new Ae;return we.lazyInit=this.lazyInit&&this.lazyInit instanceof Ae?this.lazyInit:this,we.lazyUpdate=(this.lazyUpdate||[]).concat([ze]),we}applyUpdate(ze){const we=ze.name.toLowerCase();switch(ze.op){case"a":case"s":let ke=ze.value;if("string"==typeof ke&&(ke=[ke]),0===ke.length)return;this.maybeSetNormalizedName(ze.name,we);const Ze=("a"===ze.op?this.headers.get(we):void 0)||[];Ze.push(...ke),this.headers.set(we,Ze);break;case"d":const Zt=ze.value;if(Zt){let _n=this.headers.get(we);if(!_n)return;_n=_n.filter(Zn=>-1===Zt.indexOf(Zn)),0===_n.length?(this.headers.delete(we),this.normalizedNames.delete(we)):this.headers.set(we,_n)}else this.headers.delete(we),this.normalizedNames.delete(we)}}forEach(ze){this.init(),Array.from(this.normalizedNames.keys()).forEach(we=>ze(this.normalizedNames.get(we),this.headers.get(we)))}}class Ge{encodeKey(ze){return xt(ze)}encodeValue(ze){return xt(ze)}decodeKey(ze){return decodeURIComponent(ze)}decodeValue(ze){return decodeURIComponent(ze)}}const it=/%(\d[a-f0-9])/gi,tt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function xt(Ot){return encodeURIComponent(Ot).replace(it,(ze,we)=>tt[we]??ze)}function Rt(Ot){return`${Ot}`}class Ct{constructor(ze={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ze.encoder||new Ge,ze.fromString){if(ze.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function kt(Ot,ze){const we=new Map;return Ot.length>0&&Ot.replace(/^\?/,"").split("&").forEach(Ze=>{const Zt=Ze.indexOf("="),[_n,Zn]=-1==Zt?[ze.decodeKey(Ze),""]:[ze.decodeKey(Ze.slice(0,Zt)),ze.decodeValue(Ze.slice(Zt+1))],Fn=we.get(_n)||[];Fn.push(Zn),we.set(_n,Fn)}),we}(ze.fromString,this.encoder)}else ze.fromObject?(this.map=new Map,Object.keys(ze.fromObject).forEach(we=>{const ke=ze.fromObject[we],Ze=Array.isArray(ke)?ke.map(Rt):[Rt(ke)];this.map.set(we,Ze)})):this.map=null}has(ze){return this.init(),this.map.has(ze)}get(ze){this.init();const we=this.map.get(ze);return we?we[0]:null}getAll(ze){return this.init(),this.map.get(ze)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ze,we){return this.clone({param:ze,value:we,op:"a"})}appendAll(ze){const we=[];return Object.keys(ze).forEach(ke=>{const Ze=ze[ke];Array.isArray(Ze)?Ze.forEach(Zt=>{we.push({param:ke,value:Zt,op:"a"})}):we.push({param:ke,value:Ze,op:"a"})}),this.clone(we)}set(ze,we){return this.clone({param:ze,value:we,op:"s"})}delete(ze,we){return this.clone({param:ze,value:we,op:"d"})}toString(){return this.init(),this.keys().map(ze=>{const we=this.encoder.encodeKey(ze);return this.map.get(ze).map(ke=>we+"="+this.encoder.encodeValue(ke)).join("&")}).filter(ze=>""!==ze).join("&")}clone(ze){const we=new Ct({encoder:this.encoder});return we.cloneFrom=this.cloneFrom||this,we.updates=(this.updates||[]).concat(ze),we}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ze=>this.map.set(ze,this.cloneFrom.map.get(ze))),this.updates.forEach(ze=>{switch(ze.op){case"a":case"s":const we=("a"===ze.op?this.map.get(ze.param):void 0)||[];we.push(Rt(ze.value)),this.map.set(ze.param,we);break;case"d":if(void 0===ze.value){this.map.delete(ze.param);break}{let ke=this.map.get(ze.param)||[];const Ze=ke.indexOf(Rt(ze.value));-1!==Ze&&ke.splice(Ze,1),ke.length>0?this.map.set(ze.param,ke):this.map.delete(ze.param)}}}),this.cloneFrom=this.updates=null)}}class En{constructor(){this.map=new Map}set(ze,we){return this.map.set(ze,we),this}get(ze){return this.map.has(ze)||this.map.set(ze,ze.defaultValue()),this.map.get(ze)}delete(ze){return this.map.delete(ze),this}has(ze){return this.map.has(ze)}keys(){return this.map.keys()}}function je(Ot){return typeof ArrayBuffer<"u"&&Ot instanceof ArrayBuffer}function Te(Ot){return typeof Blob<"u"&&Ot instanceof Blob}function Be(Ot){return typeof FormData<"u"&&Ot instanceof FormData}class lt{constructor(ze,we,ke,Ze){let Zt;if(this.url=we,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ze.toUpperCase(),function _t(Ot){switch(Ot){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Ze?(this.body=void 0!==ke?ke:null,Zt=Ze):Zt=ke,Zt&&(this.reportProgress=!!Zt.reportProgress,this.withCredentials=!!Zt.withCredentials,Zt.responseType&&(this.responseType=Zt.responseType),Zt.headers&&(this.headers=Zt.headers),Zt.context&&(this.context=Zt.context),Zt.params&&(this.params=Zt.params)),this.headers||(this.headers=new Ae),this.context||(this.context=new En),this.params){const _n=this.params.toString();if(0===_n.length)this.urlWithParams=we;else{const Zn=we.indexOf("?");this.urlWithParams=we+(-1===Zn?"?":Zn<we.length-1?"&":"")+_n}}else this.params=new Ct,this.urlWithParams=we}serializeBody(){return null===this.body?null:je(this.body)||Te(this.body)||Be(this.body)||function ct(Ot){return typeof URLSearchParams<"u"&&Ot instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ct?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Be(this.body)?null:Te(this.body)?this.body.type||null:je(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ct?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ze={}){const we=ze.method||this.method,ke=ze.url||this.url,Ze=ze.responseType||this.responseType,Zt=void 0!==ze.body?ze.body:this.body,_n=void 0!==ze.withCredentials?ze.withCredentials:this.withCredentials,Zn=void 0!==ze.reportProgress?ze.reportProgress:this.reportProgress;let Fn=ze.headers||this.headers,Lt=ze.params||this.params;const sn=ze.context??this.context;return void 0!==ze.setHeaders&&(Fn=Object.keys(ze.setHeaders).reduce((Ye,Ke)=>Ye.set(Ke,ze.setHeaders[Ke]),Fn)),ze.setParams&&(Lt=Object.keys(ze.setParams).reduce((Ye,Ke)=>Ye.set(Ke,ze.setParams[Ke]),Lt)),new lt(we,ke,Zt,{params:Lt,headers:Fn,context:sn,reportProgress:Zn,responseType:Ze,withCredentials:_n})}}var ut=(()=>((ut=ut||{})[ut.Sent=0]="Sent",ut[ut.UploadProgress=1]="UploadProgress",ut[ut.ResponseHeader=2]="ResponseHeader",ut[ut.DownloadProgress=3]="DownloadProgress",ut[ut.Response=4]="Response",ut[ut.User=5]="User",ut))();class vn{constructor(ze,we=200,ke="OK"){this.headers=ze.headers||new Ae,this.status=void 0!==ze.status?ze.status:we,this.statusText=ze.statusText||ke,this.url=ze.url||null,this.ok=this.status>=200&&this.status<300}}class pn extends vn{constructor(ze={}){super(ze),this.type=ut.ResponseHeader}clone(ze={}){return new pn({headers:ze.headers||this.headers,status:void 0!==ze.status?ze.status:this.status,statusText:ze.statusText||this.statusText,url:ze.url||this.url||void 0})}}class ai extends vn{constructor(ze={}){super(ze),this.type=ut.Response,this.body=void 0!==ze.body?ze.body:null}clone(ze={}){return new ai({body:void 0!==ze.body?ze.body:this.body,headers:ze.headers||this.headers,status:void 0!==ze.status?ze.status:this.status,statusText:ze.statusText||this.statusText,url:ze.url||this.url||void 0})}}class Gn extends vn{constructor(ze){super(ze,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ze.url||"(unknown url)"}`:`Http failure response for ${ze.url||"(unknown url)"}: ${ze.status} ${ze.statusText}`,this.error=ze.error||null}}function Qi(Ot,ze){return{body:ze,headers:Ot.headers,context:Ot.context,observe:Ot.observe,params:Ot.params,reportProgress:Ot.reportProgress,responseType:Ot.responseType,withCredentials:Ot.withCredentials}}let or=(()=>{class Ot{constructor(we){this.handler=we}request(we,ke,Ze={}){let Zt;if(we instanceof lt)Zt=we;else{let Fn,Lt;Fn=Ze.headers instanceof Ae?Ze.headers:new Ae(Ze.headers),Ze.params&&(Lt=Ze.params instanceof Ct?Ze.params:new Ct({fromObject:Ze.params})),Zt=new lt(we,ke,void 0!==Ze.body?Ze.body:null,{headers:Fn,context:Ze.context,params:Lt,reportProgress:Ze.reportProgress,responseType:Ze.responseType||"json",withCredentials:Ze.withCredentials})}const _n=(0,W.of)(Zt).pipe((0,b.b)(Fn=>this.handler.handle(Fn)));if(we instanceof lt||"events"===Ze.observe)return _n;const Zn=_n.pipe((0,be.h)(Fn=>Fn instanceof ai));switch(Ze.observe||"body"){case"body":switch(Zt.responseType){case"arraybuffer":return Zn.pipe((0,at.U)(Fn=>{if(null!==Fn.body&&!(Fn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Fn.body}));case"blob":return Zn.pipe((0,at.U)(Fn=>{if(null!==Fn.body&&!(Fn.body instanceof Blob))throw new Error("Response is not a Blob.");return Fn.body}));case"text":return Zn.pipe((0,at.U)(Fn=>{if(null!==Fn.body&&"string"!=typeof Fn.body)throw new Error("Response is not a string.");return Fn.body}));default:return Zn.pipe((0,at.U)(Fn=>Fn.body))}case"response":return Zn;default:throw new Error(`Unreachable: unhandled observe type ${Ze.observe}}`)}}delete(we,ke={}){return this.request("DELETE",we,ke)}get(we,ke={}){return this.request("GET",we,ke)}head(we,ke={}){return this.request("HEAD",we,ke)}jsonp(we,ke){return this.request("JSONP",we,{params:(new Ct).append(ke,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(we,ke={}){return this.request("OPTIONS",we,ke)}patch(we,ke,Ze={}){return this.request("PATCH",we,Qi(Ze,ke))}post(we,ke,Ze={}){return this.request("POST",we,Qi(Ze,ke))}put(we,ke,Ze={}){return this.request("PUT",we,Qi(Ze,ke))}}return Ot.\u0275fac=function(we){return new(we||Ot)(J.LFG(Ve))},Ot.\u0275prov=J.Yz7({token:Ot,factory:Ot.\u0275fac}),Ot})();class Ei{constructor(ze,we){this.next=ze,this.interceptor=we}handle(ze){return this.interceptor.intercept(ze,this.next)}}const yi=new J.OlP("HTTP_INTERCEPTORS");let bt=(()=>{class Ot{intercept(we,ke){return ke.handle(we)}}return Ot.\u0275fac=function(we){return new(we||Ot)},Ot.\u0275prov=J.Yz7({token:Ot,factory:Ot.\u0275fac}),Ot})();const Cn=/^\)\]\}',?\n/;let Mn=(()=>{class Ot{constructor(we){this.xhrFactory=we}handle(we){if("JSONP"===we.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Le.y(ke=>{const Ze=this.xhrFactory.build();if(Ze.open(we.method,we.urlWithParams),we.withCredentials&&(Ze.withCredentials=!0),we.headers.forEach((Je,Jt)=>Ze.setRequestHeader(Je,Jt.join(","))),we.headers.has("Accept")||Ze.setRequestHeader("Accept","application/json, text/plain, */*"),!we.headers.has("Content-Type")){const Je=we.detectContentTypeHeader();null!==Je&&Ze.setRequestHeader("Content-Type",Je)}if(we.responseType){const Je=we.responseType.toLowerCase();Ze.responseType="json"!==Je?Je:"text"}const Zt=we.serializeBody();let _n=null;const Zn=()=>{if(null!==_n)return _n;const Je=Ze.statusText||"OK",Jt=new Ae(Ze.getAllResponseHeaders()),ti=function tn(Ot){return"responseURL"in Ot&&Ot.responseURL?Ot.responseURL:/^X-Request-URL:/m.test(Ot.getAllResponseHeaders())?Ot.getResponseHeader("X-Request-URL"):null}(Ze)||we.url;return _n=new pn({headers:Jt,status:Ze.status,statusText:Je,url:ti}),_n},Fn=()=>{let{headers:Je,status:Jt,statusText:ti,url:Fi}=Zn(),Pi=null;204!==Jt&&(Pi=typeof Ze.response>"u"?Ze.responseText:Ze.response),0===Jt&&(Jt=Pi?200:0);let Bi=Jt>=200&&Jt<300;if("json"===we.responseType&&"string"==typeof Pi){const Ii=Pi;Pi=Pi.replace(Cn,"");try{Pi=""!==Pi?JSON.parse(Pi):null}catch(br){Pi=Ii,Bi&&(Bi=!1,Pi={error:br,text:Pi})}}Bi?(ke.next(new ai({body:Pi,headers:Je,status:Jt,statusText:ti,url:Fi||void 0})),ke.complete()):ke.error(new Gn({error:Pi,headers:Je,status:Jt,statusText:ti,url:Fi||void 0}))},Lt=Je=>{const{url:Jt}=Zn(),ti=new Gn({error:Je,status:Ze.status||0,statusText:Ze.statusText||"Unknown Error",url:Jt||void 0});ke.error(ti)};let sn=!1;const Ye=Je=>{sn||(ke.next(Zn()),sn=!0);let Jt={type:ut.DownloadProgress,loaded:Je.loaded};Je.lengthComputable&&(Jt.total=Je.total),"text"===we.responseType&&!!Ze.responseText&&(Jt.partialText=Ze.responseText),ke.next(Jt)},Ke=Je=>{let Jt={type:ut.UploadProgress,loaded:Je.loaded};Je.lengthComputable&&(Jt.total=Je.total),ke.next(Jt)};return Ze.addEventListener("load",Fn),Ze.addEventListener("error",Lt),Ze.addEventListener("timeout",Lt),Ze.addEventListener("abort",Lt),we.reportProgress&&(Ze.addEventListener("progress",Ye),null!==Zt&&Ze.upload&&Ze.upload.addEventListener("progress",Ke)),Ze.send(Zt),ke.next({type:ut.Sent}),()=>{Ze.removeEventListener("error",Lt),Ze.removeEventListener("abort",Lt),Ze.removeEventListener("load",Fn),Ze.removeEventListener("timeout",Lt),we.reportProgress&&(Ze.removeEventListener("progress",Ye),null!==Zt&&Ze.upload&&Ze.upload.removeEventListener("progress",Ke)),Ze.readyState!==Ze.DONE&&Ze.abort()}})}}return Ot.\u0275fac=function(we){return new(we||Ot)(J.LFG(M.JF))},Ot.\u0275prov=J.Yz7({token:Ot,factory:Ot.\u0275fac}),Ot})();const jt=new J.OlP("XSRF_COOKIE_NAME"),wn=new J.OlP("XSRF_HEADER_NAME");class oi{}let qn=(()=>{class Ot{constructor(we,ke,Ze){this.doc=we,this.platform=ke,this.cookieName=Ze,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const we=this.doc.cookie||"";return we!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,M.Mx)(we,this.cookieName),this.lastCookieString=we),this.lastToken}}return Ot.\u0275fac=function(we){return new(we||Ot)(J.LFG(M.K0),J.LFG(J.Lbi),J.LFG(jt))},Ot.\u0275prov=J.Yz7({token:Ot,factory:Ot.\u0275fac}),Ot})(),mi=(()=>{class Ot{constructor(we,ke){this.tokenService=we,this.headerName=ke}intercept(we,ke){const Ze=we.url.toLowerCase();if("GET"===we.method||"HEAD"===we.method||Ze.startsWith("http://")||Ze.startsWith("https://"))return ke.handle(we);const Zt=this.tokenService.getToken();return null!==Zt&&!we.headers.has(this.headerName)&&(we=we.clone({headers:we.headers.set(this.headerName,Zt)})),ke.handle(we)}}return Ot.\u0275fac=function(we){return new(we||Ot)(J.LFG(oi),J.LFG(wn))},Ot.\u0275prov=J.Yz7({token:Ot,factory:Ot.\u0275fac}),Ot})(),dn=(()=>{class Ot{constructor(we,ke){this.backend=we,this.injector=ke,this.chain=null}handle(we){if(null===this.chain){const ke=this.injector.get(yi,[]);this.chain=ke.reduceRight((Ze,Zt)=>new Ei(Ze,Zt),this.backend)}return this.chain.handle(we)}}return Ot.\u0275fac=function(we){return new(we||Ot)(J.LFG(qe),J.LFG(J.zs3))},Ot.\u0275prov=J.Yz7({token:Ot,factory:Ot.\u0275fac}),Ot})(),On=(()=>{class Ot{static disable(){return{ngModule:Ot,providers:[{provide:mi,useClass:bt}]}}static withOptions(we={}){return{ngModule:Ot,providers:[we.cookieName?{provide:jt,useValue:we.cookieName}:[],we.headerName?{provide:wn,useValue:we.headerName}:[]]}}}return Ot.\u0275fac=function(we){return new(we||Ot)},Ot.\u0275mod=J.oAB({type:Ot}),Ot.\u0275inj=J.cJS({providers:[mi,{provide:yi,useExisting:mi,multi:!0},{provide:oi,useClass:qn},{provide:jt,useValue:"XSRF-TOKEN"},{provide:wn,useValue:"X-XSRF-TOKEN"}]}),Ot})(),Qt=(()=>{class Ot{}return Ot.\u0275fac=function(we){return new(we||Ot)},Ot.\u0275mod=J.oAB({type:Ot}),Ot.\u0275inj=J.cJS({providers:[or,{provide:Ve,useClass:dn},Mn,{provide:qe,useExisting:Mn}],imports:[On.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),Ot})()},4650:(Hn,Mt,z)=>{z.d(Mt,{$8M:()=>fn,$Z:()=>zh,AFp:()=>vC,ALo:()=>B0,AaK:()=>Ve,BQk:()=>I_,CHM:()=>Ha,CRH:()=>K0,CZH:()=>Lb,CqO:()=>yv,D6c:()=>FE,EJc:()=>Xw,EiD:()=>yh,EpF:()=>vv,F$t:()=>Ko,F4k:()=>A_,FYo:()=>Mi,FiY:()=>Mu,Gf:()=>W0,GfV:()=>Jr,GkF:()=>Rg,Gpc:()=>Ue,Hsn:()=>No,Ikx:()=>Nv,JOm:()=>tl,JVY:()=>Bu,KtG:()=>hc,L6k:()=>iu,LAX:()=>ff,LFG:()=>ao,LSH:()=>zp,Lbi:()=>Kw,Lck:()=>Ne,MAs:()=>$h,MGl:()=>Og,MMx:()=>Ti,NdJ:()=>Pp,O4$:()=>Al,OlP:()=>os,Oqu:()=>Iv,PXZ:()=>fE,Q6J:()=>Jm,QGY:()=>T_,QP$:()=>We,QbO:()=>qw,Qsj:()=>wi,R0b:()=>Up,RDi:()=>eu,Rgc:()=>cb,SBq:()=>jn,Sil:()=>eE,Suo:()=>Y0,TTD:()=>qr,TgZ:()=>eg,Udp:()=>py,VKq:()=>k0,W1O:()=>X0,WFA:()=>Em,WLB:()=>R0,X6Q:()=>vE,XFs:()=>dn,Xpm:()=>Fi,Xts:()=>Lf,Y36:()=>Xd,YKP:()=>ge,YNc:()=>du,Yjl:()=>Qe,Yz7:()=>Dt,Z0I:()=>on,ZZ4:()=>v0,_Bn:()=>Y,_UZ:()=>Mf,_Vd:()=>Tn,_c5:()=>PE,_uU:()=>rg,aQg:()=>y0,c2e:()=>Zw,cJS:()=>St,cg1:()=>Yu,d8E:()=>Fv,dDg:()=>cE,dqk:()=>Ze,eBb:()=>_h,eFA:()=>kC,ekj:()=>sp,eoX:()=>IC,f3M:()=>Do,g9A:()=>bC,h0i:()=>le,hGG:()=>NE,hij:()=>Dd,iGM:()=>$0,ifc:()=>ke,ip1:()=>_C,jDz:()=>Wr,kL8:()=>G_,kcU:()=>ro,lG2:()=>Me,lcZ:()=>V0,lqb:()=>f,lri:()=>SC,mCW:()=>U,n5z:()=>ni,n_E:()=>Rb,oAB:()=>br,oxw:()=>Dm,pB0:()=>vp,q3G:()=>fo,q4F:()=>Yo,qLn:()=>ac,qOj:()=>hv,qZA:()=>kg,qzn:()=>Lc,rWj:()=>MC,s9C:()=>th,sBO:()=>yE,sIi:()=>Ag,s_b:()=>Pb,soG:()=>Bb,tb:()=>CC,tp0:()=>Rc,uIk:()=>Ym,vHH:()=>tt,vpe:()=>dg,wAp:()=>vr,xp6:()=>gg,ynx:()=>M_,z2F:()=>Vb,z3N:()=>Wo,zSh:()=>Hh,zs3:()=>zf});var M=z(7579),J=z(727),W=z(9751),Le=z(6451),b=z(3099);function be(n){for(let s in n)if(n[s]===be)return s;throw Error("Could not find renamed property on target object.")}function at(n,s){for(const u in s)s.hasOwnProperty(u)&&!n.hasOwnProperty(u)&&(n[u]=s[u])}function Ve(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ve).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const s=n.toString();if(null==s)return""+s;const u=s.indexOf("\n");return-1===u?s:s.substring(0,u)}function qe(n,s){return null==n||""===n?null===s?"":s:null==s||""===s?n:n+" "+s}const Ae=be({__forward_ref__:be});function Ue(n){return n.__forward_ref__=Ue,n.toString=function(){return Ve(this())},n}function Ge(n){return kt(n)?n():n}function kt(n){return"function"==typeof n&&n.hasOwnProperty(Ae)&&n.__forward_ref__===Ue}class tt extends Error{constructor(s,u){super(function xt(n,s){return`NG0${Math.abs(n)}${s?": "+s.trim():""}`}(s,u)),this.code=s}}function Rt(n){return"string"==typeof n?n:null==n?"":String(n)}function je(n,s){throw new tt(-201,!1)}function bt(n,s){null==n&&function It(n,s,u,_){throw new Error(`ASSERTION ERROR: ${n}`+(null==_?"":` [Expected=> ${u} ${_} ${s} <=Actual]`))}(s,n,null,"!=")}function Dt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function St(n){return{providers:n.providers||[],imports:n.imports||[]}}function Vt(n){return Cn(n,wn)||Cn(n,qn)}function on(n){return null!==Vt(n)}function Cn(n,s){return n.hasOwnProperty(s)?n[s]:null}function jt(n){return n&&(n.hasOwnProperty(oi)||n.hasOwnProperty(mi))?n[oi]:null}const wn=be({\u0275prov:be}),oi=be({\u0275inj:be}),qn=be({ngInjectableDef:be}),mi=be({ngInjectorDef:be});var dn=(()=>((dn=dn||{})[dn.Default=0]="Default",dn[dn.Host=1]="Host",dn[dn.Self=2]="Self",dn[dn.SkipSelf=4]="SkipSelf",dn[dn.Optional=8]="Optional",dn))();let li;function On(n){const s=li;return li=n,s}function Qt(n,s,u){const _=Vt(n);return _&&"root"==_.providedIn?void 0===_.value?_.value=_.factory():_.value:u&dn.Optional?null:void 0!==s?s:void je(Ve(n))}function $n(n){return{toString:n}.toString()}var Ot=(()=>((Ot=Ot||{})[Ot.OnPush=0]="OnPush",Ot[Ot.Default=1]="Default",Ot))(),ke=(()=>{return(n=ke||(ke={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",ke;var n})();const Ze=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Zn={},Fn=[],Lt=be({\u0275cmp:be}),sn=be({\u0275dir:be}),Ye=be({\u0275pipe:be}),Ke=be({\u0275mod:be}),Je=be({\u0275fac:be}),Jt=be({__NG_ELEMENT_ID__:be});let ti=0;function Fi(n){return $n(()=>{const u=!0===n.standalone,_={},w={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:_,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Ot.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Fn,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||ke.Emulated,id:"c"+ti++,styles:n.styles||Fn,_:null,setInput:null,schemas:n.schemas||null,tView:null},k=n.dependencies,B=n.features;return w.inputs=mt(n.inputs,_),w.outputs=mt(n.outputs),B&&B.forEach(K=>K(w)),w.directiveDefs=k?()=>("function"==typeof k?k():k).map(Bi).filter(Ii):null,w.pipeDefs=k?()=>("function"==typeof k?k():k).map(gt).filter(Ii):null,w})}function Bi(n){return _e(n)||Ce(n)}function Ii(n){return null!==n}function br(n){return $n(()=>({type:n.type,bootstrap:n.bootstrap||Fn,declarations:n.declarations||Fn,imports:n.imports||Fn,exports:n.exports||Fn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function mt(n,s){if(null==n)return Zn;const u={};for(const _ in n)if(n.hasOwnProperty(_)){let w=n[_],k=w;Array.isArray(w)&&(k=w[1],w=w[0]),u[w]=_,s&&(s[w]=k)}return u}const Me=Fi;function Qe(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function _e(n){return n[Lt]||null}function Ce(n){return n[sn]||null}function gt(n){return n[Ye]||null}function We(n){const s=_e(n)||Ce(n)||gt(n);return null!==s&&s.standalone}function et(n,s){const u=n[Ke]||null;if(!u&&!0===s)throw new Error(`Type ${Ve(n)} does not have '\u0275mod' property.`);return u}function Kr(n){return Array.isArray(n)&&"object"==typeof n[1]}function Fs(n){return Array.isArray(n)&&!0===n[1]}function la(n){return 0!=(8&n.flags)}function xa(n){return 2==(2&n.flags)}function po(n){return 1==(1&n.flags)}function mo(n){return null!==n.template}function gs(n){return 0!=(256&n[2])}function Ks(n,s){return n.hasOwnProperty(Je)?n[Je]:null}class zl{constructor(s,u,_){this.previousValue=s,this.currentValue=u,this.firstChange=_}isFirstChange(){return this.firstChange}}function qr(){return ua}function ua(n){return n.type.prototype.ngOnChanges&&(n.setInput=al),Mo}function Mo(){const n=mu(this),s=n?.current;if(s){const u=n.previous;if(u===Zn)n.previous=s;else for(let _ in s)u[_]=s[_];n.current=null,this.ngOnChanges(s)}}function al(n,s,u,_){const w=mu(n)||function Gl(n,s){return n[Qa]=s}(n,{previous:Zn,current:null}),k=w.current||(w.current={}),B=w.previous,K=this.declaredInputs[u],ne=B[K];k[K]=new zl(ne&&ne.currentValue,s,B===Zn),n[_]=s}qr.ngInherit=!0;const Qa="__ngSimpleChanges__";function mu(n){return n[Qa]||null}function Zr(n){for(;Array.isArray(n);)n=n[0];return n}function jr(n,s){return Zr(s[n])}function qs(n,s){return Zr(s[n.index])}function Xo(n,s){return n.data[s]}function io(n,s){return n[s]}function Qr(n,s){const u=s[n];return Kr(u)?u:u[0]}function zr(n){return 64==(64&n[2])}function Zs(n,s){return null==s?null:n[s]}function Sa(n){n[18]=0}function Ls(n,s){n[5]+=s;let u=n,_=n[3];for(;null!==_&&(1===s&&1===u[5]||-1===s&&0===u[5]);)_[5]+=s,u=_,_=_[3]}const $i={lFrame:pc(null),bindingsEnabled:!0};function yo(){return $i.bindingsEnabled}function Un(){return $i.lFrame.lView}function Cr(){return $i.lFrame.tView}function Ha(n){return $i.lFrame.contextLView=n,n[8]}function hc(n){return $i.lFrame.contextLView=null,n}function Br(){let n=ce();for(;null!==n&&64===n.type;)n=n.parent;return n}function ce(){return $i.lFrame.currentTNode}function te(n,s){const u=$i.lFrame;u.currentTNode=n,u.isParent=s}function Oe(){return $i.lFrame.isParent}function hn(){$i.lFrame.isParent=!1}function Ds(){const n=$i.lFrame;let s=n.bindingRootIndex;return-1===s&&(s=n.bindingRootIndex=n.tView.bindingStartIndex),s}function Aa(){return $i.lFrame.bindingIndex++}function Yl(n,s){const u=$i.lFrame;u.bindingIndex=u.bindingRootIndex=n,ea(s)}function ea(n){$i.lFrame.currentDirectiveIndex=n}function hl(n){const s=$i.lFrame.currentDirectiveIndex;return-1===s?null:n[s]}function fc(){return $i.lFrame.currentQueryIndex}function bo(n){$i.lFrame.currentQueryIndex=n}function Mc(n){const s=n[1];return 2===s.type?s.declTNode:1===s.type?n[6]:null}function Xa(n,s,u){if(u&dn.SkipSelf){let w=s,k=n;for(;!(w=w.parent,null!==w||u&dn.Host||(w=Mc(k),null===w||(k=k[15],10&w.type))););if(null===w)return!1;s=w,n=k}const _=$i.lFrame=Kl();return _.currentTNode=s,_.lView=n,!0}function Ja(n){const s=Kl(),u=n[1];$i.lFrame=s,s.currentTNode=u.firstChild,s.lView=n,s.tView=u,s.contextLView=n,s.bindingIndex=u.bindingStartIndex,s.inI18n=!1}function Kl(){const n=$i.lFrame,s=null===n?null:n.child;return null===s?pc(n):s}function pc(n){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=s),s}function Ic(){const n=$i.lFrame;return $i.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Tc=Ic;function fa(){const n=Ic();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ns(){return $i.lFrame.selectedIndex}function na(n){$i.lFrame.selectedIndex=n}function ss(){const n=$i.lFrame;return Xo(n.tView,n.selectedIndex)}function Al(){$i.lFrame.currentNamespace="svg"}function ro(){!function fl(){$i.lFrame.currentNamespace=null}()}function ja(n,s){for(let u=s.directiveStart,_=s.directiveEnd;u<_;u++){const k=n.data[u].type.prototype,{ngAfterContentInit:B,ngAfterContentChecked:K,ngAfterViewInit:ne,ngAfterViewChecked:fe,ngOnDestroy:Pe}=k;B&&(n.contentHooks||(n.contentHooks=[])).push(-u,B),K&&((n.contentHooks||(n.contentHooks=[])).push(u,K),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(u,K)),ne&&(n.viewHooks||(n.viewHooks=[])).push(-u,ne),fe&&((n.viewHooks||(n.viewHooks=[])).push(u,fe),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(u,fe)),null!=Pe&&(n.destroyHooks||(n.destroyHooks=[])).push(u,Pe)}}function Oa(n,s,u){To(n,s,3,u)}function Xe(n,s,u,_){(3&n[2])===u&&To(n,s,u,_)}function kl(n,s){let u=n[2];(3&u)===s&&(u&=2047,u+=1,n[2]=u)}function To(n,s,u,_){const k=_??-1,B=s.length-1;let K=0;for(let ne=void 0!==_?65535&n[18]:0;ne<B;ne++)if("number"==typeof s[ne+1]){if(K=s[ne],null!=_&&K>=_)break}else s[ne]<0&&(n[18]+=65536),(K<k||-1==k)&&(ia(n,u,s,ne),n[18]=(4294901760&n[18])+ne+2),ne++}function ia(n,s,u,_){const w=u[_]<0,k=u[_+1],K=n[w?-u[_]:u[_]];if(w){if(n[2]>>11<n[18]>>16&&(3&n[2])===s){n[2]+=2048;try{k.call(K)}finally{}}}else try{k.call(K)}finally{}}class gc{constructor(s,u,_){this.factory=s,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=_}}function Re(n,s,u){let _=0;for(;_<u.length;){const w=u[_];if("number"==typeof w){if(0!==w)break;_++;const k=u[_++],B=u[_++],K=u[_++];n.setAttribute(s,B,K,k)}else{const k=w,B=u[++_];ln(k)?n.setProperty(s,k,B):n.setAttribute(s,k,B),_++}}return _}function Et(n){return 3===n||4===n||6===n}function ln(n){return 64===n.charCodeAt(0)}function Pn(n,s){if(null!==s&&0!==s.length)if(null===n||0===n.length)n=s.slice();else{let u=-1;for(let _=0;_<s.length;_++){const w=s[_];"number"==typeof w?u=w:0===u||Di(n,u,w,null,-1===u||2===u?s[++_]:null)}}return n}function Di(n,s,u,_,w){let k=0,B=n.length;if(-1===s)B=-1;else for(;k<n.length;){const K=n[k++];if("number"==typeof K){if(K===s){B=-1;break}if(K>s){B=k-1;break}}}for(;k<n.length;){const K=n[k];if("number"==typeof K)break;if(K===u){if(null===_)return void(null!==w&&(n[k+1]=w));if(_===n[k+1])return void(n[k+2]=w)}k++,null!==_&&k++,null!==w&&k++}-1!==B&&(n.splice(B,0,s),k=B+1),n.splice(k++,0,u),null!==_&&n.splice(k++,0,_),null!==w&&n.splice(k++,0,w)}function yr(n){return-1!==n}function sr(n){return 32767&n}function hr(n,s){let u=function ur(n){return n>>16}(n),_=s;for(;u>0;)_=_[15],u--;return _}let Vs=!0;function Dr(n){const s=Vs;return Vs=n,s}let As=0;const ks={};function xs(n,s){const u=so(n,s);if(-1!==u)return u;const _=s[1];_.firstCreatePass&&(n.injectorIndex=s.length,ql(_.data,n),ql(s,null),ql(_.blueprint,null));const w=_c(n,s),k=n.injectorIndex;if(yr(w)){const B=sr(w),K=hr(w,s),ne=K[1].data;for(let fe=0;fe<8;fe++)s[k+fe]=K[B+fe]|ne[B+fe]}return s[k+8]=w,k}function ql(n,s){n.push(0,0,0,0,0,0,0,0,s)}function so(n,s){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===s[n.injectorIndex+8]?-1:n.injectorIndex}function _c(n,s){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let u=0,_=null,w=s;for(;null!==w;){if(_=ci(w),null===_)return-1;if(u++,w=w[15],-1!==_.injectorIndex)return _.injectorIndex|u<<16}return-1}function vc(n,s,u){!function Us(n,s,u){let _;"string"==typeof u?_=u.charCodeAt(0)||0:u.hasOwnProperty(Jt)&&(_=u[Jt]),null==_&&(_=u[Jt]=As++);const w=255&_;s.data[n+(w>>5)]|=1<<w}(n,s,u)}function vu(n,s,u){if(u&dn.Optional||void 0!==n)return n;je()}function yc(n,s,u,_){if(u&dn.Optional&&void 0===_&&(_=null),0==(u&(dn.Self|dn.Host))){const w=n[9],k=On(void 0);try{return w?w.get(s,_,u&dn.Optional):Qt(s,_,u&dn.Optional)}finally{On(k)}}return vu(_,0,u)}function Qs(n,s,u,_=dn.Default,w){if(null!==n){if(1024&s[2]){const B=function Hc(n,s,u,_,w){let k=n,B=s;for(;null!==k&&null!==B&&1024&B[2]&&!(256&B[2]);){const K=Gs(k,B,u,_|dn.Self,ks);if(K!==ks)return K;let ne=k.parent;if(!ne){const fe=B[21];if(fe){const Pe=fe.get(u,ks,_);if(Pe!==ks)return Pe}ne=ci(B),B=B[15]}k=ne}return w}(n,s,u,_,ks);if(B!==ks)return B}const k=Gs(n,s,u,_,ks);if(k!==ks)return k}return yc(s,u,_,w)}function Gs(n,s,u,_,w){const k=function pl(n){if("string"==typeof n)return n.charCodeAt(0)||0;const s=n.hasOwnProperty(Jt)?n[Jt]:void 0;return"number"==typeof s?s>=0?255&s:Zu:s}(u);if("function"==typeof k){if(!Xa(s,n,_))return _&dn.Host?vu(w,0,_):yc(s,u,_,w);try{const B=k(_);if(null!=B||_&dn.Optional)return B;je()}finally{Tc()}}else if("number"==typeof k){let B=null,K=so(n,s),ne=-1,fe=_&dn.Host?s[16][6]:null;for((-1===K||_&dn.SkipSelf)&&(ne=-1===K?_c(n,s):s[K+8],-1!==ne&&Rs(_,!1)?(B=s[1],K=sr(ne),s=hr(ne,s)):K=-1);-1!==K;){const Pe=s[1];if(Kn(k,K,Pe.data)){const rt=Ga(K,s,u,B,_,fe);if(rt!==ks)return rt}ne=s[K+8],-1!==ne&&Rs(_,s[1].data[K+8]===fe)&&Kn(k,K,s)?(B=Pe,K=sr(ne),s=hr(ne,s)):K=-1}}return w}function Ga(n,s,u,_,w,k){const B=s[1],K=B.data[n+8],Pe=Co(K,B,u,null==_?xa(K)&&Vs:_!=B&&0!=(3&K.type),w&dn.Host&&k===K);return null!==Pe?Pa(s,B,Pe,K):ks}function Co(n,s,u,_,w){const k=n.providerIndexes,B=s.data,K=1048575&k,ne=n.directiveStart,Pe=k>>20,Ut=w?K+Pe:n.directiveEnd;for(let un=_?K:K+Pe;un<Ut;un++){const zn=B[un];if(un<ne&&u===zn||un>=ne&&zn.type===u)return un}if(w){const un=B[ne];if(un&&mo(un)&&un.type===u)return ne}return null}function Pa(n,s,u,_){let w=n[u];const k=s.data;if(function Bs(n){return n instanceof gc}(w)){const B=w;B.resolving&&function pt(n,s){const u=s?`. Dependency path: ${s.join(" > ")} > ${n}`:"";throw new tt(-200,`Circular dependency in DI detected for ${n}${u}`)}(function Ct(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Rt(n)}(k[u]));const K=Dr(B.canSeeViewProviders);B.resolving=!0;const ne=B.injectImpl?On(B.injectImpl):null;Xa(n,_,dn.Default);try{w=n[u]=B.factory(void 0,k,n,_),s.firstCreatePass&&u>=_.directiveStart&&function el(n,s,u){const{ngOnChanges:_,ngOnInit:w,ngDoCheck:k}=s.type.prototype;if(_){const B=ua(s);(u.preOrderHooks||(u.preOrderHooks=[])).push(n,B),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(n,B)}w&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-n,w),k&&((u.preOrderHooks||(u.preOrderHooks=[])).push(n,k),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(n,k))}(u,k[u],s)}finally{null!==ne&&On(ne),Dr(K),B.resolving=!1,Tc()}}return w}function Kn(n,s,u){return!!(u[s+(n>>5)]&1<<n)}function Rs(n,s){return!(n&dn.Self||n&dn.Host&&s)}class Os{constructor(s,u){this._tNode=s,this._lView=u}get(s,u,_){return Qs(this._tNode,this._lView,s,_,u)}}function Zu(){return new Os(Br(),Un())}function ni(n){return $n(()=>{const s=n.prototype.constructor,u=s[Je]||Ni(s),_=Object.prototype;let w=Object.getPrototypeOf(n.prototype).constructor;for(;w&&w!==_;){const k=w[Je]||Ni(w);if(k&&k!==u)return k;w=Object.getPrototypeOf(w)}return k=>new k})}function Ni(n){return kt(n)?()=>{const s=Ni(Ge(n));return s&&s()}:Ks(n)}function ci(n){const s=n[1],u=s.type;return 2===u?s.declTNode:1===u?n[6]:null}function fn(n){return function _u(n,s){if("class"===s)return n.classes;if("style"===s)return n.styles;const u=n.attrs;if(u){const _=u.length;let w=0;for(;w<_;){const k=u[w];if(Et(k))break;if(0===k)w+=2;else if("number"==typeof k)for(w++;w<_&&"string"==typeof u[w];)w++;else{if(k===s)return u[w+1];w+=2}}}return null}(Br(),n)}const is="__parameters__";function bc(n,s,u){return $n(()=>{const _=function $a(n){return function(...u){if(n){const _=n(...u);for(const w in _)this[w]=_[w]}}}(s);function w(...k){if(this instanceof w)return _.apply(this,k),this;const B=new w(...k);return K.annotation=B,K;function K(ne,fe,Pe){const rt=ne.hasOwnProperty(is)?ne[is]:Object.defineProperty(ne,is,{value:[]})[is];for(;rt.length<=Pe;)rt.push(null);return(rt[Pe]=rt[Pe]||[]).push(B),ne}}return u&&(w.prototype=Object.create(u.prototype)),w.prototype.ngMetadataName=n,w.annotationCls=w,w})}class os{constructor(s,u){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Dt({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function wo(n,s){void 0===s&&(s=n);for(let u=0;u<n.length;u++){let _=n[u];Array.isArray(_)?(s===n&&(s=n.slice(0,u)),wo(_,s)):s!==n&&s.push(_)}return s}function oo(n,s){n.forEach(u=>Array.isArray(u)?oo(u,s):s(u))}function wu(n,s,u){s>=n.length?n.push(u):n.splice(s,0,u)}function G(n,s){return s>=n.length-1?n.pop():n.splice(s,1)[0]}function $(n,s){const u=[];for(let _=0;_<n;_++)u.push(s);return u}function mn(n,s,u){let _=ir(n,s);return _>=0?n[1|_]=u:(_=~_,function ae(n,s,u,_){let w=n.length;if(w==s)n.push(u,_);else if(1===w)n.push(_,n[0]),n[0]=u;else{for(w--,n.push(n[w-1],n[w]);w>s;)n[w]=n[w-2],w--;n[s]=u,n[s+1]=_}}(n,_,s,u)),_}function ii(n,s){const u=ir(n,s);if(u>=0)return n[1|u]}function ir(n,s){return function kr(n,s,u){let _=0,w=n.length>>u;for(;w!==_;){const k=_+(w-_>>1),B=n[k<<u];if(s===B)return k<<u;B>s?w=k:_=k+1}return~(w<<u)}(n,s,1)}const kc={},Vo="__NG_DI_FLAG__",Ql="ngTempTokenPath",kf=/\n/gm,Ad="__source";let xu;function Uo(n){const s=xu;return xu=n,s}function kd(n,s=dn.Default){if(void 0===xu)throw new tt(-203,!1);return null===xu?Qt(n,void 0,s):xu.get(n,s&dn.Optional?null:void 0,s)}function ao(n,s=dn.Default){return(function bn(){return li}()||kd)(Ge(n),s)}function Do(n,s=dn.Default){return"number"!=typeof s&&(s=0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)),ao(n,s)}function Ju(n){const s=[];for(let u=0;u<n.length;u++){const _=Ge(n[u]);if(Array.isArray(_)){if(0===_.length)throw new tt(900,!1);let w,k=dn.Default;for(let B=0;B<_.length;B++){const K=_[B],ne=Qh(K);"number"==typeof ne?-1===ne?w=K.token:k|=ne:w=K}s.push(ao(w,k))}else s.push(ao(_))}return s}function Su(n,s){return n[Vo]=s,n.prototype[Vo]=s,n}function Qh(n){return n[Vo]}const Mu=Su(bc("Optional"),8),Rc=Su(bc("SkipSelf"),4);var tl=(()=>((tl=tl||{})[tl.Important=1]="Important",tl[tl.DashCase=2]="DashCase",tl))();const Nl=new Map;let hp=0;const zo="__ngContext__";function Na(n,s){Kr(s)?(n[zo]=s[20],function Oh(n){Nl.set(n[20],n)}(s)):n[zo]=s}function Ru(n,s){return undefined(n,s)}function Vd(n){const s=n[3];return Fs(s)?s[3]:s}function Nf(n){return $c(n[13])}function Ud(n){return $c(n[4])}function $c(n){for(;null!==n&&!Fs(n);)n=n[4];return n}function Hd(n,s,u,_,w){if(null!=_){let k,B=!1;Fs(_)?k=_:Kr(_)&&(B=!0,_=_[0]);const K=Zr(_);0===n&&null!==u?null==w?Kc(s,u,K):nc(s,u,K,w||null,!0):1===n&&null!==u?nc(s,u,K,w||null,!0):2===n?function dh(n,s,u){const _=gl(n,s);_&&function qc(n,s,u,_){n.removeChild(s,u,_)}(n,_,s,u)}(s,K,B):3===n&&s.destroyNode(K),null!=k&&function Wd(n,s,u,_,w){const k=u[7];k!==Zr(u)&&Hd(s,n,_,k,w);for(let K=10;K<u.length;K++){const ne=u[K];hh(ne[1],ne,n,s,_,k)}}(s,n,k,u,w)}}function Ll(n,s,u){return n.createElement(s,u)}function Fa(n,s){const u=n[9],_=u.indexOf(s),w=s[3];512&s[2]&&(s[2]&=-513,Ls(w,-1)),u.splice(_,1)}function Pu(n,s){if(n.length<=10)return;const u=10+s,_=n[u];if(_){const w=_[17];null!==w&&w!==n&&Fa(w,_),s>0&&(n[u-1][4]=_[4]);const k=G(n,10+s);!function Wc(n,s){hh(n,s,s[11],2,null,null),s[0]=null,s[6]=null}(_[1],_);const B=k[19];null!==B&&B.detachView(k[1]),_[3]=null,_[4]=null,_[2]&=-65}return _}function af(n,s){if(!(128&s[2])){const u=s[11];u.destroyNode&&hh(n,s,u,3,null,null),function gp(n){let s=n[13];if(!s)return lo(n[1],n);for(;s;){let u=null;if(Kr(s))u=s[13];else{const _=s[10];_&&(u=_)}if(!u){for(;s&&!s[4]&&s!==n;)Kr(s)&&lo(s[1],s),s=s[3];null===s&&(s=n),Kr(s)&&lo(s[1],s),u=s&&s[4]}s=u}}(s)}}function lo(n,s){if(!(128&s[2])){s[2]&=-65,s[2]|=128,function Nu(n,s){let u;if(null!=n&&null!=(u=n.destroyHooks))for(let _=0;_<u.length;_+=2){const w=s[u[_]];if(!(w instanceof gc)){const k=u[_+1];if(Array.isArray(k))for(let B=0;B<k.length;B+=2){const K=w[k[B]],ne=k[B+1];try{ne.call(K)}finally{}}else try{k.call(w)}finally{}}}}(n,s),function Yc(n,s){const u=n.cleanup,_=s[7];let w=-1;if(null!==u)for(let k=0;k<u.length-1;k+=2)if("string"==typeof u[k]){const B=u[k+1],K="function"==typeof B?B(s):Zr(s[B]),ne=_[w=u[k+2]],fe=u[k+3];"boolean"==typeof fe?K.removeEventListener(u[k],ne,fe):fe>=0?_[w=fe]():_[w=-fe].unsubscribe(),k+=2}else{const B=_[w=u[k+1]];u[k].call(B)}if(null!==_){for(let k=w+1;k<_.length;k++)(0,_[k])();s[7]=null}}(n,s),1===s[1].type&&s[11].destroy();const u=s[17];if(null!==u&&Fs(s[3])){u!==s[3]&&Fa(u,s);const _=s[19];null!==_&&_.detachView(n)}!function ku(n){Nl.delete(n[20])}(s)}}function ma(n,s,u){return function Ss(n,s,u){let _=s;for(;null!==_&&40&_.type;)_=(s=_).parent;if(null===_)return u[0];if(2&_.flags){const w=n.data[_.directiveStart].encapsulation;if(w===ke.None||w===ke.Emulated)return null}return qs(_,u)}(n,s.parent,u)}function nc(n,s,u,_,w){n.insertBefore(s,u,_,w)}function Kc(n,s,u){n.appendChild(s,u)}function rd(n,s,u,_,w){null!==_?nc(n,s,u,_,w):Kc(n,s,u)}function gl(n,s){return n.parentNode(s)}function Gd(n,s,u){return Zc(n,s,u)}let Xc,od,Zc=function Fh(n,s,u){return 40&n.type?qs(n,u):null};function cf(n,s,u,_){const w=ma(n,_,s),k=s[11],K=Gd(_.parent||s[6],_,s);if(null!=w)if(Array.isArray(u))for(let ne=0;ne<u.length;ne++)rd(k,w,u[ne],K,!1);else rd(k,w,u,K,!1)}function Nc(n,s){if(null!==s){const u=s.type;if(3&u)return qs(s,n);if(4&u)return ic(-1,n[s.index]);if(8&u){const _=s.child;if(null!==_)return Nc(n,_);{const w=n[s.index];return Fs(w)?ic(-1,w):Zr(w)}}if(32&u)return Ru(s,n)()||Zr(n[s.index]);{const _=Ff(n,s);return null!==_?Array.isArray(_)?_[0]:Nc(Vd(n[16]),_):Nc(n,s.next)}}return null}function Ff(n,s){return null!==s?n[16][6].projection[s.projection]:null}function ic(n,s){const u=10+n+1;if(u<s.length){const _=s[u],w=_[1].firstChild;if(null!==w)return Nc(_,w)}return s[7]}function sd(n,s,u,_,w,k,B){for(;null!=u;){const K=_[u.index],ne=u.type;if(B&&0===s&&(K&&Na(Zr(K),_),u.flags|=4),64!=(64&u.flags))if(8&ne)sd(n,s,u.child,_,w,k,!1),Hd(s,n,w,K,k);else if(32&ne){const fe=Ru(u,_);let Pe;for(;Pe=fe();)Hd(s,n,w,Pe,k);Hd(s,n,w,K,k)}else 16&ne?wr(n,s,_,u,w,k):Hd(s,n,w,K,k);u=B?u.projectionNext:u.next}}function hh(n,s,u,_,w,k){sd(u,_,n.firstChild,s,w,k,!1)}function wr(n,s,u,_,w,k){const B=u[16],ne=B[6].projection[_.projection];if(Array.isArray(ne))for(let fe=0;fe<ne.length;fe++)Hd(s,n,w,ne[fe],k);else sd(n,s,ne,B[3],w,k,!0)}function uf(n,s,u){n.setAttribute(s,"style",u)}function Qc(n,s,u){""===u?n.removeAttribute(s,"class"):n.setAttribute(s,"class",u)}function sa(n){return function fh(){if(void 0===Xc&&(Xc=null,Ze.trustedTypes))try{Xc=Ze.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Xc}()?.createHTML(n)||n}function eu(n){od=n}class Lu{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Cs extends Lu{getTypeName(){return"HTML"}}class ga extends Lu{getTypeName(){return"Style"}}class tu extends Lu{getTypeName(){return"Script"}}class sc extends Lu{getTypeName(){return"URL"}}class nu extends Lu{getTypeName(){return"ResourceURL"}}function Wo(n){return n instanceof Lu?n.changingThisBreaksApplicationSecurity:n}function Lc(n,s){const u=function _p(n){return n instanceof Lu&&n.getTypeName()||null}(n);if(null!=u&&u!==s){if("ResourceURL"===u&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===s}function Bu(n){return new Cs(n)}function iu(n){return new ga(n)}function _h(n){return new tu(n)}function ff(n){return new sc(n)}function vp(n){return new nu(n)}class vh{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const u=(new window.DOMParser).parseFromString(sa(s),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(s):(u.removeChild(u.firstChild),u)}catch{return null}}}class L{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const _=this.inertDocument.createElement("body");u.appendChild(_)}}getInertBodyElement(s){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=sa(s),u;const _=this.inertDocument.createElement("body");return _.innerHTML=sa(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(_),_}stripCustomNsAttrs(s){const u=s.attributes;for(let w=u.length-1;0<w;w--){const B=u.item(w).name;("xmlns:ns1"===B||0===B.indexOf("ns1:"))&&s.removeAttribute(B)}let _=s.firstChild;for(;_;)_.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(_),_=_.nextSibling}}const T=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function U(n){return(n=String(n)).match(T)?n:"unsafe:"+n}function ue(n){const s={};for(const u of n.split(","))s[u]=!0;return s}function xe(...n){const s={};for(const u of n)for(const _ in u)u.hasOwnProperty(_)&&(s[_]=!0);return s}const dt=ue("area,br,col,hr,img,wbr"),nn=ue("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Yn=ue("rp,rt"),$s=xe(dt,xe(nn,ue("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),xe(Yn,ue("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),xe(Yn,nn)),vl=ue("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Uu=xe(vl,ue("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ue("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),oc=ue("script,style,template");class yl{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let u=s.firstChild,_=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?_=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,_&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let w=this.checkClobberedElement(u,u.nextSibling);if(w){u=w;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(s){const u=s.nodeName.toLowerCase();if(!$s.hasOwnProperty(u))return this.sanitizedSomething=!0,!oc.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const _=s.attributes;for(let w=0;w<_.length;w++){const k=_.item(w),B=k.name,K=B.toLowerCase();if(!Uu.hasOwnProperty(K)){this.sanitizedSomething=!0;continue}let ne=k.value;vl[K]&&(ne=U(ne)),this.buf.push(" ",B,'="',pf(ne),'"')}return this.buf.push(">"),!0}endElement(s){const u=s.nodeName.toLowerCase();$s.hasOwnProperty(u)&&!dt.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(s){this.buf.push(pf(s))}checkClobberedElement(s,u){if(u&&(s.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return u}}const ld=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Vh=/([^\#-~ |!])/g;function pf(n){return n.replace(/&/g,"&amp;").replace(ld,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(Vh,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let cd;function yh(n,s){let u=null;try{cd=cd||function ad(n){const s=new L(n);return function D(){try{return!!(new window.DOMParser).parseFromString(sa(""),"text/html")}catch{return!1}}()?new vh(s):s}(n);let _=s?String(s):"";u=cd.getInertBodyElement(_);let w=5,k=_;do{if(0===w)throw new Error("Failed to sanitize html because the input is unstable");w--,_=k,k=u.innerHTML,u=cd.getInertBodyElement(_)}while(_!==k);return sa((new yl).sanitizeChildren(Kd(u)||u))}finally{if(u){const _=Kd(u)||u;for(;_.firstChild;)_.removeChild(_.firstChild)}}}function Kd(n){return"content"in n&&function bh(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var fo=(()=>((fo=fo||{})[fo.NONE=0]="NONE",fo[fo.HTML=1]="HTML",fo[fo.STYLE=2]="STYLE",fo[fo.SCRIPT=3]="SCRIPT",fo[fo.URL=4]="URL",fo[fo.RESOURCE_URL=5]="RESOURCE_URL",fo))();function zp(n){const s=function _a(){const n=Un();return n&&n[12]}();return s?s.sanitize(fo.URL,n)||"":Lc(n,"URL")?Wo(n):U(Rt(n))}const Lf=new os("ENVIRONMENT_INITIALIZER"),xc=new os("INJECTOR",-1),ud=new os("INJECTOR_DEF_TYPES");class Gr{get(s,u=kc){if(u===kc){const _=new Error(`NullInjectorError: No provider for ${Ve(s)}!`);throw _.name="NullInjectorError",_}return u}}function Fr(...n){return{\u0275providers:il(0,n)}}function il(n,...s){const u=[],_=new Set;let w;return oo(s,k=>{const B=k;Bf(B,u,[],_)&&(w||(w=[]),w.push(B))}),void 0!==w&&Gp(w,u),u}function Gp(n,s){for(let u=0;u<n.length;u++){const{providers:w}=n[u];oo(w,k=>{s.push(k)})}}function Bf(n,s,u,_){if(!(n=Ge(n)))return!1;let w=null,k=jt(n);const B=!k&&_e(n);if(k||B){if(B&&!B.standalone)return!1;w=n}else{const ne=n.ngModule;if(k=jt(ne),!k)return!1;w=ne}const K=_.has(w);if(B){if(K)return!1;if(_.add(w),B.dependencies){const ne="function"==typeof B.dependencies?B.dependencies():B.dependencies;for(const fe of ne)Bf(fe,s,u,_)}}else{if(!k)return!1;{if(null!=k.imports&&!K){let fe;_.add(w);try{oo(k.imports,Pe=>{Bf(Pe,s,u,_)&&(fe||(fe=[]),fe.push(Pe))})}finally{}void 0!==fe&&Gp(fe,s)}if(!K){const fe=Ks(w)||(()=>new w);s.push({provide:w,useFactory:fe,deps:Fn},{provide:ud,useValue:w,multi:!0},{provide:Lf,useValue:()=>ao(w),multi:!0})}const ne=k.providers;null==ne||K||oo(ne,Pe=>{s.push(Pe)})}}return w!==n&&void 0!==n.providers}const $p=be({provide:String,useValue:be});function Wp(n){return null!==n&&"object"==typeof n&&$p in n}function bl(n){return"function"==typeof n}const Hh=new os("Set Injector scope."),Yp={},fg={};let Om;function dd(){return void 0===Om&&(Om=new Gr),Om}class f{}class l extends f{constructor(s,u,_,w){super(),this.parent=u,this.source=_,this.scopes=w,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ye(s,B=>this.processProvider(B)),this.records.set(xc,O(void 0,this)),w.has("environment")&&this.records.set(f,O(void 0,this));const k=this.records.get(Hh);null!=k&&"string"==typeof k.value&&this.scopes.add(k.value),this.injectorDefTypes=new Set(this.get(ud.multi,Fn,dn.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const u=Uo(this),_=On(void 0);try{return s()}finally{Uo(u),On(_)}}get(s,u=kc,_=dn.Default){this.assertNotDestroyed();const w=Uo(this),k=On(void 0);try{if(!(_&dn.SkipSelf)){let K=this.records.get(s);if(void 0===K){const ne=function Q(n){return"function"==typeof n||"object"==typeof n&&n instanceof os}(s)&&Vt(s);K=ne&&this.injectableDefInScope(ne)?O(h(s),Yp):null,this.records.set(s,K)}if(null!=K)return this.hydrate(s,K)}return(_&dn.Self?dd():this.parent).get(s,u=_&dn.Optional&&u===kc?null:u)}catch(B){if("NullInjectorError"===B.name){if((B[Ql]=B[Ql]||[]).unshift(Ve(s)),w)throw B;return function oh(n,s,u,_){const w=n[Ql];throw s[Ad]&&w.unshift(s[Ad]),n.message=function Xl(n,s,u,_=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let w=Ve(s);if(Array.isArray(s))w=s.map(Ve).join(" -> ");else if("object"==typeof s){let k=[];for(let B in s)if(s.hasOwnProperty(B)){let K=s[B];k.push(B+":"+("string"==typeof K?JSON.stringify(K):Ve(K)))}w=`{${k.join(", ")}}`}return`${u}${_?"("+_+")":""}[${w}]: ${n.replace(kf,"\n  ")}`}("\n"+n.message,w,u,_),n.ngTokenPath=w,n[Ql]=null,n}(B,s,"R3InjectorError",this.source)}throw B}finally{On(k),Uo(w)}}resolveInjectorInitializers(){const s=Uo(this),u=On(void 0);try{const _=this.get(Lf.multi,Fn,dn.Self);for(const w of _)w()}finally{Uo(s),On(u)}}toString(){const s=[],u=this.records;for(const _ of u.keys())s.push(Ve(_));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new tt(205,!1)}processProvider(s){let u=bl(s=Ge(s))?s:Ge(s&&s.provide);const _=function y(n){return Wp(n)?O(void 0,n.useValue):O(I(n),Yp)}(s);if(bl(s)||!0!==s.multi)this.records.get(u);else{let w=this.records.get(u);w||(w=O(void 0,Yp,!0),w.factory=()=>Ju(w.multi),this.records.set(u,w)),u=s,w.multi.push(s)}this.records.set(u,_)}hydrate(s,u){return u.value===Yp&&(u.value=fg,u.value=u.factory()),"object"==typeof u.value&&u.value&&function j(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(s){if(!s.providedIn)return!1;const u=Ge(s.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function h(n){const s=Vt(n),u=null!==s?s.factory:Ks(n);if(null!==u)return u;if(n instanceof os)throw new tt(204,!1);if(n instanceof Function)return function g(n){const s=n.length;if(s>0)throw $(s,"?"),new tt(204,!1);const u=function tn(n){const s=n&&(n[wn]||n[qn]);if(s){const u=function Mn(n){if(n.hasOwnProperty("name"))return n.name;const s=(""+n).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),s}return null}(n);return null!==u?()=>u.factory(n):()=>new n}(n);throw new tt(204,!1)}function I(n,s,u){let _;if(bl(n)){const w=Ge(n);return Ks(w)||h(w)}if(Wp(n))_=()=>Ge(n.useValue);else if(function qd(n){return!(!n||!n.useFactory)}(n))_=()=>n.useFactory(...Ju(n.deps||[]));else if(function yp(n){return!(!n||!n.useExisting)}(n))_=()=>ao(Ge(n.useExisting));else{const w=Ge(n&&(n.useClass||n.provide));if(!function F(n){return!!n.deps}(n))return Ks(w)||h(w);_=()=>new w(...Ju(n.deps))}return _}function O(n,s,u=!1){return{factory:n,value:s,multi:u?[]:void 0}}function de(n){return!!n.\u0275providers}function ye(n,s){for(const u of n)Array.isArray(u)?ye(u,s):de(u)?ye(u.\u0275providers,s):s(u)}class nt{}class gn{resolveComponentFactory(s){throw function At(n){const s=Error(`No component factory found for ${Ve(n)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=n,s}(s)}}let Tn=(()=>{class n{}return n.NULL=new gn,n})();function si(){return Jn(Br(),Un())}function Jn(n,s){return new jn(qs(n,s))}let jn=(()=>{class n{constructor(u){this.nativeElement=u}}return n.__NG_ELEMENT_ID__=si,n})();function bi(n){return n instanceof jn?n.nativeElement:n}class Mi{}let wi=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function $r(){const n=Un(),u=Qr(Br().index,n);return(Kr(u)?u:n)[11]}(),n})(),Xr=(()=>{class n{}return n.\u0275prov=Dt({token:n,providedIn:"root",factory:()=>null}),n})();class Jr{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Yo=new Jr("14.3.0"),xo={};function Hi(n){return n.ngOriginalError}class ac{constructor(){this._console=console}handleError(s){const u=this._findOriginalError(s);this._console.error("ERROR",s),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(s){let u=s&&Hi(s);for(;u&&Hi(u);)u=Hi(u);return u||null}}function Hu(n){return n instanceof Function?n():n}function Uf(n,s,u){let _=n.length;for(;;){const w=n.indexOf(s,u);if(-1===w)return w;if(0===w||n.charCodeAt(w-1)<=32){const k=s.length;if(w+k===_||n.charCodeAt(w+k)<=32)return w}u=w+1}}const Gg="ng-template";function lc(n,s,u){let _=0;for(;_<n.length;){let w=n[_++];if(u&&"class"===w){if(w=n[_],-1!==Uf(w.toLowerCase(),s,0))return!0}else if(1===w){for(;_<n.length&&"string"==typeof(w=n[_++]);)if(w.toLowerCase()===s)return!0;return!1}}return!1}function $g(n){return 4===n.type&&n.value!==Gg}function Zp(n,s,u){return s===(4!==n.type||u?n.value:Gg)}function mg(n,s,u){let _=4;const w=n.attrs||[],k=function Cp(n){for(let s=0;s<n.length;s++)if(Et(n[s]))return s;return n.length}(w);let B=!1;for(let K=0;K<s.length;K++){const ne=s[K];if("number"!=typeof ne){if(!B)if(4&_){if(_=2|1&_,""!==ne&&!Zp(n,ne,u)||""===ne&&1===s.length){if(ru(_))return!1;B=!0}}else{const fe=8&_?ne:s[++K];if(8&_&&null!==n.attrs){if(!lc(n.attrs,fe,u)){if(ru(_))return!1;B=!0}continue}const rt=_f(8&_?"class":ne,w,$g(n),u);if(-1===rt){if(ru(_))return!1;B=!0;continue}if(""!==fe){let Ut;Ut=rt>k?"":w[rt+1].toLowerCase();const un=8&_?Ut:null;if(un&&-1!==Uf(un,fe,0)||2&_&&fe!==Ut){if(ru(_))return!1;B=!0}}}}else{if(!B&&!ru(_)&&!ru(ne))return!1;if(B&&ru(ne))continue;B=!1,_=ne|1&_}}return ru(_)||B}function ru(n){return 0==(1&n)}function _f(n,s,u,_){if(null===s)return-1;let w=0;if(_||!u){let k=!1;for(;w<s.length;){const B=s[w];if(B===n)return w;if(3===B||6===B)k=!0;else{if(1===B||2===B){let K=s[++w];for(;"string"==typeof K;)K=s[++w];continue}if(4===B)break;if(0===B){w+=4;continue}}w+=k?1:2}return-1}return function Qd(n,s){let u=n.indexOf(4);if(u>-1)for(u++;u<n.length;){const _=n[u];if("number"==typeof _)return-1;if(_===s)return u;u++}return-1}(s,n)}function Hf(n,s,u=!1){for(let _=0;_<s.length;_++)if(mg(n,s[_],u))return!0;return!1}function Dh(n,s){e:for(let u=0;u<s.length;u++){const _=s[u];if(n.length===_.length){for(let w=0;w<n.length;w++)if(n[w]!==_[w])continue e;return!0}}return!1}function jf(n,s){return n?":not("+s.trim()+")":s}function xh(n){let s=n[0],u=1,_=2,w="",k=!1;for(;u<n.length;){let B=n[u];if("string"==typeof B)if(2&_){const K=n[++u];w+="["+B+(K.length>0?'="'+K+'"':"")+"]"}else 8&_?w+="."+B:4&_&&(w+=" "+B);else""!==w&&!ru(B)&&(s+=jf(k,w),w=""),_=B,k=k||!ru(_);u++}return""!==w&&(s+=jf(k,w)),s}const Rr={};function gg(n){_g(Cr(),Un(),ns()+n,!1)}function _g(n,s,u,_){if(!_)if(3==(3&s[2])){const k=n.preOrderCheckHooks;null!==k&&Oa(s,k,u)}else{const k=n.preOrderHooks;null!==k&&Xe(s,k,0,u)}na(u)}function ju(n,s=null,u=null,_){const w=vg(n,s,u,_);return w.resolveInjectorInitializers(),w}function vg(n,s=null,u=null,_,w=new Set){const k=[u||Fn,Fr(n)];return _=_||("object"==typeof n?void 0:Ve(n)),new l(k,s||dd(),_||null,w)}let zf=(()=>{class n{static create(u,_){if(Array.isArray(u))return ju({name:""},_,u,"");{const w=u.name??"";return ju({name:w},u.parent,u.providers,w)}}}return n.THROW_IF_NOT_FOUND=kc,n.NULL=new Gr,n.\u0275prov=Dt({token:n,providedIn:"any",factory:()=>ao(xc)}),n.__NG_ELEMENT_ID__=-1,n})();function Xd(n,s=dn.Default){const u=Un();return null===u?ao(n,s):Qs(Br(),u,Ge(n),s)}function zh(){throw new Error("invalid")}function Ih(n,s){return n<<17|s<<2}function Vc(n){return n>>17&32767}function tm(n){return 2|n}function pd(n){return(131068&n)>>2}function Wf(n,s){return-131069&n|s<<2}function nm(n){return 1|n}function rl(n,s){const u=n.contentQueries;if(null!==u)for(let _=0;_<u.length;_+=2){const w=u[_],k=u[_+1];if(-1!==k){const B=n.data[k];bo(w),B.contentQueries(2,s[k],k)}}}function md(n,s,u,_,w,k,B,K,ne,fe,Pe){const rt=s.blueprint.slice();return rt[0]=w,rt[2]=76|_,(null!==Pe||n&&1024&n[2])&&(rt[2]|=1024),Sa(rt),rt[3]=rt[15]=n,rt[8]=u,rt[10]=B||n&&n[10],rt[11]=K||n&&n[11],rt[12]=ne||n&&n[12]||null,rt[9]=fe||n&&n[9]||null,rt[6]=k,rt[20]=function fp(){return hp++}(),rt[21]=Pe,rt[16]=2==s.type?n[16]:rt,rt}function Zf(n,s,u,_,w){let k=n.data[s];if(null===k)k=function Cg(n,s,u,_,w){const k=ce(),B=Oe(),ne=n.data[s]=function o_(n,s,u,_,w,k){return{type:u,index:_,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:w,attrs:k,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,B?k:k&&k.parent,u,s,_,w);return null===n.firstChild&&(n.firstChild=ne),null!==k&&(B?null==k.child&&null!==ne.parent&&(k.child=ne):null===k.next&&(k.next=ne)),ne}(n,s,u,_,w),function ka(){return $i.lFrame.inI18n}()&&(k.flags|=64);else if(64&k.type){k.type=u,k.value=_,k.attrs=w;const B=function oe(){const n=$i.lFrame,s=n.currentTNode;return n.isParent?s:s.parent}();k.injectorIndex=null===B?-1:B.injectorIndex}return te(k,!0),k}function cm(n,s,u,_){if(0===u)return-1;const w=s.length;for(let k=0;k<u;k++)s.push(_),n.blueprint.push(_),n.data.push(null);return w}function Qf(n,s,u){Ja(s);try{const _=n.viewQuery;null!==_&&Mg(1,_,u);const w=n.template;null!==w&&Kv(n,s,w,1,u),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&rl(n,s),n.staticViewQueries&&Mg(2,n.viewQuery,u);const k=n.components;null!==k&&function ya(n,s){for(let u=0;u<s.length;u++)Jv(n,s[u])}(s,k)}catch(_){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),_}finally{s[2]&=-5,fa()}}function Ap(n,s,u,_){const w=s[2];if(128!=(128&w)){Ja(s);try{Sa(s),function ul(n){return $i.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==u&&Kv(n,s,u,2,_);const B=3==(3&w);if(B){const fe=n.preOrderCheckHooks;null!==fe&&Oa(s,fe,null)}else{const fe=n.preOrderHooks;null!==fe&&Xe(s,fe,0,null),kl(s,0)}if(function cv(n){for(let s=Nf(n);null!==s;s=Ud(s)){if(!s[2])continue;const u=s[9];for(let _=0;_<u.length;_++){const w=u[_],k=w[3];0==(512&w[2])&&Ls(k,1),w[2]|=512}}}(s),function d_(n){for(let s=Nf(n);null!==s;s=Ud(s))for(let u=10;u<s.length;u++){const _=s[u],w=_[1];zr(_)&&Ap(w,_,w.template,_[8])}}(s),null!==n.contentQueries&&rl(n,s),B){const fe=n.contentCheckHooks;null!==fe&&Oa(s,fe)}else{const fe=n.contentHooks;null!==fe&&Xe(s,fe,1),kl(s,1)}!function ws(n,s){const u=n.hostBindingOpCodes;if(null!==u)try{for(let _=0;_<u.length;_++){const w=u[_];if(w<0)na(~w);else{const k=w,B=u[++_],K=u[++_];Yl(B,k),K(2,s[k])}}}finally{na(-1)}}(n,s);const K=n.components;null!==K&&function Po(n,s){for(let u=0;u<s.length;u++)Ly(n,s[u])}(s,K);const ne=n.viewQuery;if(null!==ne&&Mg(2,ne,_),B){const fe=n.viewCheckHooks;null!==fe&&Oa(s,fe)}else{const fe=n.viewHooks;null!==fe&&Xe(s,fe,2),kl(s,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),s[2]&=-41,512&s[2]&&(s[2]&=-513,Ls(s[3],-1))}finally{fa()}}}function Kv(n,s,u,_,w){const k=ns(),B=2&_;try{na(-1),B&&s.length>22&&_g(n,s,22,!1),u(_,w)}finally{na(k)}}function Xf(n,s,u){if(la(s)){const w=s.directiveEnd;for(let k=s.directiveStart;k<w;k++){const B=n.data[k];B.contentQueries&&B.contentQueries(1,u[k],k)}}}function kp(n,s,u){!yo()||(function Ef(n,s,u,_){const w=u.directiveStart,k=u.directiveEnd;n.firstCreatePass||xs(u,s),Na(_,s);const B=u.initialInputs;for(let K=w;K<k;K++){const ne=n.data[K],fe=mo(ne);fe&&av(s,u,ne);const Pe=Pa(s,n,K,u);Na(Pe,s),null!==B&&c_(0,K-w,Pe,ne,0,B),fe&&(Qr(u.index,s)[8]=Pe)}}(n,s,u,qs(u,s)),128==(128&u.flags)&&function Fy(n,s,u){const _=u.directiveStart,w=u.directiveEnd,k=u.index,B=function Ra(){return $i.lFrame.currentDirectiveIndex}();try{na(k);for(let K=_;K<w;K++){const ne=n.data[K],fe=s[K];ea(K),(null!==ne.hostBindings||0!==ne.hostVars||null!==ne.hostAttrs)&&Qv(ne,fe)}}finally{na(-1),ea(B)}}(n,s,u))}function r_(n,s,u=qs){const _=s.localNames;if(null!==_){let w=s.index+1;for(let k=0;k<_.length;k+=2){const B=_[k+1],K=-1===B?u(s,n):n[B];n[w++]=K}}}function qv(n){const s=n.tView;return null===s||s.incompleteFirstPass?n.tView=wg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):s}function wg(n,s,u,_,w,k,B,K,ne,fe){const Pe=22+_,rt=Pe+w,Ut=function s_(n,s){const u=[];for(let _=0;_<s;_++)u.push(_<n?null:Rr);return u}(Pe,rt),un="function"==typeof fe?fe():fe;return Ut[1]={type:n,blueprint:Ut,template:u,queries:null,viewQuery:K,declTNode:s,data:Ut.slice().fill(null,Pe),bindingStartIndex:Pe,expandoStartIndex:rt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof k?k():k,pipeRegistry:"function"==typeof B?B():B,firstChild:null,schemas:ne,consts:un,incompleteFirstPass:!1}}function zm(n,s,u,_){const w=dm(s);null===u?w.push(_):(w.push(u),n.firstCreatePass&&h_(n).push(_,w.length-1))}function a_(n,s,u){for(let _ in n)if(n.hasOwnProperty(_)){const w=n[_];(u=null===u?{}:u).hasOwnProperty(_)?u[_].push(s,w):u[_]=[s,w]}return u}function Rp(n,s){const _=s.directiveEnd,w=n.data,k=s.attrs,B=[];let K=null,ne=null;for(let fe=s.directiveStart;fe<_;fe++){const Pe=w[fe],rt=Pe.inputs,Ut=null===k||$g(s)?null:lv(rt,k);B.push(Ut),K=a_(rt,fe,K),ne=a_(Pe.outputs,fe,ne)}null!==K&&(K.hasOwnProperty("class")&&(s.flags|=16),K.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=B,s.inputs=K,s.outputs=ne}function lu(n,s,u,_,w,k,B,K){const ne=qs(s,u);let Pe,fe=s.inputs;!K&&null!=fe&&(Pe=fe[_])?(Ah(n,u,Pe,_,w),xa(s)&&Eg(u,s.index)):3&s.type&&(_=function l_(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(_),w=null!=B?B(w,s.value||"",_):w,k.setProperty(ne,_,w))}function Eg(n,s){const u=Qr(s,n);16&u[2]||(u[2]|=32)}function wf(n,s,u,_){let w=!1;if(yo()){const k=function rv(n,s,u){const _=n.directiveRegistry;let w=null;if(_)for(let k=0;k<_.length;k++){const B=_[k];Hf(u,B.selectors,!1)&&(w||(w=[]),vc(xs(u,s),n,B.type),mo(B)?(Gm(n,u),w.unshift(B)):w.push(B))}return w}(n,s,u),B=null===_?null:{"":-1};if(null!==k){w=!0,ov(u,n.data.length,k.length);for(let Pe=0;Pe<k.length;Pe++){const rt=k[Pe];rt.providersResolver&&rt.providersResolver(rt)}let K=!1,ne=!1,fe=cm(n,s,k.length,null);for(let Pe=0;Pe<k.length;Pe++){const rt=k[Pe];u.mergedAttrs=Pn(u.mergedAttrs,rt.hostAttrs),Xv(n,u,s,fe,rt),sv(fe,rt,B),null!==rt.contentQueries&&(u.flags|=8),(null!==rt.hostBindings||null!==rt.hostAttrs||0!==rt.hostVars)&&(u.flags|=128);const Ut=rt.type.prototype;!K&&(Ut.ngOnChanges||Ut.ngOnInit||Ut.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(u.index),K=!0),!ne&&(Ut.ngOnChanges||Ut.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(u.index),ne=!0),fe++}Rp(n,u)}B&&function xg(n,s,u){if(s){const _=n.localNames=[];for(let w=0;w<s.length;w+=2){const k=u[s[w+1]];if(null==k)throw new tt(-301,!1);_.push(s[w],k)}}}(u,_,B)}return u.mergedAttrs=Pn(u.mergedAttrs,u.attrs),w}function Jf(n,s,u,_,w,k){const B=k.hostBindings;if(B){let K=n.hostBindingOpCodes;null===K&&(K=n.hostBindingOpCodes=[]);const ne=~s.index;(function Zv(n){let s=n.length;for(;s>0;){const u=n[--s];if("number"==typeof u&&u<0)return u}return 0})(K)!=ne&&K.push(ne),K.push(_,w,B)}}function Qv(n,s){null!==n.hostBindings&&n.hostBindings(1,s)}function Gm(n,s){s.flags|=2,(n.components||(n.components=[])).push(s.index)}function sv(n,s,u){if(u){if(s.exportAs)for(let _=0;_<s.exportAs.length;_++)u[s.exportAs[_]]=n;mo(s)&&(u[""]=n)}}function ov(n,s,u){n.flags|=1,n.directiveStart=s,n.directiveEnd=s+u,n.providerIndexes=s}function Xv(n,s,u,_,w){n.data[_]=w;const k=w.factory||(w.factory=Ks(w.type)),B=new gc(k,mo(w),Xd);n.blueprint[_]=B,u[_]=B,Jf(n,s,0,_,cm(n,u,w.hostVars,Rr),w)}function av(n,s,u){const _=qs(s,n),w=qv(u),k=n[10],B=Df(n,md(n,w,null,u.onPush?32:16,_,s,k,k.createRenderer(_,u),null,null,null));n[s.index]=B}function Jd(n,s,u,_,w,k){const B=qs(n,s);!function Sg(n,s,u,_,w,k,B){if(null==k)n.removeAttribute(s,w,u);else{const K=null==B?Rt(k):B(k,_||"",w);n.setAttribute(s,w,K,u)}}(s[11],B,k,n.value,u,_,w)}function c_(n,s,u,_,w,k){const B=k[s];if(null!==B){const K=_.setInput;for(let ne=0;ne<B.length;){const fe=B[ne++],Pe=B[ne++],rt=B[ne++];null!==K?_.setInput(u,rt,fe,Pe):u[Pe]=rt}}}function lv(n,s){let u=null,_=0;for(;_<s.length;){const w=s[_];if(0!==w)if(5!==w){if("number"==typeof w)break;n.hasOwnProperty(w)&&(null===u&&(u=[]),u.push(w,n[w],s[_+1])),_+=2}else _+=2;else _+=4}return u}function ep(n,s,u,_){return new Array(n,!0,!1,s,null,0,_,u,null,null)}function Ly(n,s){const u=Qr(s,n);if(zr(u)){const _=u[1];48&u[2]?Ap(_,u,_.template,u[8]):u[5]>0&&$m(u)}}function $m(n){for(let _=Nf(n);null!==_;_=Ud(_))for(let w=10;w<_.length;w++){const k=_[w];if(zr(k))if(512&k[2]){const B=k[1];Ap(B,k,B.template,k[8])}else k[5]>0&&$m(k)}const u=n[1].components;if(null!==u)for(let _=0;_<u.length;_++){const w=Qr(u[_],n);zr(w)&&w[5]>0&&$m(w)}}function Jv(n,s){const u=Qr(s,n),_=u[1];(function By(n,s){for(let u=s.length;u<n.blueprint.length;u++)s.push(n.blueprint[u])})(_,u),Qf(_,u,u[8])}function Df(n,s){return n[13]?n[14][4]=s:n[13]=s,n[14]=s,s}function um(n){for(;n;){n[2]|=32;const s=Vd(n);if(gs(n)&&!s)return n;n=s}return null}function Wm(n,s,u,_=!0){const w=s[10];w.begin&&w.begin();try{Ap(n,s,n.template,u)}catch(B){throw _&&hm(s,B),B}finally{w.end&&w.end()}}function Mg(n,s,u){bo(0),s(n,u)}function dm(n){return n[7]||(n[7]=[])}function h_(n){return n.cleanup||(n.cleanup=[])}function f_(n,s,u){return(null===n||mo(n))&&(u=function no(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(u[s.index])),u[11]}function hm(n,s){const u=n[9],_=u?u.get(ac,null):null;_&&_.handleError(s)}function Ah(n,s,u,_,w){for(let k=0;k<u.length;){const B=u[k++],K=u[k++],ne=s[B],fe=n.data[B];null!==fe.setInput?fe.setInput(ne,w,_,K):ne[K]=w}}function p_(n,s,u){let _=u?n.styles:null,w=u?n.classes:null,k=0;if(null!==s)for(let B=0;B<s.length;B++){const K=s[B];"number"==typeof K?k=K:1==k?w=qe(w,K):2==k&&(_=qe(_,K+": "+s[++B]+";"))}u?n.styles=_:n.stylesWithoutHost=_,u?n.classes=w:n.classesWithoutHost=w}function fm(n,s,u,_,w=!1){for(;null!==u;){const k=s[u.index];if(null!==k&&_.push(Zr(k)),Fs(k))for(let K=10;K<k.length;K++){const ne=k[K],fe=ne[1].firstChild;null!==fe&&fm(ne[1],ne,fe,_)}const B=u.type;if(8&B)fm(n,s,u.child,_);else if(32&B){const K=Ru(u,s);let ne;for(;ne=K();)_.push(ne)}else if(16&B){const K=Ff(s,u);if(Array.isArray(K))_.push(...K);else{const ne=Vd(s[16]);fm(ne[1],ne,K,_,!0)}}u=w?u.projectionNext:u.next}return _}class pm{constructor(s,u){this._lView=s,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,u=s[1];return fm(u,s,u.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Fs(s)){const u=s[8],_=u?u.indexOf(this):-1;_>-1&&(Pu(s,_),G(u,_))}this._attachedToViewContainer=!1}af(this._lView[1],this._lView)}onDestroy(s){zm(this._lView[1],this._lView,null,s)}markForCheck(){um(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Wm(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new tt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function id(n,s){hh(n,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new tt(902,!1);this._appRef=s}}class mm extends pm{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;Wm(s[1],s,s[8],!1)}checkNoChanges(){}get context(){return null}}class gm extends Tn{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const u=_e(s);return new xf(u,this.ngModule)}}function m_(n){const s=[];for(let u in n)n.hasOwnProperty(u)&&s.push({propName:n[u],templateName:u});return s}class g_{constructor(s,u){this.injector=s,this.parentInjector=u}get(s,u,_){const w=this.injector.get(s,xo,_);return w!==xo||u===xo?w:this.parentInjector.get(s,u,_)}}class xf extends nt{constructor(s,u){super(),this.componentDef=s,this.ngModule=u,this.componentType=s.type,this.selector=function Wg(n){return n.map(xh).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return m_(this.componentDef.inputs)}get outputs(){return m_(this.componentDef.outputs)}create(s,u,_,w){let k=(w=w||this.ngModule)instanceof f?w:w?.injector;k&&null!==this.componentDef.getStandaloneInjector&&(k=this.componentDef.getStandaloneInjector(k)||k);const B=k?new g_(s,k):s,K=B.get(Mi,null);if(null===K)throw new tt(407,!1);const ne=B.get(Xr,null),fe=K.createRenderer(null,this.componentDef),Pe=this.componentDef.selectors[0][0]||"div",rt=_?function Ny(n,s,u){return n.selectRootElement(s,u===ke.ShadowDom)}(fe,_,this.componentDef.encapsulation):Ll(fe,Pe,function gd(n){const s=n.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(Pe)),Ut=this.componentDef.onPush?288:272,un=wg(0,null,null,1,0,null,null,null,null,null),zn=md(null,un,null,Ut,null,null,K,fe,ne,B,null);let _i,Oi;Ja(zn);try{const rr=function tp(n,s,u,_,w,k){const B=u[1];u[22]=n;const ne=Zf(B,22,2,"#host",null),fe=ne.mergedAttrs=s.hostAttrs;null!==fe&&(p_(ne,fe,!0),null!==n&&(Re(w,n,fe),null!==ne.classes&&Qc(w,n,ne.classes),null!==ne.styles&&uf(w,n,ne.styles)));const Pe=_.createRenderer(n,s),rt=md(u,qv(s),null,s.onPush?32:16,u[22],ne,_,Pe,k||null,null,null);return B.firstCreatePass&&(vc(xs(ne,u),B,s.type),Gm(B,ne),ov(ne,u.length,1)),Df(u,rt),u[22]=rt}(rt,this.componentDef,zn,K,fe);if(rt)if(_)Re(fe,rt,["ng-version",Yo.full]);else{const{attrs:Sr,classes:ei}=function zv(n){const s=[],u=[];let _=1,w=2;for(;_<n.length;){let k=n[_];if("string"==typeof k)2===w?""!==k&&s.push(k,n[++_]):8===w&&u.push(k);else{if(!ru(w))break;w=k}_++}return{attrs:s,classes:u}}(this.componentDef.selectors[0]);Sr&&Re(fe,rt,Sr),ei&&ei.length>0&&Qc(fe,rt,ei.join(" "))}if(Oi=Xo(un,22),void 0!==u){const Sr=Oi.projection=[];for(let ei=0;ei<this.ngContentSelectors.length;ei++){const Nr=u[ei];Sr.push(null!=Nr?Array.from(Nr):null)}}_i=function __(n,s,u,_){const w=u[1],k=function Dg(n,s,u){const _=Br();n.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),Xv(n,_,s,cm(n,s,1,null),u),Rp(n,_));const w=Pa(s,n,_.directiveStart,_);Na(w,s);const k=qs(_,s);return k&&Na(k,s),w}(w,u,s);if(n[8]=u[8]=k,null!==_)for(const K of _)K(k,s);if(s.contentQueries){const K=Br();s.contentQueries(1,k,K.directiveStart)}const B=Br();return!w.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(na(B.index),Jf(u[1],B,0,B.directiveStart,B.directiveEnd,s),Qv(s,k)),k}(rr,this.componentDef,zn,[Vy]),Qf(un,zn,null)}finally{fa()}return new eh(this.componentType,_i,Jn(Oi,zn),zn,Oi)}}class eh extends class Fe{}{constructor(s,u,_,w,k){super(),this.location=_,this._rootLView=w,this._tNode=k,this.instance=u,this.hostView=this.changeDetectorRef=new mm(w),this.componentType=s}setInput(s,u){const _=this._tNode.inputs;let w;if(null!==_&&(w=_[s])){const k=this._rootLView;Ah(k[1],k,w,s,u),Eg(k,this._tNode.index)}}get injector(){return new Os(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function Vy(){const n=Br();ja(Un()[1],n)}function hv(n){let s=function v_(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),u=!0;const _=[n];for(;s;){let w;if(mo(n))w=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new tt(903,!1);w=s.\u0275dir}if(w){if(u){_.push(w);const B=n;B.inputs=np(n.inputs),B.declaredInputs=np(n.declaredInputs),B.outputs=np(n.outputs);const K=w.hostBindings;K&&Uy(n,K);const ne=w.viewQuery,fe=w.contentQueries;if(ne&&ny(n,ne),fe&&y_(n,fe),at(n.inputs,w.inputs),at(n.declaredInputs,w.declaredInputs),at(n.outputs,w.outputs),mo(w)&&w.data.animation){const Pe=n.data;Pe.animation=(Pe.animation||[]).concat(w.data.animation)}}const k=w.features;if(k)for(let B=0;B<k.length;B++){const K=k[B];K&&K.ngInherit&&K(n),K===hv&&(u=!1)}}s=Object.getPrototypeOf(s)}!function ty(n){let s=0,u=null;for(let _=n.length-1;_>=0;_--){const w=n[_];w.hostVars=s+=w.hostVars,w.hostAttrs=Pn(w.hostAttrs,u=Pn(u,w.hostAttrs))}}(_)}function np(n){return n===Zn?{}:n===Fn?[]:n}function ny(n,s){const u=n.viewQuery;n.viewQuery=u?(_,w)=>{s(_,w),u(_,w)}:s}function y_(n,s){const u=n.contentQueries;n.contentQueries=u?(_,w,k)=>{s(_,w,k),u(_,w,k)}:s}function Uy(n,s){const u=n.hostBindings;n.hostBindings=u?(_,w)=>{s(_,w),u(_,w)}:s}let _m=null;function ip(){if(!_m){const n=Ze.Symbol;if(n&&n.iterator)_m=n.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<s.length;++u){const _=s[u];"entries"!==_&&"size"!==_&&Map.prototype[_]===Map.prototype.entries&&(_m=_)}}}return _m}function Ag(n){return!!mv(n)&&(Array.isArray(n)||!(n instanceof Map)&&ip()in n)}function mv(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function _d(n,s,u){return n[s]=u}function cu(n,s,u){return!Object.is(n[s],u)&&(n[s]=u,!0)}function Ym(n,s,u,_){const w=Un();return cu(w,Aa(),s)&&(Cr(),Jd(ss(),w,n,s,u,_)),Ym}function vm(n,s,u,_){return cu(n,Aa(),u)?s+Rt(u)+_:Rr}function du(n,s,u,_,w,k,B,K){const ne=Un(),fe=Cr(),Pe=n+22,rt=fe.firstCreatePass?function S_(n,s,u,_,w,k,B,K,ne){const fe=s.consts,Pe=Zf(s,n,4,B||null,Zs(fe,K));wf(s,u,Pe,Zs(fe,ne)),ja(s,Pe);const rt=Pe.tViews=wg(2,Pe,_,w,k,s.directiveRegistry,s.pipeRegistry,null,s.schemas,fe);return null!==s.queries&&(s.queries.template(s,Pe),rt.queries=s.queries.embeddedTView(Pe)),Pe}(Pe,fe,ne,s,u,_,w,k,B):fe.data[Pe];te(rt,!1);const Ut=ne[11].createComment("");cf(fe,ne,Ut,rt),Na(Ut,ne),Df(ne,ne[Pe]=ep(Ut,ne,Ut,rt)),po(rt)&&kp(fe,ne,rt),null!=B&&r_(ne,rt,K)}function $h(n){return io(function Wi(){return $i.lFrame.contextLView}(),22+n)}function Jm(n,s,u){const _=Un();return cu(_,Aa(),s)&&lu(Cr(),ss(),_,n,s,_[11],u,!1),Jm}function Cd(n,s,u,_,w){const B=w?"class":"style";Ah(n,u,s.inputs[B],B,_)}function eg(n,s,u,_){const w=Un(),k=Cr(),B=22+n,K=w[11],ne=w[B]=Ll(K,s,function uo(){return $i.lFrame.currentNamespace}()),fe=k.firstCreatePass?function wm(n,s,u,_,w,k,B){const K=s.consts,fe=Zf(s,n,2,w,Zs(K,k));return wf(s,u,fe,Zs(K,B)),null!==fe.attrs&&p_(fe,fe.attrs,!1),null!==fe.mergedAttrs&&p_(fe,fe.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,fe),fe}(B,k,w,0,s,u,_):k.data[B];te(fe,!0);const Pe=fe.mergedAttrs;null!==Pe&&Re(K,ne,Pe);const rt=fe.classes;null!==rt&&Qc(K,ne,rt);const Ut=fe.styles;return null!==Ut&&uf(K,ne,Ut),64!=(64&fe.flags)&&cf(k,w,ne,fe),0===function Il(){return $i.lFrame.elementDepthCount}()&&Na(ne,w),function Ma(){$i.lFrame.elementDepthCount++}(),po(fe)&&(kp(k,w,fe),Xf(k,fe,w)),null!==_&&r_(w,fe),eg}function kg(){let n=Br();Oe()?hn():(n=n.parent,te(n,!1));const s=n;!function Ia(){$i.lFrame.elementDepthCount--}();const u=Cr();return u.firstCreatePass&&(ja(u,n),la(n)&&u.queries.elementEnd(n)),null!=s.classesWithoutHost&&function Vr(n){return 0!=(16&n.flags)}(s)&&Cd(u,s,Un(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function X(n){return 0!=(32&n.flags)}(s)&&Cd(u,s,Un(),s.stylesWithoutHost,!1),kg}function Mf(n,s,u,_){return eg(n,s,u,_),kg(),Mf}function M_(n,s,u){const _=Un(),w=Cr(),k=n+22,B=w.firstCreatePass?function hb(n,s,u,_,w){const k=s.consts,B=Zs(k,_),K=Zf(s,n,8,"ng-container",B);return null!==B&&p_(K,B,!0),wf(s,u,K,Zs(k,w)),null!==s.queries&&s.queries.elementStart(s,K),K}(k,w,_,s,u):w.data[k];te(B,!0);const K=_[k]=_[11].createComment("");return cf(w,_,K,B),Na(K,_),po(B)&&(kp(w,_,B),Xf(w,B,_)),null!=u&&r_(_,B),M_}function I_(){let n=Br();const s=Cr();return Oe()?hn():(n=n.parent,te(n,!1)),s.firstCreatePass&&(ja(s,n),la(n)&&s.queries.elementEnd(n)),I_}function Rg(n,s,u){return M_(n,s,u),I_(),Rg}function vv(){return Un()}function T_(n){return!!n&&"function"==typeof n.then}function A_(n){return!!n&&"function"==typeof n.subscribe}const yv=A_;function Pp(n,s,u,_){const w=Un(),k=Cr(),B=Br();return cs(k,w,w[11],B,n,s,0,_),Pp}function Em(n,s){const u=Br(),_=Un(),w=Cr();return cs(w,_,f_(hl(w.data),u,_),u,n,s),Em}function cs(n,s,u,_,w,k,B,K){const ne=po(_),Pe=n.firstCreatePass&&h_(n),rt=s[8],Ut=dm(s);let un=!0;if(3&_.type||K){const Oi=qs(_,s),rr=K?K(Oi):Oi,Sr=Ut.length,ei=K?qo=>K(Zr(qo[_.index])):_.index;let Nr=null;if(!K&&ne&&(Nr=function Np(n,s,u,_){const w=n.cleanup;if(null!=w)for(let k=0;k<w.length-1;k+=2){const B=w[k];if(B===u&&w[k+1]===_){const K=s[7],ne=w[k+2];return K.length>ne?K[ne]:null}"string"==typeof B&&(k+=2)}return null}(n,s,w,_.index)),null!==Nr)(Nr.__ngLastListenerFn__||Nr).__ngNextListenerFn__=k,Nr.__ngLastListenerFn__=k,un=!1;else{k=R_(_,s,rt,k,!1);const qo=u.listen(rr,w,k);Ut.push(k,qo),Pe&&Pe.push(w,ei,Sr,Sr+1)}}else k=R_(_,s,rt,k,!1);const zn=_.outputs;let _i;if(un&&null!==zn&&(_i=zn[w])){const Oi=_i.length;if(Oi)for(let rr=0;rr<Oi;rr+=2){const jl=s[_i[rr]][_i[rr+1]].subscribe(k),Hv=Ut.length;Ut.push(k,jl),Pe&&Pe.push(w,_.index,Hv,-(Hv+1))}}}function k_(n,s,u,_){try{return!1!==u(_)}catch(w){return hm(n,w),!1}}function R_(n,s,u,_,w){return function k(B){if(B===Function)return _;um(2&n.flags?Qr(n.index,s):s);let ne=k_(s,0,_,B),fe=k.__ngNextListenerFn__;for(;fe;)ne=k_(s,0,fe,B)&&ne,fe=fe.__ngNextListenerFn__;return w&&!1===ne&&(B.preventDefault(),B.returnValue=!1),ne}}function Dm(n=1){return function mc(n){return($i.lFrame.contextLView=function ta(n,s){for(;n>0;)s=s[15],n--;return s}(n,$i.lFrame.contextLView))[8]}(n)}function bv(n,s){let u=null;const _=function Nm(n){const s=n.attrs;if(null!=s){const u=s.indexOf(5);if(0==(1&u))return s[u+1]}return null}(n);for(let w=0;w<s.length;w++){const k=s[w];if("*"!==k){if(null===_?Hf(n,k,!0):Dh(_,k))return w}else u=w}return u}function Ko(n){const s=Un()[16][6];if(!s.projection){const _=s.projection=$(n?n.length:1,null),w=_.slice();let k=s.child;for(;null!==k;){const B=n?bv(k,n):0;null!==B&&(w[B]?w[B].projectionNext=k:_[B]=k,w[B]=k),k=k.next}}}function No(n,s=0,u){const _=Un(),w=Cr(),k=Zf(w,22+n,16,null,u||null);null===k.projection&&(k.projection=s),hn(),64!=(64&k.flags)&&function $d(n,s,u){wr(s[11],0,s,u,ma(n,u,s),Gd(u.parent||s[6],u,s))}(w,_,k)}function th(n,s,u){return Og(n,"",s,"",u),th}function Og(n,s,u,_,w){const k=Un(),B=vm(k,s,u,_);return B!==Rr&&lu(Cr(),ss(),k,n,B,k[11],w,!1),Og}function sl(n,s,u,_,w){const k=n[u+1],B=null===s;let K=_?Vc(k):pd(k),ne=!1;for(;0!==K&&(!1===ne||B);){const Pe=n[K+1];ly(n[K],s)&&(ne=!0,n[K+1]=_?nm(Pe):tm(Pe)),K=_?Vc(Pe):pd(Pe)}ne&&(n[u+1]=_?tm(k):nm(k))}function ly(n,s){return null===n||null==s||(Array.isArray(n)?n[1]:n)===s||!(!Array.isArray(n)||"string"!=typeof s)&&ir(n,s)>=0}function py(n,s,u){return nh(n,s,u,!1),py}function sp(n,s){return nh(n,s,null,!0),sp}function nh(n,s,u,_){const w=Un(),k=Cr(),B=function ha(n){const s=$i.lFrame,u=s.bindingIndex;return s.bindingIndex=s.bindingIndex+n,u}(2);k.firstUpdatePass&&function Lp(n,s,u,_){const w=n.data;if(null===w[u+1]){const k=w[ns()],B=function my(n,s){return s>=n.expandoStartIndex}(n,u);(function L_(n,s){return 0!=(n.flags&(s?16:32))})(k,_)&&null===s&&!B&&(s=!1),s=function F_(n,s,u,_){const w=hl(n);let k=_?s.residualClasses:s.residualStyles;if(null===w)0===(_?s.classBindings:s.styleBindings)&&(u=Fg(u=Dv(null,n,s,u,_),s.attrs,_),k=null);else{const B=s.directiveStylingLast;if(-1===B||n[B]!==w)if(u=Dv(w,n,s,u,_),null===k){let ne=function Ng(n,s,u){const _=u?s.classBindings:s.styleBindings;if(0!==pd(_))return n[Vc(_)]}(n,s,_);void 0!==ne&&Array.isArray(ne)&&(ne=Dv(null,n,s,ne[1],_),ne=Fg(ne,s.attrs,_),function gy(n,s,u,_){n[Vc(u?s.classBindings:s.styleBindings)]=_}(n,s,_,ne))}else k=function Ev(n,s,u){let _;const w=s.directiveEnd;for(let k=1+s.directiveStylingLast;k<w;k++)_=Fg(_,n[k].hostAttrs,u);return Fg(_,s.attrs,u)}(n,s,_)}return void 0!==k&&(_?s.residualClasses=k:s.residualStyles=k),u}(w,k,s,_),function fb(n,s,u,_,w,k){let B=k?s.classBindings:s.styleBindings,K=Vc(B),ne=pd(B);n[_]=u;let Pe,fe=!1;if(Array.isArray(u)){const rt=u;Pe=rt[1],(null===Pe||ir(rt,Pe)>0)&&(fe=!0)}else Pe=u;if(w)if(0!==ne){const Ut=Vc(n[K+1]);n[_+1]=Ih(Ut,K),0!==Ut&&(n[Ut+1]=Wf(n[Ut+1],_)),n[K+1]=function em(n,s){return 131071&n|s<<17}(n[K+1],_)}else n[_+1]=Ih(K,0),0!==K&&(n[K+1]=Wf(n[K+1],_)),K=_;else n[_+1]=Ih(ne,0),0===K?K=_:n[ne+1]=Wf(n[ne+1],_),ne=_;fe&&(n[_+1]=tm(n[_+1])),sl(n,Pe,_,!0),sl(n,Pe,_,!1),function pb(n,s,u,_,w){const k=w?n.residualClasses:n.residualStyles;null!=k&&"string"==typeof s&&ir(k,s)>=0&&(u[_+1]=nm(u[_+1]))}(s,Pe,n,_,k),B=Ih(K,ne),k?s.classBindings=B:s.styleBindings=B}(w,k,s,u,B,_)}}(k,n,B,_),s!==Rr&&cu(w,B,s)&&function Mv(n,s,u,_,w,k,B,K){if(!(3&s.type))return;const ne=n.data,fe=ne[K+1];ig(function Th(n){return 1==(1&n)}(fe)?Bp(ne,s,u,w,pd(fe),B):void 0)||(ig(k)||function Mp(n){return 2==(2&n)}(fe)&&(k=Bp(ne,null,u,w,K,B)),function Yd(n,s,u,_,w){if(s)w?n.addClass(u,_):n.removeClass(u,_);else{let k=-1===_.indexOf("-")?void 0:tl.DashCase;null==w?n.removeStyle(u,_,k):("string"==typeof w&&w.endsWith("!important")&&(w=w.slice(0,-10),k|=tl.Important),n.setStyle(u,_,w,k))}}(_,B,jr(ns(),u),w,k))}(k,k.data[ns()],w,w[11],n,w[B+1]=function _y(n,s){return null==n||("string"==typeof s?n+=s:"object"==typeof n&&(n=Ve(Wo(n)))),n}(s,u),_,B)}function Dv(n,s,u,_,w){let k=null;const B=u.directiveEnd;let K=u.directiveStylingLast;for(-1===K?K=u.directiveStart:K++;K<B&&(k=s[K],_=Fg(_,k.hostAttrs,w),k!==n);)K++;return null!==n&&(u.directiveStylingLast=K),_}function Fg(n,s,u){const _=u?1:2;let w=-1;if(null!==s)for(let k=0;k<s.length;k++){const B=s[k];"number"==typeof B?w=B:w===_&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),mn(n,B,!!u||s[++k]))}return void 0===n?null:n}function Bp(n,s,u,_,w,k){const B=null===s;let K;for(;w>0;){const ne=n[w],fe=Array.isArray(ne),Pe=fe?ne[1]:ne,rt=null===Pe;let Ut=u[w+1];Ut===Rr&&(Ut=rt?Fn:void 0);let un=rt?ii(Ut,_):Pe===_?Ut:void 0;if(fe&&!ig(un)&&(un=ii(ne,_)),ig(un)&&(K=un,B))return K;const zn=n[w+1];w=B?Vc(zn):pd(zn)}if(null!==s){let ne=k?s.residualClasses:s.residualStyles;null!=ne&&(K=ii(ne,_))}return K}function ig(n){return void 0!==n}function rg(n,s=""){const u=Un(),_=Cr(),w=n+22,k=_.firstCreatePass?Zf(_,w,1,s,null):_.data[w],B=u[w]=function Pc(n,s){return n.createText(s)}(u[11],s);cf(_,u,B,k),te(k,!1)}function Iv(n){return Dd("",n,""),Iv}function Dd(n,s,u){const _=Un(),w=vm(_,n,s,u);return w!==Rr&&function $u(n,s,u){const _=jr(s,n);!function jd(n,s,u){n.setValue(s,u)}(n[11],_,u)}(_,ns(),w),Dd}function Nv(n,s,u){const _=Un();return cu(_,Aa(),s)&&lu(Cr(),ss(),_,n,s,_[11],u,!0),Nv}function Fv(n,s,u){const _=Un();if(cu(_,Aa(),s)){const k=Cr(),B=ss();lu(k,B,_,n,s,f_(hl(k.data),B,_),u,!0)}return Fv}const Sm=void 0;var op=["en",[["a","p"],["AM","PM"],Sm],[["AM","PM"],Sm,Sm],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Sm,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Sm,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Sm,"{1} 'at' {0}",Sm],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function gb(n){const u=Math.floor(Math.abs(n)),_=n.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===_?1:5}];let El={};function Yu(n){const s=function Zy(n){return n.toLowerCase().replace(/_/g,"-")}(n);let u=My(s);if(u)return u;const _=s.split("-")[0];if(u=My(_),u)return u;if("en"===_)return op;throw new tt(701,!1)}function G_(n){return Yu(n)[vr.PluralCase]}function My(n){return n in El||(El[n]=Ze.ng&&Ze.ng.common&&Ze.ng.common.locales&&Ze.ng.common.locales[n]),El[n]}var vr=(()=>((vr=vr||{})[vr.LocaleId=0]="LocaleId",vr[vr.DayPeriodsFormat=1]="DayPeriodsFormat",vr[vr.DayPeriodsStandalone=2]="DayPeriodsStandalone",vr[vr.DaysFormat=3]="DaysFormat",vr[vr.DaysStandalone=4]="DaysStandalone",vr[vr.MonthsFormat=5]="MonthsFormat",vr[vr.MonthsStandalone=6]="MonthsStandalone",vr[vr.Eras=7]="Eras",vr[vr.FirstDayOfWeek=8]="FirstDayOfWeek",vr[vr.WeekendRange=9]="WeekendRange",vr[vr.DateFormat=10]="DateFormat",vr[vr.TimeFormat=11]="TimeFormat",vr[vr.DateTimeFormat=12]="DateTimeFormat",vr[vr.NumberSymbols=13]="NumberSymbols",vr[vr.NumberFormats=14]="NumberFormats",vr[vr.CurrencyCode=15]="CurrencyCode",vr[vr.CurrencySymbol=16]="CurrencySymbol",vr[vr.CurrencyName=17]="CurrencyName",vr[vr.Currencies=18]="Currencies",vr[vr.Directionality=19]="Directionality",vr[vr.PluralCase=20]="PluralCase",vr[vr.ExtraData=21]="ExtraData",vr))();const lg="en-US";let Ty=lg;function ob(n,s,u,_,w){if(n=Ge(n),Array.isArray(n))for(let k=0;k<n.length;k++)ob(n[k],s,u,_,w);else{const k=Cr(),B=Un();let K=bl(n)?n:Ge(n.provide),ne=I(n);const fe=Br(),Pe=1048575&fe.providerIndexes,rt=fe.directiveStart,Ut=fe.providerIndexes>>20;if(bl(n)||!n.multi){const un=new gc(ne,w,Xd),zn=t(K,s,w?Pe:Pe+Ut,rt);-1===zn?(vc(xs(fe,B),k,K),r(k,n,s.length),s.push(K),fe.directiveStart++,fe.directiveEnd++,w&&(fe.providerIndexes+=1048576),u.push(un),B.push(un)):(u[zn]=un,B[zn]=un)}else{const un=t(K,s,Pe+Ut,rt),zn=t(K,s,Pe,Pe+Ut),_i=un>=0&&u[un],Oi=zn>=0&&u[zn];if(w&&!Oi||!w&&!_i){vc(xs(fe,B),k,K);const rr=function R(n,s,u,_,w){const k=new gc(n,u,Xd);return k.multi=[],k.index=s,k.componentProviders=0,e(k,w,_&&!u),k}(w?m:c,u.length,w,_,ne);!w&&Oi&&(u[zn].providerFactory=rr),r(k,n,s.length,0),s.push(K),fe.directiveStart++,fe.directiveEnd++,w&&(fe.providerIndexes+=1048576),u.push(rr),B.push(rr)}else r(k,n,un>-1?un:zn,e(u[w?zn:un],ne,!w&&_));!w&&_&&Oi&&u[zn].componentProviders++}}}function r(n,s,u,_){const w=bl(s),k=function Vf(n){return!!n.useClass}(s);if(w||k){const ne=(k?Ge(s.useClass):s).prototype.ngOnDestroy;if(ne){const fe=n.destroyHooks||(n.destroyHooks=[]);if(!w&&s.multi){const Pe=fe.indexOf(u);-1===Pe?fe.push(u,[_,ne]):fe[Pe+1].push(_,ne)}else fe.push(u,ne)}}}function e(n,s,u){return u&&n.componentProviders++,n.multi.push(s)-1}function t(n,s,u,_){for(let w=u;w<_;w++)if(s[w]===n)return w;return-1}function c(n,s,u,_){return C(this.multi,[])}function m(n,s,u,_){const w=this.multi;let k;if(this.providerFactory){const B=this.providerFactory.componentProviders,K=Pa(u,u[1],this.providerFactory.index,_);k=K.slice(0,B),C(w,k);for(let ne=B;ne<K.length;ne++)k.push(K[ne])}else k=[],C(w,k);return k}function C(n,s){for(let u=0;u<n.length;u++)s.push((0,n[u])());return s}function Y(n,s=[]){return u=>{u.providersResolver=(_,w)=>function Ab(n,s,u){const _=Cr();if(_.firstCreatePass){const w=mo(n);ob(u,_.data,_.blueprint,w,!0),ob(s,_.data,_.blueprint,w,!1)}}(_,w?w(n):n,s)}}class le{}class ge{}function Ne(n,s){return new an(n,s??null)}class an extends le{constructor(s,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new gm(this);const _=et(s);this._bootstrapComponents=Hu(_.bootstrap),this._r3Injector=vg(s,u,[{provide:le,useValue:this},{provide:Tn,useValue:this.componentFactoryResolver}],Ve(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Rn extends ge{constructor(s){super(),this.moduleType=s}create(s){return new an(this.moduleType,s)}}class ui extends le{constructor(s,u,_){super(),this.componentFactoryResolver=new gm(this),this.instance=null;const w=new l([...s,{provide:le,useValue:this},{provide:Tn,useValue:this.componentFactoryResolver}],u||dd(),_,new Set(["environment"]));this.injector=w,w.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function Ti(n,s,u=null){return new ui(n,s,u).injector}let Vi=(()=>{class n{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const _=il(0,u.type),w=_.length>0?Ti([_],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,w)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Dt({token:n,providedIn:"environment",factory:()=>new n(ao(f))}),n})();function Wr(n){n.getStandaloneInjector=s=>s.get(Vi).getOrCreateStandaloneInjector(n)}function k0(n,s,u,_){return O0(Un(),Ds(),n,s,u,_)}function R0(n,s,u,_,w){return function P0(n,s,u,_,w,k,B){const K=s+u;return function uu(n,s,u,_){const w=cu(n,s,u);return cu(n,s+1,_)||w}(n,K,w,k)?_d(n,K+2,B?_.call(B,w,k):_(w,k)):ab(n,K+2)}(Un(),Ds(),n,s,u,_,w)}function ab(n,s){const u=n[s];return u===Rr?void 0:u}function O0(n,s,u,_,w,k){const B=s+u;return cu(n,B,w)?_d(n,B+1,k?_.call(k,w):_(w)):ab(n,B+1)}function B0(n,s){const u=Cr();let _;const w=n+22;u.firstCreatePass?(_=function cw(n,s){if(s)for(let u=s.length-1;u>=0;u--){const _=s[u];if(n===_.name)return _}}(s,u.pipeRegistry),u.data[w]=_,_.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(w,_.onDestroy)):_=u.data[w];const k=_.factory||(_.factory=Ks(_.type)),B=On(Xd);try{const K=Dr(!1),ne=k();return Dr(K),function rp(n,s,u,_){u>=n.data.length&&(n.data[u]=null,n.blueprint[u]=null),s[u]=_}(u,Un(),w,ne),ne}finally{On(B)}}function V0(n,s,u){const _=n+22,w=Un(),k=io(w,_);return function lb(n,s){return n[1].data[s].pure}(w,_)?O0(w,Ds(),s,k.transform,u,k):k.transform(u)}function qb(n){return s=>{setTimeout(n,void 0,s)}}const dg=class pw extends M.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,u,_){let w=s,k=u||(()=>null),B=_;if(s&&"object"==typeof s){const ne=s;w=ne.next?.bind(ne),k=ne.error?.bind(ne),B=ne.complete?.bind(ne)}this.__isAsync&&(k=qb(k),w&&(w=qb(w)),B&&(B=qb(B)));const K=super.subscribe({next:w,error:k,complete:B});return s instanceof J.w0&&s.add(K),K}};function mw(){return this._results[ip()]()}class Rb{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=ip(),_=Rb.prototype;_[u]||(_[u]=mw)}get changes(){return this._changes||(this._changes=new dg)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,u){return this._results.reduce(s,u)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,u){const _=this;_.dirty=!1;const w=wo(s);(this._changesDetected=!function Cu(n,s,u){if(n.length!==s.length)return!1;for(let _=0;_<n.length;_++){let w=n[_],k=s[_];if(u&&(w=u(w),k=u(k)),k!==w)return!1}return!0}(_._results,w,u))&&(_._results=w,_.length=w.length,_.last=w[this.length-1],_.first=w[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let cb=(()=>{class n{}return n.__NG_ELEMENT_ID__=vw,n})();const gw=cb,_w=class extends gw{constructor(s,u,_){super(),this._declarationLView=s,this._declarationTContainer=u,this.elementRef=_}createEmbeddedView(s,u){const _=this._declarationTContainer.tViews,w=md(this._declarationLView,_,s,16,null,_.declTNode,null,null,null,null,u||null);w[17]=this._declarationLView[this._declarationTContainer.index];const B=this._declarationLView[19];return null!==B&&(w[19]=B.createEmbeddedView(_)),Qf(_,w,s),new pm(w)}};function vw(){return Ob(Br(),Un())}function Ob(n,s){return 4&n.type?new _w(s,n,Jn(n,s)):null}let Pb=(()=>{class n{}return n.__NG_ELEMENT_ID__=yw,n})();function yw(){return j0(Br(),Un())}const bw=Pb,U0=class extends bw{constructor(s,u,_){super(),this._lContainer=s,this._hostTNode=u,this._hostLView=_}get element(){return Jn(this._hostTNode,this._hostLView)}get injector(){return new Os(this._hostTNode,this._hostLView)}get parentInjector(){const s=_c(this._hostTNode,this._hostLView);if(yr(s)){const u=hr(s,this._hostLView),_=sr(s);return new Os(u[1].data[_+8],u)}return new Os(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const u=H0(this._lContainer);return null!==u&&u[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,u,_){let w,k;"number"==typeof _?w=_:null!=_&&(w=_.index,k=_.injector);const B=s.createEmbeddedView(u||{},k);return this.insert(B,w),B}createComponent(s,u,_,w,k){const B=s&&!function rs(n){return"function"==typeof n}(s);let K;if(B)K=u;else{const rt=u||{};K=rt.index,_=rt.injector,w=rt.projectableNodes,k=rt.environmentInjector||rt.ngModuleRef}const ne=B?s:new xf(_e(s)),fe=_||this.parentInjector;if(!k&&null==ne.ngModule){const Ut=(B?fe:this.parentInjector).get(f,null);Ut&&(k=Ut)}const Pe=ne.create(fe,w,void 0,k);return this.insert(Pe.hostView,K),Pe}insert(s,u){const _=s._lView,w=_[1];if(function Ml(n){return Fs(n[3])}(_)){const Pe=this.indexOf(s);if(-1!==Pe)this.detach(Pe);else{const rt=_[3],Ut=new U0(rt,rt[6],rt[3]);Ut.detach(Ut.indexOf(s))}}const k=this._adjustIndex(u),B=this._lContainer;!function Nh(n,s,u,_){const w=10+_,k=u.length;_>0&&(u[w-1][4]=s),_<k-10?(s[4]=u[w],wu(u,10+_,s)):(u.push(s),s[4]=null),s[3]=u;const B=s[17];null!==B&&u!==B&&function Go(n,s){const u=n[9];s[16]!==s[3][3][16]&&(n[2]=!0),null===u?n[9]=[s]:u.push(s)}(B,s);const K=s[19];null!==K&&K.insertView(n),s[2]|=64}(w,_,B,k);const K=ic(k,B),ne=_[11],fe=gl(ne,B[7]);return null!==fe&&function zd(n,s,u,_,w,k){_[0]=w,_[6]=s,hh(n,_,u,1,w,k)}(w,B[6],ne,_,fe,K),s.attachToViewContainerRef(),wu(Zb(B),k,s),s}move(s,u){return this.insert(s,u)}indexOf(s){const u=H0(this._lContainer);return null!==u?u.indexOf(s):-1}remove(s){const u=this._adjustIndex(s,-1),_=Pu(this._lContainer,u);_&&(G(Zb(this._lContainer),u),af(_[1],_))}detach(s){const u=this._adjustIndex(s,-1),_=Pu(this._lContainer,u);return _&&null!=G(Zb(this._lContainer),u)?new pm(_):null}_adjustIndex(s,u=0){return s??this.length+u}};function H0(n){return n[8]}function Zb(n){return n[8]||(n[8]=[])}function j0(n,s){let u;const _=s[n.index];if(Fs(_))u=_;else{let w;if(8&n.type)w=Zr(_);else{const k=s[11];w=k.createComment("");const B=qs(n,s);nc(k,gl(k,B),w,function lf(n,s){return n.nextSibling(s)}(k,B),!1)}s[n.index]=u=ep(_,s,w,n),Df(s,u)}return new U0(u,n,s)}class Qb{constructor(s){this.queryList=s,this.matches=null}clone(){return new Qb(this.queryList)}setDirty(){this.queryList.setDirty()}}class Xb{constructor(s=[]){this.queries=s}createEmbeddedView(s){const u=s.queries;if(null!==u){const _=null!==s.contentQueries?s.contentQueries[0]:u.length,w=[];for(let k=0;k<_;k++){const B=u.getByIndex(k);w.push(this.queries[B.indexInDeclarationView].clone())}return new Xb(w)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let u=0;u<this.queries.length;u++)null!==Q0(s,u).matches&&this.queries[u].setDirty()}}class z0{constructor(s,u,_=null){this.predicate=s,this.flags=u,this.read=_}}class Jb{constructor(s=[]){this.queries=s}elementStart(s,u){for(let _=0;_<this.queries.length;_++)this.queries[_].elementStart(s,u)}elementEnd(s){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(s)}embeddedTView(s){let u=null;for(let _=0;_<this.length;_++){const w=null!==u?u.length:0,k=this.getByIndex(_).embeddedTView(s,w);k&&(k.indexInDeclarationView=_,null!==u?u.push(k):u=[k])}return null!==u?new Jb(u):null}template(s,u){for(let _=0;_<this.queries.length;_++)this.queries[_].template(s,u)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class e0{constructor(s,u=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(s,u){this.isApplyingToNode(u)&&this.matchTNode(s,u)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,u){this.elementStart(s,u)}embeddedTView(s,u){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,u),new e0(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let _=s.parent;for(;null!==_&&8&_.type&&_.index!==u;)_=_.parent;return u===(null!==_?_.index:-1)}return this._appliesToNextNode}matchTNode(s,u){const _=this.metadata.predicate;if(Array.isArray(_))for(let w=0;w<_.length;w++){const k=_[w];this.matchTNodeWithReadOption(s,u,Ew(u,k)),this.matchTNodeWithReadOption(s,u,Co(u,s,k,!1,!1))}else _===cb?4&u.type&&this.matchTNodeWithReadOption(s,u,-1):this.matchTNodeWithReadOption(s,u,Co(u,s,_,!1,!1))}matchTNodeWithReadOption(s,u,_){if(null!==_){const w=this.metadata.read;if(null!==w)if(w===jn||w===Pb||w===cb&&4&u.type)this.addMatch(u.index,-2);else{const k=Co(u,s,w,!1,!1);null!==k&&this.addMatch(u.index,k)}else this.addMatch(u.index,_)}}addMatch(s,u){null===this.matches?this.matches=[s,u]:this.matches.push(s,u)}}function Ew(n,s){const u=n.localNames;if(null!==u)for(let _=0;_<u.length;_+=2)if(u[_]===s)return u[_+1];return null}function xw(n,s,u,_){return-1===u?function Dw(n,s){return 11&n.type?Jn(n,s):4&n.type?Ob(n,s):null}(s,n):-2===u?function Sw(n,s,u){return u===jn?Jn(s,n):u===cb?Ob(s,n):u===Pb?j0(s,n):void 0}(n,s,_):Pa(n,n[1],u,s)}function G0(n,s,u,_){const w=s[19].queries[_];if(null===w.matches){const k=n.data,B=u.matches,K=[];for(let ne=0;ne<B.length;ne+=2){const fe=B[ne];K.push(fe<0?null:xw(s,k[fe],B[ne+1],u.metadata.read))}w.matches=K}return w.matches}function t0(n,s,u,_){const w=n.queries.getByIndex(u),k=w.matches;if(null!==k){const B=G0(n,s,w,u);for(let K=0;K<k.length;K+=2){const ne=k[K];if(ne>0)_.push(B[K/2]);else{const fe=k[K+1],Pe=s[-ne];for(let rt=10;rt<Pe.length;rt++){const Ut=Pe[rt];Ut[17]===Ut[3]&&t0(Ut[1],Ut,fe,_)}if(null!==Pe[9]){const rt=Pe[9];for(let Ut=0;Ut<rt.length;Ut++){const un=rt[Ut];t0(un[1],un,fe,_)}}}}}return _}function $0(n){const s=Un(),u=Cr(),_=fc();bo(_+1);const w=Q0(u,_);if(n.dirty&&function Io(n){return 4==(4&n[2])}(s)===(2==(2&w.metadata.flags))){if(null===w.matches)n.reset([]);else{const k=w.crossesNgTemplate?t0(u,s,_,[]):G0(u,s,w,_);n.reset(k,bi),n.notifyOnChanges()}return!0}return!1}function W0(n,s,u){const _=Cr();_.firstCreatePass&&(Z0(_,new z0(n,s,u),-1),2==(2&s)&&(_.staticViewQueries=!0)),q0(_,Un(),s)}function Y0(n,s,u,_){const w=Cr();if(w.firstCreatePass){const k=Br();Z0(w,new z0(s,u,_),k.index),function Iw(n,s){const u=n.contentQueries||(n.contentQueries=[]);s!==(u.length?u[u.length-1]:-1)&&u.push(n.queries.length-1,s)}(w,n),2==(2&u)&&(w.staticContentQueries=!0)}q0(w,Un(),u)}function K0(){return function Mw(n,s){return n[19].queries[s].queryList}(Un(),fc())}function q0(n,s,u){const _=new Rb(4==(4&u));zm(n,s,_,_.destroy),null===s[19]&&(s[19]=new Xb),s[19].queries.push(new Qb(_))}function Z0(n,s,u){null===n.queries&&(n.queries=new Jb),n.queries.track(new e0(s,u))}function Q0(n,s){return n.queries.getByIndex(s)}function X0(n,s){return Ob(n,s)}function Fb(...n){}const _C=new os("Application Initializer");let Lb=(()=>{class n{constructor(u){this.appInits=u,this.resolve=Fb,this.reject=Fb,this.initialized=!1,this.done=!1,this.donePromise=new Promise((_,w)=>{this.resolve=_,this.reject=w})}runInitializers(){if(this.initialized)return;const u=[],_=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let w=0;w<this.appInits.length;w++){const k=this.appInits[w]();if(T_(k))u.push(k);else if(yv(k)){const B=new Promise((K,ne)=>{k.subscribe({complete:K,error:ne})});u.push(B)}}Promise.all(u).then(()=>{_()}).catch(w=>{this.reject(w)}),0===u.length&&_(),this.initialized=!0}}return n.\u0275fac=function(u){return new(u||n)(ao(_C,8))},n.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vC=new os("AppId",{providedIn:"root",factory:function yC(){return`${a0()}${a0()}${a0()}`}});function a0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const bC=new os("Platform Initializer"),Kw=new os("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),CC=new os("appBootstrapListener"),qw=new os("AnimationModuleType");let Zw=(()=>{class n{log(u){console.log(u)}warn(u){console.warn(u)}}return n.\u0275fac=function(u){return new(u||n)},n.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Bb=new os("LocaleId",{providedIn:"root",factory:()=>Do(Bb,dn.Optional|dn.SkipSelf)||function Qw(){return typeof $localize<"u"&&$localize.locale||lg}()}),Xw=new os("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Jw{constructor(s,u){this.ngModuleFactory=s,this.componentFactories=u}}let eE=(()=>{class n{compileModuleSync(u){return new Rn(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const _=this.compileModuleSync(u),k=Hu(et(u).declarations).reduce((B,K)=>{const ne=_e(K);return ne&&B.push(new xf(ne)),B},[]);return new Jw(_,k)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return n.\u0275fac=function(u){return new(u||n)},n.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const iE=(()=>Promise.resolve(0))();function l0(n){typeof Zone>"u"?iE.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Up{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:_=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new dg(!1),this.onMicrotaskEmpty=new dg(!1),this.onStable=new dg(!1),this.onError=new dg(!1),typeof Zone>"u")throw new tt(908,!1);Zone.assertZonePatched();const w=this;if(w._nesting=0,w._outer=w._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const k=Zone.AsyncStackTaggingZoneSpec;w._inner=w._inner.fork(new k("Angular"))}Zone.TaskTrackingZoneSpec&&(w._inner=w._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(w._inner=w._inner.fork(Zone.longStackTraceZoneSpec)),w.shouldCoalesceEventChangeDetection=!_&&u,w.shouldCoalesceRunChangeDetection=_,w.lastRequestAnimationFrameId=-1,w.nativeRequestAnimationFrame=function rE(){let n=Ze.requestAnimationFrame,s=Ze.cancelAnimationFrame;if(typeof Zone<"u"&&n&&s){const u=n[Zone.__symbol__("OriginalDelegate")];u&&(n=u);const _=s[Zone.__symbol__("OriginalDelegate")];_&&(s=_)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function aE(n){const s=()=>{!function oE(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ze,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,u0(n),n.isCheckStableRunning=!0,c0(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),u0(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,_,w,k,B,K)=>{try{return DC(n),u.invokeTask(w,k,B,K)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===k.type||n.shouldCoalesceRunChangeDetection)&&s(),xC(n)}},onInvoke:(u,_,w,k,B,K,ne)=>{try{return DC(n),u.invoke(w,k,B,K,ne)}finally{n.shouldCoalesceRunChangeDetection&&s(),xC(n)}},onHasTask:(u,_,w,k)=>{u.hasTask(w,k),_===w&&("microTask"==k.change?(n._hasPendingMicrotasks=k.microTask,u0(n),c0(n)):"macroTask"==k.change&&(n.hasPendingMacrotasks=k.macroTask))},onHandleError:(u,_,w,k)=>(u.handleError(w,k),n.runOutsideAngular(()=>n.onError.emit(k)),!1)})}(w)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Up.isInAngularZone())throw new tt(909,!1)}static assertNotInAngularZone(){if(Up.isInAngularZone())throw new tt(909,!1)}run(s,u,_){return this._inner.run(s,u,_)}runTask(s,u,_,w){const k=this._inner,B=k.scheduleEventTask("NgZoneEvent: "+w,s,sE,Fb,Fb);try{return k.runTask(B,u,_)}finally{k.cancelTask(B)}}runGuarded(s,u,_){return this._inner.runGuarded(s,u,_)}runOutsideAngular(s){return this._outer.run(s)}}const sE={};function c0(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function u0(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function DC(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function xC(n){n._nesting--,c0(n)}class lE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new dg,this.onMicrotaskEmpty=new dg,this.onStable=new dg,this.onError=new dg}run(s,u,_){return s.apply(u,_)}runGuarded(s,u,_){return s.apply(u,_)}runOutsideAngular(s){return s()}runTask(s,u,_,w){return s.apply(u,_)}}const SC=new os(""),MC=new os("");let d0,cE=(()=>{class n{constructor(u,_,w){this._ngZone=u,this.registry=_,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,d0||(function uE(n){d0=n}(w),w.addToWindow(_)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Up.assertNotInAngularZone(),l0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())l0(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(_=>!_.updateCb||!_.updateCb(u)||(clearTimeout(_.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,_,w){let k=-1;_&&_>0&&(k=setTimeout(()=>{this._callbacks=this._callbacks.filter(B=>B.timeoutId!==k),u(this._didWork,this.getPendingTasks())},_)),this._callbacks.push({doneCb:u,timeoutId:k,updateCb:w})}whenStable(u,_,w){if(w&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,_,w),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,_,w){return[]}}return n.\u0275fac=function(u){return new(u||n)(ao(Up),ao(IC),ao(MC))},n.\u0275prov=Dt({token:n,factory:n.\u0275fac}),n})(),IC=(()=>{class n{constructor(){this._applications=new Map}registerApplication(u,_){this._applications.set(u,_)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,_=!0){return d0?.findTestabilityInTree(this,u,_)??null}}return n.\u0275fac=function(u){return new(u||n)},n.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),K_=null;const TC=new os("AllowMultipleToken"),h0=new os("PlatformDestroyListeners");class fE{constructor(s,u){this.name=s,this.token=u}}function kC(n,s,u=[]){const _=`Platform: ${s}`,w=new os(_);return(k=[])=>{let B=f0();if(!B||B.injector.get(TC,!1)){const K=[...u,...k,{provide:w,useValue:!0}];n?n(K):function pE(n){if(K_&&!K_.get(TC,!1))throw new tt(400,!1);K_=n;const s=n.get(OC);(function AC(n){const s=n.get(bC,null);s&&s.forEach(u=>u())})(n)}(function RC(n=[],s){return zf.create({name:s,providers:[{provide:Hh,useValue:"platform"},{provide:h0,useValue:new Set([()=>K_=null])},...n]})}(K,_))}return function gE(n){const s=f0();if(!s)throw new tt(401,!1);return s}()}}function f0(){return K_?.get(OC)??null}let OC=(()=>{class n{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,_){const w=function NC(n,s){let u;return u="noop"===n?new lE:("zone.js"===n?void 0:n)||new Up(s),u}(_?.ngZone,function PC(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(_)),k=[{provide:Up,useValue:w}];return w.run(()=>{const B=zf.create({providers:k,parent:this.injector,name:u.moduleType.name}),K=u.create(B),ne=K.injector.get(ac,null);if(!ne)throw new tt(402,!1);return w.runOutsideAngular(()=>{const fe=w.onError.subscribe({next:Pe=>{ne.handleError(Pe)}});K.onDestroy(()=>{Ub(this._modules,K),fe.unsubscribe()})}),function FC(n,s,u){try{const _=u();return T_(_)?_.catch(w=>{throw s.runOutsideAngular(()=>n.handleError(w)),w}):_}catch(_){throw s.runOutsideAngular(()=>n.handleError(_)),_}}(ne,w,()=>{const fe=K.injector.get(Lb);return fe.runInitializers(),fe.donePromise.then(()=>(function lp(n){bt(n,"Expected localeId to be defined"),"string"==typeof n&&(Ty=n.toLowerCase().replace(/_/g,"-"))}(K.injector.get(Bb,lg)||lg),this._moduleDoBootstrap(K),K))})})}bootstrapModule(u,_=[]){const w=LC({},_);return function dE(n,s,u){const _=new Rn(u);return Promise.resolve(_)}(0,0,u).then(k=>this.bootstrapModuleFactory(k,w))}_moduleDoBootstrap(u){const _=u.injector.get(Vb);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(w=>_.bootstrap(w));else{if(!u.instance.ngDoBootstrap)throw new tt(403,!1);u.instance.ngDoBootstrap(_)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new tt(404,!1);this._modules.slice().forEach(_=>_.destroy()),this._destroyListeners.forEach(_=>_());const u=this._injector.get(h0,null);u&&(u.forEach(_=>_()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(u){return new(u||n)(ao(zf))},n.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function LC(n,s){return Array.isArray(s)?s.reduce(LC,n):{...n,...s}}let Vb=(()=>{class n{constructor(u,_,w){this._zone=u,this._injector=_,this._exceptionHandler=w,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const k=new W.y(K=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{K.next(this._stable),K.complete()})}),B=new W.y(K=>{let ne;this._zone.runOutsideAngular(()=>{ne=this._zone.onStable.subscribe(()=>{Up.assertNotInAngularZone(),l0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,K.next(!0))})})});const fe=this._zone.onUnstable.subscribe(()=>{Up.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{K.next(!1)}))});return()=>{ne.unsubscribe(),fe.unsubscribe()}});this.isStable=(0,Le.T)(k,B.pipe((0,b.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,_){const w=u instanceof nt;if(!this._injector.get(Lb).done)throw!w&&We(u),new tt(405,false);let B;B=w?u:this._injector.get(Tn).resolveComponentFactory(u),this.componentTypes.push(B.componentType);const K=function hE(n){return n.isBoundToModule}(B)?void 0:this._injector.get(le),fe=B.create(zf.NULL,[],_||B.selector,K),Pe=fe.location.nativeElement,rt=fe.injector.get(SC,null);return rt?.registerApplication(Pe),fe.onDestroy(()=>{this.detachView(fe.hostView),Ub(this.components,fe),rt?.unregisterApplication(Pe)}),this._loadComponent(fe),fe}tick(){if(this._runningTick)throw new tt(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const _=u;this._views.push(_),_.attachToAppRef(this)}detachView(u){const _=u;Ub(this._views,_),_.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(CC,[]).concat(this._bootstrapListeners).forEach(w=>w(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>Ub(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new tt(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(u){return new(u||n)(ao(Up),ao(f),ao(ac))},n.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ub(n,s){const u=n.indexOf(s);u>-1&&n.splice(u,1)}let UC=!1;function vE(){return UC=!0,true}let yE=(()=>{class n{}return n.__NG_ELEMENT_ID__=bE,n})();function bE(n){return function CE(n,s,u){if(xa(n)&&!u){const _=Qr(n.index,s);return new pm(_,_)}return 47&n.type?new pm(s[16],s):null}(Br(),Un(),16==(16&n))}class GC{constructor(){}supports(s){return Ag(s)}create(s){return new ME(s)}}const SE=(n,s)=>s;class ME{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||SE}forEachItem(s){let u;for(u=this._itHead;null!==u;u=u._next)s(u)}forEachOperation(s){let u=this._itHead,_=this._removalsHead,w=0,k=null;for(;u||_;){const B=!_||u&&u.currentIndex<WC(_,w,k)?u:_,K=WC(B,w,k),ne=B.currentIndex;if(B===_)w--,_=_._nextRemoved;else if(u=u._next,null==B.previousIndex)w++;else{k||(k=[]);const fe=K-w,Pe=ne-w;if(fe!=Pe){for(let Ut=0;Ut<fe;Ut++){const un=Ut<k.length?k[Ut]:k[Ut]=0,zn=un+Ut;Pe<=zn&&zn<fe&&(k[Ut]=un+1)}k[B.previousIndex]=Pe-fe}}K!==ne&&s(B,K,ne)}}forEachPreviousItem(s){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)s(u)}forEachAddedItem(s){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)s(u)}forEachMovedItem(s){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)s(u)}forEachRemovedItem(s){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)s(u)}forEachIdentityChange(s){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)s(u)}diff(s){if(null==s&&(s=[]),!Ag(s))throw new tt(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let w,k,B,u=this._itHead,_=!1;if(Array.isArray(s)){this.length=s.length;for(let K=0;K<this.length;K++)k=s[K],B=this._trackByFn(K,k),null!==u&&Object.is(u.trackById,B)?(_&&(u=this._verifyReinsertion(u,k,B,K)),Object.is(u.item,k)||this._addIdentityChange(u,k)):(u=this._mismatch(u,k,B,K),_=!0),u=u._next}else w=0,function pv(n,s){if(Array.isArray(n))for(let u=0;u<n.length;u++)s(n[u]);else{const u=n[ip()]();let _;for(;!(_=u.next()).done;)s(_.value)}}(s,K=>{B=this._trackByFn(w,K),null!==u&&Object.is(u.trackById,B)?(_&&(u=this._verifyReinsertion(u,K,B,w)),Object.is(u.item,K)||this._addIdentityChange(u,K)):(u=this._mismatch(u,K,B,w),_=!0),u=u._next,w++}),this.length=w;return this._truncate(u),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,u,_,w){let k;return null===s?k=this._itTail:(k=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(_,null))?(Object.is(s.item,u)||this._addIdentityChange(s,u),this._reinsertAfter(s,k,w)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(_,w))?(Object.is(s.item,u)||this._addIdentityChange(s,u),this._moveAfter(s,k,w)):s=this._addAfter(new IE(u,_),k,w),s}_verifyReinsertion(s,u,_,w){let k=null===this._unlinkedRecords?null:this._unlinkedRecords.get(_,null);return null!==k?s=this._reinsertAfter(k,s._prev,w):s.currentIndex!=w&&(s.currentIndex=w,this._addToMoves(s,w)),s}_truncate(s){for(;null!==s;){const u=s._next;this._addToRemovals(this._unlink(s)),s=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,u,_){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const w=s._prevRemoved,k=s._nextRemoved;return null===w?this._removalsHead=k:w._nextRemoved=k,null===k?this._removalsTail=w:k._prevRemoved=w,this._insertAfter(s,u,_),this._addToMoves(s,_),s}_moveAfter(s,u,_){return this._unlink(s),this._insertAfter(s,u,_),this._addToMoves(s,_),s}_addAfter(s,u,_){return this._insertAfter(s,u,_),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,u,_){const w=null===u?this._itHead:u._next;return s._next=w,s._prev=u,null===w?this._itTail=s:w._prev=s,null===u?this._itHead=s:u._next=s,null===this._linkedRecords&&(this._linkedRecords=new $C),this._linkedRecords.put(s),s.currentIndex=_,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const u=s._prev,_=s._next;return null===u?this._itHead=_:u._next=_,null===_?this._itTail=u:_._prev=u,s}_addToMoves(s,u){return s.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new $C),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,u){return s.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class IE{constructor(s,u){this.item=s,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class TE{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,u){let _;for(_=this._head;null!==_;_=_._nextDup)if((null===u||u<=_.currentIndex)&&Object.is(_.trackById,s))return _;return null}remove(s){const u=s._prevDup,_=s._nextDup;return null===u?this._head=_:u._nextDup=_,null===_?this._tail=u:_._prevDup=u,null===this._head}}class $C{constructor(){this.map=new Map}put(s){const u=s.trackById;let _=this.map.get(u);_||(_=new TE,this.map.set(u,_)),_.add(s)}get(s,u){const w=this.map.get(s);return w?w.get(s,u):null}remove(s){const u=s.trackById;return this.map.get(u).remove(s)&&this.map.delete(u),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function WC(n,s,u){const _=n.previousIndex;if(null===_)return _;let w=0;return u&&_<u.length&&(w=u[_]),_+s+w}class YC{constructor(){}supports(s){return s instanceof Map||mv(s)}create(){return new AE}}class AE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let u;for(u=this._mapHead;null!==u;u=u._next)s(u)}forEachPreviousItem(s){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)s(u)}forEachChangedItem(s){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)s(u)}forEachAddedItem(s){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)s(u)}forEachRemovedItem(s){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)s(u)}diff(s){if(s){if(!(s instanceof Map||mv(s)))throw new tt(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(s,(_,w)=>{if(u&&u.key===w)this._maybeAddToChanges(u,_),this._appendAfter=u,u=u._next;else{const k=this._getOrCreateRecordForKey(w,_);u=this._insertBeforeOrAppend(u,k)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let _=u;null!==_;_=_._nextRemoved)_===this._mapHead&&(this._mapHead=null),this._records.delete(_.key),_._nextRemoved=_._next,_.previousValue=_.currentValue,_.currentValue=null,_._prev=null,_._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,u){if(s){const _=s._prev;return u._next=s,u._prev=_,s._prev=u,_&&(_._next=u),s===this._mapHead&&(this._mapHead=u),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(s,u){if(this._records.has(s)){const w=this._records.get(s);this._maybeAddToChanges(w,u);const k=w._prev,B=w._next;return k&&(k._next=B),B&&(B._prev=k),w._next=null,w._prev=null,w}const _=new kE(s);return this._records.set(s,_),_.currentValue=u,this._addToAdditions(_),_}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,u){Object.is(u,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=u,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,u){s instanceof Map?s.forEach(u):Object.keys(s).forEach(_=>u(s[_],_))}}class kE{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function KC(){return new v0([new GC])}let v0=(()=>{class n{constructor(u){this.factories=u}static create(u,_){if(null!=_){const w=_.factories.slice();u=u.concat(w)}return new n(u)}static extend(u){return{provide:n,useFactory:_=>n.create(u,_||KC()),deps:[[n,new Rc,new Mu]]}}find(u){const _=this.factories.find(w=>w.supports(u));if(null!=_)return _;throw new tt(901,!1)}}return n.\u0275prov=Dt({token:n,providedIn:"root",factory:KC}),n})();function qC(){return new y0([new YC])}let y0=(()=>{class n{constructor(u){this.factories=u}static create(u,_){if(_){const w=_.factories.slice();u=u.concat(w)}return new n(u)}static extend(u){return{provide:n,useFactory:_=>n.create(u,_||qC()),deps:[[n,new Rc,new Mu]]}}find(u){const _=this.factories.find(w=>w.supports(u));if(_)return _;throw new tt(901,!1)}}return n.\u0275prov=Dt({token:n,providedIn:"root",factory:qC}),n})();const PE=kC(null,"core",[]);let NE=(()=>{class n{constructor(u){}}return n.\u0275fac=function(u){return new(u||n)(ao(Vb))},n.\u0275mod=br({type:n}),n.\u0275inj=St({}),n})();function FE(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},4006:(Hn,Mt,z)=>{z.d(Mt,{Cf:()=>Ct,F:()=>to,Fj:()=>it,JJ:()=>dn,JL:()=>li,JU:()=>Ve,UX:()=>Ia,Zs:()=>Xo,_Y:()=>Fo,a5:()=>wn,kI:()=>_t,qu:()=>Cr,sg:()=>Ui,u:()=>zl,u5:()=>Ma});var M=z(4650),J=z(6895),W=z(8996),Le=z(4128),b=z(4004);let be=(()=>{class ce{constructor(te,Oe){this._renderer=te,this._elementRef=Oe,this.onChange=hn=>{},this.onTouched=()=>{}}setProperty(te,Oe){this._renderer.setProperty(this._elementRef.nativeElement,te,Oe)}registerOnTouched(te){this.onTouched=te}registerOnChange(te){this.onChange=te}setDisabledState(te){this.setProperty("disabled",te)}}return ce.\u0275fac=function(te){return new(te||ce)(M.Y36(M.Qsj),M.Y36(M.SBq))},ce.\u0275dir=M.lG2({type:ce}),ce})(),at=(()=>{class ce extends be{}return ce.\u0275fac=function(){let oe;return function(Oe){return(oe||(oe=M.n5z(ce)))(Oe||ce)}}(),ce.\u0275dir=M.lG2({type:ce,features:[M.qOj]}),ce})();const Ve=new M.OlP("NgValueAccessor"),Ue={provide:Ve,useExisting:(0,M.Gpc)(()=>it),multi:!0},kt=new M.OlP("CompositionEventMode");let it=(()=>{class ce extends be{constructor(te,Oe,hn){super(te,Oe),this._compositionMode=hn,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ge(){const ce=(0,J.q)()?(0,J.q)().getUserAgent():"";return/android (\d+)/.test(ce.toLowerCase())}())}writeValue(te){this.setProperty("value",te??"")}_handleInput(te){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(te)}_compositionStart(){this._composing=!0}_compositionEnd(te){this._composing=!1,this._compositionMode&&this.onChange(te)}}return ce.\u0275fac=function(te){return new(te||ce)(M.Y36(M.Qsj),M.Y36(M.SBq),M.Y36(kt,8))},ce.\u0275dir=M.lG2({type:ce,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(te,Oe){1&te&&M.NdJ("input",function(gi){return Oe._handleInput(gi.target.value)})("blur",function(){return Oe.onTouched()})("compositionstart",function(){return Oe._compositionStart()})("compositionend",function(gi){return Oe._compositionEnd(gi.target.value)})},features:[M._Bn([Ue]),M.qOj]}),ce})();function xt(ce){return null==ce||("string"==typeof ce||Array.isArray(ce))&&0===ce.length}function Rt(ce){return null!=ce&&"number"==typeof ce.length}const Ct=new M.OlP("NgValidators"),pt=new M.OlP("NgAsyncValidators"),En=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class _t{static min(oe){return function je(ce){return oe=>{if(xt(oe.value)||xt(ce))return null;const te=parseFloat(oe.value);return!isNaN(te)&&te<ce?{min:{min:ce,actual:oe.value}}:null}}(oe)}static max(oe){return function Te(ce){return oe=>{if(xt(oe.value)||xt(ce))return null;const te=parseFloat(oe.value);return!isNaN(te)&&te>ce?{max:{max:ce,actual:oe.value}}:null}}(oe)}static required(oe){return Be(oe)}static requiredTrue(oe){return ct(oe)}static email(oe){return function lt(ce){return xt(ce.value)||En.test(ce.value)?null:{email:!0}}(oe)}static minLength(oe){return function ut(ce){return oe=>xt(oe.value)||!Rt(oe.value)?null:oe.value.length<ce?{minlength:{requiredLength:ce,actualLength:oe.value.length}}:null}(oe)}static maxLength(oe){return function vn(ce){return oe=>Rt(oe.value)&&oe.value.length>ce?{maxlength:{requiredLength:ce,actualLength:oe.value.length}}:null}(oe)}static pattern(oe){return function pn(ce){if(!ce)return ai;let oe,te;return"string"==typeof ce?(te="","^"!==ce.charAt(0)&&(te+="^"),te+=ce,"$"!==ce.charAt(ce.length-1)&&(te+="$"),oe=new RegExp(te)):(te=ce.toString(),oe=ce),Oe=>{if(xt(Oe.value))return null;const hn=Oe.value;return oe.test(hn)?null:{pattern:{requiredPattern:te,actualValue:hn}}}}(oe)}static nullValidator(oe){return null}static compose(oe){return It(oe)}static composeAsync(oe){return en(oe)}}function Be(ce){return xt(ce.value)?{required:!0}:null}function ct(ce){return!0===ce.value?null:{required:!0}}function ai(ce){return null}function Gn(ce){return null!=ce}function Qi(ce){return(0,M.QGY)(ce)?(0,W.D)(ce):ce}function or(ce){let oe={};return ce.forEach(te=>{oe=null!=te?{...oe,...te}:oe}),0===Object.keys(oe).length?null:oe}function Ei(ce,oe){return oe.map(te=>te(ce))}function bt(ce){return ce.map(oe=>function yi(ce){return!ce.validate}(oe)?oe:te=>oe.validate(te))}function It(ce){if(!ce)return null;const oe=ce.filter(Gn);return 0==oe.length?null:function(te){return or(Ei(te,oe))}}function qt(ce){return null!=ce?It(bt(ce)):null}function en(ce){if(!ce)return null;const oe=ce.filter(Gn);return 0==oe.length?null:function(te){const Oe=Ei(te,oe).map(Qi);return(0,Le.D)(Oe).pipe((0,b.U)(or))}}function Ht(ce){return null!=ce?en(bt(ce)):null}function Dt(ce,oe){return null===ce?[oe]:Array.isArray(ce)?[...ce,oe]:[ce,oe]}function xn(ce){return ce._rawValidators}function St(ce){return ce._rawAsyncValidators}function Vt(ce){return ce?Array.isArray(ce)?ce:[ce]:[]}function on(ce,oe){return Array.isArray(ce)?ce.includes(oe):ce===oe}function Cn(ce,oe){const te=Vt(oe);return Vt(ce).forEach(hn=>{on(te,hn)||te.push(hn)}),te}function tn(ce,oe){return Vt(oe).filter(te=>!on(ce,te))}class Mn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(oe){this._rawValidators=oe||[],this._composedValidatorFn=qt(this._rawValidators)}_setAsyncValidators(oe){this._rawAsyncValidators=oe||[],this._composedAsyncValidatorFn=Ht(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(oe){this._onDestroyCallbacks.push(oe)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(oe=>oe()),this._onDestroyCallbacks=[]}reset(oe){this.control&&this.control.reset(oe)}hasError(oe,te){return!!this.control&&this.control.hasError(oe,te)}getError(oe,te){return this.control?this.control.getError(oe,te):null}}class jt extends Mn{get formDirective(){return null}get path(){return null}}class wn extends Mn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class oi{constructor(oe){this._cd=oe}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let dn=(()=>{class ce extends oi{constructor(te){super(te)}}return ce.\u0275fac=function(te){return new(te||ce)(M.Y36(wn,2))},ce.\u0275dir=M.lG2({type:ce,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(te,Oe){2&te&&M.ekj("ng-untouched",Oe.isUntouched)("ng-touched",Oe.isTouched)("ng-pristine",Oe.isPristine)("ng-dirty",Oe.isDirty)("ng-valid",Oe.isValid)("ng-invalid",Oe.isInvalid)("ng-pending",Oe.isPending)},features:[M.qOj]}),ce})(),li=(()=>{class ce extends oi{constructor(te){super(te)}}return ce.\u0275fac=function(te){return new(te||ce)(M.Y36(jt,10))},ce.\u0275dir=M.lG2({type:ce,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(te,Oe){2&te&&M.ekj("ng-untouched",Oe.isUntouched)("ng-touched",Oe.isTouched)("ng-pristine",Oe.isPristine)("ng-dirty",Oe.isDirty)("ng-valid",Oe.isValid)("ng-invalid",Oe.isInvalid)("ng-pending",Oe.isPending)("ng-submitted",Oe.isSubmitted)},features:[M.qOj]}),ce})();const Je="VALID",Jt="INVALID",ti="PENDING",Fi="DISABLED";function Pi(ce){return(Gi(ce)?ce.validators:ce)||null}function Bi(ce){return Array.isArray(ce)?qt(ce):ce||null}function Ii(ce,oe){return(Gi(oe)?oe.asyncValidators:ce)||null}function br(ce){return Array.isArray(ce)?Ht(ce):ce||null}function Gi(ce){return null!=ce&&!Array.isArray(ce)&&"object"==typeof ce}function mt(ce,oe,te){const Oe=ce.controls;if(!(oe?Object.keys(Oe):Oe).length)throw new M.vHH(1e3,"");if(!Oe[te])throw new M.vHH(1001,"")}function Me(ce,oe,te){ce._forEachChild((Oe,hn)=>{if(void 0===te[hn])throw new M.vHH(1002,"")})}class Qe{constructor(oe,te){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=oe,this._rawAsyncValidators=te,this._composedValidatorFn=Bi(this._rawValidators),this._composedAsyncValidatorFn=br(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(oe){this._rawValidators=this._composedValidatorFn=oe}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(oe){this._rawAsyncValidators=this._composedAsyncValidatorFn=oe}get parent(){return this._parent}get valid(){return this.status===Je}get invalid(){return this.status===Jt}get pending(){return this.status==ti}get disabled(){return this.status===Fi}get enabled(){return this.status!==Fi}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(oe){this._rawValidators=oe,this._composedValidatorFn=Bi(oe)}setAsyncValidators(oe){this._rawAsyncValidators=oe,this._composedAsyncValidatorFn=br(oe)}addValidators(oe){this.setValidators(Cn(oe,this._rawValidators))}addAsyncValidators(oe){this.setAsyncValidators(Cn(oe,this._rawAsyncValidators))}removeValidators(oe){this.setValidators(tn(oe,this._rawValidators))}removeAsyncValidators(oe){this.setAsyncValidators(tn(oe,this._rawAsyncValidators))}hasValidator(oe){return on(this._rawValidators,oe)}hasAsyncValidator(oe){return on(this._rawAsyncValidators,oe)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(oe={}){this.touched=!0,this._parent&&!oe.onlySelf&&this._parent.markAsTouched(oe)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(oe=>oe.markAllAsTouched())}markAsUntouched(oe={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(te=>{te.markAsUntouched({onlySelf:!0})}),this._parent&&!oe.onlySelf&&this._parent._updateTouched(oe)}markAsDirty(oe={}){this.pristine=!1,this._parent&&!oe.onlySelf&&this._parent.markAsDirty(oe)}markAsPristine(oe={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(te=>{te.markAsPristine({onlySelf:!0})}),this._parent&&!oe.onlySelf&&this._parent._updatePristine(oe)}markAsPending(oe={}){this.status=ti,!1!==oe.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!oe.onlySelf&&this._parent.markAsPending(oe)}disable(oe={}){const te=this._parentMarkedDirty(oe.onlySelf);this.status=Fi,this.errors=null,this._forEachChild(Oe=>{Oe.disable({...oe,onlySelf:!0})}),this._updateValue(),!1!==oe.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...oe,skipPristineCheck:te}),this._onDisabledChange.forEach(Oe=>Oe(!0))}enable(oe={}){const te=this._parentMarkedDirty(oe.onlySelf);this.status=Je,this._forEachChild(Oe=>{Oe.enable({...oe,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:oe.emitEvent}),this._updateAncestors({...oe,skipPristineCheck:te}),this._onDisabledChange.forEach(Oe=>Oe(!1))}_updateAncestors(oe){this._parent&&!oe.onlySelf&&(this._parent.updateValueAndValidity(oe),oe.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(oe){this._parent=oe}getRawValue(){return this.value}updateValueAndValidity(oe={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Je||this.status===ti)&&this._runAsyncValidator(oe.emitEvent)),!1!==oe.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!oe.onlySelf&&this._parent.updateValueAndValidity(oe)}_updateTreeValidity(oe={emitEvent:!0}){this._forEachChild(te=>te._updateTreeValidity(oe)),this.updateValueAndValidity({onlySelf:!0,emitEvent:oe.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Fi:Je}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(oe){if(this.asyncValidator){this.status=ti,this._hasOwnPendingAsyncValidator=!0;const te=Qi(this.asyncValidator(this));this._asyncValidationSubscription=te.subscribe(Oe=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Oe,{emitEvent:oe})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(oe,te={}){this.errors=oe,this._updateControlsErrors(!1!==te.emitEvent)}get(oe){let te=oe;return null==te||(Array.isArray(te)||(te=te.split(".")),0===te.length)?null:te.reduce((Oe,hn)=>Oe&&Oe._find(hn),this)}getError(oe,te){const Oe=te?this.get(te):this;return Oe&&Oe.errors?Oe.errors[oe]:null}hasError(oe,te){return!!this.getError(oe,te)}get root(){let oe=this;for(;oe._parent;)oe=oe._parent;return oe}_updateControlsErrors(oe){this.status=this._calculateStatus(),oe&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(oe)}_initObservables(){this.valueChanges=new M.vpe,this.statusChanges=new M.vpe}_calculateStatus(){return this._allControlsDisabled()?Fi:this.errors?Jt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ti)?ti:this._anyControlsHaveStatus(Jt)?Jt:Je}_anyControlsHaveStatus(oe){return this._anyControls(te=>te.status===oe)}_anyControlsDirty(){return this._anyControls(oe=>oe.dirty)}_anyControlsTouched(){return this._anyControls(oe=>oe.touched)}_updatePristine(oe={}){this.pristine=!this._anyControlsDirty(),this._parent&&!oe.onlySelf&&this._parent._updatePristine(oe)}_updateTouched(oe={}){this.touched=this._anyControlsTouched(),this._parent&&!oe.onlySelf&&this._parent._updateTouched(oe)}_registerOnCollectionChange(oe){this._onCollectionChange=oe}_setUpdateStrategy(oe){Gi(oe)&&null!=oe.updateOn&&(this._updateOn=oe.updateOn)}_parentMarkedDirty(oe){return!oe&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(oe){return null}}class _e extends Qe{constructor(oe,te,Oe){super(Pi(te),Ii(Oe,te)),this.controls=oe,this._initObservables(),this._setUpdateStrategy(te),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(oe,te){return this.controls[oe]?this.controls[oe]:(this.controls[oe]=te,te.setParent(this),te._registerOnCollectionChange(this._onCollectionChange),te)}addControl(oe,te,Oe={}){this.registerControl(oe,te),this.updateValueAndValidity({emitEvent:Oe.emitEvent}),this._onCollectionChange()}removeControl(oe,te={}){this.controls[oe]&&this.controls[oe]._registerOnCollectionChange(()=>{}),delete this.controls[oe],this.updateValueAndValidity({emitEvent:te.emitEvent}),this._onCollectionChange()}setControl(oe,te,Oe={}){this.controls[oe]&&this.controls[oe]._registerOnCollectionChange(()=>{}),delete this.controls[oe],te&&this.registerControl(oe,te),this.updateValueAndValidity({emitEvent:Oe.emitEvent}),this._onCollectionChange()}contains(oe){return this.controls.hasOwnProperty(oe)&&this.controls[oe].enabled}setValue(oe,te={}){Me(this,0,oe),Object.keys(oe).forEach(Oe=>{mt(this,!0,Oe),this.controls[Oe].setValue(oe[Oe],{onlySelf:!0,emitEvent:te.emitEvent})}),this.updateValueAndValidity(te)}patchValue(oe,te={}){null!=oe&&(Object.keys(oe).forEach(Oe=>{const hn=this.controls[Oe];hn&&hn.patchValue(oe[Oe],{onlySelf:!0,emitEvent:te.emitEvent})}),this.updateValueAndValidity(te))}reset(oe={},te={}){this._forEachChild((Oe,hn)=>{Oe.reset(oe[hn],{onlySelf:!0,emitEvent:te.emitEvent})}),this._updatePristine(te),this._updateTouched(te),this.updateValueAndValidity(te)}getRawValue(){return this._reduceChildren({},(oe,te,Oe)=>(oe[Oe]=te.getRawValue(),oe))}_syncPendingControls(){let oe=this._reduceChildren(!1,(te,Oe)=>!!Oe._syncPendingControls()||te);return oe&&this.updateValueAndValidity({onlySelf:!0}),oe}_forEachChild(oe){Object.keys(this.controls).forEach(te=>{const Oe=this.controls[te];Oe&&oe(Oe,te)})}_setUpControls(){this._forEachChild(oe=>{oe.setParent(this),oe._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(oe){for(const[te,Oe]of Object.entries(this.controls))if(this.contains(te)&&oe(Oe))return!0;return!1}_reduceValue(){return this._reduceChildren({},(te,Oe,hn)=>((Oe.enabled||this.disabled)&&(te[hn]=Oe.value),te))}_reduceChildren(oe,te){let Oe=oe;return this._forEachChild((hn,gi)=>{Oe=te(Oe,hn,gi)}),Oe}_allControlsDisabled(){for(const oe of Object.keys(this.controls))if(this.controls[oe].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(oe){return this.controls.hasOwnProperty(oe)?this.controls[oe]:null}}class We extends _e{}function pe(ce,oe){cn(ce,oe),oe.valueAccessor.writeValue(ce.value),ce.disabled&&oe.valueAccessor.setDisabledState?.(!0),function Ri(ce,oe){oe.valueAccessor.registerOnChange(te=>{ce._pendingValue=te,ce._pendingChange=!0,ce._pendingDirty=!0,"change"===ce.updateOn&&$t(ce,oe)})}(ce,oe),function Sn(ce,oe){const te=(Oe,hn)=>{oe.valueAccessor.writeValue(Oe),hn&&oe.viewToModelUpdate(Oe)};ce.registerOnChange(te),oe._registerOnDestroy(()=>{ce._unregisterOnChange(te)})}(ce,oe),function Wt(ce,oe){oe.valueAccessor.registerOnTouched(()=>{ce._pendingTouched=!0,"blur"===ce.updateOn&&ce._pendingChange&&$t(ce,oe),"submit"!==ce.updateOn&&ce.markAsTouched()})}(ce,oe),function ft(ce,oe){if(oe.valueAccessor.setDisabledState){const te=Oe=>{oe.valueAccessor.setDisabledState(Oe)};ce.registerOnDisabledChange(te),oe._registerOnDestroy(()=>{ce._unregisterOnDisabledChange(te)})}}(ce,oe)}function Ee(ce,oe,te=!0){const Oe=()=>{};oe.valueAccessor&&(oe.valueAccessor.registerOnChange(Oe),oe.valueAccessor.registerOnTouched(Oe)),Qn(ce,oe),ce&&(oe._invokeOnDestroyCallbacks(),ce._registerOnCollectionChange(()=>{}))}function De(ce,oe){ce.forEach(te=>{te.registerOnValidatorChange&&te.registerOnValidatorChange(oe)})}function cn(ce,oe){const te=xn(ce);null!==oe.validator?ce.setValidators(Dt(te,oe.validator)):"function"==typeof te&&ce.setValidators([te]);const Oe=St(ce);null!==oe.asyncValidator?ce.setAsyncValidators(Dt(Oe,oe.asyncValidator)):"function"==typeof Oe&&ce.setAsyncValidators([Oe]);const hn=()=>ce.updateValueAndValidity();De(oe._rawValidators,hn),De(oe._rawAsyncValidators,hn)}function Qn(ce,oe){let te=!1;if(null!==ce){if(null!==oe.validator){const hn=xn(ce);if(Array.isArray(hn)&&hn.length>0){const gi=hn.filter(Wi=>Wi!==oe.validator);gi.length!==hn.length&&(te=!0,ce.setValidators(gi))}}if(null!==oe.asyncValidator){const hn=St(ce);if(Array.isArray(hn)&&hn.length>0){const gi=hn.filter(Wi=>Wi!==oe.asyncValidator);gi.length!==hn.length&&(te=!0,ce.setAsyncValidators(gi))}}}const Oe=()=>{};return De(oe._rawValidators,Oe),De(oe._rawAsyncValidators,Oe),te}function $t(ce,oe){ce._pendingDirty&&ce.markAsDirty(),ce.setValue(ce._pendingValue,{emitModelToViewChange:!1}),oe.viewToModelUpdate(ce._pendingValue),ce._pendingChange=!1}function Ln(ce,oe){cn(ce,oe)}function Ys(ce,oe){ce._syncPendingControls(),oe.forEach(te=>{const Oe=te.control;"submit"===Oe.updateOn&&Oe._pendingChange&&(te.viewToModelUpdate(Oe._pendingValue),Oe._pendingChange=!1)})}const Is={provide:jt,useExisting:(0,M.Gpc)(()=>to)},Ft=(()=>Promise.resolve())();let to=(()=>{class ce extends jt{constructor(te,Oe){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new M.vpe,this.form=new _e({},qt(te),Ht(Oe))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(te){Ft.then(()=>{const Oe=this._findContainer(te.path);te.control=Oe.registerControl(te.name,te.control),pe(te.control,te),te.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(te)})}getControl(te){return this.form.get(te.path)}removeControl(te){Ft.then(()=>{const Oe=this._findContainer(te.path);Oe&&Oe.removeControl(te.name),this._directives.delete(te)})}addFormGroup(te){Ft.then(()=>{const Oe=this._findContainer(te.path),hn=new _e({});Ln(hn,te),Oe.registerControl(te.name,hn),hn.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(te){Ft.then(()=>{const Oe=this._findContainer(te.path);Oe&&Oe.removeControl(te.name)})}getFormGroup(te){return this.form.get(te.path)}updateModel(te,Oe){Ft.then(()=>{this.form.get(te.path).setValue(Oe)})}setValue(te){this.control.setValue(te)}onSubmit(te){return this.submitted=!0,Ys(this.form,this._directives),this.ngSubmit.emit(te),"dialog"===te?.target?.method}onReset(){this.resetForm()}resetForm(te){this.form.reset(te),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(te){return te.pop(),te.length?this.form.get(te):this.form}}return ce.\u0275fac=function(te){return new(te||ce)(M.Y36(Ct,10),M.Y36(pt,10))},ce.\u0275dir=M.lG2({type:ce,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(te,Oe){1&te&&M.NdJ("submit",function(gi){return Oe.onSubmit(gi)})("reset",function(){return Oe.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[M._Bn([Is]),M.qOj]}),ce})();function Da(ce,oe){const te=ce.indexOf(oe);te>-1&&ce.splice(te,1)}function pr(ce){return"object"==typeof ce&&null!==ce&&2===Object.keys(ce).length&&"value"in ce&&"disabled"in ce}const Er=class extends Qe{constructor(oe=null,te,Oe){super(Pi(te),Ii(Oe,te)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(oe),this._setUpdateStrategy(te),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Gi(te)&&(te.nonNullable||te.initialValueIsDefault)&&(this.defaultValue=pr(oe)?oe.value:oe)}setValue(oe,te={}){this.value=this._pendingValue=oe,this._onChange.length&&!1!==te.emitModelToViewChange&&this._onChange.forEach(Oe=>Oe(this.value,!1!==te.emitViewToModelChange)),this.updateValueAndValidity(te)}patchValue(oe,te={}){this.setValue(oe,te)}reset(oe=this.defaultValue,te={}){this._applyFormState(oe),this.markAsPristine(te),this.markAsUntouched(te),this.setValue(this.value,te),this._pendingChange=!1}_updateValue(){}_anyControls(oe){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(oe){this._onChange.push(oe)}_unregisterOnChange(oe){Da(this._onChange,oe)}registerOnDisabledChange(oe){this._onDisabledChange.push(oe)}_unregisterOnDisabledChange(oe){Da(this._onDisabledChange,oe)}_forEachChild(oe){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(oe){pr(oe)?(this.value=this._pendingValue=oe.value,oe.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=oe}};let Fo=(()=>{class ce{}return ce.\u0275fac=function(te){return new(te||ce)},ce.\u0275dir=M.lG2({type:ce,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),ce})(),ca=(()=>{class ce{}return ce.\u0275fac=function(te){return new(te||ce)},ce.\u0275mod=M.oAB({type:ce}),ce.\u0275inj=M.cJS({}),ce})();const Wn=new M.OlP("NgModelWithFormControlWarning"),lr={provide:jt,useExisting:(0,M.Gpc)(()=>Ui)};let Ui=(()=>{class ce extends jt{constructor(te,Oe){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new M.vpe,this._setValidators(te),this._setAsyncValidators(Oe)}ngOnChanges(te){this._checkFormPresent(),te.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Qn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(te){const Oe=this.form.get(te.path);return pe(Oe,te),Oe.updateValueAndValidity({emitEvent:!1}),this.directives.push(te),Oe}getControl(te){return this.form.get(te.path)}removeControl(te){Ee(te.control||null,te,!1),function Ea(ce,oe){const te=ce.indexOf(oe);te>-1&&ce.splice(te,1)}(this.directives,te)}addFormGroup(te){this._setUpFormContainer(te)}removeFormGroup(te){this._cleanUpFormContainer(te)}getFormGroup(te){return this.form.get(te.path)}addFormArray(te){this._setUpFormContainer(te)}removeFormArray(te){this._cleanUpFormContainer(te)}getFormArray(te){return this.form.get(te.path)}updateModel(te,Oe){this.form.get(te.path).setValue(Oe)}onSubmit(te){return this.submitted=!0,Ys(this.form,this.directives),this.ngSubmit.emit(te),"dialog"===te?.target?.method}onReset(){this.resetForm()}resetForm(te){this.form.reset(te),this.submitted=!1}_updateDomValue(){this.directives.forEach(te=>{const Oe=te.control,hn=this.form.get(te.path);Oe!==hn&&(Ee(Oe||null,te),(ce=>ce instanceof Er)(hn)&&(pe(hn,te),te.control=hn))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(te){const Oe=this.form.get(te.path);Ln(Oe,te),Oe.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(te){if(this.form){const Oe=this.form.get(te.path);Oe&&function fi(ce,oe){return Qn(ce,oe)}(Oe,te)&&Oe.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){cn(this.form,this),this._oldForm&&Qn(this._oldForm,this)}_checkFormPresent(){}}return ce.\u0275fac=function(te){return new(te||ce)(M.Y36(Ct,10),M.Y36(pt,10))},ce.\u0275dir=M.lG2({type:ce,selectors:[["","formGroup",""]],hostBindings:function(te,Oe){1&te&&M.NdJ("submit",function(gi){return Oe.onSubmit(gi)})("reset",function(){return Oe.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[M._Bn([lr]),M.qOj,M.TTD]}),ce})();const Ks={provide:wn,useExisting:(0,M.Gpc)(()=>zl)};let zl=(()=>{class ce extends wn{constructor(te,Oe,hn,gi,Wi){super(),this._ngModelWarningConfig=Wi,this._added=!1,this.update=new M.vpe,this._ngModelWarningSent=!1,this._parent=te,this._setValidators(Oe),this._setAsyncValidators(hn),this.valueAccessor=function Zo(ce,oe){if(!oe)return null;let te,Oe,hn;return Array.isArray(oe),oe.forEach(gi=>{gi.constructor===it?te=gi:function Ms(ce){return Object.getPrototypeOf(ce.constructor)===at}(gi)?Oe=gi:hn=gi}),hn||Oe||te||null}(0,gi)}set isDisabled(te){}ngOnChanges(te){this._added||this._setUpControl(),function es(ce,oe){if(!ce.hasOwnProperty("model"))return!1;const te=ce.model;return!!te.isFirstChange()||!Object.is(oe,te.currentValue)}(te,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(te){this.viewModel=te,this.update.emit(te)}get path(){return function $e(ce,oe){return[...oe.path,ce]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return ce._ngModelWarningSentOnce=!1,ce.\u0275fac=function(te){return new(te||ce)(M.Y36(jt,13),M.Y36(Ct,10),M.Y36(pt,10),M.Y36(Ve,10),M.Y36(Wn,8))},ce.\u0275dir=M.lG2({type:ce,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[M._Bn([Ks]),M.qOj,M.TTD]}),ce})(),da=(()=>{class ce{constructor(){this._validator=ai}ngOnChanges(te){if(this.inputName in te){const Oe=this.normalizeInput(te[this.inputName].currentValue);this._enabled=this.enabled(Oe),this._validator=this._enabled?this.createValidator(Oe):ai,this._onChange&&this._onChange()}}validate(te){return this._validator(te)}registerOnValidatorChange(te){this._onChange=te}enabled(te){return null!=te}}return ce.\u0275fac=function(te){return new(te||ce)},ce.\u0275dir=M.lG2({type:ce,features:[M.TTD]}),ce})();const jr={provide:Ct,useExisting:(0,M.Gpc)(()=>ll),multi:!0},qs={provide:Ct,useExisting:(0,M.Gpc)(()=>Xo),multi:!0};let ll=(()=>{class ce extends da{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=M.D6c,this.createValidator=te=>Be}enabled(te){return te}}return ce.\u0275fac=function(){let oe;return function(Oe){return(oe||(oe=M.n5z(ce)))(Oe||ce)}}(),ce.\u0275dir=M.lG2({type:ce,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(te,Oe){2&te&&M.uIk("required",Oe._enabled?"":null)},inputs:{required:"required"},features:[M._Bn([jr]),M.qOj]}),ce})(),Xo=(()=>{class ce extends ll{constructor(){super(...arguments),this.createValidator=te=>ct}}return ce.\u0275fac=function(){let oe;return function(Oe){return(oe||(oe=M.n5z(ce)))(Oe||ce)}}(),ce.\u0275dir=M.lG2({type:ce,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(te,Oe){2&te&&M.uIk("required",Oe._enabled?"":null)},features:[M._Bn([qs]),M.qOj]}),ce})(),Il=(()=>{class ce{}return ce.\u0275fac=function(te){return new(te||ce)},ce.\u0275mod=M.oAB({type:ce}),ce.\u0275inj=M.cJS({imports:[ca]}),ce})(),Ma=(()=>{class ce{}return ce.\u0275fac=function(te){return new(te||ce)},ce.\u0275mod=M.oAB({type:ce}),ce.\u0275inj=M.cJS({imports:[Il]}),ce})(),Ia=(()=>{class ce{static withConfig(te){return{ngModule:ce,providers:[{provide:Wn,useValue:te.warnOnNgModelWithFormControl}]}}}return ce.\u0275fac=function(te){return new(te||ce)},ce.\u0275mod=M.oAB({type:ce}),ce.\u0275inj=M.cJS({imports:[Il]}),ce})();class yo extends Qe{constructor(oe,te,Oe){super(Pi(te),Ii(Oe,te)),this.controls=oe,this._initObservables(),this._setUpdateStrategy(te),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(oe){return this.controls[this._adjustIndex(oe)]}push(oe,te={}){this.controls.push(oe),this._registerControl(oe),this.updateValueAndValidity({emitEvent:te.emitEvent}),this._onCollectionChange()}insert(oe,te,Oe={}){this.controls.splice(oe,0,te),this._registerControl(te),this.updateValueAndValidity({emitEvent:Oe.emitEvent})}removeAt(oe,te={}){let Oe=this._adjustIndex(oe);Oe<0&&(Oe=0),this.controls[Oe]&&this.controls[Oe]._registerOnCollectionChange(()=>{}),this.controls.splice(Oe,1),this.updateValueAndValidity({emitEvent:te.emitEvent})}setControl(oe,te,Oe={}){let hn=this._adjustIndex(oe);hn<0&&(hn=0),this.controls[hn]&&this.controls[hn]._registerOnCollectionChange(()=>{}),this.controls.splice(hn,1),te&&(this.controls.splice(hn,0,te),this._registerControl(te)),this.updateValueAndValidity({emitEvent:Oe.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(oe,te={}){Me(this,0,oe),oe.forEach((Oe,hn)=>{mt(this,!1,hn),this.at(hn).setValue(Oe,{onlySelf:!0,emitEvent:te.emitEvent})}),this.updateValueAndValidity(te)}patchValue(oe,te={}){null!=oe&&(oe.forEach((Oe,hn)=>{this.at(hn)&&this.at(hn).patchValue(Oe,{onlySelf:!0,emitEvent:te.emitEvent})}),this.updateValueAndValidity(te))}reset(oe=[],te={}){this._forEachChild((Oe,hn)=>{Oe.reset(oe[hn],{onlySelf:!0,emitEvent:te.emitEvent})}),this._updatePristine(te),this._updateTouched(te),this.updateValueAndValidity(te)}getRawValue(){return this.controls.map(oe=>oe.getRawValue())}clear(oe={}){this.controls.length<1||(this._forEachChild(te=>te._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:oe.emitEvent}))}_adjustIndex(oe){return oe<0?oe+this.length:oe}_syncPendingControls(){let oe=this.controls.reduce((te,Oe)=>!!Oe._syncPendingControls()||te,!1);return oe&&this.updateValueAndValidity({onlySelf:!0}),oe}_forEachChild(oe){this.controls.forEach((te,Oe)=>{oe(te,Oe)})}_updateValue(){this.value=this.controls.filter(oe=>oe.enabled||this.disabled).map(oe=>oe.value)}_anyControls(oe){return this.controls.some(te=>te.enabled&&oe(te))}_setUpControls(){this._forEachChild(oe=>this._registerControl(oe))}_allControlsDisabled(){for(const oe of this.controls)if(oe.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(oe){oe.setParent(this),oe._registerOnCollectionChange(this._onCollectionChange)}_find(oe){return this.at(oe)??null}}function Un(ce){return!!ce&&(void 0!==ce.asyncValidators||void 0!==ce.validators||void 0!==ce.updateOn)}let Cr=(()=>{class ce{constructor(){this.useNonNullable=!1}get nonNullable(){const te=new ce;return te.useNonNullable=!0,te}group(te,Oe=null){const hn=this._reduceControls(te);let gi={};return Un(Oe)?gi=Oe:null!==Oe&&(gi.validators=Oe.validator,gi.asyncValidators=Oe.asyncValidator),new _e(hn,gi)}record(te,Oe=null){const hn=this._reduceControls(te);return new We(hn,Oe)}control(te,Oe,hn){let gi={};return this.useNonNullable?(Un(Oe)?gi=Oe:(gi.validators=Oe,gi.asyncValidators=hn),new Er(te,{...gi,nonNullable:!0})):new Er(te,Oe,hn)}array(te,Oe,hn){const gi=te.map(Wi=>this._createControl(Wi));return new yo(gi,Oe,hn)}_reduceControls(te){const Oe={};return Object.keys(te).forEach(hn=>{Oe[hn]=this._createControl(te[hn])}),Oe}_createControl(te){return te instanceof Er||te instanceof Qe?te:Array.isArray(te)?this.control(te[0],te.length>1?te[1]:null,te.length>2?te[2]:null):this.control(te)}}return ce.\u0275fac=function(te){return new(te||ce)},ce.\u0275prov=M.Yz7({token:ce,factory:ce.\u0275fac,providedIn:Ia}),ce})()},3546:(Hn,Mt,z)=>{z.d(Mt,{G2:()=>it,QW:()=>Te,a8:()=>En,dn:()=>qe,n5:()=>Ae});var M=z(4650),J=z(3238);const W=["*",[["mat-card-footer"]]],Le=["*","mat-card-footer"];let qe=(()=>{class Be{}return Be.\u0275fac=function(lt){return new(lt||Be)},Be.\u0275dir=M.lG2({type:Be,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),Be})(),Ae=(()=>{class Be{}return Be.\u0275fac=function(lt){return new(lt||Be)},Be.\u0275dir=M.lG2({type:Be,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),Be})(),it=(()=>{class Be{}return Be.\u0275fac=function(lt){return new(lt||Be)},Be.\u0275dir=M.lG2({type:Be,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),Be})(),En=(()=>{class Be{constructor(lt){this._animationMode=lt}}return Be.\u0275fac=function(lt){return new(lt||Be)(M.Y36(M.QbO,8))},Be.\u0275cmp=M.Xpm({type:Be,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(lt,ut){2&lt&&M.ekj("_mat-animation-noopable","NoopAnimations"===ut._animationMode)},exportAs:["matCard"],ngContentSelectors:Le,decls:2,vars:0,template:function(lt,ut){1&lt&&(M.F$t(W),M.Hsn(0),M.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),Be})(),Te=(()=>{class Be{}return Be.\u0275fac=function(lt){return new(lt||Be)},Be.\u0275mod=M.oAB({type:Be}),Be.\u0275inj=M.cJS({imports:[J.BQ,J.BQ]}),Be})()},3238:(Hn,Mt,z)=>{z.d(Mt,{yN:()=>xt,mZ:()=>Rt,_A:()=>Qi,rD:()=>Dt,sG:()=>or,Y2:()=>dn,BQ:()=>En,X2:()=>xn,uc:()=>on,Ng:()=>sn,rN:()=>Zt,nP:()=>On,us:()=>Qt,wG:()=>li,si:()=>bn,IR:()=>qn,CB:()=>Fn,jH:()=>Lt,pj:()=>ct,Kr:()=>lt,Id:()=>Be,FD:()=>vn,sb:()=>ut,E0:()=>St});var M=z(4650),J=z(2693),W=z(445),b=z(6895),be=z(3353),at=z(1281),Ve=z(7579),qe=z(8675);let xt=(()=>{class Ye{}return Ye.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",Ye.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",Ye.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",Ye.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",Ye})(),Rt=(()=>{class Ye{}return Ye.COMPLEX="375ms",Ye.ENTERING="225ms",Ye.EXITING="195ms",Ye})();const pt=new M.OlP("mat-sanity-checks",{providedIn:"root",factory:function Ct(){return!0}});let En=(()=>{class Ye{constructor(Je,Jt,ti){this._sanityChecks=Jt,this._document=ti,this._hasDoneGlobalChecks=!1,Je._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(Je){return!(0,be.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[Je])}}return Ye.\u0275fac=function(Je){return new(Je||Ye)(M.LFG(J.qm),M.LFG(pt,8),M.LFG(b.K0))},Ye.\u0275mod=M.oAB({type:Ye}),Ye.\u0275inj=M.cJS({imports:[W.vT,W.vT]}),Ye})();function Be(Ye){return class extends Ye{constructor(...Ke){super(...Ke),this._disabled=!1}get disabled(){return this._disabled}set disabled(Ke){this._disabled=(0,at.Ig)(Ke)}}}function ct(Ye,Ke){return class extends Ye{constructor(...Je){super(...Je),this.defaultColor=Ke,this.color=Ke}get color(){return this._color}set color(Je){const Jt=Je||this.defaultColor;Jt!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),Jt&&this._elementRef.nativeElement.classList.add(`mat-${Jt}`),this._color=Jt)}}}function lt(Ye){return class extends Ye{constructor(...Ke){super(...Ke),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(Ke){this._disableRipple=(0,at.Ig)(Ke)}}}function ut(Ye,Ke=0){return class extends Ye{constructor(...Je){super(...Je),this._tabIndex=Ke,this.defaultTabIndex=Ke}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(Je){this._tabIndex=null!=Je?(0,at.su)(Je):this.defaultTabIndex}}}function vn(Ye){return class extends Ye{constructor(...Ke){super(...Ke),this.errorState=!1}updateErrorState(){const Ke=this.errorState,Fi=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);Fi!==Ke&&(this.errorState=Fi,this.stateChanges.next())}}}class Qi{constructor(){this._localeChanges=new Ve.x,this.localeChanges=this._localeChanges}getValidDateOrNull(Ke){return this.isDateInstance(Ke)&&this.isValid(Ke)?Ke:null}deserialize(Ke){return null==Ke||this.isDateInstance(Ke)&&this.isValid(Ke)?Ke:this.invalid()}setLocale(Ke){this.locale=Ke,this._localeChanges.next()}compareDate(Ke,Je){return this.getYear(Ke)-this.getYear(Je)||this.getMonth(Ke)-this.getMonth(Je)||this.getDate(Ke)-this.getDate(Je)}sameDate(Ke,Je){if(Ke&&Je){let Jt=this.isValid(Ke),ti=this.isValid(Je);return Jt&&ti?!this.compareDate(Ke,Je):Jt==ti}return Ke==Je}clampDate(Ke,Je,Jt){return Je&&this.compareDate(Ke,Je)<0?Je:Jt&&this.compareDate(Ke,Jt)>0?Jt:Ke}}const or=new M.OlP("mat-date-formats");let Dt=(()=>{class Ye{isErrorState(Je,Jt){return!!(Je&&Je.invalid&&(Je.touched||Jt&&Jt.submitted))}}return Ye.\u0275fac=function(Je){return new(Je||Ye)},Ye.\u0275prov=M.Yz7({token:Ye,factory:Ye.\u0275fac,providedIn:"root"}),Ye})(),xn=(()=>{class Ye{}return Ye.\u0275fac=function(Je){return new(Je||Ye)},Ye.\u0275dir=M.lG2({type:Ye,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),Ye})();function St(Ye,Ke,Je="mat"){Ye.changes.pipe((0,qe.O)(Ye)).subscribe(({length:Jt})=>{Vt(Ke,`${Je}-2-line`,!1),Vt(Ke,`${Je}-3-line`,!1),Vt(Ke,`${Je}-multi-line`,!1),2===Jt||3===Jt?Vt(Ke,`${Je}-${Jt}-line`,!0):Jt>3&&Vt(Ke,`${Je}-multi-line`,!0)})}function Vt(Ye,Ke,Je){Ye.nativeElement.classList.toggle(Ke,Je)}let on=(()=>{class Ye{}return Ye.\u0275fac=function(Je){return new(Je||Ye)},Ye.\u0275mod=M.oAB({type:Ye}),Ye.\u0275inj=M.cJS({imports:[En,En]}),Ye})();class Cn{constructor(Ke,Je,Jt,ti=!1){this._renderer=Ke,this.element=Je,this.config=Jt,this._animationForciblyDisabledThroughCss=ti,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const tn={enterDuration:225,exitDuration:150},jt=(0,be.i$)({passive:!0}),wn=["mousedown","touchstart"],oi=["mouseup","mouseleave","touchend","touchcancel"];class qn{constructor(Ke,Je,Jt,ti){this._target=Ke,this._ngZone=Je,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,ti.isBrowser&&(this._containerElement=(0,at.fI)(Jt))}fadeInRipple(Ke,Je,Jt={}){const ti=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),Fi={...tn,...Jt.animation};Jt.centered&&(Ke=ti.left+ti.width/2,Je=ti.top+ti.height/2);const Pi=Jt.radius||function mi(Ye,Ke,Je){const Jt=Math.max(Math.abs(Ye-Je.left),Math.abs(Ye-Je.right)),ti=Math.max(Math.abs(Ke-Je.top),Math.abs(Ke-Je.bottom));return Math.sqrt(Jt*Jt+ti*ti)}(Ke,Je,ti),Bi=Ke-ti.left,Ii=Je-ti.top,br=Fi.enterDuration,Gi=document.createElement("div");Gi.classList.add("mat-ripple-element"),Gi.style.left=Bi-Pi+"px",Gi.style.top=Ii-Pi+"px",Gi.style.height=2*Pi+"px",Gi.style.width=2*Pi+"px",null!=Jt.color&&(Gi.style.backgroundColor=Jt.color),Gi.style.transitionDuration=`${br}ms`,this._containerElement.appendChild(Gi);const mt=window.getComputedStyle(Gi),Qe=mt.transitionDuration,_e="none"===mt.transitionProperty||"0s"===Qe||"0s, 0s"===Qe,Ce=new Cn(this,Gi,Jt,_e);Gi.style.transform="scale3d(1, 1, 1)",Ce.state=0,Jt.persistent||(this._mostRecentTransientRipple=Ce);let gt=null;return!_e&&(br||Fi.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const We=()=>this._finishRippleTransition(Ce),et=()=>this._destroyRipple(Ce);Gi.addEventListener("transitionend",We),Gi.addEventListener("transitioncancel",et),gt={onTransitionEnd:We,onTransitionCancel:et}}),this._activeRipples.set(Ce,gt),(_e||!br)&&this._finishRippleTransition(Ce),Ce}fadeOutRipple(Ke){if(2===Ke.state||3===Ke.state)return;const Je=Ke.element,Jt={...tn,...Ke.config.animation};Je.style.transitionDuration=`${Jt.exitDuration}ms`,Je.style.opacity="0",Ke.state=2,(Ke._animationForciblyDisabledThroughCss||!Jt.exitDuration)&&this._finishRippleTransition(Ke)}fadeOutAll(){this._getActiveRipples().forEach(Ke=>Ke.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(Ke=>{Ke.config.persistent||Ke.fadeOut()})}setupTriggerEvents(Ke){const Je=(0,at.fI)(Ke);!Je||Je===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=Je,this._registerEvents(wn))}handleEvent(Ke){"mousedown"===Ke.type?this._onMousedown(Ke):"touchstart"===Ke.type?this._onTouchStart(Ke):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(oi),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(Ke){0===Ke.state?this._startFadeOutTransition(Ke):2===Ke.state&&this._destroyRipple(Ke)}_startFadeOutTransition(Ke){const Je=Ke===this._mostRecentTransientRipple,{persistent:Jt}=Ke.config;Ke.state=1,!Jt&&(!Je||!this._isPointerDown)&&Ke.fadeOut()}_destroyRipple(Ke){const Je=this._activeRipples.get(Ke)??null;this._activeRipples.delete(Ke),this._activeRipples.size||(this._containerRect=null),Ke===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),Ke.state=3,null!==Je&&(Ke.element.removeEventListener("transitionend",Je.onTransitionEnd),Ke.element.removeEventListener("transitioncancel",Je.onTransitionCancel)),Ke.element.remove()}_onMousedown(Ke){const Je=(0,J.X6)(Ke),Jt=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!Je&&!Jt&&(this._isPointerDown=!0,this.fadeInRipple(Ke.clientX,Ke.clientY,this._target.rippleConfig))}_onTouchStart(Ke){if(!this._target.rippleDisabled&&!(0,J.yG)(Ke)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const Je=Ke.changedTouches;for(let Jt=0;Jt<Je.length;Jt++)this.fadeInRipple(Je[Jt].clientX,Je[Jt].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(Ke=>{!Ke.config.persistent&&(1===Ke.state||Ke.config.terminateOnPointerUp&&0===Ke.state)&&Ke.fadeOut()}))}_registerEvents(Ke){this._ngZone.runOutsideAngular(()=>{Ke.forEach(Je=>{this._triggerElement.addEventListener(Je,this,jt)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(wn.forEach(Ke=>{this._triggerElement.removeEventListener(Ke,this,jt)}),this._pointerUpEventsRegistered&&oi.forEach(Ke=>{this._triggerElement.removeEventListener(Ke,this,jt)}))}}const dn=new M.OlP("mat-ripple-global-options");let li=(()=>{class Ye{constructor(Je,Jt,ti,Fi,Pi){this._elementRef=Je,this._animationMode=Pi,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=Fi||{},this._rippleRenderer=new qn(this,Jt,Je,ti)}get disabled(){return this._disabled}set disabled(Je){Je&&this.fadeOutAllNonPersistent(),this._disabled=Je,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(Je){this._trigger=Je,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(Je,Jt=0,ti){return"number"==typeof Je?this._rippleRenderer.fadeInRipple(Je,Jt,{...this.rippleConfig,...ti}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...Je})}}return Ye.\u0275fac=function(Je){return new(Je||Ye)(M.Y36(M.SBq),M.Y36(M.R0b),M.Y36(be.t4),M.Y36(dn,8),M.Y36(M.QbO,8))},Ye.\u0275dir=M.lG2({type:Ye,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(Je,Jt){2&Je&&M.ekj("mat-ripple-unbounded",Jt.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),Ye})(),bn=(()=>{class Ye{}return Ye.\u0275fac=function(Je){return new(Je||Ye)},Ye.\u0275mod=M.oAB({type:Ye}),Ye.\u0275inj=M.cJS({imports:[En,En]}),Ye})(),On=(()=>{class Ye{constructor(Je){this._animationMode=Je,this.state="unchecked",this.disabled=!1}}return Ye.\u0275fac=function(Je){return new(Je||Ye)(M.Y36(M.QbO,8))},Ye.\u0275cmp=M.Xpm({type:Ye,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(Je,Jt){2&Je&&M.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===Jt.state)("mat-pseudo-checkbox-checked","checked"===Jt.state)("mat-pseudo-checkbox-disabled",Jt.disabled)("_mat-animation-noopable","NoopAnimations"===Jt._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(Je,Jt){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}'],encapsulation:2,changeDetection:0}),Ye})(),Qt=(()=>{class Ye{}return Ye.\u0275fac=function(Je){return new(Je||Ye)},Ye.\u0275mod=M.oAB({type:Ye}),Ye.\u0275inj=M.cJS({imports:[En]}),Ye})();class Zt{constructor(Ke,Je=!1){this.source=Ke,this.isUserInput=Je}}function Fn(Ye,Ke,Je){if(Je.length){let Jt=Ke.toArray(),ti=Je.toArray(),Fi=0;for(let Pi=0;Pi<Ye+1;Pi++)Jt[Pi].group&&Jt[Pi].group===ti[Fi]&&Fi++;return Fi}return 0}function Lt(Ye,Ke,Je,Jt){return Ye<Je?Ye:Ye+Ke>Je+Jt?Math.max(0,Ye-Jt+Ke):Je}let sn=(()=>{class Ye{}return Ye.\u0275fac=function(Je){return new(Je||Ye)},Ye.\u0275mod=M.oAB({type:Ye}),Ye.\u0275inj=M.cJS({imports:[bn,b.ez,En,Qt]}),Ye})()},7084:(Hn,Mt,z)=>{z.d(Mt,{pp:()=>on,To:()=>Cn,ib:()=>qt,u4:()=>St,yz:()=>xn,yK:()=>Vt});var M=z(4650),J=z(5017),W=z(1281),Le=z(7579),b=z(727);let be=0;const at=new M.OlP("CdkAccordion");let Ve=(()=>{class tn{constructor(){this._stateChanges=new Le.x,this._openCloseAllActions=new Le.x,this.id="cdk-accordion-"+be++,this._multi=!1}get multi(){return this._multi}set multi(jt){this._multi=(0,W.Ig)(jt)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(jt){this._stateChanges.next(jt)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return tn.\u0275fac=function(jt){return new(jt||tn)},tn.\u0275dir=M.lG2({type:tn,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[M._Bn([{provide:at,useExisting:tn}]),M.TTD]}),tn})(),qe=0,Ae=(()=>{class tn{constructor(jt,wn,oi){this.accordion=jt,this._changeDetectorRef=wn,this._expansionDispatcher=oi,this._openCloseAllSubscription=b.w0.EMPTY,this.closed=new M.vpe,this.opened=new M.vpe,this.destroyed=new M.vpe,this.expandedChange=new M.vpe,this.id="cdk-accordion-child-"+qe++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=oi.listen((qn,mi)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===mi&&this.id!==qn&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(jt){jt=(0,W.Ig)(jt),this._expanded!==jt&&(this._expanded=jt,this.expandedChange.emit(jt),jt?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(jt){this._disabled=(0,W.Ig)(jt)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(jt=>{this.disabled||(this.expanded=jt)})}}return tn.\u0275fac=function(jt){return new(jt||tn)(M.Y36(at,12),M.Y36(M.sBO),M.Y36(J.A8))},tn.\u0275dir=M.lG2({type:tn,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[M._Bn([{provide:at,useValue:void 0}])]}),tn})(),Ue=(()=>{class tn{}return tn.\u0275fac=function(jt){return new(jt||tn)},tn.\u0275mod=M.oAB({type:tn}),tn.\u0275inj=M.cJS({}),tn})();var Ge=z(4080),kt=z(6895),it=z(3238),tt=z(2693),xt=z(1884),Rt=z(8675),Ct=z(9300),pt=z(5698),En=z(9521),_t=z(515),je=z(6451),Te=z(7340);const Be=["body"];function ct(tn,Mn){}const lt=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],ut=["mat-expansion-panel-header","*","mat-action-row"];function vn(tn,Mn){if(1&tn&&M._UZ(0,"span",2),2&tn){const jt=M.oxw();M.Q6J("@indicatorRotate",jt._getExpandedState())}}const pn=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],ai=["mat-panel-title","mat-panel-description","*"],Gn=new M.OlP("MAT_ACCORDION"),Qi="225ms cubic-bezier(0.4,0.0,0.2,1)",or={indicatorRotate:(0,Te.X$)("indicatorRotate",[(0,Te.SB)("collapsed, void",(0,Te.oB)({transform:"rotate(0deg)"})),(0,Te.SB)("expanded",(0,Te.oB)({transform:"rotate(180deg)"})),(0,Te.eR)("expanded <=> collapsed, void => collapsed",(0,Te.jt)(Qi))]),bodyExpansion:(0,Te.X$)("bodyExpansion",[(0,Te.SB)("collapsed, void",(0,Te.oB)({height:"0px",visibility:"hidden"})),(0,Te.SB)("expanded",(0,Te.oB)({height:"*",visibility:"visible"})),(0,Te.eR)("expanded <=> collapsed, void => collapsed",(0,Te.jt)(Qi))])},Ei=new M.OlP("MAT_EXPANSION_PANEL");let yi=(()=>{class tn{constructor(jt,wn){this._template=jt,this._expansionPanel=wn}}return tn.\u0275fac=function(jt){return new(jt||tn)(M.Y36(M.Rgc),M.Y36(Ei,8))},tn.\u0275dir=M.lG2({type:tn,selectors:[["ng-template","matExpansionPanelContent",""]]}),tn})(),bt=0;const It=new M.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let qt=(()=>{class tn extends Ae{constructor(jt,wn,oi,qn,mi,dn,li){super(jt,wn,oi),this._viewContainerRef=qn,this._animationMode=dn,this._hideToggle=!1,this.afterExpand=new M.vpe,this.afterCollapse=new M.vpe,this._inputChanges=new Le.x,this._headerId="mat-expansion-panel-header-"+bt++,this._bodyAnimationDone=new Le.x,this.accordion=jt,this._document=mi,this._bodyAnimationDone.pipe((0,xt.x)((bn,On)=>bn.fromState===On.fromState&&bn.toState===On.toState)).subscribe(bn=>{"void"!==bn.fromState&&("expanded"===bn.toState?this.afterExpand.emit():"collapsed"===bn.toState&&this.afterCollapse.emit())}),li&&(this.hideToggle=li.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(jt){this._hideToggle=(0,W.Ig)(jt)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(jt){this._togglePosition=jt}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe((0,Rt.O)(null),(0,Ct.h)(()=>this.expanded&&!this._portal),(0,pt.q)(1)).subscribe(()=>{this._portal=new Ge.UE(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(jt){this._inputChanges.next(jt)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const jt=this._document.activeElement,wn=this._body.nativeElement;return jt===wn||wn.contains(jt)}return!1}}return tn.\u0275fac=function(jt){return new(jt||tn)(M.Y36(Gn,12),M.Y36(M.sBO),M.Y36(J.A8),M.Y36(M.s_b),M.Y36(kt.K0),M.Y36(M.QbO,8),M.Y36(It,8))},tn.\u0275cmp=M.Xpm({type:tn,selectors:[["mat-expansion-panel"]],contentQueries:function(jt,wn,oi){if(1&jt&&M.Suo(oi,yi,5),2&jt){let qn;M.iGM(qn=M.CRH())&&(wn._lazyContent=qn.first)}},viewQuery:function(jt,wn){if(1&jt&&M.Gf(Be,5),2&jt){let oi;M.iGM(oi=M.CRH())&&(wn._body=oi.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(jt,wn){2&jt&&M.ekj("mat-expanded",wn.expanded)("_mat-animation-noopable","NoopAnimations"===wn._animationMode)("mat-expansion-panel-spacing",wn._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[M._Bn([{provide:Gn,useValue:void 0},{provide:Ei,useExisting:tn}]),M.qOj,M.TTD],ngContentSelectors:ut,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(jt,wn){1&jt&&(M.F$t(lt),M.Hsn(0),M.TgZ(1,"div",0,1),M.NdJ("@bodyExpansion.done",function(qn){return wn._bodyAnimationDone.next(qn)}),M.TgZ(3,"div",2),M.Hsn(4,1),M.YNc(5,ct,0,0,"ng-template",3),M.qZA(),M.Hsn(6,2),M.qZA()),2&jt&&(M.xp6(1),M.Q6J("@bodyExpansion",wn._getExpandedState())("id",wn.id),M.uIk("aria-labelledby",wn._headerId),M.xp6(4),M.Q6J("cdkPortalOutlet",wn._portal))},dependencies:[Ge.Pl],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[or.bodyExpansion]},changeDetection:0}),tn})();class Ht{}const Dt=(0,it.sb)(Ht);let xn=(()=>{class tn extends Dt{constructor(jt,wn,oi,qn,mi,dn,li){super(),this.panel=jt,this._element=wn,this._focusMonitor=oi,this._changeDetectorRef=qn,this._animationMode=dn,this._parentChangeSubscription=b.w0.EMPTY;const bn=jt.accordion?jt.accordion._stateChanges.pipe((0,Ct.h)(On=>!(!On.hideToggle&&!On.togglePosition))):_t.E;this.tabIndex=parseInt(li||"")||0,this._parentChangeSubscription=(0,je.T)(jt.opened,jt.closed,bn,jt._inputChanges.pipe((0,Ct.h)(On=>!!(On.hideToggle||On.disabled||On.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),jt.closed.pipe((0,Ct.h)(()=>jt._containsFocus())).subscribe(()=>oi.focusVia(wn,"program")),mi&&(this.expandedHeight=mi.expandedHeight,this.collapsedHeight=mi.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const jt=this._isExpanded();return jt&&this.expandedHeight?this.expandedHeight:!jt&&this.collapsedHeight?this.collapsedHeight:null}_keydown(jt){switch(jt.keyCode){case En.L_:case En.K5:(0,En.Vb)(jt)||(jt.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(jt))}}focus(jt,wn){jt?this._focusMonitor.focusVia(this._element,jt,wn):this._element.nativeElement.focus(wn)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(jt=>{jt&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return tn.\u0275fac=function(jt){return new(jt||tn)(M.Y36(qt,1),M.Y36(M.SBq),M.Y36(tt.tE),M.Y36(M.sBO),M.Y36(It,8),M.Y36(M.QbO,8),M.$8M("tabindex"))},tn.\u0275cmp=M.Xpm({type:tn,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(jt,wn){1&jt&&M.NdJ("click",function(){return wn._toggle()})("keydown",function(qn){return wn._keydown(qn)}),2&jt&&(M.uIk("id",wn.panel._headerId)("tabindex",wn.tabIndex)("aria-controls",wn._getPanelId())("aria-expanded",wn._isExpanded())("aria-disabled",wn.panel.disabled),M.Udp("height",wn._getHeaderHeight()),M.ekj("mat-expanded",wn._isExpanded())("mat-expansion-toggle-indicator-after","after"===wn._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===wn._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===wn._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[M.qOj],ngContentSelectors:ai,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(jt,wn){1&jt&&(M.F$t(pn),M.TgZ(0,"span",0),M.Hsn(1),M.Hsn(2,1),M.Hsn(3,2),M.qZA(),M.YNc(4,vn,1,1,"span",1)),2&jt&&(M.ekj("mat-content-hide-toggle",!wn._showToggle()),M.xp6(4),M.Q6J("ngIf",wn._showToggle()))},dependencies:[kt.O5],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[or.indicatorRotate]},changeDetection:0}),tn})(),St=(()=>{class tn{}return tn.\u0275fac=function(jt){return new(jt||tn)},tn.\u0275dir=M.lG2({type:tn,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"]}),tn})(),Vt=(()=>{class tn{}return tn.\u0275fac=function(jt){return new(jt||tn)},tn.\u0275dir=M.lG2({type:tn,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),tn})(),on=(()=>{class tn extends Ve{constructor(){super(...arguments),this._ownHeaders=new M.n_E,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(jt){this._hideToggle=(0,W.Ig)(jt)}ngAfterContentInit(){this._headers.changes.pipe((0,Rt.O)(this._headers)).subscribe(jt=>{this._ownHeaders.reset(jt.filter(wn=>wn.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new tt.Em(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(jt){this._keyManager.onKeydown(jt)}_handleHeaderFocus(jt){this._keyManager.updateActiveItem(jt)}ngOnDestroy(){super.ngOnDestroy(),this._ownHeaders.destroy()}}return tn.\u0275fac=function(){let Mn;return function(wn){return(Mn||(Mn=M.n5z(tn)))(wn||tn)}}(),tn.\u0275dir=M.lG2({type:tn,selectors:[["mat-accordion"]],contentQueries:function(jt,wn,oi){if(1&jt&&M.Suo(oi,xn,5),2&jt){let qn;M.iGM(qn=M.CRH())&&(wn._headers=qn)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(jt,wn){2&jt&&M.ekj("mat-accordion-multi",wn.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[M._Bn([{provide:Gn,useExisting:tn}]),M.qOj]}),tn})(),Cn=(()=>{class tn{}return tn.\u0275fac=function(jt){return new(jt||tn)},tn.\u0275mod=M.oAB({type:tn}),tn.\u0275inj=M.cJS({imports:[kt.ez,it.BQ,Ue,Ge.eL]}),tn})()},9549:(Hn,Mt,z)=>{z.d(Mt,{Eo:()=>yi,G_:()=>mi,KE:()=>dn,hX:()=>xn,lN:()=>li});var M=z(9643),J=z(6895),W=z(4650),Le=z(3238),b=z(445),be=z(1281),at=z(7579),Ve=z(6451),qe=z(4968),Ae=z(8675),Ue=z(2722),Ge=z(5698),kt=z(7340),it=z(3353);const tt=["connectionContainer"],xt=["inputContainer"],Rt=["label"];function Ct(bn,On){1&bn&&(W.ynx(0),W.TgZ(1,"div",14),W._UZ(2,"div",15)(3,"div",16)(4,"div",17),W.qZA(),W.TgZ(5,"div",18),W._UZ(6,"div",15)(7,"div",16)(8,"div",17),W.qZA(),W.BQk())}function pt(bn,On){if(1&bn){const Qt=W.EpF();W.TgZ(0,"div",19),W.NdJ("cdkObserveContent",function(){W.CHM(Qt);const $n=W.oxw();return W.KtG($n.updateOutlineGap())}),W.Hsn(1,1),W.qZA()}if(2&bn){const Qt=W.oxw();W.Q6J("cdkObserveContentDisabled","outline"!=Qt.appearance)}}function En(bn,On){if(1&bn&&(W.ynx(0),W.Hsn(1,2),W.TgZ(2,"span"),W._uU(3),W.qZA(),W.BQk()),2&bn){const Qt=W.oxw(2);W.xp6(3),W.Oqu(Qt._control.placeholder)}}function _t(bn,On){1&bn&&W.Hsn(0,3,["*ngSwitchCase","true"])}function je(bn,On){1&bn&&(W.TgZ(0,"span",23),W._uU(1," *"),W.qZA())}function Te(bn,On){if(1&bn){const Qt=W.EpF();W.TgZ(0,"label",20,21),W.NdJ("cdkObserveContent",function(){W.CHM(Qt);const $n=W.oxw();return W.KtG($n.updateOutlineGap())}),W.YNc(2,En,4,1,"ng-container",12),W.YNc(3,_t,1,0,"ng-content",12),W.YNc(4,je,2,0,"span",22),W.qZA()}if(2&bn){const Qt=W.oxw();W.ekj("mat-empty",Qt._control.empty&&!Qt._shouldAlwaysFloat())("mat-form-field-empty",Qt._control.empty&&!Qt._shouldAlwaysFloat())("mat-accent","accent"==Qt.color)("mat-warn","warn"==Qt.color),W.Q6J("cdkObserveContentDisabled","outline"!=Qt.appearance)("id",Qt._labelId)("ngSwitch",Qt._hasLabel()),W.uIk("for",Qt._control.id)("aria-owns",Qt._control.id),W.xp6(2),W.Q6J("ngSwitchCase",!1),W.xp6(1),W.Q6J("ngSwitchCase",!0),W.xp6(1),W.Q6J("ngIf",!Qt.hideRequiredMarker&&Qt._control.required&&!Qt._control.disabled)}}function Be(bn,On){1&bn&&(W.TgZ(0,"div",24),W.Hsn(1,4),W.qZA())}function ct(bn,On){if(1&bn&&(W.TgZ(0,"div",25),W._UZ(1,"span",26),W.qZA()),2&bn){const Qt=W.oxw();W.xp6(1),W.ekj("mat-accent","accent"==Qt.color)("mat-warn","warn"==Qt.color)}}function lt(bn,On){if(1&bn&&(W.TgZ(0,"div"),W.Hsn(1,5),W.qZA()),2&bn){const Qt=W.oxw();W.Q6J("@transitionMessages",Qt._subscriptAnimationState)}}function ut(bn,On){if(1&bn&&(W.TgZ(0,"div",30),W._uU(1),W.qZA()),2&bn){const Qt=W.oxw(2);W.Q6J("id",Qt._hintLabelId),W.xp6(1),W.Oqu(Qt.hintLabel)}}function vn(bn,On){if(1&bn&&(W.TgZ(0,"div",27),W.YNc(1,ut,2,2,"div",28),W.Hsn(2,6),W._UZ(3,"div",29),W.Hsn(4,7),W.qZA()),2&bn){const Qt=W.oxw();W.Q6J("@transitionMessages",Qt._subscriptAnimationState),W.xp6(1),W.Q6J("ngIf",Qt.hintLabel)}}const pn=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],ai=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],Qi=new W.OlP("MatError"),Ei={transitionMessages:(0,kt.X$)("transitionMessages",[(0,kt.SB)("enter",(0,kt.oB)({opacity:1,transform:"translateY(0%)"})),(0,kt.eR)("void => enter",[(0,kt.oB)({opacity:0,transform:"translateY(-5px)"}),(0,kt.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let yi=(()=>{class bn{}return bn.\u0275fac=function(Qt){return new(Qt||bn)},bn.\u0275dir=W.lG2({type:bn}),bn})();const Ht=new W.OlP("MatHint");let xn=(()=>{class bn{}return bn.\u0275fac=function(Qt){return new(Qt||bn)},bn.\u0275dir=W.lG2({type:bn,selectors:[["mat-label"]]}),bn})(),St=(()=>{class bn{}return bn.\u0275fac=function(Qt){return new(Qt||bn)},bn.\u0275dir=W.lG2({type:bn,selectors:[["mat-placeholder"]]}),bn})();const Vt=new W.OlP("MatPrefix"),Cn=new W.OlP("MatSuffix");let Mn=0;const oi=(0,Le.pj)(class{constructor(bn){this._elementRef=bn}},"primary"),qn=new W.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),mi=new W.OlP("MatFormField");let dn=(()=>{class bn extends oi{constructor(Qt,Nn,$n,Ot,ze,we,ke){super(Qt),this._changeDetectorRef=Nn,this._dir=$n,this._defaults=Ot,this._platform=ze,this._ngZone=we,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new at.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+Mn++,this._labelId="mat-form-field-label-"+Mn++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==ke,this.appearance=Ot?.appearance||"legacy",Ot&&(this._hideRequiredMarker=Boolean(Ot.hideRequiredMarker),Ot.color&&(this.color=this.defaultColor=Ot.color))}get appearance(){return this._appearance}set appearance(Qt){const Nn=this._appearance;this._appearance=Qt||this._defaults?.appearance||"legacy","outline"===this._appearance&&Nn!==Qt&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(Qt){this._hideRequiredMarker=(0,be.Ig)(Qt)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(Qt){this._hintLabel=Qt,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(Qt){Qt!==this._floatLabel&&(this._floatLabel=Qt||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(Qt){this._explicitFormFieldControl=Qt}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const Qt=this._control;Qt.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${Qt.controlType}`),Qt.stateChanges.pipe((0,Ae.O)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),Qt.ngControl&&Qt.ngControl.valueChanges&&Qt.ngControl.valueChanges.pipe((0,Ue.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,Ue.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Ve.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe((0,Ae.O)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe((0,Ae.O)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,Ue.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(Qt){const Nn=this._control?this._control.ngControl:null;return Nn&&Nn[Qt]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,(0,qe.R)(this._label.nativeElement,"transitionend").pipe((0,Ge.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let Qt=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&Qt.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const Nn=this._hintChildren?this._hintChildren.find(Ot=>"start"===Ot.align):null,$n=this._hintChildren?this._hintChildren.find(Ot=>"end"===Ot.align):null;Nn?Qt.push(Nn.id):this._hintLabel&&Qt.push(this._hintLabelId),$n&&Qt.push($n.id)}else this._errorChildren&&Qt.push(...this._errorChildren.map(Nn=>Nn.id));this._control.setDescribedByIds(Qt)}}_validateControlChild(){}updateOutlineGap(){const Qt=this._label?this._label.nativeElement:null,Nn=this._connectionContainerRef.nativeElement,$n=".mat-form-field-outline-start",Ot=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!Qt||!Qt.children.length||!Qt.textContent.trim()){const Zt=Nn.querySelectorAll(`${$n}, ${Ot}`);for(let _n=0;_n<Zt.length;_n++)Zt[_n].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let ze=0,we=0;const ke=Nn.querySelectorAll($n),Ze=Nn.querySelectorAll(Ot);if(this._label&&this._label.nativeElement.children.length){const Zt=Nn.getBoundingClientRect();if(0===Zt.width&&0===Zt.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const _n=this._getStartEnd(Zt),Zn=Qt.children,Fn=this._getStartEnd(Zn[0].getBoundingClientRect());let Lt=0;for(let sn=0;sn<Zn.length;sn++)Lt+=Zn[sn].offsetWidth;ze=Math.abs(Fn-_n)-5,we=Lt>0?.75*Lt+10:0}for(let Zt=0;Zt<ke.length;Zt++)ke[Zt].style.width=`${ze}px`;for(let Zt=0;Zt<Ze.length;Zt++)Ze[Zt].style.width=`${we}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(Qt){return this._dir&&"rtl"===this._dir.value?Qt.right:Qt.left}_isAttachedToDOM(){const Qt=this._elementRef.nativeElement;if(Qt.getRootNode){const Nn=Qt.getRootNode();return Nn&&Nn!==Qt}return document.documentElement.contains(Qt)}}return bn.\u0275fac=function(Qt){return new(Qt||bn)(W.Y36(W.SBq),W.Y36(W.sBO),W.Y36(b.Is,8),W.Y36(qn,8),W.Y36(it.t4),W.Y36(W.R0b),W.Y36(W.QbO,8))},bn.\u0275cmp=W.Xpm({type:bn,selectors:[["mat-form-field"]],contentQueries:function(Qt,Nn,$n){if(1&Qt&&(W.Suo($n,yi,5),W.Suo($n,yi,7),W.Suo($n,xn,5),W.Suo($n,xn,7),W.Suo($n,St,5),W.Suo($n,Qi,5),W.Suo($n,Ht,5),W.Suo($n,Vt,5),W.Suo($n,Cn,5)),2&Qt){let Ot;W.iGM(Ot=W.CRH())&&(Nn._controlNonStatic=Ot.first),W.iGM(Ot=W.CRH())&&(Nn._controlStatic=Ot.first),W.iGM(Ot=W.CRH())&&(Nn._labelChildNonStatic=Ot.first),W.iGM(Ot=W.CRH())&&(Nn._labelChildStatic=Ot.first),W.iGM(Ot=W.CRH())&&(Nn._placeholderChild=Ot.first),W.iGM(Ot=W.CRH())&&(Nn._errorChildren=Ot),W.iGM(Ot=W.CRH())&&(Nn._hintChildren=Ot),W.iGM(Ot=W.CRH())&&(Nn._prefixChildren=Ot),W.iGM(Ot=W.CRH())&&(Nn._suffixChildren=Ot)}},viewQuery:function(Qt,Nn){if(1&Qt&&(W.Gf(tt,7),W.Gf(xt,5),W.Gf(Rt,5)),2&Qt){let $n;W.iGM($n=W.CRH())&&(Nn._connectionContainerRef=$n.first),W.iGM($n=W.CRH())&&(Nn._inputContainerRef=$n.first),W.iGM($n=W.CRH())&&(Nn._label=$n.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(Qt,Nn){2&Qt&&W.ekj("mat-form-field-appearance-standard","standard"==Nn.appearance)("mat-form-field-appearance-fill","fill"==Nn.appearance)("mat-form-field-appearance-outline","outline"==Nn.appearance)("mat-form-field-appearance-legacy","legacy"==Nn.appearance)("mat-form-field-invalid",Nn._control.errorState)("mat-form-field-can-float",Nn._canLabelFloat())("mat-form-field-should-float",Nn._shouldLabelFloat())("mat-form-field-has-label",Nn._hasFloatingLabel())("mat-form-field-hide-placeholder",Nn._hideControlPlaceholder())("mat-form-field-disabled",Nn._control.disabled)("mat-form-field-autofilled",Nn._control.autofilled)("mat-focused",Nn._control.focused)("ng-untouched",Nn._shouldForward("untouched"))("ng-touched",Nn._shouldForward("touched"))("ng-pristine",Nn._shouldForward("pristine"))("ng-dirty",Nn._shouldForward("dirty"))("ng-valid",Nn._shouldForward("valid"))("ng-invalid",Nn._shouldForward("invalid"))("ng-pending",Nn._shouldForward("pending"))("_mat-animation-noopable",!Nn._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[W._Bn([{provide:mi,useExisting:bn}]),W.qOj],ngContentSelectors:ai,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(Qt,Nn){1&Qt&&(W.F$t(pn),W.TgZ(0,"div",0)(1,"div",1,2),W.NdJ("click",function(Ot){return Nn._control.onContainerClick&&Nn._control.onContainerClick(Ot)}),W.YNc(3,Ct,9,0,"ng-container",3),W.YNc(4,pt,2,1,"div",4),W.TgZ(5,"div",5,6),W.Hsn(7),W.TgZ(8,"span",7),W.YNc(9,Te,5,16,"label",8),W.qZA()(),W.YNc(10,Be,2,0,"div",9),W.qZA(),W.YNc(11,ct,2,4,"div",10),W.TgZ(12,"div",11),W.YNc(13,lt,2,1,"div",12),W.YNc(14,vn,5,2,"div",13),W.qZA()()),2&Qt&&(W.xp6(3),W.Q6J("ngIf","outline"==Nn.appearance),W.xp6(1),W.Q6J("ngIf",Nn._prefixChildren.length),W.xp6(5),W.Q6J("ngIf",Nn._hasFloatingLabel()),W.xp6(1),W.Q6J("ngIf",Nn._suffixChildren.length),W.xp6(1),W.Q6J("ngIf","outline"!=Nn.appearance),W.xp6(1),W.Q6J("ngSwitch",Nn._getDisplayedMessages()),W.xp6(1),W.Q6J("ngSwitchCase","error"),W.xp6(1),W.Q6J("ngSwitchCase","hint"))},dependencies:[J.O5,J.RF,J.n9,M.wD],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[Ei.transitionMessages]},changeDetection:0}),bn})(),li=(()=>{class bn{}return bn.\u0275fac=function(Qt){return new(Qt||bn)},bn.\u0275mod=W.oAB({type:bn}),bn.\u0275inj=W.cJS({imports:[J.ez,Le.BQ,M.Q8,Le.BQ]}),bn})()},7392:(Hn,Mt,z)=>{z.d(Mt,{Hw:()=>en,Ps:()=>Ht});var M=z(4650),J=z(3238),W=z(1281),Le=z(6895),b=z(9646),be=z(2843),at=z(4128),Ve=z(727),qe=z(8505),Ae=z(4004),Ue=z(262),Ge=z(8746),kt=z(3099),it=z(5698),tt=z(529),xt=z(1481);const Rt=["*"];let Ct;function En(Dt){return function pt(){if(void 0===Ct&&(Ct=null,typeof window<"u")){const Dt=window;void 0!==Dt.trustedTypes&&(Ct=Dt.trustedTypes.createPolicy("angular#components",{createHTML:xn=>xn}))}return Ct}()?.createHTML(Dt)||Dt}function _t(Dt){return Error(`Unable to find icon with the name "${Dt}"`)}function Te(Dt){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${Dt}".`)}function Be(Dt){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${Dt}".`)}class ct{constructor(xn,St,Vt){this.url=xn,this.svgText=St,this.options=Vt}}let lt=(()=>{class Dt{constructor(St,Vt,on,Cn){this._httpClient=St,this._sanitizer=Vt,this._errorHandler=Cn,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=on}addSvgIcon(St,Vt,on){return this.addSvgIconInNamespace("",St,Vt,on)}addSvgIconLiteral(St,Vt,on){return this.addSvgIconLiteralInNamespace("",St,Vt,on)}addSvgIconInNamespace(St,Vt,on,Cn){return this._addSvgIconConfig(St,Vt,new ct(on,null,Cn))}addSvgIconResolver(St){return this._resolvers.push(St),this}addSvgIconLiteralInNamespace(St,Vt,on,Cn){const tn=this._sanitizer.sanitize(M.q3G.HTML,on);if(!tn)throw Be(on);const Mn=En(tn);return this._addSvgIconConfig(St,Vt,new ct("",Mn,Cn))}addSvgIconSet(St,Vt){return this.addSvgIconSetInNamespace("",St,Vt)}addSvgIconSetLiteral(St,Vt){return this.addSvgIconSetLiteralInNamespace("",St,Vt)}addSvgIconSetInNamespace(St,Vt,on){return this._addSvgIconSetConfig(St,new ct(Vt,null,on))}addSvgIconSetLiteralInNamespace(St,Vt,on){const Cn=this._sanitizer.sanitize(M.q3G.HTML,Vt);if(!Cn)throw Be(Vt);const tn=En(Cn);return this._addSvgIconSetConfig(St,new ct("",tn,on))}registerFontClassAlias(St,Vt=St){return this._fontCssClassesByAlias.set(St,Vt),this}classNameForFontAlias(St){return this._fontCssClassesByAlias.get(St)||St}setDefaultFontSetClass(...St){return this._defaultFontSetClass=St,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(St){const Vt=this._sanitizer.sanitize(M.q3G.RESOURCE_URL,St);if(!Vt)throw Te(St);const on=this._cachedIconsByUrl.get(Vt);return on?(0,b.of)(pn(on)):this._loadSvgIconFromConfig(new ct(St,null)).pipe((0,qe.b)(Cn=>this._cachedIconsByUrl.set(Vt,Cn)),(0,Ae.U)(Cn=>pn(Cn)))}getNamedSvgIcon(St,Vt=""){const on=ai(Vt,St);let Cn=this._svgIconConfigs.get(on);if(Cn)return this._getSvgFromConfig(Cn);if(Cn=this._getIconConfigFromResolvers(Vt,St),Cn)return this._svgIconConfigs.set(on,Cn),this._getSvgFromConfig(Cn);const tn=this._iconSetConfigs.get(Vt);return tn?this._getSvgFromIconSetConfigs(St,tn):(0,be._)(_t(on))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(St){return St.svgText?(0,b.of)(pn(this._svgElementFromConfig(St))):this._loadSvgIconFromConfig(St).pipe((0,Ae.U)(Vt=>pn(Vt)))}_getSvgFromIconSetConfigs(St,Vt){const on=this._extractIconWithNameFromAnySet(St,Vt);if(on)return(0,b.of)(on);const Cn=Vt.filter(tn=>!tn.svgText).map(tn=>this._loadSvgIconSetFromConfig(tn).pipe((0,Ue.K)(Mn=>{const wn=`Loading icon set URL: ${this._sanitizer.sanitize(M.q3G.RESOURCE_URL,tn.url)} failed: ${Mn.message}`;return this._errorHandler.handleError(new Error(wn)),(0,b.of)(null)})));return(0,at.D)(Cn).pipe((0,Ae.U)(()=>{const tn=this._extractIconWithNameFromAnySet(St,Vt);if(!tn)throw _t(St);return tn}))}_extractIconWithNameFromAnySet(St,Vt){for(let on=Vt.length-1;on>=0;on--){const Cn=Vt[on];if(Cn.svgText&&Cn.svgText.toString().indexOf(St)>-1){const tn=this._svgElementFromConfig(Cn),Mn=this._extractSvgIconFromSet(tn,St,Cn.options);if(Mn)return Mn}}return null}_loadSvgIconFromConfig(St){return this._fetchIcon(St).pipe((0,qe.b)(Vt=>St.svgText=Vt),(0,Ae.U)(()=>this._svgElementFromConfig(St)))}_loadSvgIconSetFromConfig(St){return St.svgText?(0,b.of)(null):this._fetchIcon(St).pipe((0,qe.b)(Vt=>St.svgText=Vt))}_extractSvgIconFromSet(St,Vt,on){const Cn=St.querySelector(`[id="${Vt}"]`);if(!Cn)return null;const tn=Cn.cloneNode(!0);if(tn.removeAttribute("id"),"svg"===tn.nodeName.toLowerCase())return this._setSvgAttributes(tn,on);if("symbol"===tn.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(tn),on);const Mn=this._svgElementFromString(En("<svg></svg>"));return Mn.appendChild(tn),this._setSvgAttributes(Mn,on)}_svgElementFromString(St){const Vt=this._document.createElement("DIV");Vt.innerHTML=St;const on=Vt.querySelector("svg");if(!on)throw Error("<svg> tag not found");return on}_toSvgElement(St){const Vt=this._svgElementFromString(En("<svg></svg>")),on=St.attributes;for(let Cn=0;Cn<on.length;Cn++){const{name:tn,value:Mn}=on[Cn];"id"!==tn&&Vt.setAttribute(tn,Mn)}for(let Cn=0;Cn<St.childNodes.length;Cn++)St.childNodes[Cn].nodeType===this._document.ELEMENT_NODE&&Vt.appendChild(St.childNodes[Cn].cloneNode(!0));return Vt}_setSvgAttributes(St,Vt){return St.setAttribute("fit",""),St.setAttribute("height","100%"),St.setAttribute("width","100%"),St.setAttribute("preserveAspectRatio","xMidYMid meet"),St.setAttribute("focusable","false"),Vt&&Vt.viewBox&&St.setAttribute("viewBox",Vt.viewBox),St}_fetchIcon(St){const{url:Vt,options:on}=St,Cn=on?.withCredentials??!1;if(!this._httpClient)throw function je(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==Vt)throw Error(`Cannot fetch icon from URL "${Vt}".`);const tn=this._sanitizer.sanitize(M.q3G.RESOURCE_URL,Vt);if(!tn)throw Te(Vt);const Mn=this._inProgressUrlFetches.get(tn);if(Mn)return Mn;const jt=this._httpClient.get(tn,{responseType:"text",withCredentials:Cn}).pipe((0,Ae.U)(wn=>En(wn)),(0,Ge.x)(()=>this._inProgressUrlFetches.delete(tn)),(0,kt.B)());return this._inProgressUrlFetches.set(tn,jt),jt}_addSvgIconConfig(St,Vt,on){return this._svgIconConfigs.set(ai(St,Vt),on),this}_addSvgIconSetConfig(St,Vt){const on=this._iconSetConfigs.get(St);return on?on.push(Vt):this._iconSetConfigs.set(St,[Vt]),this}_svgElementFromConfig(St){if(!St.svgElement){const Vt=this._svgElementFromString(St.svgText);this._setSvgAttributes(Vt,St.options),St.svgElement=Vt}return St.svgElement}_getIconConfigFromResolvers(St,Vt){for(let on=0;on<this._resolvers.length;on++){const Cn=this._resolvers[on](Vt,St);if(Cn)return Gn(Cn)?new ct(Cn.url,null,Cn.options):new ct(Cn,null)}}}return Dt.\u0275fac=function(St){return new(St||Dt)(M.LFG(tt.eN,8),M.LFG(xt.H7),M.LFG(Le.K0,8),M.LFG(M.qLn))},Dt.\u0275prov=M.Yz7({token:Dt,factory:Dt.\u0275fac,providedIn:"root"}),Dt})();function pn(Dt){return Dt.cloneNode(!0)}function ai(Dt,xn){return Dt+":"+xn}function Gn(Dt){return!(!Dt.url||!Dt.options)}const Qi=(0,J.pj)(class{constructor(Dt){this._elementRef=Dt}}),or=new M.OlP("MAT_ICON_DEFAULT_OPTIONS"),Ei=new M.OlP("mat-icon-location",{providedIn:"root",factory:function yi(){const Dt=(0,M.f3M)(Le.K0),xn=Dt?Dt.location:null;return{getPathname:()=>xn?xn.pathname+xn.search:""}}}),bt=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],It=bt.map(Dt=>`[${Dt}]`).join(", "),qt=/^url\(['"]?#(.*?)['"]?\)$/;let en=(()=>{class Dt extends Qi{constructor(St,Vt,on,Cn,tn,Mn){super(St),this._iconRegistry=Vt,this._location=Cn,this._errorHandler=tn,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Ve.w0.EMPTY,Mn&&(Mn.color&&(this.color=this.defaultColor=Mn.color),Mn.fontSet&&(this.fontSet=Mn.fontSet)),on||St.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(St){this._inline=(0,W.Ig)(St)}get svgIcon(){return this._svgIcon}set svgIcon(St){St!==this._svgIcon&&(St?this._updateSvgIcon(St):this._svgIcon&&this._clearSvgElement(),this._svgIcon=St)}get fontSet(){return this._fontSet}set fontSet(St){const Vt=this._cleanupFontValue(St);Vt!==this._fontSet&&(this._fontSet=Vt,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(St){const Vt=this._cleanupFontValue(St);Vt!==this._fontIcon&&(this._fontIcon=Vt,this._updateFontIconClasses())}_splitIconName(St){if(!St)return["",""];const Vt=St.split(":");switch(Vt.length){case 1:return["",Vt[0]];case 2:return Vt;default:throw Error(`Invalid icon name: "${St}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const St=this._elementsWithExternalReferences;if(St&&St.size){const Vt=this._location.getPathname();Vt!==this._previousPath&&(this._previousPath=Vt,this._prependPathToReferences(Vt))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(St){this._clearSvgElement();const Vt=this._location.getPathname();this._previousPath=Vt,this._cacheChildrenWithExternalReferences(St),this._prependPathToReferences(Vt),this._elementRef.nativeElement.appendChild(St)}_clearSvgElement(){const St=this._elementRef.nativeElement;let Vt=St.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();Vt--;){const on=St.childNodes[Vt];(1!==on.nodeType||"svg"===on.nodeName.toLowerCase())&&on.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const St=this._elementRef.nativeElement,Vt=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(on=>on.length>0);this._previousFontSetClass.forEach(on=>St.classList.remove(on)),Vt.forEach(on=>St.classList.add(on)),this._previousFontSetClass=Vt,this.fontIcon!==this._previousFontIconClass&&!Vt.includes("mat-ligature-font")&&(this._previousFontIconClass&&St.classList.remove(this._previousFontIconClass),this.fontIcon&&St.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(St){return"string"==typeof St?St.trim().split(" ")[0]:St}_prependPathToReferences(St){const Vt=this._elementsWithExternalReferences;Vt&&Vt.forEach((on,Cn)=>{on.forEach(tn=>{Cn.setAttribute(tn.name,`url('${St}#${tn.value}')`)})})}_cacheChildrenWithExternalReferences(St){const Vt=St.querySelectorAll(It),on=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let Cn=0;Cn<Vt.length;Cn++)bt.forEach(tn=>{const Mn=Vt[Cn],jt=Mn.getAttribute(tn),wn=jt?jt.match(qt):null;if(wn){let oi=on.get(Mn);oi||(oi=[],on.set(Mn,oi)),oi.push({name:tn,value:wn[1]})}})}_updateSvgIcon(St){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),St){const[Vt,on]=this._splitIconName(St);Vt&&(this._svgNamespace=Vt),on&&(this._svgName=on),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(on,Vt).pipe((0,it.q)(1)).subscribe(Cn=>this._setSvgElement(Cn),Cn=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${Vt}:${on}! ${Cn.message}`))})}}}return Dt.\u0275fac=function(St){return new(St||Dt)(M.Y36(M.SBq),M.Y36(lt),M.$8M("aria-hidden"),M.Y36(Ei),M.Y36(M.qLn),M.Y36(or,8))},Dt.\u0275cmp=M.Xpm({type:Dt,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(St,Vt){2&St&&(M.uIk("data-mat-icon-type",Vt._usingFontIcon()?"font":"svg")("data-mat-icon-name",Vt._svgName||Vt.fontIcon)("data-mat-icon-namespace",Vt._svgNamespace||Vt.fontSet)("fontIcon",Vt._usingFontIcon()?Vt.fontIcon:null),M.ekj("mat-icon-inline",Vt.inline)("mat-icon-no-color","primary"!==Vt.color&&"accent"!==Vt.color&&"warn"!==Vt.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[M.qOj],ngContentSelectors:Rt,decls:1,vars:0,template:function(St,Vt){1&St&&(M.F$t(),M.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),Dt})(),Ht=(()=>{class Dt{}return Dt.\u0275fac=function(St){return new(St||Dt)},Dt.\u0275mod=M.oAB({type:Dt}),Dt.\u0275inj=M.cJS({imports:[J.BQ,J.BQ]}),Dt})()},4144:(Hn,Mt,z)=>{z.d(Mt,{Jk:()=>tt,Nt:()=>pt,c:()=>En});var M=z(1281),J=z(3353),W=z(4650),Le=z(515),b=z(7579);const be=(0,J.i$)({passive:!0});let at=(()=>{class _t{constructor(Te,Be){this._platform=Te,this._ngZone=Be,this._monitoredElements=new Map}monitor(Te){if(!this._platform.isBrowser)return Le.E;const Be=(0,M.fI)(Te),ct=this._monitoredElements.get(Be);if(ct)return ct.subject;const lt=new b.x,ut="cdk-text-field-autofilled",vn=pn=>{"cdk-text-field-autofill-start"!==pn.animationName||Be.classList.contains(ut)?"cdk-text-field-autofill-end"===pn.animationName&&Be.classList.contains(ut)&&(Be.classList.remove(ut),this._ngZone.run(()=>lt.next({target:pn.target,isAutofilled:!1}))):(Be.classList.add(ut),this._ngZone.run(()=>lt.next({target:pn.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{Be.addEventListener("animationstart",vn,be),Be.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(Be,{subject:lt,unlisten:()=>{Be.removeEventListener("animationstart",vn,be)}}),lt}stopMonitoring(Te){const Be=(0,M.fI)(Te),ct=this._monitoredElements.get(Be);ct&&(ct.unlisten(),ct.subject.complete(),Be.classList.remove("cdk-text-field-autofill-monitored"),Be.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(Be))}ngOnDestroy(){this._monitoredElements.forEach((Te,Be)=>this.stopMonitoring(Be))}}return _t.\u0275fac=function(Te){return new(Te||_t)(W.LFG(J.t4),W.LFG(W.R0b))},_t.\u0275prov=W.Yz7({token:_t,factory:_t.\u0275fac,providedIn:"root"}),_t})(),Ae=(()=>{class _t{}return _t.\u0275fac=function(Te){return new(Te||_t)},_t.\u0275mod=W.oAB({type:_t}),_t.\u0275inj=W.cJS({}),_t})();var Ue=z(4006),Ge=z(3238),kt=z(9549);const tt=new W.OlP("MAT_INPUT_VALUE_ACCESSOR"),xt=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Rt=0;const Ct=(0,Ge.FD)(class{constructor(_t,je,Te,Be){this._defaultErrorStateMatcher=_t,this._parentForm=je,this._parentFormGroup=Te,this.ngControl=Be,this.stateChanges=new b.x}});let pt=(()=>{class _t extends Ct{constructor(Te,Be,ct,lt,ut,vn,pn,ai,Gn,Qi){super(vn,lt,ut,ct),this._elementRef=Te,this._platform=Be,this._autofillMonitor=ai,this._formField=Qi,this._uid="mat-input-"+Rt++,this.focused=!1,this.stateChanges=new b.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(yi=>(0,J.qK)().has(yi)),this._iOSKeyupListener=yi=>{const bt=yi.target;!bt.value&&0===bt.selectionStart&&0===bt.selectionEnd&&(bt.setSelectionRange(1,1),bt.setSelectionRange(0,0))};const or=this._elementRef.nativeElement,Ei=or.nodeName.toLowerCase();this._inputValueAccessor=pn||or,this._previousNativeValue=this.value,this.id=this.id,Be.IOS&&Gn.runOutsideAngular(()=>{Te.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===Ei,this._isTextarea="textarea"===Ei,this._isInFormField=!!Qi,this._isNativeSelect&&(this.controlType=or.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(Te){this._disabled=(0,M.Ig)(Te),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(Te){this._id=Te||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Ue.kI.required)??!1}set required(Te){this._required=(0,M.Ig)(Te)}get type(){return this._type}set type(Te){this._type=Te||"text",this._validateType(),!this._isTextarea&&(0,J.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(Te){Te!==this.value&&(this._inputValueAccessor.value=Te,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(Te){this._readonly=(0,M.Ig)(Te)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(Te=>{this.autofilled=Te.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(Te){this._elementRef.nativeElement.focus(Te)}_focusChanged(Te){Te!==this.focused&&(this.focused=Te,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const Te=this._formField,Be=Te&&"legacy"===Te.appearance&&!Te._hasLabel?.()?null:this.placeholder;if(Be!==this._previousPlaceholder){const ct=this._elementRef.nativeElement;this._previousPlaceholder=Be,Be?ct.setAttribute("placeholder",Be):ct.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const Te=this._elementRef.nativeElement.value;this._previousNativeValue!==Te&&(this._previousNativeValue=Te,this.stateChanges.next())}_validateType(){xt.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let Te=this._elementRef.nativeElement.validity;return Te&&Te.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const Te=this._elementRef.nativeElement,Be=Te.options[0];return this.focused||Te.multiple||!this.empty||!!(Te.selectedIndex>-1&&Be&&Be.label)}return this.focused||!this.empty}setDescribedByIds(Te){Te.length?this._elementRef.nativeElement.setAttribute("aria-describedby",Te.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const Te=this._elementRef.nativeElement;return this._isNativeSelect&&(Te.multiple||Te.size>1)}}return _t.\u0275fac=function(Te){return new(Te||_t)(W.Y36(W.SBq),W.Y36(J.t4),W.Y36(Ue.a5,10),W.Y36(Ue.F,8),W.Y36(Ue.sg,8),W.Y36(Ge.rD),W.Y36(tt,10),W.Y36(at),W.Y36(W.R0b),W.Y36(kt.G_,8))},_t.\u0275dir=W.lG2({type:_t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(Te,Be){1&Te&&W.NdJ("focus",function(){return Be._focusChanged(!0)})("blur",function(){return Be._focusChanged(!1)})("input",function(){return Be._onInput()}),2&Te&&(W.Ikx("disabled",Be.disabled)("required",Be.required),W.uIk("id",Be.id)("data-placeholder",Be.placeholder)("name",Be.name||null)("readonly",Be.readonly&&!Be._isNativeSelect||null)("aria-invalid",Be.empty&&Be.required?null:Be.errorState)("aria-required",Be.required),W.ekj("mat-input-server",Be._isServer)("mat-native-select-inline",Be._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[W._Bn([{provide:kt.Eo,useExisting:_t}]),W.qOj,W.TTD]}),_t})(),En=(()=>{class _t{}return _t.\u0275fac=function(Te){return new(Te||_t)},_t.\u0275mod=W.oAB({type:_t}),_t.\u0275inj=W.cJS({providers:[Ge.rD],imports:[Ae,kt.lN,Ge.BQ,Ae,kt.lN]}),_t})()},3848:(Hn,Mt,z)=>{z.d(Mt,{Nh:()=>mt,SP:()=>Jt,Vc:()=>wn,uX:()=>bn});var M=z(2693),J=z(9643),W=z(4080),Le=z(6895),b=z(4650),be=z(3238),at=z(5698),Ve=z(8675),qe=z(1884),Ae=z(2722),Ue=z(3900),Ge=z(5684),kt=z(9300),it=z(7579),tt=z(727),xt=z(4968),Rt=z(9646),Ct=z(6451),pt=z(515),En=z(9751),_t=z(5963),je=z(445),Te=z(7340),Be=z(1281),ct=z(8605),lt=z(3353),ut=z(9521);function vn(Me,Qe){1&Me&&b.Hsn(0)}const pn=["*"];function ai(Me,Qe){}const Gn=function(Me){return{animationDuration:Me}},Qi=function(Me,Qe){return{value:Me,params:Qe}},or=["tabListContainer"],Ei=["tabList"],yi=["tabListInner"],bt=["nextPaginator"],It=["previousPaginator"],qt=["tabBodyWrapper"],en=["tabHeader"];function Ht(Me,Qe){}function Dt(Me,Qe){if(1&Me&&b.YNc(0,Ht,0,0,"ng-template",10),2&Me){const _e=b.oxw().$implicit;b.Q6J("cdkPortalOutlet",_e.templateLabel)}}function xn(Me,Qe){if(1&Me&&b._uU(0),2&Me){const _e=b.oxw().$implicit;b.Oqu(_e.textLabel)}}function St(Me,Qe){if(1&Me){const _e=b.EpF();b.TgZ(0,"div",6),b.NdJ("click",function(){const gt=b.CHM(_e),We=gt.$implicit,et=gt.index,$e=b.oxw(),pe=b.MAs(1);return b.KtG($e._handleClick(We,pe,et))})("cdkFocusChange",function(gt){const et=b.CHM(_e).index,$e=b.oxw();return b.KtG($e._tabFocusChanged(gt,et))}),b.TgZ(1,"div",7),b.YNc(2,Dt,1,1,"ng-template",8),b.YNc(3,xn,1,1,"ng-template",null,9,b.W1O),b.qZA()()}if(2&Me){const _e=Qe.$implicit,Ce=Qe.index,gt=b.MAs(4),We=b.oxw();b.ekj("mat-tab-label-active",We.selectedIndex===Ce),b.Q6J("id",We._getTabLabelId(Ce))("ngClass",_e.labelClass)("disabled",_e.disabled)("matRippleDisabled",_e.disabled||We.disableRipple),b.uIk("tabIndex",We._getTabIndex(_e,Ce))("aria-posinset",Ce+1)("aria-setsize",We._tabs.length)("aria-controls",We._getTabContentId(Ce))("aria-selected",We.selectedIndex===Ce)("aria-label",_e.ariaLabel||null)("aria-labelledby",!_e.ariaLabel&&_e.ariaLabelledby?_e.ariaLabelledby:null),b.xp6(2),b.Q6J("ngIf",_e.templateLabel)("ngIfElse",gt)}}function Vt(Me,Qe){if(1&Me){const _e=b.EpF();b.TgZ(0,"mat-tab-body",11),b.NdJ("_onCentered",function(){b.CHM(_e);const gt=b.oxw();return b.KtG(gt._removeTabBodyWrapperHeight())})("_onCentering",function(gt){b.CHM(_e);const We=b.oxw();return b.KtG(We._setTabBodyWrapperHeight(gt))}),b.qZA()}if(2&Me){const _e=Qe.$implicit,Ce=Qe.index,gt=b.oxw();b.ekj("mat-tab-body-active",gt.selectedIndex===Ce),b.Q6J("id",gt._getTabContentId(Ce))("ngClass",_e.bodyClass)("content",_e.content)("position",_e.position)("origin",_e.origin)("animationDuration",gt.animationDuration)("preserveContent",gt.preserveContent),b.uIk("tabindex",null!=gt.contentTabIndex&&gt.selectedIndex===Ce?gt.contentTabIndex:null)("aria-labelledby",gt._getTabLabelId(Ce))}}const Cn=new b.OlP("MatInkBarPositioner",{providedIn:"root",factory:function tn(){return Qe=>({left:Qe?(Qe.offsetLeft||0)+"px":"0",width:Qe?(Qe.offsetWidth||0)+"px":"0"})}});let Mn=(()=>{class Me{constructor(_e,Ce,gt,We){this._elementRef=_e,this._ngZone=Ce,this._inkBarPositioner=gt,this._animationMode=We}alignToElement(_e){this.show(),this._ngZone.run(()=>{this._ngZone.onStable.pipe((0,at.q)(1)).subscribe(()=>{const Ce=this._inkBarPositioner(_e),gt=this._elementRef.nativeElement;gt.style.left=Ce.left,gt.style.width=Ce.width})})}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}}return Me.\u0275fac=function(_e){return new(_e||Me)(b.Y36(b.SBq),b.Y36(b.R0b),b.Y36(Cn),b.Y36(b.QbO,8))},Me.\u0275dir=b.lG2({type:Me,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(_e,Ce){2&_e&&b.ekj("_mat-animation-noopable","NoopAnimations"===Ce._animationMode)}}),Me})();const jt=new b.OlP("MatTabContent");let wn=(()=>{class Me{constructor(_e){this.template=_e}}return Me.\u0275fac=function(_e){return new(_e||Me)(b.Y36(b.Rgc))},Me.\u0275dir=b.lG2({type:Me,selectors:[["","matTabContent",""]],features:[b._Bn([{provide:jt,useExisting:Me}])]}),Me})();const oi=new b.OlP("MatTabLabel"),qn=new b.OlP("MAT_TAB"),dn=(0,be.Id)(class{}),li=new b.OlP("MAT_TAB_GROUP");let bn=(()=>{class Me extends dn{constructor(_e,Ce){super(),this._viewContainerRef=_e,this._closestTabGroup=Ce,this.textLabel="",this._contentPortal=null,this._stateChanges=new it.x,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(_e){this._setTemplateLabelInput(_e)}get content(){return this._contentPortal}ngOnChanges(_e){(_e.hasOwnProperty("textLabel")||_e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new W.UE(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(_e){_e&&_e._closestTab===this&&(this._templateLabel=_e)}}return Me.\u0275fac=function(_e){return new(_e||Me)(b.Y36(b.s_b),b.Y36(li,8))},Me.\u0275cmp=b.Xpm({type:Me,selectors:[["mat-tab"]],contentQueries:function(_e,Ce,gt){if(1&_e&&(b.Suo(gt,oi,5),b.Suo(gt,jt,7,b.Rgc)),2&_e){let We;b.iGM(We=b.CRH())&&(Ce.templateLabel=We.first),b.iGM(We=b.CRH())&&(Ce._explicitContent=We.first)}},viewQuery:function(_e,Ce){if(1&_e&&b.Gf(b.Rgc,7),2&_e){let gt;b.iGM(gt=b.CRH())&&(Ce._implicitContent=gt.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],features:[b._Bn([{provide:qn,useExisting:Me}]),b.qOj,b.TTD],ngContentSelectors:pn,decls:1,vars:0,template:function(_e,Ce){1&_e&&(b.F$t(),b.YNc(0,vn,1,0,"ng-template"))},encapsulation:2}),Me})();const On={translateTab:(0,Te.X$)("translateTab",[(0,Te.SB)("center, void, left-origin-center, right-origin-center",(0,Te.oB)({transform:"none"})),(0,Te.SB)("left",(0,Te.oB)({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),(0,Te.SB)("right",(0,Te.oB)({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),(0,Te.eR)("* => left, * => right, left => center, right => center",(0,Te.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),(0,Te.eR)("void => left-origin-center",[(0,Te.oB)({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),(0,Te.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),(0,Te.eR)("void => right-origin-center",[(0,Te.oB)({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),(0,Te.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let Qt=(()=>{class Me extends W.Pl{constructor(_e,Ce,gt,We){super(_e,Ce,We),this._host=gt,this._centeringSub=tt.w0.EMPTY,this._leavingSub=tt.w0.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe((0,Ve.O)(this._host._isCenterPosition(this._host._position))).subscribe(_e=>{_e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return Me.\u0275fac=function(_e){return new(_e||Me)(b.Y36(b._Vd),b.Y36(b.s_b),b.Y36((0,b.Gpc)(()=>$n)),b.Y36(Le.K0))},Me.\u0275dir=b.lG2({type:Me,selectors:[["","matTabBodyHost",""]],features:[b.qOj]}),Me})(),Nn=(()=>{class Me{constructor(_e,Ce,gt){this._elementRef=_e,this._dir=Ce,this._dirChangeSubscription=tt.w0.EMPTY,this._translateTabComplete=new it.x,this._onCentering=new b.vpe,this._beforeCentering=new b.vpe,this._afterLeavingCenter=new b.vpe,this._onCentered=new b.vpe(!0),this.animationDuration="500ms",this.preserveContent=!1,Ce&&(this._dirChangeSubscription=Ce.change.subscribe(We=>{this._computePositionAnimationState(We),gt.markForCheck()})),this._translateTabComplete.pipe((0,qe.x)((We,et)=>We.fromState===et.fromState&&We.toState===et.toState)).subscribe(We=>{this._isCenterPosition(We.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(We.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(_e){this._positionIndex=_e,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(_e){const Ce=this._isCenterPosition(_e.toState);this._beforeCentering.emit(Ce),Ce&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(_e){return"center"==_e||"left-origin-center"==_e||"right-origin-center"==_e}_computePositionAnimationState(_e=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==_e?"left":"right":this._positionIndex>0?"ltr"==_e?"right":"left":"center"}_computePositionFromOrigin(_e){const Ce=this._getLayoutDirection();return"ltr"==Ce&&_e<=0||"rtl"==Ce&&_e>0?"left-origin-center":"right-origin-center"}}return Me.\u0275fac=function(_e){return new(_e||Me)(b.Y36(b.SBq),b.Y36(je.Is,8),b.Y36(b.sBO))},Me.\u0275dir=b.lG2({type:Me,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),Me})(),$n=(()=>{class Me extends Nn{constructor(_e,Ce,gt){super(_e,Ce,gt)}}return Me.\u0275fac=function(_e){return new(_e||Me)(b.Y36(b.SBq),b.Y36(je.Is,8),b.Y36(b.sBO))},Me.\u0275cmp=b.Xpm({type:Me,selectors:[["mat-tab-body"]],viewQuery:function(_e,Ce){if(1&_e&&b.Gf(W.Pl,5),2&_e){let gt;b.iGM(gt=b.CRH())&&(Ce._portalHost=gt.first)}},hostAttrs:[1,"mat-tab-body"],features:[b.qOj],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(_e,Ce){1&_e&&(b.TgZ(0,"div",0,1),b.NdJ("@translateTab.start",function(We){return Ce._onTranslateTabStarted(We)})("@translateTab.done",function(We){return Ce._translateTabComplete.next(We)}),b.YNc(2,ai,0,0,"ng-template",2),b.qZA()),2&_e&&b.Q6J("@translateTab",b.WLB(3,Qi,Ce._position,b.VKq(1,Gn,Ce.animationDuration)))},dependencies:[Qt],styles:['.mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}.mat-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[On.translateTab]}}),Me})();const Ot=new b.OlP("MAT_TABS_CONFIG"),ze=(0,be.Id)(class{});let we=(()=>{class Me extends ze{constructor(_e){super(),this.elementRef=_e}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return Me.\u0275fac=function(_e){return new(_e||Me)(b.Y36(b.SBq))},Me.\u0275dir=b.lG2({type:Me,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(_e,Ce){2&_e&&(b.uIk("aria-disabled",!!Ce.disabled),b.ekj("mat-tab-disabled",Ce.disabled))},inputs:{disabled:"disabled"},features:[b.qOj]}),Me})();const ke=(0,lt.i$)({passive:!0});let Zn=(()=>{class Me{constructor(_e,Ce,gt,We,et,$e,pe){this._elementRef=_e,this._changeDetectorRef=Ce,this._viewportRuler=gt,this._dir=We,this._ngZone=et,this._platform=$e,this._animationMode=pe,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new it.x,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new it.x,this._disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new b.vpe,this.indexFocused=new b.vpe,et.runOutsideAngular(()=>{(0,xt.R)(_e.nativeElement,"mouseleave").pipe((0,Ae.R)(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get disablePagination(){return this._disablePagination}set disablePagination(_e){this._disablePagination=(0,Be.Ig)(_e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(_e){_e=(0,Be.su)(_e),this._selectedIndex!=_e&&(this._selectedIndexChanged=!0,this._selectedIndex=_e,this._keyManager&&this._keyManager.updateActiveItem(_e))}ngAfterViewInit(){(0,xt.R)(this._previousPaginator.nativeElement,"touchstart",ke).pipe((0,Ae.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),(0,xt.R)(this._nextPaginator.nativeElement,"touchstart",ke).pipe((0,Ae.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const _e=this._dir?this._dir.change:(0,Rt.of)("ltr"),Ce=this._viewportRuler.change(150),gt=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new M.Em(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe((0,at.q)(1)).subscribe(gt),(0,Ct.T)(_e,Ce,this._items.changes,this._itemsResized()).pipe((0,Ae.R)(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),gt()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe((0,Ae.R)(this._destroyed)).subscribe(We=>{this.indexFocused.emit(We),this._setTabFocus(We)})}_itemsResized(){return"function"!=typeof ResizeObserver?pt.E:this._items.changes.pipe((0,Ve.O)(this._items),(0,Ue.w)(_e=>new En.y(Ce=>this._ngZone.runOutsideAngular(()=>{const gt=new ResizeObserver(We=>Ce.next(We));return _e.forEach(We=>gt.observe(We.elementRef.nativeElement)),()=>{gt.disconnect()}}))),(0,Ge.T)(1),(0,kt.h)(_e=>_e.some(Ce=>Ce.contentRect.width>0&&Ce.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(_e){if(!(0,ut.Vb)(_e))switch(_e.keyCode){case ut.K5:case ut.L_:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(_e));break;default:this._keyManager.onKeydown(_e)}}_onContentChanges(){const _e=this._elementRef.nativeElement.textContent;_e!==this._currentTextContent&&(this._currentTextContent=_e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(_e){!this._isValidIndex(_e)||this.focusIndex===_e||!this._keyManager||this._keyManager.setActiveItem(_e)}_isValidIndex(_e){if(!this._items)return!0;const Ce=this._items?this._items.toArray()[_e]:null;return!!Ce&&!Ce.disabled}_setTabFocus(_e){if(this._showPaginationControls&&this._scrollToLabel(_e),this._items&&this._items.length){this._items.toArray()[_e].focus();const Ce=this._tabListContainer.nativeElement;Ce.scrollLeft="ltr"==this._getLayoutDirection()?0:Ce.scrollWidth-Ce.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const _e=this.scrollDistance,Ce="ltr"===this._getLayoutDirection()?-_e:_e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(Ce)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(_e){this._scrollTo(_e)}_scrollHeader(_e){return this._scrollTo(this._scrollDistance+("before"==_e?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(_e){this._stopInterval(),this._scrollHeader(_e)}_scrollToLabel(_e){if(this.disablePagination)return;const Ce=this._items?this._items.toArray()[_e]:null;if(!Ce)return;const gt=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:We,offsetWidth:et}=Ce.elementRef.nativeElement;let $e,pe;"ltr"==this._getLayoutDirection()?($e=We,pe=$e+et):(pe=this._tabListInner.nativeElement.offsetWidth-We,$e=pe-et);const Ee=this.scrollDistance,De=this.scrollDistance+gt;$e<Ee?this.scrollDistance-=Ee-$e+60:pe>De&&(this.scrollDistance+=pe-De+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const _e=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;_e||(this.scrollDistance=0),_e!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=_e}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const _e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,Ce=_e?_e.elementRef.nativeElement:null;Ce?this._inkBar.alignToElement(Ce):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(_e,Ce){Ce&&null!=Ce.button&&0!==Ce.button||(this._stopInterval(),(0,_t.H)(650,100).pipe((0,Ae.R)((0,Ct.T)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:gt,distance:We}=this._scrollHeader(_e);(0===We||We>=gt)&&this._stopInterval()}))}_scrollTo(_e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const Ce=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(Ce,_e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:Ce,distance:this._scrollDistance}}}return Me.\u0275fac=function(_e){return new(_e||Me)(b.Y36(b.SBq),b.Y36(b.sBO),b.Y36(ct.rL),b.Y36(je.Is,8),b.Y36(b.R0b),b.Y36(lt.t4),b.Y36(b.QbO,8))},Me.\u0275dir=b.lG2({type:Me,inputs:{disablePagination:"disablePagination"}}),Me})(),Fn=(()=>{class Me extends Zn{constructor(_e,Ce,gt,We,et,$e,pe){super(_e,Ce,gt,We,et,$e,pe),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(_e){this._disableRipple=(0,Be.Ig)(_e)}_itemSelected(_e){_e.preventDefault()}}return Me.\u0275fac=function(_e){return new(_e||Me)(b.Y36(b.SBq),b.Y36(b.sBO),b.Y36(ct.rL),b.Y36(je.Is,8),b.Y36(b.R0b),b.Y36(lt.t4),b.Y36(b.QbO,8))},Me.\u0275dir=b.lG2({type:Me,inputs:{disableRipple:"disableRipple"},features:[b.qOj]}),Me})(),Lt=(()=>{class Me extends Fn{constructor(_e,Ce,gt,We,et,$e,pe){super(_e,Ce,gt,We,et,$e,pe)}}return Me.\u0275fac=function(_e){return new(_e||Me)(b.Y36(b.SBq),b.Y36(b.sBO),b.Y36(ct.rL),b.Y36(je.Is,8),b.Y36(b.R0b),b.Y36(lt.t4),b.Y36(b.QbO,8))},Me.\u0275cmp=b.Xpm({type:Me,selectors:[["mat-tab-header"]],contentQueries:function(_e,Ce,gt){if(1&_e&&b.Suo(gt,we,4),2&_e){let We;b.iGM(We=b.CRH())&&(Ce._items=We)}},viewQuery:function(_e,Ce){if(1&_e&&(b.Gf(Mn,7),b.Gf(or,7),b.Gf(Ei,7),b.Gf(yi,7),b.Gf(bt,5),b.Gf(It,5)),2&_e){let gt;b.iGM(gt=b.CRH())&&(Ce._inkBar=gt.first),b.iGM(gt=b.CRH())&&(Ce._tabListContainer=gt.first),b.iGM(gt=b.CRH())&&(Ce._tabList=gt.first),b.iGM(gt=b.CRH())&&(Ce._tabListInner=gt.first),b.iGM(gt=b.CRH())&&(Ce._nextPaginator=gt.first),b.iGM(gt=b.CRH())&&(Ce._previousPaginator=gt.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(_e,Ce){2&_e&&b.ekj("mat-tab-header-pagination-controls-enabled",Ce._showPaginationControls)("mat-tab-header-rtl","rtl"==Ce._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[b.qOj],ngContentSelectors:pn,decls:14,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(_e,Ce){1&_e&&(b.F$t(),b.TgZ(0,"button",0,1),b.NdJ("click",function(){return Ce._handlePaginatorClick("before")})("mousedown",function(We){return Ce._handlePaginatorPress("before",We)})("touchend",function(){return Ce._stopInterval()}),b._UZ(2,"div",2),b.qZA(),b.TgZ(3,"div",3,4),b.NdJ("keydown",function(We){return Ce._handleKeydown(We)}),b.TgZ(5,"div",5,6),b.NdJ("cdkObserveContent",function(){return Ce._onContentChanges()}),b.TgZ(7,"div",7,8),b.Hsn(9),b.qZA(),b._UZ(10,"mat-ink-bar"),b.qZA()(),b.TgZ(11,"button",9,10),b.NdJ("mousedown",function(We){return Ce._handlePaginatorPress("after",We)})("click",function(){return Ce._handlePaginatorClick("after")})("touchend",function(){return Ce._stopInterval()}),b._UZ(13,"div",2),b.qZA()),2&_e&&(b.ekj("mat-tab-header-pagination-disabled",Ce._disableScrollBefore),b.Q6J("matRippleDisabled",Ce._disableScrollBefore||Ce.disableRipple)("disabled",Ce._disableScrollBefore||null),b.xp6(5),b.ekj("_mat-animation-noopable","NoopAnimations"===Ce._animationMode),b.xp6(6),b.ekj("mat-tab-header-pagination-disabled",Ce._disableScrollAfter),b.Q6J("matRippleDisabled",Ce._disableScrollAfter||Ce.disableRipple)("disabled",Ce._disableScrollAfter||null))},dependencies:[be.wG,J.wD,Mn],styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-tab-header-pagination::-moz-focus-inner{border:0}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-tab-list._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}.mat-tab-label::before{margin:5px}@media(max-width: 599px){.mat-tab-label{min-width:72px}}"],encapsulation:2}),Me})(),sn=0;class Ye{}const Ke=(0,be.pj)((0,be.Kr)(class{constructor(Me){this._elementRef=Me}}),"primary");let Je=(()=>{class Me extends Ke{constructor(_e,Ce,gt,We){super(_e),this._changeDetectorRef=Ce,this._animationMode=We,this._tabs=new b.n_E,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=tt.w0.EMPTY,this._tabLabelSubscription=tt.w0.EMPTY,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this._disablePagination=!1,this._preserveContent=!1,this.selectedIndexChange=new b.vpe,this.focusChange=new b.vpe,this.animationDone=new b.vpe,this.selectedTabChange=new b.vpe(!0),this._groupId=sn++,this.animationDuration=gt&&gt.animationDuration?gt.animationDuration:"500ms",this.disablePagination=!(!gt||null==gt.disablePagination)&&gt.disablePagination,this.dynamicHeight=!(!gt||null==gt.dynamicHeight)&&gt.dynamicHeight,this.contentTabIndex=gt?.contentTabIndex??null,this.preserveContent=!!gt?.preserveContent}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(_e){this._dynamicHeight=(0,Be.Ig)(_e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(_e){this._indexToSelect=(0,Be.su)(_e,null)}get animationDuration(){return this._animationDuration}set animationDuration(_e){this._animationDuration=/^\d+$/.test(_e+"")?_e+"ms":_e}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(_e){this._contentTabIndex=(0,Be.su)(_e,null)}get disablePagination(){return this._disablePagination}set disablePagination(_e){this._disablePagination=(0,Be.Ig)(_e)}get preserveContent(){return this._preserveContent}set preserveContent(_e){this._preserveContent=(0,Be.Ig)(_e)}get backgroundColor(){return this._backgroundColor}set backgroundColor(_e){const Ce=this._elementRef.nativeElement;Ce.classList.remove(`mat-background-${this.backgroundColor}`),_e&&Ce.classList.add(`mat-background-${_e}`),this._backgroundColor=_e}ngAfterContentChecked(){const _e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=_e){const Ce=null==this._selectedIndex;if(!Ce){this.selectedTabChange.emit(this._createChangeEvent(_e));const gt=this._tabBodyWrapper.nativeElement;gt.style.minHeight=gt.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((gt,We)=>gt.isActive=We===_e),Ce||(this.selectedIndexChange.emit(_e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((Ce,gt)=>{Ce.position=gt-_e,null!=this._selectedIndex&&0==Ce.position&&!Ce.origin&&(Ce.origin=_e-this._selectedIndex)}),this._selectedIndex!==_e&&(this._selectedIndex=_e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const _e=this._clampTabIndex(this._indexToSelect);if(_e===this._selectedIndex){const Ce=this._tabs.toArray();let gt;for(let We=0;We<Ce.length;We++)if(Ce[We].isActive){this._indexToSelect=this._selectedIndex=We,this._lastFocusedTabIndex=null,gt=Ce[We];break}!gt&&Ce[_e]&&Promise.resolve().then(()=>{Ce[_e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(_e))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe((0,Ve.O)(this._allTabs)).subscribe(_e=>{this._tabs.reset(_e.filter(Ce=>Ce._closestTabGroup===this||!Ce._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(_e){const Ce=this._tabHeader;Ce&&(Ce.focusIndex=_e)}_focusChanged(_e){this._lastFocusedTabIndex=_e,this.focusChange.emit(this._createChangeEvent(_e))}_createChangeEvent(_e){const Ce=new Ye;return Ce.index=_e,this._tabs&&this._tabs.length&&(Ce.tab=this._tabs.toArray()[_e]),Ce}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=(0,Ct.T)(...this._tabs.map(_e=>_e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(_e){return Math.min(this._tabs.length-1,Math.max(_e||0,0))}_getTabLabelId(_e){return`mat-tab-label-${this._groupId}-${_e}`}_getTabContentId(_e){return`mat-tab-content-${this._groupId}-${_e}`}_setTabBodyWrapperHeight(_e){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const Ce=this._tabBodyWrapper.nativeElement;Ce.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(Ce.style.height=_e+"px")}_removeTabBodyWrapperHeight(){const _e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=_e.clientHeight,_e.style.height="",this.animationDone.emit()}_handleClick(_e,Ce,gt){_e.disabled||(this.selectedIndex=Ce.focusIndex=gt)}_getTabIndex(_e,Ce){return _e.disabled?null:Ce===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(_e,Ce){_e&&"mouse"!==_e&&"touch"!==_e&&(this._tabHeader.focusIndex=Ce)}}return Me.\u0275fac=function(_e){return new(_e||Me)(b.Y36(b.SBq),b.Y36(b.sBO),b.Y36(Ot,8),b.Y36(b.QbO,8))},Me.\u0275dir=b.lG2({type:Me,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",preserveContent:"preserveContent",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[b.qOj]}),Me})(),Jt=(()=>{class Me extends Je{constructor(_e,Ce,gt,We){super(_e,Ce,gt,We)}}return Me.\u0275fac=function(_e){return new(_e||Me)(b.Y36(b.SBq),b.Y36(b.sBO),b.Y36(Ot,8),b.Y36(b.QbO,8))},Me.\u0275cmp=b.Xpm({type:Me,selectors:[["mat-tab-group"]],contentQueries:function(_e,Ce,gt){if(1&_e&&b.Suo(gt,bn,5),2&_e){let We;b.iGM(We=b.CRH())&&(Ce._allTabs=We)}},viewQuery:function(_e,Ce){if(1&_e&&(b.Gf(qt,5),b.Gf(en,5)),2&_e){let gt;b.iGM(gt=b.CRH())&&(Ce._tabBodyWrapper=gt.first),b.iGM(gt=b.CRH())&&(Ce._tabHeader=gt.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(_e,Ce){2&_e&&b.ekj("mat-tab-group-dynamic-height",Ce.dynamicHeight)("mat-tab-group-inverted-header","below"===Ce.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[b._Bn([{provide:li,useExisting:Me}]),b.qOj],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","ngClass","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","ngClass","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf","ngIfElse"],["tabTextLabel",""],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering"]],template:function(_e,Ce){1&_e&&(b.TgZ(0,"mat-tab-header",0,1),b.NdJ("indexFocused",function(We){return Ce._focusChanged(We)})("selectFocusedIndex",function(We){return Ce.selectedIndex=We}),b.YNc(2,St,5,15,"div",2),b.qZA(),b.TgZ(3,"div",3,4),b.YNc(5,Vt,1,11,"mat-tab-body",5),b.qZA()),2&_e&&(b.Q6J("selectedIndex",Ce.selectedIndex||0)("disableRipple",Ce.disableRipple)("disablePagination",Ce.disablePagination),b.xp6(2),b.Q6J("ngForOf",Ce._tabs),b.xp6(1),b.ekj("_mat-animation-noopable","NoopAnimations"===Ce._animationMode),b.xp6(2),b.Q6J("ngForOf",Ce._tabs))},dependencies:[Le.mk,Le.sg,Le.O5,W.Pl,be.wG,M.kH,we,$n,Lt],styles:[".mat-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}"],encapsulation:2}),Me})(),mt=(()=>{class Me{}return Me.\u0275fac=function(_e){return new(_e||Me)},Me.\u0275mod=b.oAB({type:Me}),Me.\u0275inj=b.cJS({imports:[Le.ez,be.BQ,W.eL,be.si,J.Q8,M.rt,be.BQ]}),Me})()},1481:(Hn,Mt,z)=>{z.d(Mt,{Dx:()=>Ot,H7:()=>gt,b2:()=>bn,q6:()=>qn,se:()=>Gn});var M=z(6895),J=z(4650);class W extends M.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Le extends W{static makeCurrent(){(0,M.HT)(new Le)}onAndCancel(Ee,De,ft){return Ee.addEventListener(De,ft,!1),()=>{Ee.removeEventListener(De,ft,!1)}}dispatchEvent(Ee,De){Ee.dispatchEvent(De)}remove(Ee){Ee.parentNode&&Ee.parentNode.removeChild(Ee)}createElement(Ee,De){return(De=De||this.getDefaultDocument()).createElement(Ee)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Ee){return Ee.nodeType===Node.ELEMENT_NODE}isShadowRoot(Ee){return Ee instanceof DocumentFragment}getGlobalEventTarget(Ee,De){return"window"===De?window:"document"===De?Ee:"body"===De?Ee.body:null}getBaseHref(Ee){const De=function be(){return b=b||document.querySelector("base"),b?b.getAttribute("href"):null}();return null==De?null:function Ve(pe){at=at||document.createElement("a"),at.setAttribute("href",pe);const Ee=at.pathname;return"/"===Ee.charAt(0)?Ee:`/${Ee}`}(De)}resetBaseElement(){b=null}getUserAgent(){return window.navigator.userAgent}getCookie(Ee){return(0,M.Mx)(document.cookie,Ee)}}let at,b=null;const qe=new J.OlP("TRANSITION_ID"),Ue=[{provide:J.ip1,useFactory:function Ae(pe,Ee,De){return()=>{De.get(J.CZH).donePromise.then(()=>{const ft=(0,M.q)(),cn=Ee.querySelectorAll(`style[ng-transition="${pe}"]`);for(let Qn=0;Qn<cn.length;Qn++)ft.remove(cn[Qn])})}},deps:[qe,M.K0,J.zs3],multi:!0}];let kt=(()=>{class pe{build(){return new XMLHttpRequest}}return pe.\u0275fac=function(De){return new(De||pe)},pe.\u0275prov=J.Yz7({token:pe,factory:pe.\u0275fac}),pe})();const it=new J.OlP("EventManagerPlugins");let tt=(()=>{class pe{constructor(De,ft){this._zone=ft,this._eventNameToPlugin=new Map,De.forEach(cn=>cn.manager=this),this._plugins=De.slice().reverse()}addEventListener(De,ft,cn){return this._findPluginFor(ft).addEventListener(De,ft,cn)}addGlobalEventListener(De,ft,cn){return this._findPluginFor(ft).addGlobalEventListener(De,ft,cn)}getZone(){return this._zone}_findPluginFor(De){const ft=this._eventNameToPlugin.get(De);if(ft)return ft;const cn=this._plugins;for(let Qn=0;Qn<cn.length;Qn++){const Ri=cn[Qn];if(Ri.supports(De))return this._eventNameToPlugin.set(De,Ri),Ri}throw new Error(`No event manager plugin found for event ${De}`)}}return pe.\u0275fac=function(De){return new(De||pe)(J.LFG(it),J.LFG(J.R0b))},pe.\u0275prov=J.Yz7({token:pe,factory:pe.\u0275fac}),pe})();class xt{constructor(Ee){this._doc=Ee}addGlobalEventListener(Ee,De,ft){const cn=(0,M.q)().getGlobalEventTarget(this._doc,Ee);if(!cn)throw new Error(`Unsupported event target ${cn} for event ${De}`);return this.addEventListener(cn,De,ft)}}let Rt=(()=>{class pe{constructor(){this._stylesSet=new Set}addStyles(De){const ft=new Set;De.forEach(cn=>{this._stylesSet.has(cn)||(this._stylesSet.add(cn),ft.add(cn))}),this.onStylesAdded(ft)}onStylesAdded(De){}getAllStyles(){return Array.from(this._stylesSet)}}return pe.\u0275fac=function(De){return new(De||pe)},pe.\u0275prov=J.Yz7({token:pe,factory:pe.\u0275fac}),pe})(),Ct=(()=>{class pe extends Rt{constructor(De){super(),this._doc=De,this._hostNodes=new Map,this._hostNodes.set(De.head,[])}_addStylesToHost(De,ft,cn){De.forEach(Qn=>{const Ri=this._doc.createElement("style");Ri.textContent=Qn,cn.push(ft.appendChild(Ri))})}addHost(De){const ft=[];this._addStylesToHost(this._stylesSet,De,ft),this._hostNodes.set(De,ft)}removeHost(De){const ft=this._hostNodes.get(De);ft&&ft.forEach(pt),this._hostNodes.delete(De)}onStylesAdded(De){this._hostNodes.forEach((ft,cn)=>{this._addStylesToHost(De,cn,ft)})}ngOnDestroy(){this._hostNodes.forEach(De=>De.forEach(pt))}}return pe.\u0275fac=function(De){return new(De||pe)(J.LFG(M.K0))},pe.\u0275prov=J.Yz7({token:pe,factory:pe.\u0275fac}),pe})();function pt(pe){(0,M.q)().remove(pe)}const En={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},_t=/%COMP%/g;function vn(pe,Ee,De){for(let ft=0;ft<Ee.length;ft++){let cn=Ee[ft];Array.isArray(cn)?vn(pe,cn,De):(cn=cn.replace(_t,pe),De.push(cn))}return De}function pn(pe){return Ee=>{if("__ngUnwrap__"===Ee)return pe;!1===pe(Ee)&&(Ee.preventDefault(),Ee.returnValue=!1)}}let Gn=(()=>{class pe{constructor(De,ft,cn){this.eventManager=De,this.sharedStylesHost=ft,this.appId=cn,this.rendererByCompId=new Map,this.defaultRenderer=new Qi(De)}createRenderer(De,ft){if(!De||!ft)return this.defaultRenderer;switch(ft.encapsulation){case J.ifc.Emulated:{let cn=this.rendererByCompId.get(ft.id);return cn||(cn=new bt(this.eventManager,this.sharedStylesHost,ft,this.appId),this.rendererByCompId.set(ft.id,cn)),cn.applyToHost(De),cn}case 1:case J.ifc.ShadowDom:return new It(this.eventManager,this.sharedStylesHost,De,ft);default:if(!this.rendererByCompId.has(ft.id)){const cn=vn(ft.id,ft.styles,[]);this.sharedStylesHost.addStyles(cn),this.rendererByCompId.set(ft.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return pe.\u0275fac=function(De){return new(De||pe)(J.LFG(tt),J.LFG(Ct),J.LFG(J.AFp))},pe.\u0275prov=J.Yz7({token:pe,factory:pe.\u0275fac}),pe})();class Qi{constructor(Ee){this.eventManager=Ee,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Ee,De){return De?document.createElementNS(En[De]||De,Ee):document.createElement(Ee)}createComment(Ee){return document.createComment(Ee)}createText(Ee){return document.createTextNode(Ee)}appendChild(Ee,De){(yi(Ee)?Ee.content:Ee).appendChild(De)}insertBefore(Ee,De,ft){Ee&&(yi(Ee)?Ee.content:Ee).insertBefore(De,ft)}removeChild(Ee,De){Ee&&Ee.removeChild(De)}selectRootElement(Ee,De){let ft="string"==typeof Ee?document.querySelector(Ee):Ee;if(!ft)throw new Error(`The selector "${Ee}" did not match any elements`);return De||(ft.textContent=""),ft}parentNode(Ee){return Ee.parentNode}nextSibling(Ee){return Ee.nextSibling}setAttribute(Ee,De,ft,cn){if(cn){De=cn+":"+De;const Qn=En[cn];Qn?Ee.setAttributeNS(Qn,De,ft):Ee.setAttribute(De,ft)}else Ee.setAttribute(De,ft)}removeAttribute(Ee,De,ft){if(ft){const cn=En[ft];cn?Ee.removeAttributeNS(cn,De):Ee.removeAttribute(`${ft}:${De}`)}else Ee.removeAttribute(De)}addClass(Ee,De){Ee.classList.add(De)}removeClass(Ee,De){Ee.classList.remove(De)}setStyle(Ee,De,ft,cn){cn&(J.JOm.DashCase|J.JOm.Important)?Ee.style.setProperty(De,ft,cn&J.JOm.Important?"important":""):Ee.style[De]=ft}removeStyle(Ee,De,ft){ft&J.JOm.DashCase?Ee.style.removeProperty(De):Ee.style[De]=""}setProperty(Ee,De,ft){Ee[De]=ft}setValue(Ee,De){Ee.nodeValue=De}listen(Ee,De,ft){return"string"==typeof Ee?this.eventManager.addGlobalEventListener(Ee,De,pn(ft)):this.eventManager.addEventListener(Ee,De,pn(ft))}}function yi(pe){return"TEMPLATE"===pe.tagName&&void 0!==pe.content}class bt extends Qi{constructor(Ee,De,ft,cn){super(Ee),this.component=ft;const Qn=vn(cn+"-"+ft.id,ft.styles,[]);De.addStyles(Qn),this.contentAttr=function lt(pe){return"_ngcontent-%COMP%".replace(_t,pe)}(cn+"-"+ft.id),this.hostAttr=function ut(pe){return"_nghost-%COMP%".replace(_t,pe)}(cn+"-"+ft.id)}applyToHost(Ee){super.setAttribute(Ee,this.hostAttr,"")}createElement(Ee,De){const ft=super.createElement(Ee,De);return super.setAttribute(ft,this.contentAttr,""),ft}}class It extends Qi{constructor(Ee,De,ft,cn){super(Ee),this.sharedStylesHost=De,this.hostEl=ft,this.shadowRoot=ft.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Qn=vn(cn.id,cn.styles,[]);for(let Ri=0;Ri<Qn.length;Ri++){const Wt=document.createElement("style");Wt.textContent=Qn[Ri],this.shadowRoot.appendChild(Wt)}}nodeOrShadowRoot(Ee){return Ee===this.hostEl?this.shadowRoot:Ee}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Ee,De){return super.appendChild(this.nodeOrShadowRoot(Ee),De)}insertBefore(Ee,De,ft){return super.insertBefore(this.nodeOrShadowRoot(Ee),De,ft)}removeChild(Ee,De){return super.removeChild(this.nodeOrShadowRoot(Ee),De)}parentNode(Ee){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Ee)))}}let qt=(()=>{class pe extends xt{constructor(De){super(De)}supports(De){return!0}addEventListener(De,ft,cn){return De.addEventListener(ft,cn,!1),()=>this.removeEventListener(De,ft,cn)}removeEventListener(De,ft,cn){return De.removeEventListener(ft,cn)}}return pe.\u0275fac=function(De){return new(De||pe)(J.LFG(M.K0))},pe.\u0275prov=J.Yz7({token:pe,factory:pe.\u0275fac}),pe})();const en=["alt","control","meta","shift"],Ht={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Dt={alt:pe=>pe.altKey,control:pe=>pe.ctrlKey,meta:pe=>pe.metaKey,shift:pe=>pe.shiftKey};let xn=(()=>{class pe extends xt{constructor(De){super(De)}supports(De){return null!=pe.parseEventName(De)}addEventListener(De,ft,cn){const Qn=pe.parseEventName(ft),Ri=pe.eventCallback(Qn.fullKey,cn,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,M.q)().onAndCancel(De,Qn.domEventName,Ri))}static parseEventName(De){const ft=De.toLowerCase().split("."),cn=ft.shift();if(0===ft.length||"keydown"!==cn&&"keyup"!==cn)return null;const Qn=pe._normalizeKey(ft.pop());let Ri="",Wt=ft.indexOf("code");if(Wt>-1&&(ft.splice(Wt,1),Ri="code."),en.forEach(Sn=>{const Ln=ft.indexOf(Sn);Ln>-1&&(ft.splice(Ln,1),Ri+=Sn+".")}),Ri+=Qn,0!=ft.length||0===Qn.length)return null;const $t={};return $t.domEventName=cn,$t.fullKey=Ri,$t}static matchEventFullKeyCode(De,ft){let cn=Ht[De.key]||De.key,Qn="";return ft.indexOf("code.")>-1&&(cn=De.code,Qn="code."),!(null==cn||!cn)&&(cn=cn.toLowerCase()," "===cn?cn="space":"."===cn&&(cn="dot"),en.forEach(Ri=>{Ri!==cn&&(0,Dt[Ri])(De)&&(Qn+=Ri+".")}),Qn+=cn,Qn===ft)}static eventCallback(De,ft,cn){return Qn=>{pe.matchEventFullKeyCode(Qn,De)&&cn.runGuarded(()=>ft(Qn))}}static _normalizeKey(De){return"esc"===De?"escape":De}}return pe.\u0275fac=function(De){return new(De||pe)(J.LFG(M.K0))},pe.\u0275prov=J.Yz7({token:pe,factory:pe.\u0275fac}),pe})();const qn=(0,J.eFA)(J._c5,"browser",[{provide:J.Lbi,useValue:M.bD},{provide:J.g9A,useValue:function Mn(){Le.makeCurrent()},multi:!0},{provide:M.K0,useFactory:function wn(){return(0,J.RDi)(document),document},deps:[]}]),mi=new J.OlP(""),dn=[{provide:J.rWj,useClass:class Ge{addToWindow(Ee){J.dqk.getAngularTestability=(ft,cn=!0)=>{const Qn=Ee.findTestabilityInTree(ft,cn);if(null==Qn)throw new Error("Could not find testability for element.");return Qn},J.dqk.getAllAngularTestabilities=()=>Ee.getAllTestabilities(),J.dqk.getAllAngularRootElements=()=>Ee.getAllRootElements(),J.dqk.frameworkStabilizers||(J.dqk.frameworkStabilizers=[]),J.dqk.frameworkStabilizers.push(ft=>{const cn=J.dqk.getAllAngularTestabilities();let Qn=cn.length,Ri=!1;const Wt=function($t){Ri=Ri||$t,Qn--,0==Qn&&ft(Ri)};cn.forEach(function($t){$t.whenStable(Wt)})})}findTestabilityInTree(Ee,De,ft){return null==De?null:Ee.getTestability(De)??(ft?(0,M.q)().isShadowRoot(De)?this.findTestabilityInTree(Ee,De.host,!0):this.findTestabilityInTree(Ee,De.parentElement,!0):null)}},deps:[]},{provide:J.lri,useClass:J.dDg,deps:[J.R0b,J.eoX,J.rWj]},{provide:J.dDg,useClass:J.dDg,deps:[J.R0b,J.eoX,J.rWj]}],li=[{provide:J.zSh,useValue:"root"},{provide:J.qLn,useFactory:function jt(){return new J.qLn},deps:[]},{provide:it,useClass:qt,multi:!0,deps:[M.K0,J.R0b,J.Lbi]},{provide:it,useClass:xn,multi:!0,deps:[M.K0]},{provide:Gn,useClass:Gn,deps:[tt,Ct,J.AFp]},{provide:J.FYo,useExisting:Gn},{provide:Rt,useExisting:Ct},{provide:Ct,useClass:Ct,deps:[M.K0]},{provide:tt,useClass:tt,deps:[it,J.R0b]},{provide:M.JF,useClass:kt,deps:[]},[]];let bn=(()=>{class pe{constructor(De){}static withServerTransition(De){return{ngModule:pe,providers:[{provide:J.AFp,useValue:De.appId},{provide:qe,useExisting:J.AFp},Ue]}}}return pe.\u0275fac=function(De){return new(De||pe)(J.LFG(mi,12))},pe.\u0275mod=J.oAB({type:pe}),pe.\u0275inj=J.cJS({providers:[...li,...dn],imports:[M.ez,J.hGG]}),pe})(),Ot=(()=>{class pe{constructor(De){this._doc=De}getTitle(){return this._doc.title}setTitle(De){this._doc.title=De||""}}return pe.\u0275fac=function(De){return new(De||pe)(J.LFG(M.K0))},pe.\u0275prov=J.Yz7({token:pe,factory:function(De){let ft=null;return ft=De?new De:function $n(){return new Ot((0,J.LFG)(M.K0))}(),ft},providedIn:"root"}),pe})();typeof window<"u"&&window;let gt=(()=>{class pe{}return pe.\u0275fac=function(De){return new(De||pe)},pe.\u0275prov=J.Yz7({token:pe,factory:function(De){let ft=null;return ft=De?new(De||pe):J.LFG(et),ft},providedIn:"root"}),pe})(),et=(()=>{class pe extends gt{constructor(De){super(),this._doc=De}sanitize(De,ft){if(null==ft)return null;switch(De){case J.q3G.NONE:return ft;case J.q3G.HTML:return(0,J.qzn)(ft,"HTML")?(0,J.z3N)(ft):(0,J.EiD)(this._doc,String(ft)).toString();case J.q3G.STYLE:return(0,J.qzn)(ft,"Style")?(0,J.z3N)(ft):ft;case J.q3G.SCRIPT:if((0,J.qzn)(ft,"Script"))return(0,J.z3N)(ft);throw new Error("unsafe value used in a script context");case J.q3G.URL:return(0,J.qzn)(ft,"URL")?(0,J.z3N)(ft):(0,J.mCW)(String(ft));case J.q3G.RESOURCE_URL:if((0,J.qzn)(ft,"ResourceURL"))return(0,J.z3N)(ft);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${De} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(De){return(0,J.JVY)(De)}bypassSecurityTrustStyle(De){return(0,J.L6k)(De)}bypassSecurityTrustScript(De){return(0,J.eBb)(De)}bypassSecurityTrustUrl(De){return(0,J.LAX)(De)}bypassSecurityTrustResourceUrl(De){return(0,J.pB0)(De)}}return pe.\u0275fac=function(De){return new(De||pe)(J.LFG(M.K0))},pe.\u0275prov=J.Yz7({token:pe,factory:function(De){let ft=null;return ft=De?new De:function We(pe){return new et(pe.get(M.K0))}(J.LFG(J.zs3)),ft},providedIn:"root"}),pe})()},6159:(Hn,Mt,z)=>{z.d(Mt,{Bz:()=>js,lC:()=>xl});var M=z(4650),J=z(8996),W=z(9646),Le=z(1135),b=z(6805),be=z(9841),at=z(7272),Ve=z(9770),qe=z(9635),Ae=z(2843),Ue=z(9751),Ge=z(515),kt=z(4033),it=z(7579),tt=z(6895),xt=z(4004),Rt=z(3900),Ct=z(5698),pt=z(8675),En=z(9300),_t=z(5577),je=z(590),Te=z(4351),Be=z(8505),ct=z(262),lt=z(5026),ut=z(4482),vn=z(5403);function pn(G){return G<=0?()=>Ge.E:(0,ut.e)(($,V)=>{let ie=[];$.subscribe((0,vn.x)(V,ae=>{ie.push(ae),G<ie.length&&ie.shift()},()=>{for(const ae of ie)V.next(ae);V.complete()},void 0,()=>{ie=null}))})}var ai=z(8068),Gn=z(6590),Qi=z(4671);function or(G,$){const V=arguments.length>=2;return ie=>ie.pipe(G?(0,En.h)((ae,Ie)=>G(ae,Ie,ie)):Qi.y,pn(1),V?(0,Gn.d)($):(0,ai.T)(()=>new b.K))}var yi=z(9718),bt=z(8746),It=z(8343),qt=z(8189),en=z(1481);const Ht="primary",Dt=Symbol("RouteTitle");class xn{constructor($){this.params=$||{}}has($){return Object.prototype.hasOwnProperty.call(this.params,$)}get($){if(this.has($)){const V=this.params[$];return Array.isArray(V)?V[0]:V}return null}getAll($){if(this.has($)){const V=this.params[$];return Array.isArray(V)?V:[V]}return[]}get keys(){return Object.keys(this.params)}}function St(G){return new xn(G)}function Vt(G,$,V){const ie=V.path.split("/");if(ie.length>G.length||"full"===V.pathMatch&&($.hasChildren()||ie.length<G.length))return null;const ae={};for(let Ie=0;Ie<ie.length;Ie++){const st=ie[Ie],vt=G[Ie];if(st.startsWith(":"))ae[st.substring(1)]=vt;else if(st!==vt.path)return null}return{consumed:G.slice(0,ie.length),posParams:ae}}function Cn(G,$){const V=G?Object.keys(G):void 0,ie=$?Object.keys($):void 0;if(!V||!ie||V.length!=ie.length)return!1;let ae;for(let Ie=0;Ie<V.length;Ie++)if(ae=V[Ie],!tn(G[ae],$[ae]))return!1;return!0}function tn(G,$){if(Array.isArray(G)&&Array.isArray($)){if(G.length!==$.length)return!1;const V=[...G].sort(),ie=[...$].sort();return V.every((ae,Ie)=>ie[Ie]===ae)}return G===$}function Mn(G){return Array.prototype.concat.apply([],G)}function jt(G){return G.length>0?G[G.length-1]:null}function oi(G,$){for(const V in G)G.hasOwnProperty(V)&&$(G[V],V)}function qn(G){return(0,M.CqO)(G)?G:(0,M.QGY)(G)?(0,J.D)(Promise.resolve(G)):(0,W.of)(G)}const li={exact:function Nn(G,$,V){if(!Zn(G.segments,$.segments)||!we(G.segments,$.segments,V)||G.numberOfChildren!==$.numberOfChildren)return!1;for(const ie in $.children)if(!G.children[ie]||!Nn(G.children[ie],$.children[ie],V))return!1;return!0},subset:Ot},bn={exact:function Qt(G,$){return Cn(G,$)},subset:function $n(G,$){return Object.keys($).length<=Object.keys(G).length&&Object.keys($).every(V=>tn(G[V],$[V]))},ignored:()=>!0};function On(G,$,V){return li[V.paths](G.root,$.root,V.matrixParams)&&bn[V.queryParams](G.queryParams,$.queryParams)&&!("exact"===V.fragment&&G.fragment!==$.fragment)}function Ot(G,$,V){return ze(G,$,$.segments,V)}function ze(G,$,V,ie){if(G.segments.length>V.length){const ae=G.segments.slice(0,V.length);return!(!Zn(ae,V)||$.hasChildren()||!we(ae,V,ie))}if(G.segments.length===V.length){if(!Zn(G.segments,V)||!we(G.segments,V,ie))return!1;for(const ae in $.children)if(!G.children[ae]||!Ot(G.children[ae],$.children[ae],ie))return!1;return!0}{const ae=V.slice(0,G.segments.length),Ie=V.slice(G.segments.length);return!!(Zn(G.segments,ae)&&we(G.segments,ae,ie)&&G.children[Ht])&&ze(G.children[Ht],$,Ie,ie)}}function we(G,$,V){return $.every((ie,ae)=>bn[V](G[ae].parameters,ie.parameters))}class ke{constructor($,V,ie){this.root=$,this.queryParams=V,this.fragment=ie}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=St(this.queryParams)),this._queryParamMap}toString(){return Ye.serialize(this)}}class Ze{constructor($,V){this.segments=$,this.children=V,this.parent=null,oi(V,(ie,ae)=>ie.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ke(this)}}class Zt{constructor($,V){this.path=$,this.parameters=V}get parameterMap(){return this._parameterMap||(this._parameterMap=St(this.parameters)),this._parameterMap}toString(){return br(this)}}function Zn(G,$){return G.length===$.length&&G.every((V,ie)=>V.path===$[ie].path)}let Lt=(()=>{class G{}return G.\u0275fac=function(V){return new(V||G)},G.\u0275prov=M.Yz7({token:G,factory:function(){return new sn},providedIn:"root"}),G})();class sn{parse($){const V=new et($);return new ke(V.parseRootSegment(),V.parseQueryParams(),V.parseFragment())}serialize($){const V=`/${Je($.root,!0)}`,ie=function mt(G){const $=Object.keys(G).map(V=>{const ie=G[V];return Array.isArray(ie)?ie.map(ae=>`${ti(V)}=${ti(ae)}`).join("&"):`${ti(V)}=${ti(ie)}`}).filter(V=>!!V);return $.length?`?${$.join("&")}`:""}($.queryParams);return`${V}${ie}${"string"==typeof $.fragment?`#${function Fi(G){return encodeURI(G)}($.fragment)}`:""}`}}const Ye=new sn;function Ke(G){return G.segments.map($=>br($)).join("/")}function Je(G,$){if(!G.hasChildren())return Ke(G);if($){const V=G.children[Ht]?Je(G.children[Ht],!1):"",ie=[];return oi(G.children,(ae,Ie)=>{Ie!==Ht&&ie.push(`${Ie}:${Je(ae,!1)}`)}),ie.length>0?`${V}(${ie.join("//")})`:V}{const V=function Fn(G,$){let V=[];return oi(G.children,(ie,ae)=>{ae===Ht&&(V=V.concat($(ie,ae)))}),oi(G.children,(ie,ae)=>{ae!==Ht&&(V=V.concat($(ie,ae)))}),V}(G,(ie,ae)=>ae===Ht?[Je(G.children[Ht],!1)]:[`${ae}:${Je(ie,!1)}`]);return 1===Object.keys(G.children).length&&null!=G.children[Ht]?`${Ke(G)}/${V[0]}`:`${Ke(G)}/(${V.join("//")})`}}function Jt(G){return encodeURIComponent(G).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ti(G){return Jt(G).replace(/%3B/gi,";")}function Pi(G){return Jt(G).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bi(G){return decodeURIComponent(G)}function Ii(G){return Bi(G.replace(/\+/g,"%20"))}function br(G){return`${Pi(G.path)}${function Gi(G){return Object.keys(G).map($=>`;${Pi($)}=${Pi(G[$])}`).join("")}(G.parameters)}`}const Me=/^[^\/()?;=#]+/;function Qe(G){const $=G.match(Me);return $?$[0]:""}const _e=/^[^=?&#]+/,gt=/^[^&#]+/;class et{constructor($){this.url=$,this.remaining=$}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ze([],{}):new Ze([],this.parseChildren())}parseQueryParams(){const $={};if(this.consumeOptional("?"))do{this.parseQueryParam($)}while(this.consumeOptional("&"));return $}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const $=[];for(this.peekStartsWith("(")||$.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),$.push(this.parseSegment());let V={};this.peekStartsWith("/(")&&(this.capture("/"),V=this.parseParens(!0));let ie={};return this.peekStartsWith("(")&&(ie=this.parseParens(!1)),($.length>0||Object.keys(V).length>0)&&(ie[Ht]=new Ze($,V)),ie}parseSegment(){const $=Qe(this.remaining);if(""===$&&this.peekStartsWith(";"))throw new M.vHH(4009,!1);return this.capture($),new Zt(Bi($),this.parseMatrixParams())}parseMatrixParams(){const $={};for(;this.consumeOptional(";");)this.parseParam($);return $}parseParam($){const V=Qe(this.remaining);if(!V)return;this.capture(V);let ie="";if(this.consumeOptional("=")){const ae=Qe(this.remaining);ae&&(ie=ae,this.capture(ie))}$[Bi(V)]=Bi(ie)}parseQueryParam($){const V=function Ce(G){const $=G.match(_e);return $?$[0]:""}(this.remaining);if(!V)return;this.capture(V);let ie="";if(this.consumeOptional("=")){const st=function We(G){const $=G.match(gt);return $?$[0]:""}(this.remaining);st&&(ie=st,this.capture(ie))}const ae=Ii(V),Ie=Ii(ie);if($.hasOwnProperty(ae)){let st=$[ae];Array.isArray(st)||(st=[st],$[ae]=st),st.push(Ie)}else $[ae]=Ie}parseParens($){const V={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const ie=Qe(this.remaining),ae=this.remaining[ie.length];if("/"!==ae&&")"!==ae&&";"!==ae)throw new M.vHH(4010,!1);let Ie;ie.indexOf(":")>-1?(Ie=ie.slice(0,ie.indexOf(":")),this.capture(Ie),this.capture(":")):$&&(Ie=Ht);const st=this.parseChildren();V[Ie]=1===Object.keys(st).length?st[Ht]:new Ze([],st),this.consumeOptional("//")}return V}peekStartsWith($){return this.remaining.startsWith($)}consumeOptional($){return!!this.peekStartsWith($)&&(this.remaining=this.remaining.substring($.length),!0)}capture($){if(!this.consumeOptional($))throw new M.vHH(4011,!1)}}function $e(G){return G.segments.length>0?new Ze([],{[Ht]:G}):G}function pe(G){const $={};for(const ie of Object.keys(G.children)){const Ie=pe(G.children[ie]);(Ie.segments.length>0||Ie.hasChildren())&&($[ie]=Ie)}return function Ee(G){if(1===G.numberOfChildren&&G.children[Ht]){const $=G.children[Ht];return new Ze(G.segments.concat($.segments),$.children)}return G}(new Ze(G.segments,$))}function De(G){return G instanceof ke}function Wt(G,$,V,ie,ae){if(0===V.length)return Ln($.root,$.root,$.root,ie,ae);const Ie=function Ji(G){if("string"==typeof G[0]&&1===G.length&&"/"===G[0])return new Yi(!0,0,G);let $=0,V=!1;const ie=G.reduce((ae,Ie,st)=>{if("object"==typeof Ie&&null!=Ie){if(Ie.outlets){const vt={};return oi(Ie.outlets,(mn,ii)=>{vt[ii]="string"==typeof mn?mn.split("/"):mn}),[...ae,{outlets:vt}]}if(Ie.segmentPath)return[...ae,Ie.segmentPath]}return"string"!=typeof Ie?[...ae,Ie]:0===st?(Ie.split("/").forEach((vt,mn)=>{0==mn&&"."===vt||(0==mn&&""===vt?V=!0:".."===vt?$++:""!=vt&&ae.push(vt))}),ae):[...ae,Ie]},[]);return new Yi(V,$,ie)}(V);return Ie.toRoot()?Ln($.root,$.root,new Ze([],{}),ie,ae):function st(mn){const ii=function es(G,$,V,ie){if(G.isAbsolute)return new er($.root,!0,0);if(-1===ie)return new er(V,V===$.root,0);return function Ms(G,$,V){let ie=G,ae=$,Ie=V;for(;Ie>ae;){if(Ie-=ae,ie=ie.parent,!ie)throw new M.vHH(4005,!1);ae=ie.segments.length}return new er(ie,!1,ae-Ie)}(V,ie+($t(G.commands[0])?0:1),G.numberOfDoubleDots)}(Ie,$,G.snapshot?._urlSegment,mn),ir=ii.processChildren?Ea(ii.segmentGroup,ii.index,Ie.commands):Zo(ii.segmentGroup,ii.index,Ie.commands);return Ln($.root,ii.segmentGroup,ir,ie,ae)}(G.snapshot?._lastPathIndex)}function $t(G){return"object"==typeof G&&null!=G&&!G.outlets&&!G.segmentPath}function Sn(G){return"object"==typeof G&&null!=G&&G.outlets}function Ln(G,$,V,ie,ae){let st,Ie={};ie&&oi(ie,(mn,ii)=>{Ie[ii]=Array.isArray(mn)?mn.map(ir=>`${ir}`):`${mn}`}),st=G===$?V:fi(G,$,V);const vt=$e(pe(st));return new ke(vt,Ie,ae)}function fi(G,$,V){const ie={};return oi(G.children,(ae,Ie)=>{ie[Ie]=ae===$?V:fi(ae,$,V)}),new Ze(G.segments,ie)}class Yi{constructor($,V,ie){if(this.isAbsolute=$,this.numberOfDoubleDots=V,this.commands=ie,$&&ie.length>0&&$t(ie[0]))throw new M.vHH(4003,!1);const ae=ie.find(Sn);if(ae&&ae!==jt(ie))throw new M.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class er{constructor($,V,ie){this.segmentGroup=$,this.processChildren=V,this.index=ie}}function Zo(G,$,V){if(G||(G=new Ze([],{})),0===G.segments.length&&G.hasChildren())return Ea(G,$,V);const ie=function Or(G,$,V){let ie=0,ae=$;const Ie={match:!1,pathIndex:0,commandIndex:0};for(;ae<G.segments.length;){if(ie>=V.length)return Ie;const st=G.segments[ae],vt=V[ie];if(Sn(vt))break;const mn=`${vt}`,ii=ie<V.length-1?V[ie+1]:null;if(ae>0&&void 0===mn)break;if(mn&&ii&&"object"==typeof ii&&void 0===ii.outlets){if(!Da(mn,ii,st))return Ie;ie+=2}else{if(!Da(mn,{},st))return Ie;ie++}ae++}return{match:!0,pathIndex:ae,commandIndex:ie}}(G,$,V),ae=V.slice(ie.commandIndex);if(ie.match&&ie.pathIndex<G.segments.length){const Ie=new Ze(G.segments.slice(0,ie.pathIndex),{});return Ie.children[Ht]=new Ze(G.segments.slice(ie.pathIndex),G.children),Ea(Ie,0,ae)}return ie.match&&0===ae.length?new Ze(G.segments,{}):ie.match&&!G.hasChildren()?Is(G,$,V):ie.match?Ea(G,0,ae):Is(G,$,V)}function Ea(G,$,V){if(0===V.length)return new Ze(G.segments,{});{const ie=function Ys(G){return Sn(G[0])?G[0].outlets:{[Ht]:G}}(V),ae={};return oi(ie,(Ie,st)=>{"string"==typeof Ie&&(Ie=[Ie]),null!==Ie&&(ae[st]=Zo(G.children[st],$,Ie))}),oi(G.children,(Ie,st)=>{void 0===ie[st]&&(ae[st]=Ie)}),new Ze(G.segments,ae)}}function Is(G,$,V){const ie=G.segments.slice(0,$);let ae=0;for(;ae<V.length;){const Ie=V[ae];if(Sn(Ie)){const mn=Ft(Ie.outlets);return new Ze(ie,mn)}if(0===ae&&$t(V[0])){ie.push(new Zt(G.segments[$].path,to(V[0]))),ae++;continue}const st=Sn(Ie)?Ie.outlets[Ht]:`${Ie}`,vt=ae<V.length-1?V[ae+1]:null;st&&vt&&$t(vt)?(ie.push(new Zt(st,to(vt))),ae+=2):(ie.push(new Zt(st,{})),ae++)}return new Ze(ie,{})}function Ft(G){const $={};return oi(G,(V,ie)=>{"string"==typeof V&&(V=[V]),null!==V&&($[ie]=Is(new Ze([],{}),0,V))}),$}function to(G){const $={};return oi(G,(V,ie)=>$[ie]=`${V}`),$}function Da(G,$,V){return G==V.path&&Cn($,V.parameters)}class pr{constructor($,V){this.id=$,this.url=V}}class Er extends pr{constructor($,V,ie="imperative",ae=null){super($,V),this.type=0,this.navigationTrigger=ie,this.restoredState=ae}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class hs extends pr{constructor($,V,ie){super($,V),this.urlAfterRedirects=ie,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Lr extends pr{constructor($,V,ie,ae){super($,V),this.reason=ie,this.code=ae,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class aa extends pr{constructor($,V,ie,ae){super($,V),this.error=ie,this.target=ae,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Kr extends pr{constructor($,V,ie,ae){super($,V),this.urlAfterRedirects=ie,this.state=ae,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fs extends pr{constructor($,V,ie,ae){super($,V),this.urlAfterRedirects=ie,this.state=ae,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class la extends pr{constructor($,V,ie,ae,Ie){super($,V),this.urlAfterRedirects=ie,this.state=ae,this.shouldActivate=Ie,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class xa extends pr{constructor($,V,ie,ae){super($,V),this.urlAfterRedirects=ie,this.state=ae,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class po extends pr{constructor($,V,ie,ae){super($,V),this.urlAfterRedirects=ie,this.state=ae,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mo{constructor($){this.route=$,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class gs{constructor($){this.route=$,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class uc{constructor($){this.snapshot=$,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ua{constructor($){this.snapshot=$,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fo{constructor($){this.snapshot=$,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dc{constructor($){this.snapshot=$,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pr{constructor($,V,ie){this.routerEvent=$,this.position=V,this.anchor=ie,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Za{constructor($){this._root=$}get root(){return this._root.value}parent($){const V=this.pathFromRoot($);return V.length>1?V[V.length-2]:null}children($){const V=ca($,this._root);return V?V.children.map(ie=>ie.value):[]}firstChild($){const V=ca($,this._root);return V&&V.children.length>0?V.children[0].value:null}siblings($){const V=zt($,this._root);return V.length<2?[]:V[V.length-2].children.map(ae=>ae.value).filter(ae=>ae!==$)}pathFromRoot($){return zt($,this._root).map(V=>V.value)}}function ca(G,$){if(G===$.value)return $;for(const V of $.children){const ie=ca(G,V);if(ie)return ie}return null}function zt(G,$){if(G===$.value)return[$];for(const V of $.children){const ie=zt(G,V);if(ie.length)return ie.unshift($),ie}return[]}class Pt{constructor($,V){this.value=$,this.children=V}toString(){return`TreeNode(${this.value})`}}function Xt(G){const $={};return G&&G.children.forEach(V=>$[V.value.outlet]=V),$}class Dn extends Za{constructor($,V){super($),this.snapshot=V,Lo(this,$)}toString(){return this.snapshot.toString()}}function Wn(G,$){const V=function Li(G,$){const st=new go([],{},{},"",{},Ht,$,null,G.root,-1,{});return new Qo("",new Pt(st,[]))}(G,$),ie=new Le.X([new Zt("",{})]),ae=new Le.X({}),Ie=new Le.X({}),st=new Le.X({}),vt=new Le.X(""),mn=new nr(ie,ae,st,vt,Ie,Ht,$,V.root);return mn.snapshot=V.root,new Dn(new Pt(mn,[]),V)}class nr{constructor($,V,ie,ae,Ie,st,vt,mn){this.url=$,this.params=V,this.queryParams=ie,this.fragment=ae,this.data=Ie,this.outlet=st,this.component=vt,this.title=this.data?.pipe((0,xt.U)(ii=>ii[Dt]))??(0,W.of)(void 0),this._futureSnapshot=mn}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,xt.U)($=>St($)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,xt.U)($=>St($)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function lr(G,$="emptyOnly"){const V=G.pathFromRoot;let ie=0;if("always"!==$)for(ie=V.length-1;ie>=1;){const ae=V[ie],Ie=V[ie-1];if(ae.routeConfig&&""===ae.routeConfig.path)ie--;else{if(Ie.component)break;ie--}}return function Ui(G){return G.reduce(($,V)=>({params:{...$.params,...V.params},data:{...$.data,...V.data},resolve:{...V.data,...$.resolve,...V.routeConfig?.data,...V._resolvedData}}),{params:{},data:{},resolve:{}})}(V.slice(ie))}class go{constructor($,V,ie,ae,Ie,st,vt,mn,ii,ir,Tt,kr){this.url=$,this.params=V,this.queryParams=ie,this.fragment=ae,this.data=Ie,this.outlet=st,this.component=vt,this.title=this.data?.[Dt],this.routeConfig=mn,this._urlSegment=ii,this._lastPathIndex=ir,this._correctedLastPathIndex=kr??ir,this._resolve=Tt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=St(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=St(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(ie=>ie.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Qo extends Za{constructor($,V){super(V),this.url=$,Lo(this,V)}toString(){return _o(this._root)}}function Lo(G,$){$.value._routerState=G,$.children.forEach(V=>Lo(G,V))}function _o(G){const $=G.children.length>0?` { ${G.children.map(_o).join(", ")} } `:"";return`${G.value}${$}`}function Bo(G){if(G.snapshot){const $=G.snapshot,V=G._futureSnapshot;G.snapshot=V,Cn($.queryParams,V.queryParams)||G.queryParams.next(V.queryParams),$.fragment!==V.fragment&&G.fragment.next(V.fragment),Cn($.params,V.params)||G.params.next(V.params),function on(G,$){if(G.length!==$.length)return!1;for(let V=0;V<G.length;++V)if(!Cn(G[V],$[V]))return!1;return!0}($.url,V.url)||G.url.next(V.url),Cn($.data,V.data)||G.data.next(V.data)}else G.snapshot=G._futureSnapshot,G.data.next(G._futureSnapshot.data)}function Ks(G,$){const V=Cn(G.params,$.params)&&function _n(G,$){return Zn(G,$)&&G.every((V,ie)=>Cn(V.parameters,$[ie].parameters))}(G.url,$.url);return V&&!(!G.parent!=!$.parent)&&(!G.parent||Ks(G.parent,$.parent))}function qr(G,$,V){if(V&&G.shouldReuseRoute($.value,V.value.snapshot)){const ie=V.value;ie._futureSnapshot=$.value;const ae=function ua(G,$,V){return $.children.map(ie=>{for(const ae of V.children)if(G.shouldReuseRoute(ie.value,ae.value.snapshot))return qr(G,ie,ae);return qr(G,ie)})}(G,$,V);return new Pt(ie,ae)}{if(G.shouldAttach($.value)){const Ie=G.retrieve($.value);if(null!==Ie){const st=Ie.route;return st.value._futureSnapshot=$.value,st.children=$.children.map(vt=>qr(G,vt)),st}}const ie=function Mo(G){return new nr(new Le.X(G.url),new Le.X(G.params),new Le.X(G.queryParams),new Le.X(G.fragment),new Le.X(G.data),G.outlet,G.component,G)}($.value),ae=$.children.map(Ie=>qr(G,Ie));return new Pt(ie,ae)}}const al="ngNavigationCancelingError";function Qa(G,$){const{redirectTo:V,navigationBehaviorOptions:ie}=De($)?{redirectTo:$,navigationBehaviorOptions:void 0}:$,ae=mu(!1,0,$);return ae.url=V,ae.navigationBehaviorOptions=ie,ae}function mu(G,$,V){const ie=new Error("NavigationCancelingError: "+(G||""));return ie[al]=!0,ie.cancellationCode=$,V&&(ie.url=V),ie}function Gl(G){return $l(G)&&De(G.url)}function $l(G){return G&&G[al]}class Wl{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Mr,this.attachRef=null}}let Mr=(()=>{class G{constructor(){this.contexts=new Map}onChildOutletCreated(V,ie){const ae=this.getOrCreateContext(V);ae.outlet=ie,this.contexts.set(V,ae)}onChildOutletDestroyed(V){const ie=this.getContext(V);ie&&(ie.outlet=null,ie.attachRef=null)}onOutletDeactivated(){const V=this.contexts;return this.contexts=new Map,V}onOutletReAttached(V){this.contexts=V}getOrCreateContext(V){let ie=this.getContext(V);return ie||(ie=new Wl,this.contexts.set(V,ie)),ie}getContext(V){return this.contexts.get(V)||null}}return G.\u0275fac=function(V){return new(V||G)},G.\u0275prov=M.Yz7({token:G,factory:G.\u0275fac,providedIn:"root"}),G})();const ts=!1;let xl=(()=>{class G{constructor(V,ie,ae,Ie,st){this.parentContexts=V,this.location=ie,this.changeDetector=Ie,this.environmentInjector=st,this.activated=null,this._activatedRoute=null,this.activateEvents=new M.vpe,this.deactivateEvents=new M.vpe,this.attachEvents=new M.vpe,this.detachEvents=new M.vpe,this.name=ae||Ht,V.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const V=this.parentContexts.getContext(this.name);V&&V.route&&(V.attachRef?this.attach(V.attachRef,V.route):this.activateWith(V.route,V.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new M.vHH(4012,ts);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new M.vHH(4012,ts);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new M.vHH(4012,ts);this.location.detach();const V=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(V.instance),V}attach(V,ie){this.activated=V,this._activatedRoute=ie,this.location.insert(V.hostView),this.attachEvents.emit(V.instance)}deactivate(){if(this.activated){const V=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(V)}}activateWith(V,ie){if(this.isActivated)throw new M.vHH(4013,ts);this._activatedRoute=V;const ae=this.location,st=V._futureSnapshot.component,vt=this.parentContexts.getOrCreateContext(this.name).children,mn=new Sl(V,vt,ae.injector);if(ie&&function da(G){return!!G.resolveComponentFactory}(ie)){const ii=ie.resolveComponentFactory(st);this.activated=ae.createComponent(ii,ae.length,mn)}else this.activated=ae.createComponent(st,{index:ae.length,injector:mn,environmentInjector:ie??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return G.\u0275fac=function(V){return new(V||G)(M.Y36(Mr),M.Y36(M.s_b),M.$8M("name"),M.Y36(M.sBO),M.Y36(M.lqb))},G.\u0275dir=M.lG2({type:G,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),G})();class Sl{constructor($,V,ie){this.route=$,this.childContexts=V,this.parent=ie}get($,V){return $===nr?this.route:$===Mr?this.childContexts:this.parent.get($,V)}}let ls=(()=>{class G{}return G.\u0275fac=function(V){return new(V||G)},G.\u0275cmp=M.Xpm({type:G,selectors:[["ng-component"]],standalone:!0,features:[M.jDz],decls:1,vars:0,template:function(V,ie){1&V&&M._UZ(0,"router-outlet")},dependencies:[xl],encapsulation:2}),G})();function Zr(G,$){return G.providers&&!G._injector&&(G._injector=(0,M.MMx)(G.providers,$,`Route: ${G.path}`)),G._injector??$}function Io(G){const $=G.children&&G.children.map(Io),V=$?{...G,children:$}:{...G};return!V.component&&!V.loadComponent&&($||V.loadChildren)&&V.outlet&&V.outlet!==Ht&&(V.component=ls),V}function zr(G){return G.outlet||Ht}function Ml(G,$){const V=G.filter(ie=>zr(ie)===$);return V.push(...G.filter(ie=>zr(ie)!==$)),V}function Zs(G){if(!G)return null;if(G.routeConfig?._injector)return G.routeConfig._injector;for(let $=G.parent;$;$=$.parent){const V=$.routeConfig;if(V?._loadedInjector)return V._loadedInjector;if(V?._injector)return V._injector}return null}class Ls{constructor($,V,ie,ae){this.routeReuseStrategy=$,this.futureState=V,this.currState=ie,this.forwardEvent=ae}activate($){const V=this.futureState._root,ie=this.currState?this.currState._root:null;this.deactivateChildRoutes(V,ie,$),Bo(this.futureState.root),this.activateChildRoutes(V,ie,$)}deactivateChildRoutes($,V,ie){const ae=Xt(V);$.children.forEach(Ie=>{const st=Ie.value.outlet;this.deactivateRoutes(Ie,ae[st],ie),delete ae[st]}),oi(ae,(Ie,st)=>{this.deactivateRouteAndItsChildren(Ie,ie)})}deactivateRoutes($,V,ie){const ae=$.value,Ie=V?V.value:null;if(ae===Ie)if(ae.component){const st=ie.getContext(ae.outlet);st&&this.deactivateChildRoutes($,V,st.children)}else this.deactivateChildRoutes($,V,ie);else Ie&&this.deactivateRouteAndItsChildren(V,ie)}deactivateRouteAndItsChildren($,V){$.value.component&&this.routeReuseStrategy.shouldDetach($.value.snapshot)?this.detachAndStoreRouteSubtree($,V):this.deactivateRouteAndOutlet($,V)}detachAndStoreRouteSubtree($,V){const ie=V.getContext($.value.outlet),ae=ie&&$.value.component?ie.children:V,Ie=Xt($);for(const st of Object.keys(Ie))this.deactivateRouteAndItsChildren(Ie[st],ae);if(ie&&ie.outlet){const st=ie.outlet.detach(),vt=ie.children.onOutletDeactivated();this.routeReuseStrategy.store($.value.snapshot,{componentRef:st,route:$,contexts:vt})}}deactivateRouteAndOutlet($,V){const ie=V.getContext($.value.outlet),ae=ie&&$.value.component?ie.children:V,Ie=Xt($);for(const st of Object.keys(Ie))this.deactivateRouteAndItsChildren(Ie[st],ae);ie&&ie.outlet&&(ie.outlet.deactivate(),ie.children.onOutletDeactivated(),ie.attachRef=null,ie.resolver=null,ie.route=null)}activateChildRoutes($,V,ie){const ae=Xt(V);$.children.forEach(Ie=>{this.activateRoutes(Ie,ae[Ie.value.outlet],ie),this.forwardEvent(new dc(Ie.value.snapshot))}),$.children.length&&this.forwardEvent(new Ua($.value.snapshot))}activateRoutes($,V,ie){const ae=$.value,Ie=V?V.value:null;if(Bo(ae),ae===Ie)if(ae.component){const st=ie.getOrCreateContext(ae.outlet);this.activateChildRoutes($,V,st.children)}else this.activateChildRoutes($,V,ie);else if(ae.component){const st=ie.getOrCreateContext(ae.outlet);if(this.routeReuseStrategy.shouldAttach(ae.snapshot)){const vt=this.routeReuseStrategy.retrieve(ae.snapshot);this.routeReuseStrategy.store(ae.snapshot,null),st.children.onOutletReAttached(vt.contexts),st.attachRef=vt.componentRef,st.route=vt.route.value,st.outlet&&st.outlet.attach(vt.componentRef,vt.route.value),Bo(vt.route.value),this.activateChildRoutes($,null,st.children)}else{const vt=Zs(ae.snapshot),mn=vt?.get(M._Vd)??null;st.attachRef=null,st.route=ae,st.resolver=mn,st.injector=vt,st.outlet&&st.outlet.activateWith(ae,st.injector),this.activateChildRoutes($,null,st.children)}}else this.activateChildRoutes($,null,ie)}}class $i{constructor($){this.path=$,this.route=this.path[this.path.length-1]}}class vo{constructor($,V){this.component=$,this.route=V}}function gu(G,$,V){const ie=G._root;return Ia(ie,$?$._root:null,V,[ie.value])}function Ma(G,$){const V=Symbol(),ie=$.get(G,V);return ie===V?"function"!=typeof G||(0,M.Z0I)(G)?$.get(G):G:ie}function Ia(G,$,V,ie,ae={canDeactivateChecks:[],canActivateChecks:[]}){const Ie=Xt($);return G.children.forEach(st=>{(function yo(G,$,V,ie,ae={canDeactivateChecks:[],canActivateChecks:[]}){const Ie=G.value,st=$?$.value:null,vt=V?V.getContext(G.value.outlet):null;if(st&&Ie.routeConfig===st.routeConfig){const mn=function Ta(G,$,V){if("function"==typeof V)return V(G,$);switch(V){case"pathParamsChange":return!Zn(G.url,$.url);case"pathParamsOrQueryParamsChange":return!Zn(G.url,$.url)||!Cn(G.queryParams,$.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ks(G,$)||!Cn(G.queryParams,$.queryParams);default:return!Ks(G,$)}}(st,Ie,Ie.routeConfig.runGuardsAndResolvers);mn?ae.canActivateChecks.push(new $i(ie)):(Ie.data=st.data,Ie._resolvedData=st._resolvedData),Ia(G,$,Ie.component?vt?vt.children:null:V,ie,ae),mn&&vt&&vt.outlet&&vt.outlet.isActivated&&ae.canDeactivateChecks.push(new vo(vt.outlet.component,st))}else st&&Tl($,vt,ae),ae.canActivateChecks.push(new $i(ie)),Ia(G,null,Ie.component?vt?vt.children:null:V,ie,ae)})(st,Ie[st.value.outlet],V,ie.concat([st.value]),ae),delete Ie[st.value.outlet]}),oi(Ie,(st,vt)=>Tl(st,V.getContext(vt),ae)),ae}function Tl(G,$,V){const ie=Xt(G),ae=G.value;oi(ie,(Ie,st)=>{Tl(Ie,ae.component?$?$.children.getContext(st):null:$,V)}),V.canDeactivateChecks.push(new vo(ae.component&&$&&$.outlet&&$.outlet.isActivated?$.outlet.component:null,ae))}function Un(G){return"function"==typeof G}function hn(G){return G instanceof b.K||"EmptyError"===G?.name}const gi=Symbol("INITIAL_VALUE");function Wi(){return(0,Rt.w)(G=>(0,be.a)(G.map($=>$.pipe((0,Ct.q)(1),(0,pt.O)(gi)))).pipe((0,xt.U)($=>{for(const V of $)if(!0!==V){if(V===gi)return gi;if(!1===V||V instanceof ke)return V}return!0}),(0,En.h)($=>$!==gi),(0,Ct.q)(1)))}function Yl(G){return(0,qe.z)((0,Be.b)($=>{if(De($))throw Qa(0,$)}),(0,xt.U)($=>!0===$))}const ea={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function hl(G,$,V,ie,ae){const Ie=fc(G,$,V);return Ie.matched?function Ra(G,$,V,ie){const ae=$.canMatch;if(!ae||0===ae.length)return(0,W.of)(!0);const Ie=ae.map(st=>{const vt=Ma(st,G);return qn(function oe(G){return G&&Un(G.canMatch)}(vt)?vt.canMatch($,V):G.runInContext(()=>vt($,V)))});return(0,W.of)(Ie).pipe(Wi(),Yl())}(ie=Zr($,ie),$,V).pipe((0,xt.U)(st=>!0===st?Ie:{...ea})):(0,W.of)(Ie)}function fc(G,$,V){if(""===$.path)return"full"===$.pathMatch&&(G.hasChildren()||V.length>0)?{...ea}:{matched:!0,consumedSegments:[],remainingSegments:V,parameters:{},positionalParamSegments:{}};const ae=($.matcher||Vt)(V,G,$);if(!ae)return{...ea};const Ie={};oi(ae.posParams,(vt,mn)=>{Ie[mn]=vt.path});const st=ae.consumed.length>0?{...Ie,...ae.consumed[ae.consumed.length-1].parameters}:Ie;return{matched:!0,consumedSegments:ae.consumed,remainingSegments:V.slice(ae.consumed.length),parameters:st,positionalParamSegments:ae.posParams??{}}}function bo(G,$,V,ie,ae="corrected"){if(V.length>0&&function Ja(G,$,V){return V.some(ie=>pc(G,$,ie)&&zr(ie)!==Ht)}(G,V,ie)){const st=new Ze($,function Xa(G,$,V,ie){const ae={};ae[Ht]=ie,ie._sourceSegment=G,ie._segmentIndexShift=$.length;for(const Ie of V)if(""===Ie.path&&zr(Ie)!==Ht){const st=new Ze([],{});st._sourceSegment=G,st._segmentIndexShift=$.length,ae[zr(Ie)]=st}return ae}(G,$,ie,new Ze(V,G.children)));return st._sourceSegment=G,st._segmentIndexShift=$.length,{segmentGroup:st,slicedSegments:[]}}if(0===V.length&&function Kl(G,$,V){return V.some(ie=>pc(G,$,ie))}(G,V,ie)){const st=new Ze(G.segments,function Mc(G,$,V,ie,ae,Ie){const st={};for(const vt of ie)if(pc(G,V,vt)&&!ae[zr(vt)]){const mn=new Ze([],{});mn._sourceSegment=G,mn._segmentIndexShift="legacy"===Ie?G.segments.length:$.length,st[zr(vt)]=mn}return{...ae,...st}}(G,$,V,ie,G.children,ae));return st._sourceSegment=G,st._segmentIndexShift=$.length,{segmentGroup:st,slicedSegments:V}}const Ie=new Ze(G.segments,G.children);return Ie._sourceSegment=G,Ie._segmentIndexShift=$.length,{segmentGroup:Ie,slicedSegments:V}}function pc(G,$,V){return(!(G.hasChildren()||$.length>0)||"full"!==V.pathMatch)&&""===V.path}function Ic(G,$,V,ie){return!!(zr(G)===ie||ie!==Ht&&pc($,V,G))&&("**"===G.path||fc($,G,V).matched)}function Tc(G,$,V){return 0===$.length&&!G.children[V]}const fa=!1;class mc{constructor($){this.segmentGroup=$||null}}class ta{constructor($){this.urlTree=$}}function ns(G){return(0,Ae._)(new mc(G))}function na(G){return(0,Ae._)(new ta(G))}class ro{constructor($,V,ie,ae,Ie){this.injector=$,this.configLoader=V,this.urlSerializer=ie,this.urlTree=ae,this.config=Ie,this.allowRedirects=!0}apply(){const $=bo(this.urlTree.root,[],[],this.config).segmentGroup,V=new Ze($.segments,$.children);return this.expandSegmentGroup(this.injector,this.config,V,Ht).pipe((0,xt.U)(Ie=>this.createUrlTree(pe(Ie),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,ct.K)(Ie=>{if(Ie instanceof ta)return this.allowRedirects=!1,this.match(Ie.urlTree);throw Ie instanceof mc?this.noMatchError(Ie):Ie}))}match($){return this.expandSegmentGroup(this.injector,this.config,$.root,Ht).pipe((0,xt.U)(ae=>this.createUrlTree(pe(ae),$.queryParams,$.fragment))).pipe((0,ct.K)(ae=>{throw ae instanceof mc?this.noMatchError(ae):ae}))}noMatchError($){return new M.vHH(4002,fa)}createUrlTree($,V,ie){const ae=$e($);return new ke(ae,V,ie)}expandSegmentGroup($,V,ie,ae){return 0===ie.segments.length&&ie.hasChildren()?this.expandChildren($,V,ie).pipe((0,xt.U)(Ie=>new Ze([],Ie))):this.expandSegment($,ie,V,ie.segments,ae,!0)}expandChildren($,V,ie){const ae=[];for(const Ie of Object.keys(ie.children))"primary"===Ie?ae.unshift(Ie):ae.push(Ie);return(0,J.D)(ae).pipe((0,Te.b)(Ie=>{const st=ie.children[Ie],vt=Ml(V,Ie);return this.expandSegmentGroup($,vt,st,Ie).pipe((0,xt.U)(mn=>({segment:mn,outlet:Ie})))}),(0,lt.R)((Ie,st)=>(Ie[st.outlet]=st.segment,Ie),{}),or())}expandSegment($,V,ie,ae,Ie,st){return(0,J.D)(ie).pipe((0,Te.b)(vt=>this.expandSegmentAgainstRoute($,V,ie,vt,ae,Ie,st).pipe((0,ct.K)(ii=>{if(ii instanceof mc)return(0,W.of)(null);throw ii}))),(0,je.P)(vt=>!!vt),(0,ct.K)((vt,mn)=>{if(hn(vt))return Tc(V,ae,Ie)?(0,W.of)(new Ze([],{})):ns(V);throw vt}))}expandSegmentAgainstRoute($,V,ie,ae,Ie,st,vt){return Ic(ae,V,Ie,st)?void 0===ae.redirectTo?this.matchSegmentAgainstRoute($,V,ae,Ie,st):vt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect($,V,ie,ae,Ie,st):ns(V):ns(V)}expandSegmentAgainstRouteUsingRedirect($,V,ie,ae,Ie,st){return"**"===ae.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect($,ie,ae,st):this.expandRegularSegmentAgainstRouteUsingRedirect($,V,ie,ae,Ie,st)}expandWildCardWithParamsAgainstRouteUsingRedirect($,V,ie,ae){const Ie=this.applyRedirectCommands([],ie.redirectTo,{});return ie.redirectTo.startsWith("/")?na(Ie):this.lineralizeSegments(ie,Ie).pipe((0,_t.z)(st=>{const vt=new Ze(st,{});return this.expandSegment($,vt,V,st,ae,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect($,V,ie,ae,Ie,st){const{matched:vt,consumedSegments:mn,remainingSegments:ii,positionalParamSegments:ir}=fc(V,ae,Ie);if(!vt)return ns(V);const Tt=this.applyRedirectCommands(mn,ae.redirectTo,ir);return ae.redirectTo.startsWith("/")?na(Tt):this.lineralizeSegments(ae,Tt).pipe((0,_t.z)(kr=>this.expandSegment($,V,ie,kr.concat(ii),st,!1)))}matchSegmentAgainstRoute($,V,ie,ae,Ie){return"**"===ie.path?($=Zr(ie,$),ie.loadChildren?(ie._loadedRoutes?(0,W.of)({routes:ie._loadedRoutes,injector:ie._loadedInjector}):this.configLoader.loadChildren($,ie)).pipe((0,xt.U)(vt=>(ie._loadedRoutes=vt.routes,ie._loadedInjector=vt.injector,new Ze(ae,{})))):(0,W.of)(new Ze(ae,{}))):hl(V,ie,ae,$).pipe((0,Rt.w)(({matched:st,consumedSegments:vt,remainingSegments:mn})=>st?this.getChildConfig($=ie._injector??$,ie,ae).pipe((0,_t.z)(ir=>{const Tt=ir.injector??$,kr=ir.routes,{segmentGroup:fs,slicedSegments:Rl}=bo(V,vt,mn,kr),ko=new Ze(fs.segments,fs.children);if(0===Rl.length&&ko.hasChildren())return this.expandChildren(Tt,kr,ko).pipe((0,xt.U)(Eu=>new Ze(vt,Eu)));if(0===kr.length&&0===Rl.length)return(0,W.of)(new Ze(vt,{}));const Eo=zr(ie)===Ie;return this.expandSegment(Tt,ko,kr,Rl,Eo?Ht:Ie,!0).pipe((0,xt.U)(Wa=>new Ze(vt.concat(Wa.segments),Wa.children)))})):ns(V)))}getChildConfig($,V,ie){return V.children?(0,W.of)({routes:V.children,injector:$}):V.loadChildren?void 0!==V._loadedRoutes?(0,W.of)({routes:V._loadedRoutes,injector:V._loadedInjector}):function dl(G,$,V,ie){const ae=$.canLoad;if(void 0===ae||0===ae.length)return(0,W.of)(!0);const Ie=ae.map(st=>{const vt=Ma(st,G);return qn(function Ha(G){return G&&Un(G.canLoad)}(vt)?vt.canLoad($,V):G.runInContext(()=>vt($,V)))});return(0,W.of)(Ie).pipe(Wi(),Yl())}($,V,ie).pipe((0,_t.z)(ae=>ae?this.configLoader.loadChildren($,V).pipe((0,Be.b)(Ie=>{V._loadedRoutes=Ie.routes,V._loadedInjector=Ie.injector})):function Al(G){return(0,Ae._)(mu(fa,3))}())):(0,W.of)({routes:[],injector:$})}lineralizeSegments($,V){let ie=[],ae=V.root;for(;;){if(ie=ie.concat(ae.segments),0===ae.numberOfChildren)return(0,W.of)(ie);if(ae.numberOfChildren>1||!ae.children[Ht])return(0,Ae._)(new M.vHH(4e3,fa));ae=ae.children[Ht]}}applyRedirectCommands($,V,ie){return this.applyRedirectCreateUrlTree(V,this.urlSerializer.parse(V),$,ie)}applyRedirectCreateUrlTree($,V,ie,ae){const Ie=this.createSegmentGroup($,V.root,ie,ae);return new ke(Ie,this.createQueryParams(V.queryParams,this.urlTree.queryParams),V.fragment)}createQueryParams($,V){const ie={};return oi($,(ae,Ie)=>{if("string"==typeof ae&&ae.startsWith(":")){const vt=ae.substring(1);ie[Ie]=V[vt]}else ie[Ie]=ae}),ie}createSegmentGroup($,V,ie,ae){const Ie=this.createSegments($,V.segments,ie,ae);let st={};return oi(V.children,(vt,mn)=>{st[mn]=this.createSegmentGroup($,vt,ie,ae)}),new Ze(Ie,st)}createSegments($,V,ie,ae){return V.map(Ie=>Ie.path.startsWith(":")?this.findPosParam($,Ie,ae):this.findOrReturn(Ie,ie))}findPosParam($,V,ie){const ae=ie[V.path.substring(1)];if(!ae)throw new M.vHH(4001,fa);return ae}findOrReturn($,V){let ie=0;for(const ae of V){if(ae.path===$.path)return V.splice(ie),ae;ie++}return $}}class el{}class Xe{constructor($,V,ie,ae,Ie,st,vt,mn){this.injector=$,this.rootComponentType=V,this.config=ie,this.urlTree=ae,this.url=Ie,this.paramsInheritanceStrategy=st,this.relativeLinkResolution=vt,this.urlSerializer=mn}recognize(){const $=bo(this.urlTree.root,[],[],this.config.filter(V=>void 0===V.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,$,Ht).pipe((0,xt.U)(V=>{if(null===V)return null;const ie=new go([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ht,this.rootComponentType,null,this.urlTree.root,-1,{}),ae=new Pt(ie,V),Ie=new Qo(this.url,ae);return this.inheritParamsAndData(Ie._root),Ie}))}inheritParamsAndData($){const V=$.value,ie=lr(V,this.paramsInheritanceStrategy);V.params=Object.freeze(ie.params),V.data=Object.freeze(ie.data),$.children.forEach(ae=>this.inheritParamsAndData(ae))}processSegmentGroup($,V,ie,ae){return 0===ie.segments.length&&ie.hasChildren()?this.processChildren($,V,ie):this.processSegment($,V,ie,ie.segments,ae)}processChildren($,V,ie){return(0,J.D)(Object.keys(ie.children)).pipe((0,Te.b)(ae=>{const Ie=ie.children[ae],st=Ml(V,ae);return this.processSegmentGroup($,st,Ie,ae)}),(0,lt.R)((ae,Ie)=>ae&&Ie?(ae.push(...Ie),ae):null),function Ei(G,$=!1){return(0,ut.e)((V,ie)=>{let ae=0;V.subscribe((0,vn.x)(ie,Ie=>{const st=G(Ie,ae++);(st||$)&&ie.next(Ie),!st&&ie.complete()}))})}(ae=>null!==ae),(0,Gn.d)(null),or(),(0,xt.U)(ae=>{if(null===ae)return null;const Ie=pa(ae);return function kl(G){G.sort(($,V)=>$.value.outlet===Ht?-1:V.value.outlet===Ht?1:$.value.outlet.localeCompare(V.value.outlet))}(Ie),Ie}))}processSegment($,V,ie,ae,Ie){return(0,J.D)(V).pipe((0,Te.b)(st=>this.processSegmentAgainstRoute(st._injector??$,st,ie,ae,Ie)),(0,je.P)(st=>!!st),(0,ct.K)(st=>{if(hn(st))return Tc(ie,ae,Ie)?(0,W.of)([]):(0,W.of)(null);throw st}))}processSegmentAgainstRoute($,V,ie,ae,Ie){if(V.redirectTo||!Ic(V,ie,ae,Ie))return(0,W.of)(null);let st;if("**"===V.path){const vt=ae.length>0?jt(ae).parameters:{},mn=Ts(ie)+ae.length,ii=new go(ae,vt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,za(V),zr(V),V.component??V._loadedComponent??null,V,Bs(ie),mn,Vr(V),mn);st=(0,W.of)({snapshot:ii,consumedSegments:[],remainingSegments:[]})}else st=hl(ie,V,ae,$).pipe((0,xt.U)(({matched:vt,consumedSegments:mn,remainingSegments:ii,parameters:ir})=>{if(!vt)return null;const Tt=Ts(ie)+mn.length;return{snapshot:new go(mn,ir,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,za(V),zr(V),V.component??V._loadedComponent??null,V,Bs(ie),Tt,Vr(V),Tt),consumedSegments:mn,remainingSegments:ii}}));return st.pipe((0,Rt.w)(vt=>{if(null===vt)return(0,W.of)(null);const{snapshot:mn,consumedSegments:ii,remainingSegments:ir}=vt;$=V._injector??$;const Tt=V._loadedInjector??$,kr=function To(G){return G.children?G.children:G.loadChildren?G._loadedRoutes:[]}(V),{segmentGroup:fs,slicedSegments:Rl}=bo(ie,ii,ir,kr.filter(Eo=>void 0===Eo.redirectTo),this.relativeLinkResolution);if(0===Rl.length&&fs.hasChildren())return this.processChildren(Tt,kr,fs).pipe((0,xt.U)(Eo=>null===Eo?null:[new Pt(mn,Eo)]));if(0===kr.length&&0===Rl.length)return(0,W.of)([new Pt(mn,[])]);const ko=zr(V)===Ie;return this.processSegment(Tt,kr,fs,Rl,ko?Ht:Ie).pipe((0,xt.U)(Eo=>null===Eo?null:[new Pt(mn,Eo)]))}))}}function ia(G){const $=G.value.routeConfig;return $&&""===$.path&&void 0===$.redirectTo}function pa(G){const $=[],V=new Set;for(const ie of G){if(!ia(ie)){$.push(ie);continue}const ae=$.find(Ie=>ie.value.routeConfig===Ie.value.routeConfig);void 0!==ae?(ae.children.push(...ie.children),V.add(ae)):$.push(ie)}for(const ie of V){const ae=pa(ie.children);$.push(new Pt(ie.value,ae))}return $.filter(ie=>!V.has(ie))}function Bs(G){let $=G;for(;$._sourceSegment;)$=$._sourceSegment;return $}function Ts(G){let $=G,V=$._segmentIndexShift??0;for(;$._sourceSegment;)$=$._sourceSegment,V+=$._segmentIndexShift??0;return V-1}function za(G){return G.data||{}}function Vr(G){return G.resolve||{}}function Pn(G){return"string"==typeof G.title||null===G.title}function Di(G){return(0,Rt.w)($=>{const V=G($);return V?(0,J.D)(V).pipe((0,xt.U)(()=>$)):(0,W.of)($)})}let yr=(()=>{class G{buildTitle(V){let ie,ae=V.root;for(;void 0!==ae;)ie=this.getResolvedTitleForRoute(ae)??ie,ae=ae.children.find(Ie=>Ie.outlet===Ht);return ie}getResolvedTitleForRoute(V){return V.data[Dt]}}return G.\u0275fac=function(V){return new(V||G)},G.\u0275prov=M.Yz7({token:G,factory:function(){return(0,M.f3M)(sr)},providedIn:"root"}),G})(),sr=(()=>{class G extends yr{constructor(V){super(),this.title=V}updateTitle(V){const ie=this.buildTitle(V);void 0!==ie&&this.title.setTitle(ie)}}return G.\u0275fac=function(V){return new(V||G)(M.LFG(en.Dx))},G.\u0275prov=M.Yz7({token:G,factory:G.\u0275fac,providedIn:"root"}),G})();class hr{}class Dr extends class Vs{shouldDetach($){return!1}store($,V){}shouldAttach($){return!1}retrieve($){return null}shouldReuseRoute($,V){return $.routeConfig===V.routeConfig}}{}const Ao=new M.OlP("",{providedIn:"root",factory:()=>({})}),As=new M.OlP("ROUTES");let ks=(()=>{class G{constructor(V,ie){this.injector=V,this.compiler=ie,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(V){if(this.componentLoaders.get(V))return this.componentLoaders.get(V);if(V._loadedComponent)return(0,W.of)(V._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(V);const ie=qn(V.loadComponent()).pipe((0,Be.b)(Ie=>{this.onLoadEndListener&&this.onLoadEndListener(V),V._loadedComponent=Ie}),(0,bt.x)(()=>{this.componentLoaders.delete(V)})),ae=new kt.c(ie,()=>new it.x).pipe((0,It.x)());return this.componentLoaders.set(V,ae),ae}loadChildren(V,ie){if(this.childrenLoaders.get(ie))return this.childrenLoaders.get(ie);if(ie._loadedRoutes)return(0,W.of)({routes:ie._loadedRoutes,injector:ie._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(ie);const Ie=this.loadModuleFactoryOrRoutes(ie.loadChildren).pipe((0,xt.U)(vt=>{this.onLoadEndListener&&this.onLoadEndListener(ie);let mn,ii,ir=!1;Array.isArray(vt)?ii=vt:(mn=vt.create(V).injector,ii=Mn(mn.get(As,[],M.XFs.Self|M.XFs.Optional)));return{routes:ii.map(Io),injector:mn}}),(0,bt.x)(()=>{this.childrenLoaders.delete(ie)})),st=new kt.c(Ie,()=>new it.x).pipe((0,It.x)());return this.childrenLoaders.set(ie,st),st}loadModuleFactoryOrRoutes(V){return qn(V()).pipe((0,_t.z)(ie=>ie instanceof M.YKP||Array.isArray(ie)?(0,W.of)(ie):(0,J.D)(this.compiler.compileModuleAsync(ie))))}}return G.\u0275fac=function(V){return new(V||G)(M.LFG(M.zs3),M.LFG(M.Sil))},G.\u0275prov=M.Yz7({token:G,factory:G.\u0275fac,providedIn:"root"}),G})();class Us{}class xs{shouldProcessUrl($){return!0}extract($){return $}merge($,V){return $}}function so(G){throw G}function _c(G,$,V){return $.parse("/")}const vc={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_u={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function yc(){const G=(0,M.f3M)(Lt),$=(0,M.f3M)(Mr),V=(0,M.f3M)(tt.Ye),ie=(0,M.f3M)(M.zs3),ae=(0,M.f3M)(M.Sil),Ie=(0,M.f3M)(As,{optional:!0})??[],st=(0,M.f3M)(Ao,{optional:!0})??{},vt=(0,M.f3M)(sr),mn=(0,M.f3M)(yr,{optional:!0}),ii=(0,M.f3M)(Us,{optional:!0}),ir=(0,M.f3M)(hr,{optional:!0}),Tt=new Qs(null,G,$,V,ie,ae,Mn(Ie));return ii&&(Tt.urlHandlingStrategy=ii),ir&&(Tt.routeReuseStrategy=ir),Tt.titleStrategy=mn??vt,function vu(G,$){G.errorHandler&&($.errorHandler=G.errorHandler),G.malformedUriErrorHandler&&($.malformedUriErrorHandler=G.malformedUriErrorHandler),G.onSameUrlNavigation&&($.onSameUrlNavigation=G.onSameUrlNavigation),G.paramsInheritanceStrategy&&($.paramsInheritanceStrategy=G.paramsInheritanceStrategy),G.relativeLinkResolution&&($.relativeLinkResolution=G.relativeLinkResolution),G.urlUpdateStrategy&&($.urlUpdateStrategy=G.urlUpdateStrategy),G.canceledNavigationResolution&&($.canceledNavigationResolution=G.canceledNavigationResolution)}(st,Tt),Tt}let Qs=(()=>{class G{constructor(V,ie,ae,Ie,st,vt,mn){this.rootComponentType=V,this.urlSerializer=ie,this.rootContexts=ae,this.location=Ie,this.config=mn,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new it.x,this.errorHandler=so,this.malformedUriErrorHandler=_c,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,W.of)(void 0),this.urlHandlingStrategy=new xs,this.routeReuseStrategy=new Dr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=st.get(ks),this.configLoader.onLoadEndListener=kr=>this.triggerEvent(new gs(kr)),this.configLoader.onLoadStartListener=kr=>this.triggerEvent(new mo(kr)),this.ngModule=st.get(M.h0i),this.console=st.get(M.c2e);const Tt=st.get(M.R0b);this.isNgZoneEnabled=Tt instanceof M.R0b&&M.R0b.isInAngularZone(),this.resetConfig(mn),this.currentUrlTree=function dn(){return new ke(new Ze([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Wn(this.currentUrlTree,this.rootComponentType),this.transitions=new Le.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(V){const ie=this.events;return V.pipe((0,En.h)(ae=>0!==ae.id),(0,xt.U)(ae=>({...ae,extractedUrl:this.urlHandlingStrategy.extract(ae.rawUrl)})),(0,Rt.w)(ae=>{let Ie=!1,st=!1;return(0,W.of)(ae).pipe((0,Be.b)(vt=>{this.currentNavigation={id:vt.id,initialUrl:vt.rawUrl,extractedUrl:vt.extractedUrl,trigger:vt.source,extras:vt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Rt.w)(vt=>{const mn=this.browserUrlTree.toString(),ii=!this.navigated||vt.extractedUrl.toString()!==mn||mn!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||ii)&&this.urlHandlingStrategy.shouldProcessUrl(vt.rawUrl))return Ga(vt.source)&&(this.browserUrlTree=vt.extractedUrl),(0,W.of)(vt).pipe((0,Rt.w)(Tt=>{const kr=this.transitions.getValue();return ie.next(new Er(Tt.id,this.serializeUrl(Tt.extractedUrl),Tt.source,Tt.restoredState)),kr!==this.transitions.getValue()?Ge.E:Promise.resolve(Tt)}),function fl(G,$,V,ie){return(0,Rt.w)(ae=>function qu(G,$,V,ie,ae){return new ro(G,$,V,ie,ae).apply()}(G,$,V,ae.extractedUrl,ie).pipe((0,xt.U)(Ie=>({...ae,urlAfterRedirects:Ie}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Be.b)(Tt=>{this.currentNavigation={...this.currentNavigation,finalUrl:Tt.urlAfterRedirects},ae.urlAfterRedirects=Tt.urlAfterRedirects}),function X(G,$,V,ie,ae,Ie){return(0,_t.z)(st=>function Oa(G,$,V,ie,ae,Ie,st="emptyOnly",vt="legacy"){return new Xe(G,$,V,ie,ae,st,vt,Ie).recognize().pipe((0,Rt.w)(mn=>null===mn?function ja(G){return new Ue.y($=>$.error(G))}(new el):(0,W.of)(mn)))}(G,$,V,st.urlAfterRedirects,ie.serialize(st.urlAfterRedirects),ie,ae,Ie).pipe((0,xt.U)(vt=>({...st,targetSnapshot:vt}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Be.b)(Tt=>{if(ae.targetSnapshot=Tt.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!Tt.extras.skipLocationChange){const fs=this.urlHandlingStrategy.merge(Tt.urlAfterRedirects,Tt.rawUrl);this.setBrowserUrl(fs,Tt)}this.browserUrlTree=Tt.urlAfterRedirects}const kr=new Kr(Tt.id,this.serializeUrl(Tt.extractedUrl),this.serializeUrl(Tt.urlAfterRedirects),Tt.targetSnapshot);ie.next(kr)}));if(ii&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:kr,extractedUrl:fs,source:Rl,restoredState:ko,extras:Eo}=vt,jc=new Er(kr,this.serializeUrl(fs),Rl,ko);ie.next(jc);const Wa=Wn(fs,this.rootComponentType).snapshot;return ae={...vt,targetSnapshot:Wa,urlAfterRedirects:fs,extras:{...Eo,skipLocationChange:!1,replaceUrl:!1}},(0,W.of)(ae)}return this.rawUrlTree=vt.rawUrl,vt.resolve(null),Ge.E}),(0,Be.b)(vt=>{const mn=new Fs(vt.id,this.serializeUrl(vt.extractedUrl),this.serializeUrl(vt.urlAfterRedirects),vt.targetSnapshot);this.triggerEvent(mn)}),(0,xt.U)(vt=>ae={...vt,guards:gu(vt.targetSnapshot,vt.currentSnapshot,this.rootContexts)}),function cl(G,$){return(0,_t.z)(V=>{const{targetSnapshot:ie,currentSnapshot:ae,guards:{canActivateChecks:Ie,canDeactivateChecks:st}}=V;return 0===st.length&&0===Ie.length?(0,W.of)({...V,guardsResult:!0}):function ar(G,$,V,ie){return(0,J.D)(G).pipe((0,_t.z)(ae=>function ka(G,$,V,ie,ae){const Ie=$&&$.routeConfig?$.routeConfig.canDeactivate:null;if(!Ie||0===Ie.length)return(0,W.of)(!0);const st=Ie.map(vt=>{const mn=Zs($)??ae,ii=Ma(vt,mn);return qn(function ce(G){return G&&Un(G.canDeactivate)}(ii)?ii.canDeactivate(G,$,V,ie):mn.runInContext(()=>ii(G,$,V,ie))).pipe((0,je.P)())});return(0,W.of)(st).pipe(Wi())}(ae.component,ae.route,V,$,ie)),(0,je.P)(ae=>!0!==ae,!0))}(st,ie,ae,G).pipe((0,_t.z)(vt=>vt&&function Cr(G){return"boolean"==typeof G}(vt)?function Ds(G,$,V,ie){return(0,J.D)($).pipe((0,Te.b)(ae=>(0,at.z)(function ul(G,$){return null!==G&&$&&$(new uc(G)),(0,W.of)(!0)}(ae.route.parent,ie),function Jo(G,$){return null!==G&&$&&$(new Fo(G)),(0,W.of)(!0)}(ae.route,ie),function ha(G,$,V){const ie=$[$.length-1],Ie=$.slice(0,$.length-1).reverse().map(st=>function Il(G){const $=G.routeConfig?G.routeConfig.canActivateChild:null;return $&&0!==$.length?{node:G,guards:$}:null}(st)).filter(st=>null!==st).map(st=>(0,Ve.P)(()=>{const vt=st.guards.map(mn=>{const ii=Zs(st.node)??V,ir=Ma(mn,ii);return qn(function Br(G){return G&&Un(G.canActivateChild)}(ir)?ir.canActivateChild(ie,G):ii.runInContext(()=>ir(ie,G))).pipe((0,je.P)())});return(0,W.of)(vt).pipe(Wi())}));return(0,W.of)(Ie).pipe(Wi())}(G,ae.path,V),function Aa(G,$,V){const ie=$.routeConfig?$.routeConfig.canActivate:null;if(!ie||0===ie.length)return(0,W.of)(!0);const ae=ie.map(Ie=>(0,Ve.P)(()=>{const st=Zs($)??V,vt=Ma(Ie,st);return qn(function hc(G){return G&&Un(G.canActivate)}(vt)?vt.canActivate($,G):st.runInContext(()=>vt($,G))).pipe((0,je.P)())}));return(0,W.of)(ae).pipe(Wi())}(G,ae.route,V))),(0,je.P)(ae=>!0!==ae,!0))}(ie,Ie,G,$):(0,W.of)(vt)),(0,xt.U)(vt=>({...V,guardsResult:vt})))})}(this.ngModule.injector,vt=>this.triggerEvent(vt)),(0,Be.b)(vt=>{if(ae.guardsResult=vt.guardsResult,De(vt.guardsResult))throw Qa(0,vt.guardsResult);const mn=new la(vt.id,this.serializeUrl(vt.extractedUrl),this.serializeUrl(vt.urlAfterRedirects),vt.targetSnapshot,!!vt.guardsResult);this.triggerEvent(mn)}),(0,En.h)(vt=>!!vt.guardsResult||(this.restoreHistory(vt),this.cancelNavigationTransition(vt,"",3),!1)),Di(vt=>{if(vt.guards.canActivateChecks.length)return(0,W.of)(vt).pipe((0,Be.b)(mn=>{const ii=new xa(mn.id,this.serializeUrl(mn.extractedUrl),this.serializeUrl(mn.urlAfterRedirects),mn.targetSnapshot);this.triggerEvent(ii)}),(0,Rt.w)(mn=>{let ii=!1;return(0,W.of)(mn).pipe(function me(G,$){return(0,_t.z)(V=>{const{targetSnapshot:ie,guards:{canActivateChecks:ae}}=V;if(!ae.length)return(0,W.of)(V);let Ie=0;return(0,J.D)(ae).pipe((0,Te.b)(st=>function re(G,$,V,ie){const ae=G.routeConfig,Ie=G._resolve;return void 0!==ae?.title&&!Pn(ae)&&(Ie[Dt]=ae.title),function Re(G,$,V,ie){const ae=function Et(G){return[...Object.keys(G),...Object.getOwnPropertySymbols(G)]}(G);if(0===ae.length)return(0,W.of)({});const Ie={};return(0,J.D)(ae).pipe((0,_t.z)(st=>function ln(G,$,V,ie){const ae=Zs($)??ie,Ie=Ma(G,ae);return qn(Ie.resolve?Ie.resolve($,V):ae.runInContext(()=>Ie($,V)))}(G[st],$,V,ie).pipe((0,je.P)(),(0,Be.b)(vt=>{Ie[st]=vt}))),pn(1),(0,yi.h)(Ie),(0,ct.K)(st=>hn(st)?Ge.E:(0,Ae._)(st)))}(Ie,G,$,ie).pipe((0,xt.U)(st=>(G._resolvedData=st,G.data=lr(G,V).resolve,ae&&Pn(ae)&&(G.data[Dt]=ae.title),null)))}(st.route,ie,G,$)),(0,Be.b)(()=>Ie++),pn(1),(0,_t.z)(st=>Ie===ae.length?(0,W.of)(V):Ge.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Be.b)({next:()=>ii=!0,complete:()=>{ii||(this.restoreHistory(mn),this.cancelNavigationTransition(mn,"",2))}}))}),(0,Be.b)(mn=>{const ii=new po(mn.id,this.serializeUrl(mn.extractedUrl),this.serializeUrl(mn.urlAfterRedirects),mn.targetSnapshot);this.triggerEvent(ii)}))}),Di(vt=>{const mn=ii=>{const ir=[];ii.routeConfig?.loadComponent&&!ii.routeConfig._loadedComponent&&ir.push(this.configLoader.loadComponent(ii.routeConfig).pipe((0,Be.b)(Tt=>{ii.component=Tt}),(0,xt.U)(()=>{})));for(const Tt of ii.children)ir.push(...mn(Tt));return ir};return(0,be.a)(mn(vt.targetSnapshot.root)).pipe((0,Gn.d)(),(0,Ct.q)(1))}),Di(()=>this.afterPreactivation()),(0,xt.U)(vt=>{const mn=function zl(G,$,V){const ie=qr(G,$._root,V?V._root:void 0);return new Dn(ie,$)}(this.routeReuseStrategy,vt.targetSnapshot,vt.currentRouterState);return ae={...vt,targetRouterState:mn}}),(0,Be.b)(vt=>{this.currentUrlTree=vt.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(vt.urlAfterRedirects,vt.rawUrl),this.routerState=vt.targetRouterState,"deferred"===this.urlUpdateStrategy&&(vt.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,vt),this.browserUrlTree=vt.urlAfterRedirects)}),((G,$,V)=>(0,xt.U)(ie=>(new Ls($,ie.targetRouterState,ie.currentRouterState,V).activate(G),ie)))(this.rootContexts,this.routeReuseStrategy,vt=>this.triggerEvent(vt)),(0,Be.b)({next(){Ie=!0},complete(){Ie=!0}}),(0,bt.x)(()=>{Ie||st||this.cancelNavigationTransition(ae,"",1),this.currentNavigation?.id===ae.id&&(this.currentNavigation=null)}),(0,ct.K)(vt=>{if(st=!0,$l(vt)){Gl(vt)||(this.navigated=!0,this.restoreHistory(ae,!0));const mn=new Lr(ae.id,this.serializeUrl(ae.extractedUrl),vt.message,vt.cancellationCode);if(ie.next(mn),Gl(vt)){const ii=this.urlHandlingStrategy.merge(vt.url,this.rawUrlTree),ir={skipLocationChange:ae.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ga(ae.source)};this.scheduleNavigation(ii,"imperative",null,ir,{resolve:ae.resolve,reject:ae.reject,promise:ae.promise})}else ae.resolve(!1)}else{this.restoreHistory(ae,!0);const mn=new aa(ae.id,this.serializeUrl(ae.extractedUrl),vt,ae.targetSnapshot??void 0);ie.next(mn);try{ae.resolve(this.errorHandler(vt))}catch(ii){ae.reject(ii)}}return Ge.E}))}))}resetRootComponentType(V){this.rootComponentType=V,this.routerState.root.component=this.rootComponentType}setTransition(V){this.transitions.next({...this.transitions.value,...V})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(V=>{const ie="popstate"===V.type?"popstate":"hashchange";"popstate"===ie&&setTimeout(()=>{const ae={replaceUrl:!0},Ie=V.state?.navigationId?V.state:null;if(Ie){const vt={...Ie};delete vt.navigationId,delete vt.\u0275routerPageId,0!==Object.keys(vt).length&&(ae.state=vt)}const st=this.parseUrl(V.url);this.scheduleNavigation(st,ie,Ie,ae)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(V){this.events.next(V)}resetConfig(V){this.config=V.map(Io),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(V,ie={}){const{relativeTo:ae,queryParams:Ie,fragment:st,queryParamsHandling:vt,preserveFragment:mn}=ie,ii=ae||this.routerState.root,ir=mn?this.currentUrlTree.fragment:st;let Tt=null;switch(vt){case"merge":Tt={...this.currentUrlTree.queryParams,...Ie};break;case"preserve":Tt=this.currentUrlTree.queryParams;break;default:Tt=Ie||null}return null!==Tt&&(Tt=this.removeEmptyProps(Tt)),Wt(ii,this.currentUrlTree,V,Tt,ir??null)}navigateByUrl(V,ie={skipLocationChange:!1}){const ae=De(V)?V:this.parseUrl(V),Ie=this.urlHandlingStrategy.merge(ae,this.rawUrlTree);return this.scheduleNavigation(Ie,"imperative",null,ie)}navigate(V,ie={skipLocationChange:!1}){return function Gs(G){for(let $=0;$<G.length;$++){if(null==G[$])throw new M.vHH(4008,false)}}(V),this.navigateByUrl(this.createUrlTree(V,ie),ie)}serializeUrl(V){return this.urlSerializer.serialize(V)}parseUrl(V){let ie;try{ie=this.urlSerializer.parse(V)}catch(ae){ie=this.malformedUriErrorHandler(ae,this.urlSerializer,V)}return ie}isActive(V,ie){let ae;if(ae=!0===ie?{...vc}:!1===ie?{..._u}:ie,De(V))return On(this.currentUrlTree,V,ae);const Ie=this.parseUrl(V);return On(this.currentUrlTree,Ie,ae)}removeEmptyProps(V){return Object.keys(V).reduce((ie,ae)=>{const Ie=V[ae];return null!=Ie&&(ie[ae]=Ie),ie},{})}processNavigations(){this.navigations.subscribe(V=>{this.navigated=!0,this.lastSuccessfulId=V.id,this.currentPageId=V.targetPageId,this.events.next(new hs(V.id,this.serializeUrl(V.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),V.resolve(!0)},V=>{this.console.warn(`Unhandled Navigation Error: ${V}`)})}scheduleNavigation(V,ie,ae,Ie,st){if(this.disposed)return Promise.resolve(!1);let vt,mn,ii;st?(vt=st.resolve,mn=st.reject,ii=st.promise):ii=new Promise((kr,fs)=>{vt=kr,mn=fs});const ir=++this.navigationId;let Tt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(ae=this.location.getState()),Tt=ae&&ae.\u0275routerPageId?ae.\u0275routerPageId:Ie.replaceUrl||Ie.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):Tt=0,this.setTransition({id:ir,targetPageId:Tt,source:ie,restoredState:ae,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:V,extras:Ie,resolve:vt,reject:mn,promise:ii,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ii.catch(kr=>Promise.reject(kr))}setBrowserUrl(V,ie){const ae=this.urlSerializer.serialize(V),Ie={...ie.extras.state,...this.generateNgRouterState(ie.id,ie.targetPageId)};this.location.isCurrentPathEqualTo(ae)||ie.extras.replaceUrl?this.location.replaceState(ae,"",Ie):this.location.go(ae,"",Ie)}restoreHistory(V,ie=!1){if("computed"===this.canceledNavigationResolution){const ae=this.currentPageId-V.targetPageId;"popstate"!==V.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===ae?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===ae&&(this.resetState(V),this.browserUrlTree=V.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(ae)}else"replace"===this.canceledNavigationResolution&&(ie&&this.resetState(V),this.resetUrlToCurrentUrlTree())}resetState(V){this.routerState=V.currentRouterState,this.currentUrlTree=V.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,V.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(V,ie,ae){const Ie=new Lr(V.id,this.serializeUrl(V.extractedUrl),ie,ae);this.triggerEvent(Ie),V.resolve(!1)}generateNgRouterState(V,ie){return"computed"===this.canceledNavigationResolution?{navigationId:V,\u0275routerPageId:ie}:{navigationId:V}}}return G.\u0275fac=function(V){M.$Z()},G.\u0275prov=M.Yz7({token:G,factory:function(){return yc()},providedIn:"root"}),G})();function Ga(G){return"imperative"!==G}class Rs{}let ni=(()=>{class G{constructor(V,ie,ae,Ie,st){this.router=V,this.injector=ae,this.preloadingStrategy=Ie,this.loader=st}setUpPreloading(){this.subscription=this.router.events.pipe((0,En.h)(V=>V instanceof hs),(0,Te.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(V,ie){const ae=[];for(const Ie of ie){Ie.providers&&!Ie._injector&&(Ie._injector=(0,M.MMx)(Ie.providers,V,`Route: ${Ie.path}`));const st=Ie._injector??V,vt=Ie._loadedInjector??st;Ie.loadChildren&&!Ie._loadedRoutes&&void 0===Ie.canLoad||Ie.loadComponent&&!Ie._loadedComponent?ae.push(this.preloadConfig(st,Ie)):(Ie.children||Ie._loadedRoutes)&&ae.push(this.processRoutes(vt,Ie.children??Ie._loadedRoutes))}return(0,J.D)(ae).pipe((0,qt.J)())}preloadConfig(V,ie){return this.preloadingStrategy.preload(ie,()=>{let ae;ae=ie.loadChildren&&void 0===ie.canLoad?this.loader.loadChildren(V,ie):(0,W.of)(null);const Ie=ae.pipe((0,_t.z)(st=>null===st?(0,W.of)(void 0):(ie._loadedRoutes=st.routes,ie._loadedInjector=st.injector,this.processRoutes(st.injector??V,st.routes))));if(ie.loadComponent&&!ie._loadedComponent){const st=this.loader.loadComponent(ie);return(0,J.D)([Ie,st]).pipe((0,qt.J)())}return Ie})}}return G.\u0275fac=function(V){return new(V||G)(M.LFG(Qs),M.LFG(M.Sil),M.LFG(M.lqb),M.LFG(Rs),M.LFG(ks))},G.\u0275prov=M.Yz7({token:G,factory:G.\u0275fac,providedIn:"root"}),G})();const Ni=new M.OlP("");let Hc=(()=>{class G{constructor(V,ie,ae={}){this.router=V,this.viewportScroller=ie,this.options=ae,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ae.scrollPositionRestoration=ae.scrollPositionRestoration||"disabled",ae.anchorScrolling=ae.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(V=>{V instanceof Er?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=V.navigationTrigger,this.restoredId=V.restoredState?V.restoredState.navigationId:0):V instanceof hs&&(this.lastId=V.id,this.scheduleScrollEvent(V,this.router.parseUrl(V.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(V=>{V instanceof Pr&&(V.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(V.position):V.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(V.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(V,ie){this.router.triggerEvent(new Pr(V,"popstate"===this.lastSource?this.store[this.restoredId]:null,ie))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return G.\u0275fac=function(V){M.$Z()},G.\u0275prov=M.Yz7({token:G,factory:G.\u0275fac}),G})();function is(G,$){return{\u0275kind:G,\u0275providers:$}}function Hs(G){return[{provide:As,multi:!0,useValue:G}]}function $a(){const G=(0,M.f3M)(M.zs3);return $=>{const V=G.get(M.z2F);if($!==V.components[0])return;const ie=G.get(Qs),ae=G.get(bc);1===G.get(Zl)&&ie.initialNavigation(),G.get(Td,null,M.XFs.Optional)?.setUpPreloading(),G.get(Ni,null,M.XFs.Optional)?.init(),ie.resetRootComponentType(V.componentTypes[0]),ae.closed||(ae.next(),ae.unsubscribe())}}const bc=new M.OlP("",{factory:()=>new it.x}),Zl=new M.OlP("",{providedIn:"root",factory:()=>1});const Td=new M.OlP("");function Rh(G){return is(0,[{provide:Td,useExisting:ni},{provide:Rs,useExisting:G}])}const bu=new M.OlP("ROUTER_FORROOT_GUARD"),as=[tt.Ye,{provide:Lt,useClass:sn},{provide:Qs,useFactory:yc},Mr,{provide:nr,useFactory:function kn(G){return G.routerState.root},deps:[Qs]},ks];function Ki(){return new M.PXZ("Router",Qs)}let js=(()=>{class G{constructor(V){}static forRoot(V,ie){return{ngModule:G,providers:[as,[],Hs(V),{provide:bu,useFactory:vi,deps:[[Qs,new M.FiY,new M.tp0]]},{provide:Ao,useValue:ie||{}},ie?.useHash?{provide:tt.S$,useClass:tt.Do}:{provide:tt.S$,useClass:tt.b0},{provide:Ni,useFactory:()=>{const G=(0,M.f3M)(Qs),$=(0,M.f3M)(tt.EM),V=(0,M.f3M)(Ao);return V.scrollOffset&&$.setOffset(V.scrollOffset),new Hc(G,$,V)}},ie?.preloadingStrategy?Rh(ie.preloadingStrategy).\u0275providers:[],{provide:M.PXZ,multi:!0,useFactory:Ki},ie?.initialNavigation?Cu(ie):[],[{provide:wo,useFactory:$a},{provide:M.tb,multi:!0,useExisting:wo}]]}}static forChild(V){return{ngModule:G,providers:[Hs(V)]}}}return G.\u0275fac=function(V){return new(V||G)(M.LFG(bu,8))},G.\u0275mod=M.oAB({type:G}),G.\u0275inj=M.cJS({imports:[ls]}),G})();function vi(G){return"guarded"}function Cu(G){return["disabled"===G.initialNavigation?is(3,[{provide:M.ip1,multi:!0,useFactory:()=>{const $=(0,M.f3M)(Qs);return()=>{$.setUpLocationChangeListener()}}},{provide:Zl,useValue:2}]).\u0275providers:[],"enabledBlocking"===G.initialNavigation?is(2,[{provide:Zl,useValue:0},{provide:M.ip1,multi:!0,deps:[M.zs3],useFactory:$=>{const V=$.get(tt.V_,Promise.resolve());let ie=!1;return()=>V.then(()=>new Promise(Ie=>{const st=$.get(Qs),vt=$.get(bc);(function ae(Ie){$.get(Qs).events.pipe((0,En.h)(vt=>vt instanceof hs||vt instanceof Lr||vt instanceof aa),(0,xt.U)(vt=>vt instanceof hs||vt instanceof Lr&&(0===vt.code||1===vt.code)&&null),(0,En.h)(vt=>null!==vt),(0,Ct.q)(1)).subscribe(()=>{Ie()})})(()=>{Ie(!0),ie=!0}),st.afterPreactivation=()=>(Ie(!0),ie||vt.closed?(0,W.of)(void 0):vt),st.initialNavigation()}))}}]).\u0275providers:[]]}const wo=new M.OlP("")},3942:(Hn,Mt,z)=>{z.d(Mt,{Z:()=>tt});var M=z(2090),J=z(4859),W=z(2951),Le=z(1877);class b{constructor(Rt,Ct){this._delegate=Rt,this.firebase=Ct,(0,W._addComponent)(Rt,new J.wA("app-compat",()=>this,"PUBLIC")),this.container=Rt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Rt){this._delegate.automaticDataCollectionEnabled=Rt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Rt=>{this._delegate.checkDestroyed(),Rt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,W.deleteApp)(this._delegate)))}_getService(Rt,Ct=W._DEFAULT_ENTRY_NAME){var pt;this._delegate.checkDestroyed();const En=this._delegate.container.getProvider(Rt);return!En.isInitialized()&&"EXPLICIT"===(null===(pt=En.getComponent())||void 0===pt?void 0:pt.instantiationMode)&&En.initialize(),En.getImmediate({identifier:Ct})}_removeServiceInstance(Rt,Ct=W._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Rt).clearInstance(Ct)}_addComponent(Rt){(0,W._addComponent)(this._delegate,Rt)}_addOrOverwriteComponent(Rt){(0,W._addOrOverwriteComponent)(this._delegate,Rt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const at=new M.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Ae=function qe(){const xt=function Ve(xt){const Rt={},Ct={__esModule:!0,initializeApp:function _t(ct,lt={}){const ut=W.initializeApp(ct,lt);if((0,M.r3)(Rt,ut.name))return Rt[ut.name];const vn=new xt(ut,Ct);return Rt[ut.name]=vn,vn},app:En,registerVersion:W.registerVersion,setLogLevel:W.setLogLevel,onLog:W.onLog,apps:null,SDK_VERSION:W.SDK_VERSION,INTERNAL:{registerComponent:function Te(ct){const lt=ct.name,ut=lt.replace("-compat","");if(W._registerComponent(ct)&&"PUBLIC"===ct.type){const vn=(pn=En())=>{if("function"!=typeof pn[ut])throw at.create("invalid-app-argument",{appName:lt});return pn[ut]()};void 0!==ct.serviceProps&&(0,M.ZB)(vn,ct.serviceProps),Ct[ut]=vn,xt.prototype[ut]=function(...pn){return this._getService.bind(this,lt).apply(this,ct.multipleInstances?pn:[])}}return"PUBLIC"===ct.type?Ct[ut]:null},removeApp:function pt(ct){delete Rt[ct]},useAsService:function Be(ct,lt){return"serverAuth"===lt?null:lt},modularAPIs:W}};function En(ct){if(!(0,M.r3)(Rt,ct=ct||W._DEFAULT_ENTRY_NAME))throw at.create("no-app",{appName:ct});return Rt[ct]}return Ct.default=Ct,Object.defineProperty(Ct,"apps",{get:function je(){return Object.keys(Rt).map(ct=>Rt[ct])}}),En.App=xt,Ct}(b);return xt.INTERNAL=Object.assign(Object.assign({},xt.INTERNAL),{createFirebaseNamespace:qe,extendNamespace:function Rt(Ct){(0,M.ZB)(xt,Ct)},createSubscribe:M.ne,ErrorFactory:M.LL,deepExtend:M.ZB}),xt}(),Ue=new Le.Yd("@firebase/app-compat");if((0,M.jU)()&&void 0!==self.firebase){Ue.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const xt=self.firebase.SDK_VERSION;xt&&xt.indexOf("LITE")>=0&&Ue.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const tt=Ae;!function it(xt){(0,W.registerVersion)("@firebase/app-compat","0.2.13",xt)}()},2951:(Hn,Mt,z)=>{z.r(Mt),z.d(Mt,{FirebaseError:()=>Le.ZR,SDK_VERSION:()=>Ye,_DEFAULT_ENTRY_NAME:()=>Nn,_addComponent:()=>we,_addOrOverwriteComponent:()=>ke,_apps:()=>Ot,_clearComponents:()=>Zn,_components:()=>ze,_getProvider:()=>Zt,_registerComponent:()=>Ze,_removeServiceInstance:()=>_n,deleteApp:()=>ti,getApp:()=>Je,getApps:()=>Jt,initializeApp:()=>Ke,onLog:()=>Bi,registerVersion:()=>Pi,setLogLevel:()=>Ii});var M=z(5861),J=z(4859),W=z(1877),Le=z(2090);let be,at;const Ae=new WeakMap,Ue=new WeakMap,Ge=new WeakMap,kt=new WeakMap,it=new WeakMap;let Rt={get(Wt,$t,Sn){if(Wt instanceof IDBTransaction){if("done"===$t)return Ue.get(Wt);if("objectStoreNames"===$t)return Wt.objectStoreNames||Ge.get(Wt);if("store"===$t)return Sn.objectStoreNames[1]?void 0:Sn.objectStore(Sn.objectStoreNames[0])}return _t(Wt[$t])},set:(Wt,$t,Sn)=>(Wt[$t]=Sn,!0),has:(Wt,$t)=>Wt instanceof IDBTransaction&&("done"===$t||"store"===$t)||$t in Wt};function En(Wt){return"function"==typeof Wt?function pt(Wt){return Wt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function qe(){return at||(at=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Wt)?function(...$t){return Wt.apply(je(this),$t),_t(Ae.get(this))}:function(...$t){return _t(Wt.apply(je(this),$t))}:function($t,...Sn){const Ln=Wt.call(je(this),$t,...Sn);return Ge.set(Ln,$t.sort?$t.sort():[$t]),_t(Ln)}}(Wt):(Wt instanceof IDBTransaction&&function xt(Wt){if(Ue.has(Wt))return;const $t=new Promise((Sn,Ln)=>{const fi=()=>{Wt.removeEventListener("complete",Yi),Wt.removeEventListener("error",Ji),Wt.removeEventListener("abort",Ji)},Yi=()=>{Sn(),fi()},Ji=()=>{Ln(Wt.error||new DOMException("AbortError","AbortError")),fi()};Wt.addEventListener("complete",Yi),Wt.addEventListener("error",Ji),Wt.addEventListener("abort",Ji)});Ue.set(Wt,$t)}(Wt),((Wt,$t)=>$t.some(Sn=>Wt instanceof Sn))(Wt,function Ve(){return be||(be=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Wt,Rt):Wt)}function _t(Wt){if(Wt instanceof IDBRequest)return function tt(Wt){const $t=new Promise((Sn,Ln)=>{const fi=()=>{Wt.removeEventListener("success",Yi),Wt.removeEventListener("error",Ji)},Yi=()=>{Sn(_t(Wt.result)),fi()},Ji=()=>{Ln(Wt.error),fi()};Wt.addEventListener("success",Yi),Wt.addEventListener("error",Ji)});return $t.then(Sn=>{Sn instanceof IDBCursor&&Ae.set(Sn,Wt)}).catch(()=>{}),it.set($t,Wt),$t}(Wt);if(kt.has(Wt))return kt.get(Wt);const $t=En(Wt);return $t!==Wt&&(kt.set(Wt,$t),it.set($t,Wt)),$t}const je=Wt=>it.get(Wt),ct=["get","getKey","getAll","getAllKeys","count"],lt=["put","add","delete","clear"],ut=new Map;function vn(Wt,$t){if(!(Wt instanceof IDBDatabase)||$t in Wt||"string"!=typeof $t)return;if(ut.get($t))return ut.get($t);const Sn=$t.replace(/FromIndex$/,""),Ln=$t!==Sn,fi=lt.includes(Sn);if(!(Sn in(Ln?IDBIndex:IDBObjectStore).prototype)||!fi&&!ct.includes(Sn))return;const Yi=function(){var Ji=(0,M.Z)(function*(er,...tr){const es=this.transaction(er,fi?"readwrite":"readonly");let Ms=es.store;return Ln&&(Ms=Ms.index(tr.shift())),(yield Promise.all([Ms[Sn](...tr),fi&&es.done]))[0]});return function(tr){return Ji.apply(this,arguments)}}();return ut.set($t,Yi),Yi}!function Ct(Wt){Rt=Wt(Rt)}(Wt=>({...Wt,get:($t,Sn,Ln)=>vn($t,Sn)||Wt.get($t,Sn,Ln),has:($t,Sn)=>!!vn($t,Sn)||Wt.has($t,Sn)}));class pn{constructor($t){this.container=$t}getPlatformInfoString(){return this.container.getProviders().map(Sn=>{if(function ai(Wt){return"VERSION"===Wt.getComponent()?.type}(Sn)){const Ln=Sn.getImmediate();return`${Ln.library}/${Ln.version}`}return null}).filter(Sn=>Sn).join(" ")}}const Gn="@firebase/app",or=new W.Yd("@firebase/app"),Nn="[DEFAULT]",$n={[Gn]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ot=new Map,ze=new Map;function we(Wt,$t){try{Wt.container.addComponent($t)}catch(Sn){or.debug(`Component ${$t.name} failed to register with FirebaseApp ${Wt.name}`,Sn)}}function ke(Wt,$t){Wt.container.addOrOverwriteComponent($t)}function Ze(Wt){const $t=Wt.name;if(ze.has($t))return or.debug(`There were multiple attempts to register component ${$t}.`),!1;ze.set($t,Wt);for(const Sn of Ot.values())we(Sn,Wt);return!0}function Zt(Wt,$t){const Sn=Wt.container.getProvider("heartbeat").getImmediate({optional:!0});return Sn&&Sn.triggerHeartbeat(),Wt.container.getProvider($t)}function _n(Wt,$t,Sn=Nn){Zt(Wt,$t).clearInstance(Sn)}function Zn(){ze.clear()}const Lt=new Le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class sn{constructor($t,Sn,Ln){this._isDeleted=!1,this._options=Object.assign({},$t),this._config=Object.assign({},Sn),this._name=Sn.name,this._automaticDataCollectionEnabled=Sn.automaticDataCollectionEnabled,this._container=Ln,this.container.addComponent(new J.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled($t){this.checkDestroyed(),this._automaticDataCollectionEnabled=$t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted($t){this._isDeleted=$t}checkDestroyed(){if(this.isDeleted)throw Lt.create("app-deleted",{appName:this._name})}}const Ye="9.23.0";function Ke(Wt,$t={}){let Sn=Wt;"object"!=typeof $t&&($t={name:$t});const Ln=Object.assign({name:Nn,automaticDataCollectionEnabled:!1},$t),fi=Ln.name;if("string"!=typeof fi||!fi)throw Lt.create("bad-app-name",{appName:String(fi)});if(Sn||(Sn=(0,Le.aH)()),!Sn)throw Lt.create("no-options");const Yi=Ot.get(fi);if(Yi){if((0,Le.vZ)(Sn,Yi.options)&&(0,Le.vZ)(Ln,Yi.config))return Yi;throw Lt.create("duplicate-app",{appName:fi})}const Ji=new J.H0(fi);for(const tr of ze.values())Ji.addComponent(tr);const er=new sn(Sn,Ln,Ji);return Ot.set(fi,er),er}function Je(Wt=Nn){const $t=Ot.get(Wt);if(!$t&&Wt===Nn&&(0,Le.aH)())return Ke();if(!$t)throw Lt.create("no-app",{appName:Wt});return $t}function Jt(){return Array.from(Ot.values())}function ti(Wt){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,M.Z)(function*(Wt){const $t=Wt.name;Ot.has($t)&&(Ot.delete($t),yield Promise.all(Wt.container.getProviders().map(Sn=>Sn.delete())),Wt.isDeleted=!0)})).apply(this,arguments)}function Pi(Wt,$t,Sn){var Ln;let fi=null!==(Ln=$n[Wt])&&void 0!==Ln?Ln:Wt;Sn&&(fi+=`-${Sn}`);const Yi=fi.match(/\s|\//),Ji=$t.match(/\s|\//);if(Yi||Ji){const er=[`Unable to register library "${fi}" with version "${$t}":`];return Yi&&er.push(`library name "${fi}" contains illegal characters (whitespace or "/")`),Yi&&Ji&&er.push("and"),Ji&&er.push(`version name "${$t}" contains illegal characters (whitespace or "/")`),void or.warn(er.join(" "))}Ze(new J.wA(`${fi}-version`,()=>({library:fi,version:$t}),"VERSION"))}function Bi(Wt,$t){if(null!==Wt&&"function"!=typeof Wt)throw Lt.create("invalid-log-argument");(0,W.Am)(Wt,$t)}function Ii(Wt){(0,W.Ub)(Wt)}const mt="firebase-heartbeat-store";let Me=null;function Qe(){return Me||(Me=function Te(Wt,$t,{blocked:Sn,upgrade:Ln,blocking:fi,terminated:Yi}={}){const Ji=indexedDB.open(Wt,$t),er=_t(Ji);return Ln&&Ji.addEventListener("upgradeneeded",tr=>{Ln(_t(Ji.result),tr.oldVersion,tr.newVersion,_t(Ji.transaction),tr)}),Sn&&Ji.addEventListener("blocked",tr=>Sn(tr.oldVersion,tr.newVersion,tr)),er.then(tr=>{Yi&&tr.addEventListener("close",()=>Yi()),fi&&tr.addEventListener("versionchange",es=>fi(es.oldVersion,es.newVersion,es))}).catch(()=>{}),er}("firebase-heartbeat-database",1,{upgrade:(Wt,$t)=>{0===$t&&Wt.createObjectStore(mt)}}).catch(Wt=>{throw Lt.create("idb-open",{originalErrorMessage:Wt.message})})),Me}function Ce(){return(Ce=(0,M.Z)(function*(Wt){try{return yield(yield Qe()).transaction(mt).objectStore(mt).get(et(Wt))}catch($t){if($t instanceof Le.ZR)or.warn($t.message);else{const Sn=Lt.create("idb-get",{originalErrorMessage:$t?.message});or.warn(Sn.message)}}})).apply(this,arguments)}function gt(Wt,$t){return We.apply(this,arguments)}function We(){return(We=(0,M.Z)(function*(Wt,$t){try{const Ln=(yield Qe()).transaction(mt,"readwrite");yield Ln.objectStore(mt).put($t,et(Wt)),yield Ln.done}catch(Sn){if(Sn instanceof Le.ZR)or.warn(Sn.message);else{const Ln=Lt.create("idb-set",{originalErrorMessage:Sn?.message});or.warn(Ln.message)}}})).apply(this,arguments)}function et(Wt){return`${Wt.name}!${Wt.options.appId}`}class Ee{constructor($t){this.container=$t,this._heartbeatsCache=null;const Sn=this.container.getProvider("app").getImmediate();this._storage=new cn(Sn),this._heartbeatsCachePromise=this._storage.read().then(Ln=>(this._heartbeatsCache=Ln,Ln))}triggerHeartbeat(){var $t=this;return(0,M.Z)(function*(){const Ln=$t.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),fi=De();if(null===$t._heartbeatsCache&&($t._heartbeatsCache=yield $t._heartbeatsCachePromise),$t._heartbeatsCache.lastSentHeartbeatDate!==fi&&!$t._heartbeatsCache.heartbeats.some(Yi=>Yi.date===fi))return $t._heartbeatsCache.heartbeats.push({date:fi,agent:Ln}),$t._heartbeatsCache.heartbeats=$t._heartbeatsCache.heartbeats.filter(Yi=>{const Ji=new Date(Yi.date).valueOf();return Date.now()-Ji<=2592e6}),$t._storage.overwrite($t._heartbeatsCache)})()}getHeartbeatsHeader(){var $t=this;return(0,M.Z)(function*(){if(null===$t._heartbeatsCache&&(yield $t._heartbeatsCachePromise),null===$t._heartbeatsCache||0===$t._heartbeatsCache.heartbeats.length)return"";const Sn=De(),{heartbeatsToSend:Ln,unsentEntries:fi}=function ft(Wt,$t=1024){const Sn=[];let Ln=Wt.slice();for(const fi of Wt){const Yi=Sn.find(Ji=>Ji.agent===fi.agent);if(Yi){if(Yi.dates.push(fi.date),Qn(Sn)>$t){Yi.dates.pop();break}}else if(Sn.push({agent:fi.agent,dates:[fi.date]}),Qn(Sn)>$t){Sn.pop();break}Ln=Ln.slice(1)}return{heartbeatsToSend:Sn,unsentEntries:Ln}}($t._heartbeatsCache.heartbeats),Yi=(0,Le.L)(JSON.stringify({version:2,heartbeats:Ln}));return $t._heartbeatsCache.lastSentHeartbeatDate=Sn,fi.length>0?($t._heartbeatsCache.heartbeats=fi,yield $t._storage.overwrite($t._heartbeatsCache)):($t._heartbeatsCache.heartbeats=[],$t._storage.overwrite($t._heartbeatsCache)),Yi})()}}function De(){return(new Date).toISOString().substring(0,10)}class cn{constructor($t){this.app=$t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,M.Z)(function*(){return!!(0,Le.hl)()&&(0,Le.eu)().then(()=>!0).catch(()=>!1)})()}read(){var $t=this;return(0,M.Z)(function*(){return(yield $t._canUseIndexedDBPromise)&&(yield function _e(Wt){return Ce.apply(this,arguments)}($t.app))||{heartbeats:[]}})()}overwrite($t){var Sn=this;return(0,M.Z)(function*(){var Ln;if(yield Sn._canUseIndexedDBPromise){const Yi=yield Sn.read();return gt(Sn.app,{lastSentHeartbeatDate:null!==(Ln=$t.lastSentHeartbeatDate)&&void 0!==Ln?Ln:Yi.lastSentHeartbeatDate,heartbeats:$t.heartbeats})}})()}add($t){var Sn=this;return(0,M.Z)(function*(){var Ln;if(yield Sn._canUseIndexedDBPromise){const Yi=yield Sn.read();return gt(Sn.app,{lastSentHeartbeatDate:null!==(Ln=$t.lastSentHeartbeatDate)&&void 0!==Ln?Ln:Yi.lastSentHeartbeatDate,heartbeats:[...Yi.heartbeats,...$t.heartbeats]})}})()}}function Qn(Wt){return(0,Le.L)(JSON.stringify({version:2,heartbeats:Wt})).length}!function Ri(Wt){Ze(new J.wA("platform-logger",$t=>new pn($t),"PRIVATE")),Ze(new J.wA("heartbeat",$t=>new Ee($t),"PRIVATE")),Pi(Gn,"0.9.13",Wt),Pi(Gn,"0.9.13","esm2017"),Pi("fire-js","")}("")},4859:(Hn,Mt,z)=>{z.d(Mt,{H0:()=>Ve,wA:()=>W,zt:()=>b});var M=z(5861),J=z(2090);class W{constructor(Ae,Ue,Ge){this.name=Ae,this.instanceFactory=Ue,this.type=Ge,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Ae){return this.instantiationMode=Ae,this}setMultipleInstances(Ae){return this.multipleInstances=Ae,this}setServiceProps(Ae){return this.serviceProps=Ae,this}setInstanceCreatedCallback(Ae){return this.onInstanceCreated=Ae,this}}const Le="[DEFAULT]";class b{constructor(Ae,Ue){this.name=Ae,this.container=Ue,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Ae){const Ue=this.normalizeInstanceIdentifier(Ae);if(!this.instancesDeferred.has(Ue)){const Ge=new J.BH;if(this.instancesDeferred.set(Ue,Ge),this.isInitialized(Ue)||this.shouldAutoInitialize())try{const kt=this.getOrInitializeService({instanceIdentifier:Ue});kt&&Ge.resolve(kt)}catch{}}return this.instancesDeferred.get(Ue).promise}getImmediate(Ae){var Ue;const Ge=this.normalizeInstanceIdentifier(Ae?.identifier),kt=null!==(Ue=Ae?.optional)&&void 0!==Ue&&Ue;if(!this.isInitialized(Ge)&&!this.shouldAutoInitialize()){if(kt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ge})}catch(it){if(kt)return null;throw it}}getComponent(){return this.component}setComponent(Ae){if(Ae.name!==this.name)throw Error(`Mismatching Component ${Ae.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Ae,this.shouldAutoInitialize()){if(function at(qe){return"EAGER"===qe.instantiationMode}(Ae))try{this.getOrInitializeService({instanceIdentifier:Le})}catch{}for(const[Ue,Ge]of this.instancesDeferred.entries()){const kt=this.normalizeInstanceIdentifier(Ue);try{const it=this.getOrInitializeService({instanceIdentifier:kt});Ge.resolve(it)}catch{}}}}clearInstance(Ae=Le){this.instancesDeferred.delete(Ae),this.instancesOptions.delete(Ae),this.instances.delete(Ae)}delete(){var Ae=this;return(0,M.Z)(function*(){const Ue=Array.from(Ae.instances.values());yield Promise.all([...Ue.filter(Ge=>"INTERNAL"in Ge).map(Ge=>Ge.INTERNAL.delete()),...Ue.filter(Ge=>"_delete"in Ge).map(Ge=>Ge._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Ae=Le){return this.instances.has(Ae)}getOptions(Ae=Le){return this.instancesOptions.get(Ae)||{}}initialize(Ae={}){const{options:Ue={}}=Ae,Ge=this.normalizeInstanceIdentifier(Ae.instanceIdentifier);if(this.isInitialized(Ge))throw Error(`${this.name}(${Ge}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const kt=this.getOrInitializeService({instanceIdentifier:Ge,options:Ue});for(const[it,tt]of this.instancesDeferred.entries())Ge===this.normalizeInstanceIdentifier(it)&&tt.resolve(kt);return kt}onInit(Ae,Ue){var Ge;const kt=this.normalizeInstanceIdentifier(Ue),it=null!==(Ge=this.onInitCallbacks.get(kt))&&void 0!==Ge?Ge:new Set;it.add(Ae),this.onInitCallbacks.set(kt,it);const tt=this.instances.get(kt);return tt&&Ae(tt,kt),()=>{it.delete(Ae)}}invokeOnInitCallbacks(Ae,Ue){const Ge=this.onInitCallbacks.get(Ue);if(Ge)for(const kt of Ge)try{kt(Ae,Ue)}catch{}}getOrInitializeService({instanceIdentifier:Ae,options:Ue={}}){let Ge=this.instances.get(Ae);if(!Ge&&this.component&&(Ge=this.component.instanceFactory(this.container,{instanceIdentifier:(qe=Ae,qe===Le?void 0:qe),options:Ue}),this.instances.set(Ae,Ge),this.instancesOptions.set(Ae,Ue),this.invokeOnInitCallbacks(Ge,Ae),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Ae,Ge)}catch{}var qe;return Ge||null}normalizeInstanceIdentifier(Ae=Le){return this.component?this.component.multipleInstances?Ae:Le:Ae}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ve{constructor(Ae){this.name=Ae,this.providers=new Map}addComponent(Ae){const Ue=this.getProvider(Ae.name);if(Ue.isComponentSet())throw new Error(`Component ${Ae.name} has already been registered with ${this.name}`);Ue.setComponent(Ae)}addOrOverwriteComponent(Ae){this.getProvider(Ae.name).isComponentSet()&&this.providers.delete(Ae.name),this.addComponent(Ae)}getProvider(Ae){if(this.providers.has(Ae))return this.providers.get(Ae);const Ue=new b(Ae,this);return this.providers.set(Ae,Ue),Ue}getProviders(){return Array.from(this.providers.values())}}},1877:(Hn,Mt,z)=>{z.d(Mt,{Am:()=>qe,Ub:()=>Ve,Yd:()=>at,in:()=>J});const M=[];var J=(()=>{return(Ae=J||(J={}))[Ae.DEBUG=0]="DEBUG",Ae[Ae.VERBOSE=1]="VERBOSE",Ae[Ae.INFO=2]="INFO",Ae[Ae.WARN=3]="WARN",Ae[Ae.ERROR=4]="ERROR",Ae[Ae.SILENT=5]="SILENT",J;var Ae})();const W={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},Le=J.INFO,b={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},be=(Ae,Ue,...Ge)=>{if(Ue<Ae.logLevel)return;const kt=(new Date).toISOString(),it=b[Ue];if(!it)throw new Error(`Attempted to log a message with an invalid logType (value: ${Ue})`);console[it](`[${kt}]  ${Ae.name}:`,...Ge)};class at{constructor(Ue){this.name=Ue,this._logLevel=Le,this._logHandler=be,this._userLogHandler=null,M.push(this)}get logLevel(){return this._logLevel}set logLevel(Ue){if(!(Ue in J))throw new TypeError(`Invalid value "${Ue}" assigned to \`logLevel\``);this._logLevel=Ue}setLogLevel(Ue){this._logLevel="string"==typeof Ue?W[Ue]:Ue}get logHandler(){return this._logHandler}set logHandler(Ue){if("function"!=typeof Ue)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Ue}get userLogHandler(){return this._userLogHandler}set userLogHandler(Ue){this._userLogHandler=Ue}debug(...Ue){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...Ue),this._logHandler(this,J.DEBUG,...Ue)}log(...Ue){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...Ue),this._logHandler(this,J.VERBOSE,...Ue)}info(...Ue){this._userLogHandler&&this._userLogHandler(this,J.INFO,...Ue),this._logHandler(this,J.INFO,...Ue)}warn(...Ue){this._userLogHandler&&this._userLogHandler(this,J.WARN,...Ue),this._logHandler(this,J.WARN,...Ue)}error(...Ue){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...Ue),this._logHandler(this,J.ERROR,...Ue)}}function Ve(Ae){M.forEach(Ue=>{Ue.setLogLevel(Ae)})}function qe(Ae,Ue){for(const Ge of M){let kt=null;Ue&&Ue.level&&(kt=W[Ue.level]),Ge.userLogHandler=null===Ae?null:(it,tt,...xt)=>{const Rt=xt.map(Ct=>{if(null==Ct)return null;if("string"==typeof Ct)return Ct;if("number"==typeof Ct||"boolean"==typeof Ct)return Ct.toString();if(Ct instanceof Error)return Ct.message;try{return JSON.stringify(Ct)}catch{return null}}).filter(Ct=>Ct).join(" ");tt>=(kt??it.logLevel)&&Ae({level:J[tt].toLowerCase(),message:Rt,args:xt,type:it.name})}}}},259:(Hn,Mt,z)=>{z.d(Mt,{C6:()=>M.getApps,Mq:()=>M.getApp});var M=z(2951);(0,M.registerVersion)("firebase","9.23.0","app")},9260:(Hn,Mt,z)=>{z.d(Mt,{Z:()=>M.Z});var M=z(3942);M.Z.registerVersion("firebase","9.23.0","app-compat")},2644:(Hn,Mt,z)=>{z.r(Mt);var M=z(5861),J=z(3942),W=z(2090),Le=z(2951),b=z(7582),be=z(1877),at=z(4859);const tt=function kt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},xt=function it(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Rt=new W.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),pt=new be.Yd("@firebase/auth");function _t(L,...D){pt.logLevel<=be.in.ERROR&&pt.error(`Auth (${Le.SDK_VERSION}): ${L}`,...D)}function je(L,...D){throw lt(L,...D)}function Te(L,...D){return lt(L,...D)}function Be(L,D,T){const U=Object.assign(Object.assign({},xt()),{[D]:T});return new W.LL("auth","Firebase",U).create(D,{appName:L.name})}function ct(L,D,T){if(!(D instanceof T))throw T.name!==D.constructor.name&&je(L,"argument-error"),Be(L,"argument-error",`Type of ${D.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function lt(L,...D){if("string"!=typeof L){const T=D[0],U=[...D.slice(1)];return U[0]&&(U[0].appName=L.name),L._errorFactory.create(T,...U)}return Rt.create(L,...D)}function ut(L,D,...T){if(!L)throw lt(D,...T)}function vn(L){const D="INTERNAL ASSERTION FAILED: "+L;throw _t(D),new Error(D)}function pn(L,D){L||vn(D)}function ai(){var L;return typeof self<"u"&&(null===(L=self.location)||void 0===L?void 0:L.href)||""}function Gn(){return"http:"===Qi()||"https:"===Qi()}function Qi(){var L;return typeof self<"u"&&(null===(L=self.location)||void 0===L?void 0:L.protocol)||null}class yi{constructor(D,T){this.shortDelay=D,this.longDelay=T,pn(T>D,"Short delay should be less than long delay!"),this.isMobile=(0,W.uI)()||(0,W.b$)()}get(){return function or(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Gn()||(0,W.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function bt(L,D){pn(L.emulator,"Emulator should always be set here");const{url:T}=L.emulator;return D?`${T}${D.startsWith("/")?D.slice(1):D}`:T}class It{static initialize(D,T,U){this.fetchImpl=D,T&&(this.headersImpl=T),U&&(this.responseImpl=U)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void vn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void vn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void vn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const qt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},en=new yi(3e4,6e4);function Ht(L,D){return L.tenantId&&!D.tenantId?Object.assign(Object.assign({},D),{tenantId:L.tenantId}):D}function Dt(L,D,T,U){return xn.apply(this,arguments)}function xn(){return(xn=(0,M.Z)(function*(L,D,T,U,ue={}){return St(L,ue,(0,M.Z)(function*(){let xe={},dt={};U&&("GET"===D?dt=U:xe={body:JSON.stringify(U)});const nn=(0,W.xO)(Object.assign({key:L.config.apiKey},dt)).slice(1),Yn=yield L._getAdditionalHeaders();return Yn["Content-Type"]="application/json",L.languageCode&&(Yn["X-Firebase-Locale"]=L.languageCode),It.fetch()(tn(L,L.config.apiHost,T,nn),Object.assign({method:D,headers:Yn,referrerPolicy:"no-referrer"},xe))}))})).apply(this,arguments)}function St(L,D,T){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,M.Z)(function*(L,D,T){L._canInitEmulator=!1;const U=Object.assign(Object.assign({},qt),D);try{const ue=new Mn(L),xe=yield Promise.race([T(),ue.promise]);ue.clearNetworkTimeout();const dt=yield xe.json();if("needConfirmation"in dt)throw jt(L,"account-exists-with-different-credential",dt);if(xe.ok&&!("errorMessage"in dt))return dt;{const nn=xe.ok?dt.errorMessage:dt.error.message,[Yn,di]=nn.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Yn)throw jt(L,"credential-already-in-use",dt);if("EMAIL_EXISTS"===Yn)throw jt(L,"email-already-in-use",dt);if("USER_DISABLED"===Yn)throw jt(L,"user-disabled",dt);const xi=U[Yn]||Yn.toLowerCase().replace(/[_\s]+/g,"-");if(di)throw Be(L,xi,di);je(L,xi)}}catch(ue){if(ue instanceof W.ZR)throw ue;je(L,"network-request-failed",{message:String(ue)})}})).apply(this,arguments)}function on(L,D,T,U){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,M.Z)(function*(L,D,T,U,ue={}){const xe=yield Dt(L,D,T,U,ue);return"mfaPendingCredential"in xe&&je(L,"multi-factor-auth-required",{_serverResponse:xe}),xe})).apply(this,arguments)}function tn(L,D,T,U){const ue=`${D}${T}?${U}`;return L.config.emulator?bt(L.config,ue):`${L.config.apiScheme}://${ue}`}class Mn{constructor(D){this.auth=D,this.timer=null,this.promise=new Promise((T,U)=>{this.timer=setTimeout(()=>U(Te(this.auth,"network-request-failed")),en.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function jt(L,D,T){const U={appName:L.name};T.email&&(U.email=T.email),T.phoneNumber&&(U.phoneNumber=T.phoneNumber);const ue=Te(L,D,U);return ue.customData._tokenResponse=T,ue}function oi(){return(oi=(0,M.Z)(function*(L,D){return Dt(L,"POST","/v1/accounts:delete",D)})).apply(this,arguments)}function qn(L,D){return mi.apply(this,arguments)}function mi(){return(mi=(0,M.Z)(function*(L,D){return Dt(L,"POST","/v1/accounts:update",D)})).apply(this,arguments)}function dn(L,D){return li.apply(this,arguments)}function li(){return(li=(0,M.Z)(function*(L,D){return Dt(L,"POST","/v1/accounts:lookup",D)})).apply(this,arguments)}function bn(L){if(L)try{const D=new Date(Number(L));if(!isNaN(D.getTime()))return D.toUTCString()}catch{}}function Nn(){return(Nn=(0,M.Z)(function*(L,D=!1){const T=(0,W.m9)(L),U=yield T.getIdToken(D),ue=Ot(U);ut(ue&&ue.exp&&ue.auth_time&&ue.iat,T.auth,"internal-error");const xe="object"==typeof ue.firebase?ue.firebase:void 0,dt=xe?.sign_in_provider;return{claims:ue,token:U,authTime:bn($n(ue.auth_time)),issuedAtTime:bn($n(ue.iat)),expirationTime:bn($n(ue.exp)),signInProvider:dt||null,signInSecondFactor:xe?.sign_in_second_factor||null}})).apply(this,arguments)}function $n(L){return 1e3*Number(L)}function Ot(L){const[D,T,U]=L.split(".");if(void 0===D||void 0===T||void 0===U)return _t("JWT malformed, contained fewer than 3 sections"),null;try{const ue=(0,W.tV)(T);return ue?JSON.parse(ue):(_t("Failed to decode base64 JWT payload"),null)}catch(ue){return _t("Caught error parsing JWT payload as JSON",ue?.toString()),null}}function we(L,D){return ke.apply(this,arguments)}function ke(){return(ke=(0,M.Z)(function*(L,D,T=!1){if(T)return D;try{return yield D}catch(U){throw U instanceof W.ZR&&Ze(U)&&L.auth.currentUser===L&&(yield L.auth.signOut()),U}})).apply(this,arguments)}function Ze({code:L}){return"auth/user-disabled"===L||"auth/user-token-expired"===L}class Zt{constructor(D){this.user=D,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(D){var T;if(D){const U=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),U}{this.errorBackoff=3e4;const ue=(null!==(T=this.user.stsTokenManager.expirationTime)&&void 0!==T?T:0)-Date.now()-3e5;return Math.max(0,ue)}}schedule(D=!1){var T=this;if(!this.isRunning)return;const U=this.getInterval(D);this.timerId=setTimeout((0,M.Z)(function*(){yield T.iteration()}),U)}iteration(){var D=this;return(0,M.Z)(function*(){try{yield D.user.getIdToken(!0)}catch(T){return void("auth/network-request-failed"===T?.code&&D.schedule(!0))}D.schedule()})()}}class _n{constructor(D,T){this.createdAt=D,this.lastLoginAt=T,this._initializeTime()}_initializeTime(){this.lastSignInTime=bn(this.lastLoginAt),this.creationTime=bn(this.createdAt)}_copy(D){this.createdAt=D.createdAt,this.lastLoginAt=D.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Zn(L){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,M.Z)(function*(L){var D;const T=L.auth,U=yield L.getIdToken(),ue=yield we(L,dn(T,{idToken:U}));ut(ue?.users.length,T,"internal-error");const xe=ue.users[0];L._notifyReloadListener(xe);const dt=null!==(D=xe.providerUserInfo)&&void 0!==D&&D.length?Ke(xe.providerUserInfo):[],nn=Ye(L.providerData,dt),xi=!!L.isAnonymous&&!(L.email&&xe.passwordHash||nn?.length),Si={uid:xe.localId,displayName:xe.displayName||null,photoURL:xe.photoUrl||null,email:xe.email||null,emailVerified:xe.emailVerified||!1,phoneNumber:xe.phoneNumber||null,tenantId:xe.tenantId||null,providerData:nn,metadata:new _n(xe.createdAt,xe.lastLoginAt),isAnonymous:xi};Object.assign(L,Si)})).apply(this,arguments)}function sn(){return(sn=(0,M.Z)(function*(L){const D=(0,W.m9)(L);yield Zn(D),yield D.auth._persistUserIfCurrent(D),D.auth._notifyListenersIfCurrent(D)})).apply(this,arguments)}function Ye(L,D){return[...L.filter(U=>!D.some(ue=>ue.providerId===U.providerId)),...D]}function Ke(L){return L.map(D=>{var{providerId:T}=D,U=(0,b._T)(D,["providerId"]);return{providerId:T,uid:U.rawId||"",displayName:U.displayName||null,email:U.email||null,phoneNumber:U.phoneNumber||null,photoURL:U.photoUrl||null}})}function Jt(){return(Jt=(0,M.Z)(function*(L,D){const T=yield St(L,{},(0,M.Z)(function*(){const U=(0,W.xO)({grant_type:"refresh_token",refresh_token:D}).slice(1),{tokenApiHost:ue,apiKey:xe}=L.config,dt=tn(L,ue,"/v1/token",`key=${xe}`),nn=yield L._getAdditionalHeaders();return nn["Content-Type"]="application/x-www-form-urlencoded",It.fetch()(dt,{method:"POST",headers:nn,body:U})}));return{accessToken:T.access_token,expiresIn:T.expires_in,refreshToken:T.refresh_token}})).apply(this,arguments)}class ti{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(D){ut(D.idToken,"internal-error"),ut(typeof D.idToken<"u","internal-error"),ut(typeof D.refreshToken<"u","internal-error");const T="expiresIn"in D&&typeof D.expiresIn<"u"?Number(D.expiresIn):function ze(L){const D=Ot(L);return ut(D,"internal-error"),ut(typeof D.exp<"u","internal-error"),ut(typeof D.iat<"u","internal-error"),Number(D.exp)-Number(D.iat)}(D.idToken);this.updateTokensAndExpiration(D.idToken,D.refreshToken,T)}getToken(D,T=!1){var U=this;return(0,M.Z)(function*(){return ut(!U.accessToken||U.refreshToken,D,"user-token-expired"),T||!U.accessToken||U.isExpired?U.refreshToken?(yield U.refresh(D,U.refreshToken),U.accessToken):null:U.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(D,T){var U=this;return(0,M.Z)(function*(){const{accessToken:ue,refreshToken:xe,expiresIn:dt}=yield function Je(L,D){return Jt.apply(this,arguments)}(D,T);U.updateTokensAndExpiration(ue,xe,Number(dt))})()}updateTokensAndExpiration(D,T,U){this.refreshToken=T||null,this.accessToken=D||null,this.expirationTime=Date.now()+1e3*U}static fromJSON(D,T){const{refreshToken:U,accessToken:ue,expirationTime:xe}=T,dt=new ti;return U&&(ut("string"==typeof U,"internal-error",{appName:D}),dt.refreshToken=U),ue&&(ut("string"==typeof ue,"internal-error",{appName:D}),dt.accessToken=ue),xe&&(ut("number"==typeof xe,"internal-error",{appName:D}),dt.expirationTime=xe),dt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(D){this.accessToken=D.accessToken,this.refreshToken=D.refreshToken,this.expirationTime=D.expirationTime}_clone(){return Object.assign(new ti,this.toJSON())}_performRefresh(){return vn("not implemented")}}function Fi(L,D){ut("string"==typeof L||typeof L>"u","internal-error",{appName:D})}class Pi{constructor(D){var{uid:T,auth:U,stsTokenManager:ue}=D,xe=(0,b._T)(D,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=T,this.auth=U,this.stsTokenManager=ue,this.accessToken=ue.accessToken,this.displayName=xe.displayName||null,this.email=xe.email||null,this.emailVerified=xe.emailVerified||!1,this.phoneNumber=xe.phoneNumber||null,this.photoURL=xe.photoURL||null,this.isAnonymous=xe.isAnonymous||!1,this.tenantId=xe.tenantId||null,this.providerData=xe.providerData?[...xe.providerData]:[],this.metadata=new _n(xe.createdAt||void 0,xe.lastLoginAt||void 0)}getIdToken(D){var T=this;return(0,M.Z)(function*(){const U=yield we(T,T.stsTokenManager.getToken(T.auth,D));return ut(U,T.auth,"internal-error"),T.accessToken!==U&&(T.accessToken=U,yield T.auth._persistUserIfCurrent(T),T.auth._notifyListenersIfCurrent(T)),U})()}getIdTokenResult(D){return function Qt(L){return Nn.apply(this,arguments)}(this,D)}reload(){return function Lt(L){return sn.apply(this,arguments)}(this)}_assign(D){this!==D&&(ut(this.uid===D.uid,this.auth,"internal-error"),this.displayName=D.displayName,this.photoURL=D.photoURL,this.email=D.email,this.emailVerified=D.emailVerified,this.phoneNumber=D.phoneNumber,this.isAnonymous=D.isAnonymous,this.tenantId=D.tenantId,this.providerData=D.providerData.map(T=>Object.assign({},T)),this.metadata._copy(D.metadata),this.stsTokenManager._assign(D.stsTokenManager))}_clone(D){const T=new Pi(Object.assign(Object.assign({},this),{auth:D,stsTokenManager:this.stsTokenManager._clone()}));return T.metadata._copy(this.metadata),T}_onReload(D){ut(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=D,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(D){this.reloadListener?this.reloadListener(D):this.reloadUserInfo=D}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(D,T=!1){var U=this;return(0,M.Z)(function*(){let ue=!1;D.idToken&&D.idToken!==U.stsTokenManager.accessToken&&(U.stsTokenManager.updateFromServerResponse(D),ue=!0),T&&(yield Zn(U)),yield U.auth._persistUserIfCurrent(U),ue&&U.auth._notifyListenersIfCurrent(U)})()}delete(){var D=this;return(0,M.Z)(function*(){const T=yield D.getIdToken();return yield we(D,function wn(L,D){return oi.apply(this,arguments)}(D.auth,{idToken:T})),D.stsTokenManager.clearRefreshToken(),D.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(D=>Object.assign({},D)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(D,T){var U,ue,xe,dt,nn,Yn,di,xi;const Si=null!==(U=T.displayName)&&void 0!==U?U:void 0,$s=null!==(ue=T.email)&&void 0!==ue?ue:void 0,vl=null!==(xe=T.phoneNumber)&&void 0!==xe?xe:void 0,Bh=null!==(dt=T.photoURL)&&void 0!==dt?dt:void 0,Vu=null!==(nn=T.tenantId)&&void 0!==nn?nn:void 0,Uu=null!==(Yn=T._redirectEventId)&&void 0!==Yn?Yn:void 0,oc=null!==(di=T.createdAt)&&void 0!==di?di:void 0,yl=null!==(xi=T.lastLoginAt)&&void 0!==xi?xi:void 0,{uid:ld,emailVerified:Vh,isAnonymous:pf,providerData:cd,stsTokenManager:yh}=T;ut(ld&&yh,D,"internal-error");const Kd=ti.fromJSON(this.name,yh);ut("string"==typeof ld,D,"internal-error"),Fi(Si,D.name),Fi($s,D.name),ut("boolean"==typeof Vh,D,"internal-error"),ut("boolean"==typeof pf,D,"internal-error"),Fi(vl,D.name),Fi(Bh,D.name),Fi(Vu,D.name),Fi(Uu,D.name),Fi(oc,D.name),Fi(yl,D.name);const bh=new Pi({uid:ld,auth:D,email:$s,emailVerified:Vh,displayName:Si,isAnonymous:pf,photoURL:Bh,phoneNumber:vl,tenantId:Vu,stsTokenManager:Kd,createdAt:oc,lastLoginAt:yl});return cd&&Array.isArray(cd)&&(bh.providerData=cd.map(fo=>Object.assign({},fo))),Uu&&(bh._redirectEventId=Uu),bh}static _fromIdTokenResponse(D,T,U=!1){return(0,M.Z)(function*(){const ue=new ti;ue.updateFromServerResponse(T);const xe=new Pi({uid:T.localId,auth:D,stsTokenManager:ue,isAnonymous:U});return yield Zn(xe),xe})()}}const Bi=new Map;function Ii(L){pn(L instanceof Function,"Expected a class definition");let D=Bi.get(L);return D?(pn(D instanceof L,"Instance stored in cache mismatched with class"),D):(D=new L,Bi.set(L,D),D)}const Gi=(()=>{class L{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,M.Z)(function*(){return!0})()}_set(T,U){var ue=this;return(0,M.Z)(function*(){ue.storage[T]=U})()}_get(T){var U=this;return(0,M.Z)(function*(){const ue=U.storage[T];return void 0===ue?null:ue})()}_remove(T){var U=this;return(0,M.Z)(function*(){delete U.storage[T]})()}_addListener(T,U){}_removeListener(T,U){}}return L.type="NONE",L})();function mt(L,D,T){return`firebase:${L}:${D}:${T}`}class Me{constructor(D,T,U){this.persistence=D,this.auth=T,this.userKey=U;const{config:ue,name:xe}=this.auth;this.fullUserKey=mt(this.userKey,ue.apiKey,xe),this.fullPersistenceKey=mt("persistence",ue.apiKey,xe),this.boundEventHandler=T._onStorageEvent.bind(T),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(D){return this.persistence._set(this.fullUserKey,D.toJSON())}getCurrentUser(){var D=this;return(0,M.Z)(function*(){const T=yield D.persistence._get(D.fullUserKey);return T?Pi._fromJSON(D.auth,T):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(D){var T=this;return(0,M.Z)(function*(){if(T.persistence===D)return;const U=yield T.getCurrentUser();return yield T.removeCurrentUser(),T.persistence=D,U?T.setCurrentUser(U):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(D,T,U="authUser"){return(0,M.Z)(function*(){if(!T.length)return new Me(Ii(Gi),D,U);const ue=(yield Promise.all(T.map(function(){var di=(0,M.Z)(function*(xi){if(yield xi._isAvailable())return xi});return function(xi){return di.apply(this,arguments)}}()))).filter(di=>di);let xe=ue[0]||Ii(Gi);const dt=mt(U,D.config.apiKey,D.name);let nn=null;for(const di of T)try{const xi=yield di._get(dt);if(xi){const Si=Pi._fromJSON(D,xi);di!==xe&&(nn=Si),xe=di;break}}catch{}const Yn=ue.filter(di=>di._shouldAllowMigration);return xe._shouldAllowMigration&&Yn.length?(xe=Yn[0],nn&&(yield xe._set(dt,nn.toJSON())),yield Promise.all(T.map(function(){var di=(0,M.Z)(function*(xi){if(xi!==xe)try{yield xi._remove(dt)}catch{}});return function(xi){return di.apply(this,arguments)}}())),new Me(xe,D,U)):new Me(xe,D,U)})()}}function Qe(L){const D=L.toLowerCase();if(D.includes("opera/")||D.includes("opr/")||D.includes("opios/"))return"Opera";if(We(D))return"IEMobile";if(D.includes("msie")||D.includes("trident/"))return"IE";if(D.includes("edge/"))return"Edge";if(_e(D))return"Firefox";if(D.includes("silk/"))return"Silk";if($e(D))return"Blackberry";if(pe(D))return"Webos";if(Ce(D))return"Safari";if((D.includes("chrome/")||gt(D))&&!D.includes("edge/"))return"Chrome";if(et(D))return"Android";{const U=L.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===U?.length)return U[1]}return"Other"}function _e(L=(0,W.z$)()){return/firefox\//i.test(L)}function Ce(L=(0,W.z$)()){const D=L.toLowerCase();return D.includes("safari/")&&!D.includes("chrome/")&&!D.includes("crios/")&&!D.includes("android")}function gt(L=(0,W.z$)()){return/crios\//i.test(L)}function We(L=(0,W.z$)()){return/iemobile/i.test(L)}function et(L=(0,W.z$)()){return/android/i.test(L)}function $e(L=(0,W.z$)()){return/blackberry/i.test(L)}function pe(L=(0,W.z$)()){return/webos/i.test(L)}function Ee(L=(0,W.z$)()){return/iphone|ipad|ipod/i.test(L)||/macintosh/i.test(L)&&/mobile/i.test(L)}function Qn(L=(0,W.z$)()){return Ee(L)||et(L)||pe(L)||$e(L)||/windows phone/i.test(L)||We(L)}function Wt(L,D=[]){let T;switch(L){case"Browser":T=Qe((0,W.z$)());break;case"Worker":T=`${Qe((0,W.z$)())}-${L}`;break;default:T=L}const U=D.length?D.join(","):"FirebaseCore-web";return`${T}/JsCore/${Le.SDK_VERSION}/${U}`}function Sn(){return(Sn=(0,M.Z)(function*(L){return(yield Dt(L,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ln(L,D){return fi.apply(this,arguments)}function fi(){return(fi=(0,M.Z)(function*(L,D){return Dt(L,"GET","/v2/recaptchaConfig",Ht(L,D))})).apply(this,arguments)}function Yi(L){return void 0!==L&&void 0!==L.getResponse}function Ji(L){return void 0!==L&&void 0!==L.enterprise}class er{constructor(D){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===D.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=D.recaptchaKey.split("/")[3],this.emailPasswordEnabled=D.recaptchaEnforcementState.some(T=>"EMAIL_PASSWORD_PROVIDER"===T.provider&&"OFF"!==T.enforcementState)}}function es(L){return new Promise((D,T)=>{const U=document.createElement("script");U.setAttribute("src",L),U.onload=D,U.onerror=ue=>{const xe=Te("internal-error");xe.customData=ue,T(xe)},U.type="text/javascript",U.charset="UTF-8",function tr(){var L,D;return null!==(D=null===(L=document.getElementsByTagName("head"))||void 0===L?void 0:L[0])&&void 0!==D?D:document}().appendChild(U)})}function Ms(L){return`__${L}${Math.floor(1e6*Math.random())}`}class Or{constructor(D){this.type="recaptcha-enterprise",this.auth=pr(D)}verify(D="verify",T=!1){var U=this;return(0,M.Z)(function*(){function xe(){return xe=(0,M.Z)(function*(nn){if(!T){if(null==nn.tenantId&&null!=nn._agentRecaptchaConfig)return nn._agentRecaptchaConfig.siteKey;if(null!=nn.tenantId&&void 0!==nn._tenantRecaptchaConfigs[nn.tenantId])return nn._tenantRecaptchaConfigs[nn.tenantId].siteKey}return new Promise(function(){var Yn=(0,M.Z)(function*(di,xi){Ln(nn,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Si=>{if(void 0!==Si.recaptchaKey){const $s=new er(Si);return null==nn.tenantId?nn._agentRecaptchaConfig=$s:nn._tenantRecaptchaConfigs[nn.tenantId]=$s,di($s.siteKey)}xi(new Error("recaptcha Enterprise site key undefined"))}).catch(Si=>{xi(Si)})});return function(di,xi){return Yn.apply(this,arguments)}}())}),xe.apply(this,arguments)}function dt(nn,Yn,di){const xi=window.grecaptcha;Ji(xi)?xi.enterprise.ready(()=>{xi.enterprise.execute(nn,{action:D}).then(Si=>{Yn(Si)}).catch(()=>{Yn("NO_RECAPTCHA")})}):di(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((nn,Yn)=>{(function ue(nn){return xe.apply(this,arguments)})(U.auth).then(di=>{if(!T&&Ji(window.grecaptcha))dt(di,nn,Yn);else{if(typeof window>"u")return void Yn(new Error("RecaptchaVerifier is only supported in browser"));es("https://www.google.com/recaptcha/enterprise.js?render="+di).then(()=>{dt(di,nn,Yn)}).catch(xi=>{Yn(xi)})}}).catch(di=>{Yn(di)})})})()}}function Is(L,D,T){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,M.Z)(function*(L,D,T,U=!1){const ue=new Or(L);let xe;try{xe=yield ue.verify(T)}catch{xe=yield ue.verify(T,!0)}const dt=Object.assign({},D);return Object.assign(dt,U?{captchaResp:xe}:{captchaResponse:xe}),Object.assign(dt,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(dt,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),dt})).apply(this,arguments)}class to{constructor(D){this.auth=D,this.queue=[]}pushCallback(D,T){const U=xe=>new Promise((dt,nn)=>{try{dt(D(xe))}catch(Yn){nn(Yn)}});U.onAbort=T,this.queue.push(U);const ue=this.queue.length-1;return()=>{this.queue[ue]=()=>Promise.resolve()}}runMiddleware(D){var T=this;return(0,M.Z)(function*(){if(T.auth.currentUser===D)return;const U=[];try{for(const ue of T.queue)yield ue(D),ue.onAbort&&U.push(ue.onAbort)}catch(ue){U.reverse();for(const xe of U)try{xe()}catch{}throw T.auth._errorFactory.create("login-blocked",{originalMessage:ue?.message})}})()}}class Da{constructor(D,T,U,ue){this.app=D,this.heartbeatServiceProvider=T,this.appCheckServiceProvider=U,this.config=ue,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Er(this),this.idTokenSubscription=new Er(this),this.beforeStateQueue=new to(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Rt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=D.name,this.clientVersion=ue.sdkClientVersion}_initializeWithPersistence(D,T){var U=this;return T&&(this._popupRedirectResolver=Ii(T)),this._initializationPromise=this.queue((0,M.Z)(function*(){var ue,xe;if(!U._deleted&&(U.persistenceManager=yield Me.create(U,D),!U._deleted)){if(null!==(ue=U._popupRedirectResolver)&&void 0!==ue&&ue._shouldInitProactively)try{yield U._popupRedirectResolver._initialize(U)}catch{}yield U.initializeCurrentUser(T),U.lastNotifiedUid=(null===(xe=U.currentUser)||void 0===xe?void 0:xe.uid)||null,!U._deleted&&(U._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var D=this;return(0,M.Z)(function*(){if(D._deleted)return;const T=yield D.assertedPersistence.getCurrentUser();if(D.currentUser||T){if(D.currentUser&&T&&D.currentUser.uid===T.uid)return D._currentUser._assign(T),void(yield D.currentUser.getIdToken());yield D._updateCurrentUser(T,!0)}})()}initializeCurrentUser(D){var T=this;return(0,M.Z)(function*(){var U;const ue=yield T.assertedPersistence.getCurrentUser();let xe=ue,dt=!1;if(D&&T.config.authDomain){yield T.getOrInitRedirectPersistenceManager();const nn=null===(U=T.redirectUser)||void 0===U?void 0:U._redirectEventId,Yn=xe?._redirectEventId,di=yield T.tryRedirectSignIn(D);(!nn||nn===Yn)&&di?.user&&(xe=di.user,dt=!0)}if(!xe)return T.directlySetCurrentUser(null);if(!xe._redirectEventId){if(dt)try{yield T.beforeStateQueue.runMiddleware(xe)}catch(nn){xe=ue,T._popupRedirectResolver._overrideRedirectResult(T,()=>Promise.reject(nn))}return xe?T.reloadAndSetCurrentUserOrClear(xe):T.directlySetCurrentUser(null)}return ut(T._popupRedirectResolver,T,"argument-error"),yield T.getOrInitRedirectPersistenceManager(),T.redirectUser&&T.redirectUser._redirectEventId===xe._redirectEventId?T.directlySetCurrentUser(xe):T.reloadAndSetCurrentUserOrClear(xe)})()}tryRedirectSignIn(D){var T=this;return(0,M.Z)(function*(){let U=null;try{U=yield T._popupRedirectResolver._completeRedirectFn(T,D,!0)}catch{yield T._setRedirectUser(null)}return U})()}reloadAndSetCurrentUserOrClear(D){var T=this;return(0,M.Z)(function*(){try{yield Zn(D)}catch(U){if("auth/network-request-failed"!==U?.code)return T.directlySetCurrentUser(null)}return T.directlySetCurrentUser(D)})()}useDeviceLanguage(){this.languageCode=function Ei(){if(typeof navigator>"u")return null;const L=navigator;return L.languages&&L.languages[0]||L.language||null}()}_delete(){var D=this;return(0,M.Z)(function*(){D._deleted=!0})()}updateCurrentUser(D){var T=this;return(0,M.Z)(function*(){const U=D?(0,W.m9)(D):null;return U&&ut(U.auth.config.apiKey===T.config.apiKey,T,"invalid-user-token"),T._updateCurrentUser(U&&U._clone(T))})()}_updateCurrentUser(D,T=!1){var U=this;return(0,M.Z)(function*(){if(!U._deleted)return D&&ut(U.tenantId===D.tenantId,U,"tenant-id-mismatch"),T||(yield U.beforeStateQueue.runMiddleware(D)),U.queue((0,M.Z)(function*(){yield U.directlySetCurrentUser(D),U.notifyAuthListeners()}))})()}signOut(){var D=this;return(0,M.Z)(function*(){return yield D.beforeStateQueue.runMiddleware(null),(D.redirectPersistenceManager||D._popupRedirectResolver)&&(yield D._setRedirectUser(null)),D._updateCurrentUser(null,!0)})()}setPersistence(D){var T=this;return this.queue((0,M.Z)(function*(){yield T.assertedPersistence.setPersistence(Ii(D))}))}initializeRecaptchaConfig(){var D=this;return(0,M.Z)(function*(){const T=yield Ln(D,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),U=new er(T);null==D.tenantId?D._agentRecaptchaConfig=U:D._tenantRecaptchaConfigs[D.tenantId]=U,U.emailPasswordEnabled&&new Or(D).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(D){this._errorFactory=new W.LL("auth","Firebase",D())}onAuthStateChanged(D,T,U){return this.registerStateListener(this.authStateSubscription,D,T,U)}beforeAuthStateChanged(D,T){return this.beforeStateQueue.pushCallback(D,T)}onIdTokenChanged(D,T,U){return this.registerStateListener(this.idTokenSubscription,D,T,U)}toJSON(){var D;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(D=this._currentUser)||void 0===D?void 0:D.toJSON()}}_setRedirectUser(D,T){var U=this;return(0,M.Z)(function*(){const ue=yield U.getOrInitRedirectPersistenceManager(T);return null===D?ue.removeCurrentUser():ue.setCurrentUser(D)})()}getOrInitRedirectPersistenceManager(D){var T=this;return(0,M.Z)(function*(){if(!T.redirectPersistenceManager){const U=D&&Ii(D)||T._popupRedirectResolver;ut(U,T,"argument-error"),T.redirectPersistenceManager=yield Me.create(T,[Ii(U._redirectPersistence)],"redirectUser"),T.redirectUser=yield T.redirectPersistenceManager.getCurrentUser()}return T.redirectPersistenceManager})()}_redirectUserForId(D){var T=this;return(0,M.Z)(function*(){var U,ue;return T._isInitialized&&(yield T.queue((0,M.Z)(function*(){}))),(null===(U=T._currentUser)||void 0===U?void 0:U._redirectEventId)===D?T._currentUser:(null===(ue=T.redirectUser)||void 0===ue?void 0:ue._redirectEventId)===D?T.redirectUser:null})()}_persistUserIfCurrent(D){var T=this;return(0,M.Z)(function*(){if(D===T.currentUser)return T.queue((0,M.Z)(function*(){return T.directlySetCurrentUser(D)}))})()}_notifyListenersIfCurrent(D){D===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var D,T;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const U=null!==(T=null===(D=this.currentUser)||void 0===D?void 0:D.uid)&&void 0!==T?T:null;this.lastNotifiedUid!==U&&(this.lastNotifiedUid=U,this.authStateSubscription.next(this.currentUser))}registerStateListener(D,T,U,ue){if(this._deleted)return()=>{};const xe="function"==typeof T?T:T.next.bind(T),dt=this._isInitialized?Promise.resolve():this._initializationPromise;return ut(dt,this,"internal-error"),dt.then(()=>xe(this.currentUser)),"function"==typeof T?D.addObserver(T,U,ue):D.addObserver(T)}directlySetCurrentUser(D){var T=this;return(0,M.Z)(function*(){T.currentUser&&T.currentUser!==D&&T._currentUser._stopProactiveRefresh(),D&&T.isProactiveRefreshEnabled&&D._startProactiveRefresh(),T.currentUser=D,D?yield T.assertedPersistence.setCurrentUser(D):yield T.assertedPersistence.removeCurrentUser()})()}queue(D){return this.operations=this.operations.then(D,D),this.operations}get assertedPersistence(){return ut(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(D){!D||this.frameworks.includes(D)||(this.frameworks.push(D),this.frameworks.sort(),this.clientVersion=Wt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var D=this;return(0,M.Z)(function*(){var T;const U={"X-Client-Version":D.clientVersion};D.app.options.appId&&(U["X-Firebase-gmpid"]=D.app.options.appId);const ue=yield null===(T=D.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===T?void 0:T.getHeartbeatsHeader();ue&&(U["X-Firebase-Client"]=ue);const xe=yield D._getAppCheckToken();return xe&&(U["X-Firebase-AppCheck"]=xe),U})()}_getAppCheckToken(){var D=this;return(0,M.Z)(function*(){var T;const U=yield null===(T=D.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===T?void 0:T.getToken();return U?.error&&function En(L,...D){pt.logLevel<=be.in.WARN&&pt.warn(`Auth (${Le.SDK_VERSION}): ${L}`,...D)}(`Error while retrieving App Check token: ${U.error}`),U?.token})()}}function pr(L){return(0,W.m9)(L)}class Er{constructor(D){this.auth=D,this.observer=null,this.addObserver=(0,W.ne)(T=>this.observer=T)}get next(){return ut(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Kr(L){const D=L.indexOf(":");return D<0?"":L.substr(0,D+1)}function la(L){if(!L)return null;const D=Number(L);return isNaN(D)?null:D}class po{constructor(D,T){this.providerId=D,this.signInMethod=T}toJSON(){return vn("not implemented")}_getIdTokenResponse(D){return vn("not implemented")}_linkToIdToken(D,T){return vn("not implemented")}_getReauthenticationResolver(D){return vn("not implemented")}}function mo(L,D){return gs.apply(this,arguments)}function gs(){return(gs=(0,M.Z)(function*(L,D){return Dt(L,"POST","/v1/accounts:resetPassword",Ht(L,D))})).apply(this,arguments)}function uc(L,D){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,M.Z)(function*(L,D){return Dt(L,"POST","/v1/accounts:update",D)})).apply(this,arguments)}function Fo(L,D){return dc.apply(this,arguments)}function dc(){return(dc=(0,M.Z)(function*(L,D){return Dt(L,"POST","/v1/accounts:update",Ht(L,D))})).apply(this,arguments)}function Pr(L,D){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,M.Z)(function*(L,D){return on(L,"POST","/v1/accounts:signInWithPassword",Ht(L,D))})).apply(this,arguments)}function Za(L,D){return ca.apply(this,arguments)}function ca(){return(ca=(0,M.Z)(function*(L,D){return Dt(L,"POST","/v1/accounts:sendOobCode",Ht(L,D))})).apply(this,arguments)}function zt(L,D){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,M.Z)(function*(L,D){return Za(L,D)})).apply(this,arguments)}function Xt(L,D){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,M.Z)(function*(L,D){return Za(L,D)})).apply(this,arguments)}function Wn(L,D){return Li.apply(this,arguments)}function Li(){return(Li=(0,M.Z)(function*(L,D){return Za(L,D)})).apply(this,arguments)}function nr(L,D){return lr.apply(this,arguments)}function lr(){return(lr=(0,M.Z)(function*(L,D){return Za(L,D)})).apply(this,arguments)}function go(){return(go=(0,M.Z)(function*(L,D){return on(L,"POST","/v1/accounts:signInWithEmailLink",Ht(L,D))})).apply(this,arguments)}function Lo(){return(Lo=(0,M.Z)(function*(L,D){return on(L,"POST","/v1/accounts:signInWithEmailLink",Ht(L,D))})).apply(this,arguments)}class _o extends po{constructor(D,T,U,ue=null){super("password",U),this._email=D,this._password=T,this._tenantId=ue}static _fromEmailAndPassword(D,T){return new _o(D,T,"password")}static _fromEmailAndCode(D,T,U=null){return new _o(D,T,"emailLink",U)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(D){const T="string"==typeof D?JSON.parse(D):D;if(T?.email&&T?.password){if("password"===T.signInMethod)return this._fromEmailAndPassword(T.email,T.password);if("emailLink"===T.signInMethod)return this._fromEmailAndCode(T.email,T.password,T.tenantId)}return null}_getIdTokenResponse(D){var T=this;return(0,M.Z)(function*(){var U;switch(T.signInMethod){case"password":const ue={returnSecureToken:!0,email:T._email,password:T._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(U=D._getRecaptchaConfig())&&void 0!==U&&U.emailPasswordEnabled){const xe=yield Is(D,ue,"signInWithPassword");return Pr(D,xe)}return Pr(D,ue).catch(function(){var xe=(0,M.Z)(function*(dt){if("auth/missing-recaptcha-token"===dt.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const nn=yield Is(D,ue,"signInWithPassword");return Pr(D,nn)}return Promise.reject(dt)});return function(dt){return xe.apply(this,arguments)}}());case"emailLink":return function Ui(L,D){return go.apply(this,arguments)}(D,{email:T._email,oobCode:T._password});default:je(D,"internal-error")}})()}_linkToIdToken(D,T){var U=this;return(0,M.Z)(function*(){switch(U.signInMethod){case"password":return uc(D,{idToken:T,returnSecureToken:!0,email:U._email,password:U._password});case"emailLink":return function Qo(L,D){return Lo.apply(this,arguments)}(D,{idToken:T,email:U._email,oobCode:U._password});default:je(D,"internal-error")}})()}_getReauthenticationResolver(D){return this._getIdTokenResponse(D)}}function Bo(L,D){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,M.Z)(function*(L,D){return on(L,"POST","/v1/accounts:signInWithIdp",Ht(L,D))})).apply(this,arguments)}class qr extends po{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(D){const T=new qr(D.providerId,D.signInMethod);return D.idToken||D.accessToken?(D.idToken&&(T.idToken=D.idToken),D.accessToken&&(T.accessToken=D.accessToken),D.nonce&&!D.pendingToken&&(T.nonce=D.nonce),D.pendingToken&&(T.pendingToken=D.pendingToken)):D.oauthToken&&D.oauthTokenSecret?(T.accessToken=D.oauthToken,T.secret=D.oauthTokenSecret):je("argument-error"),T}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(D){const T="string"==typeof D?JSON.parse(D):D,{providerId:U,signInMethod:ue}=T,xe=(0,b._T)(T,["providerId","signInMethod"]);if(!U||!ue)return null;const dt=new qr(U,ue);return dt.idToken=xe.idToken||void 0,dt.accessToken=xe.accessToken||void 0,dt.secret=xe.secret,dt.nonce=xe.nonce,dt.pendingToken=xe.pendingToken||null,dt}_getIdTokenResponse(D){return Bo(D,this.buildRequest())}_linkToIdToken(D,T){const U=this.buildRequest();return U.idToken=T,Bo(D,U)}_getReauthenticationResolver(D){const T=this.buildRequest();return T.autoCreate=!1,Bo(D,T)}buildRequest(){const D={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)D.pendingToken=this.pendingToken;else{const T={};this.idToken&&(T.id_token=this.idToken),this.accessToken&&(T.access_token=this.accessToken),this.secret&&(T.oauth_token_secret=this.secret),T.providerId=this.providerId,this.nonce&&!this.pendingToken&&(T.nonce=this.nonce),D.postBody=(0,W.xO)(T)}return D}}function ua(L,D){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,M.Z)(function*(L,D){return Dt(L,"POST","/v1/accounts:sendVerificationCode",Ht(L,D))})).apply(this,arguments)}function Qa(){return(Qa=(0,M.Z)(function*(L,D){return on(L,"POST","/v1/accounts:signInWithPhoneNumber",Ht(L,D))})).apply(this,arguments)}function Gl(){return(Gl=(0,M.Z)(function*(L,D){const T=yield on(L,"POST","/v1/accounts:signInWithPhoneNumber",Ht(L,D));if(T.temporaryProof)throw jt(L,"account-exists-with-different-credential",T);return T})).apply(this,arguments)}const $l={USER_NOT_FOUND:"user-not-found"};function Mr(){return(Mr=(0,M.Z)(function*(L,D){return on(L,"POST","/v1/accounts:signInWithPhoneNumber",Ht(L,Object.assign(Object.assign({},D),{operation:"REAUTH"})),$l)})).apply(this,arguments)}class ts extends po{constructor(D){super("phone","phone"),this.params=D}static _fromVerification(D,T){return new ts({verificationId:D,verificationCode:T})}static _fromTokenResponse(D,T){return new ts({phoneNumber:D,temporaryProof:T})}_getIdTokenResponse(D){return function al(L,D){return Qa.apply(this,arguments)}(D,this._makeVerificationRequest())}_linkToIdToken(D,T){return function mu(L,D){return Gl.apply(this,arguments)}(D,Object.assign({idToken:T},this._makeVerificationRequest()))}_getReauthenticationResolver(D){return function Wl(L,D){return Mr.apply(this,arguments)}(D,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:D,phoneNumber:T,verificationId:U,verificationCode:ue}=this.params;return D&&T?{temporaryProof:D,phoneNumber:T}:{sessionInfo:U,code:ue}}toJSON(){const D={providerId:this.providerId};return this.params.phoneNumber&&(D.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(D.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(D.verificationCode=this.params.verificationCode),this.params.verificationId&&(D.verificationId=this.params.verificationId),D}static fromJSON(D){"string"==typeof D&&(D=JSON.parse(D));const{verificationId:T,verificationCode:U,phoneNumber:ue,temporaryProof:xe}=D;return U||T||ue||xe?new ts({verificationId:T,verificationCode:U,phoneNumber:ue,temporaryProof:xe}):null}}class da{constructor(D){var T,U,ue,xe,dt,nn;const Yn=(0,W.zd)((0,W.pd)(D)),di=null!==(T=Yn.apiKey)&&void 0!==T?T:null,xi=null!==(U=Yn.oobCode)&&void 0!==U?U:null,Si=function xl(L){switch(L){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(ue=Yn.mode)&&void 0!==ue?ue:null);ut(di&&xi&&Si,"argument-error"),this.apiKey=di,this.operation=Si,this.code=xi,this.continueUrl=null!==(xe=Yn.continueUrl)&&void 0!==xe?xe:null,this.languageCode=null!==(dt=Yn.languageCode)&&void 0!==dt?dt:null,this.tenantId=null!==(nn=Yn.tenantId)&&void 0!==nn?nn:null}static parseLink(D){const T=function Sl(L){const D=(0,W.zd)((0,W.pd)(L)).link,T=D?(0,W.zd)((0,W.pd)(D)).deep_link_id:null,U=(0,W.zd)((0,W.pd)(L)).deep_link_id;return(U?(0,W.zd)((0,W.pd)(U)).link:null)||U||T||D||L}(D);try{return new da(T)}catch{return null}}}let Zr=(()=>{class L{constructor(){this.providerId=L.PROVIDER_ID}static credential(T,U){return _o._fromEmailAndPassword(T,U)}static credentialWithLink(T,U){const ue=da.parseLink(U);return ut(ue,"argument-error"),_o._fromEmailAndCode(T,ue.code,ue.tenantId)}}return L.PROVIDER_ID="password",L.EMAIL_PASSWORD_SIGN_IN_METHOD="password",L.EMAIL_LINK_SIGN_IN_METHOD="emailLink",L})();class no{constructor(D){this.providerId=D,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(D){this.defaultLanguageCode=D}setCustomParameters(D){return this.customParameters=D,this}getCustomParameters(){return this.customParameters}}class _s extends no{constructor(){super(...arguments),this.scopes=[]}addScope(D){return this.scopes.includes(D)||this.scopes.push(D),this}getScopes(){return[...this.scopes]}}class jr extends _s{static credentialFromJSON(D){const T="string"==typeof D?JSON.parse(D):D;return ut("providerId"in T&&"signInMethod"in T,"argument-error"),qr._fromParams(T)}credential(D){return this._credential(Object.assign(Object.assign({},D),{nonce:D.rawNonce}))}_credential(D){return ut(D.idToken||D.accessToken,"argument-error"),qr._fromParams(Object.assign(Object.assign({},D),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(D){return jr.oauthCredentialFromTaggedObject(D)}static credentialFromError(D){return jr.oauthCredentialFromTaggedObject(D.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:D}){if(!D)return null;const{oauthIdToken:T,oauthAccessToken:U,oauthTokenSecret:ue,pendingToken:xe,nonce:dt,providerId:nn}=D;if(!U&&!ue&&!T&&!xe||!nn)return null;try{return new jr(nn)._credential({idToken:T,accessToken:U,nonce:dt,pendingToken:xe})}catch{return null}}}let qs=(()=>{class L extends _s{constructor(){super("facebook.com")}static credential(T){return qr._fromParams({providerId:L.PROVIDER_ID,signInMethod:L.FACEBOOK_SIGN_IN_METHOD,accessToken:T})}static credentialFromResult(T){return L.credentialFromTaggedObject(T)}static credentialFromError(T){return L.credentialFromTaggedObject(T.customData||{})}static credentialFromTaggedObject({_tokenResponse:T}){if(!T||!("oauthAccessToken"in T)||!T.oauthAccessToken)return null;try{return L.credential(T.oauthAccessToken)}catch{return null}}}return L.FACEBOOK_SIGN_IN_METHOD="facebook.com",L.PROVIDER_ID="facebook.com",L})(),ll=(()=>{class L extends _s{constructor(){super("google.com"),this.addScope("profile")}static credential(T,U){return qr._fromParams({providerId:L.PROVIDER_ID,signInMethod:L.GOOGLE_SIGN_IN_METHOD,idToken:T,accessToken:U})}static credentialFromResult(T){return L.credentialFromTaggedObject(T)}static credentialFromError(T){return L.credentialFromTaggedObject(T.customData||{})}static credentialFromTaggedObject({_tokenResponse:T}){if(!T)return null;const{oauthIdToken:U,oauthAccessToken:ue}=T;if(!U&&!ue)return null;try{return L.credential(U,ue)}catch{return null}}}return L.GOOGLE_SIGN_IN_METHOD="google.com",L.PROVIDER_ID="google.com",L})(),Xo=(()=>{class L extends _s{constructor(){super("github.com")}static credential(T){return qr._fromParams({providerId:L.PROVIDER_ID,signInMethod:L.GITHUB_SIGN_IN_METHOD,accessToken:T})}static credentialFromResult(T){return L.credentialFromTaggedObject(T)}static credentialFromError(T){return L.credentialFromTaggedObject(T.customData||{})}static credentialFromTaggedObject({_tokenResponse:T}){if(!T||!("oauthAccessToken"in T)||!T.oauthAccessToken)return null;try{return L.credential(T.oauthAccessToken)}catch{return null}}}return L.GITHUB_SIGN_IN_METHOD="github.com",L.PROVIDER_ID="github.com",L})();class Qr extends po{constructor(D,T){super(D,D),this.pendingToken=T}_getIdTokenResponse(D){return Bo(D,this.buildRequest())}_linkToIdToken(D,T){const U=this.buildRequest();return U.idToken=T,Bo(D,U)}_getReauthenticationResolver(D){const T=this.buildRequest();return T.autoCreate=!1,Bo(D,T)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(D){const T="string"==typeof D?JSON.parse(D):D,{providerId:U,signInMethod:ue,pendingToken:xe}=T;return U&&ue&&xe&&U===ue?new Qr(U,xe):null}static _create(D,T){return new Qr(D,T)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class zr extends no{constructor(D){ut(D.startsWith("saml."),"argument-error"),super(D)}static credentialFromResult(D){return zr.samlCredentialFromTaggedObject(D)}static credentialFromError(D){return zr.samlCredentialFromTaggedObject(D.customData||{})}static credentialFromJSON(D){const T=Qr.fromJSON(D);return ut(T,"argument-error"),T}static samlCredentialFromTaggedObject({_tokenResponse:D}){if(!D)return null;const{pendingToken:T,providerId:U}=D;if(!T||!U)return null;try{return Qr._create(U,T)}catch{return null}}}let Ml=(()=>{class L extends _s{constructor(){super("twitter.com")}static credential(T,U){return qr._fromParams({providerId:L.PROVIDER_ID,signInMethod:L.TWITTER_SIGN_IN_METHOD,oauthToken:T,oauthTokenSecret:U})}static credentialFromResult(T){return L.credentialFromTaggedObject(T)}static credentialFromError(T){return L.credentialFromTaggedObject(T.customData||{})}static credentialFromTaggedObject({_tokenResponse:T}){if(!T)return null;const{oauthAccessToken:U,oauthTokenSecret:ue}=T;if(!U||!ue)return null;try{return L.credential(U,ue)}catch{return null}}}return L.TWITTER_SIGN_IN_METHOD="twitter.com",L.PROVIDER_ID="twitter.com",L})();function Zs(L,D){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,M.Z)(function*(L,D){return on(L,"POST","/v1/accounts:signUp",Ht(L,D))})).apply(this,arguments)}class Ls{constructor(D){this.user=D.user,this.providerId=D.providerId,this._tokenResponse=D._tokenResponse,this.operationType=D.operationType}static _fromIdTokenResponse(D,T,U,ue=!1){return(0,M.Z)(function*(){const xe=yield Pi._fromIdTokenResponse(D,U,ue),dt=$i(U);return new Ls({user:xe,providerId:dt,_tokenResponse:U,operationType:T})})()}static _forOperation(D,T,U){return(0,M.Z)(function*(){yield D._updateTokensIfNecessary(U,!0);const ue=$i(U);return new Ls({user:D,providerId:ue,_tokenResponse:U,operationType:T})})()}}function $i(L){return L.providerId?L.providerId:"phoneNumber"in L?"phone":null}function gu(){return(gu=(0,M.Z)(function*(L){var D;const T=pr(L);if(yield T._initializationPromise,null!==(D=T.currentUser)&&void 0!==D&&D.isAnonymous)return new Ls({user:T.currentUser,providerId:null,operationType:"signIn"});const U=yield Zs(T,{returnSecureToken:!0}),ue=yield Ls._fromIdTokenResponse(T,"signIn",U,!0);return yield T._updateCurrentUser(ue.user),ue})).apply(this,arguments)}class Il extends W.ZR{constructor(D,T,U,ue){var xe;super(T.code,T.message),this.operationType=U,this.user=ue,Object.setPrototypeOf(this,Il.prototype),this.customData={appName:D.name,tenantId:null!==(xe=D.tenantId)&&void 0!==xe?xe:void 0,_serverResponse:T.customData._serverResponse,operationType:U}}static _fromErrorAndOperation(D,T,U,ue){return new Il(D,T,U,ue)}}function Ma(L,D,T,U){return("reauthenticate"===D?T._getReauthenticationResolver(L):T._getIdTokenResponse(L)).catch(xe=>{throw"auth/multi-factor-auth-required"===xe.code?Il._fromErrorAndOperation(L,xe,D,U):xe})}function Ia(L){return new Set(L.map(({providerId:D})=>D).filter(D=>!!D))}function Ta(){return(Ta=(0,M.Z)(function*(L,D){const T=(0,W.m9)(L);yield Cr(!0,T,D);const{providerUserInfo:U}=yield qn(T.auth,{idToken:yield T.getIdToken(),deleteProvider:[D]}),ue=Ia(U||[]);return T.providerData=T.providerData.filter(xe=>ue.has(xe.providerId)),ue.has("phone")||(T.phoneNumber=null),yield T.auth._persistUserIfCurrent(T),T})).apply(this,arguments)}function Tl(L,D){return Un.apply(this,arguments)}function Un(){return(Un=(0,M.Z)(function*(L,D,T=!1){const U=yield we(L,D._linkToIdToken(L.auth,yield L.getIdToken()),T);return Ls._forOperation(L,"link",U)})).apply(this,arguments)}function Cr(L,D,T){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,M.Z)(function*(L,D,T){yield Zn(D);const ue=!1===L?"provider-already-linked":"no-such-provider";ut(Ia(D.providerData).has(T)===L,D.auth,ue)})).apply(this,arguments)}function hc(L,D){return Br.apply(this,arguments)}function Br(){return(Br=(0,M.Z)(function*(L,D,T=!1){const{auth:U}=L,ue="reauthenticate";try{const xe=yield we(L,Ma(U,ue,D,L),T);ut(xe.idToken,U,"internal-error");const dt=Ot(xe.idToken);ut(dt,U,"internal-error");const{sub:nn}=dt;return ut(L.uid===nn,U,"user-mismatch"),Ls._forOperation(L,ue,xe)}catch(xe){throw"auth/user-not-found"===xe?.code&&je(U,"user-mismatch"),xe}})).apply(this,arguments)}function ce(L,D){return oe.apply(this,arguments)}function oe(){return(oe=(0,M.Z)(function*(L,D,T=!1){const U="signIn",ue=yield Ma(L,U,D),xe=yield Ls._fromIdTokenResponse(L,U,ue);return T||(yield L._updateCurrentUser(xe.user)),xe})).apply(this,arguments)}function te(L,D){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,M.Z)(function*(L,D){return ce(pr(L),D)})).apply(this,arguments)}function hn(L,D){return gi.apply(this,arguments)}function gi(){return(gi=(0,M.Z)(function*(L,D){const T=(0,W.m9)(L);return yield Cr(!1,T,D.providerId),Tl(T,D)})).apply(this,arguments)}function Wi(L,D){return cl.apply(this,arguments)}function cl(){return(cl=(0,M.Z)(function*(L,D){return hc((0,W.m9)(L),D)})).apply(this,arguments)}function ar(L,D){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,M.Z)(function*(L,D){return on(L,"POST","/v1/accounts:signInWithCustomToken",Ht(L,D))})).apply(this,arguments)}function ul(){return(ul=(0,M.Z)(function*(L,D){const T=pr(L),U=yield ar(T,{token:D,returnSecureToken:!0}),ue=yield Ls._fromIdTokenResponse(T,"signIn",U);return yield T._updateCurrentUser(ue.user),ue})).apply(this,arguments)}class Aa{constructor(D,T){this.factorId=D,this.uid=T.mfaEnrollmentId,this.enrollmentTime=new Date(T.enrolledAt).toUTCString(),this.displayName=T.displayName}static _fromServerResponse(D,T){return"phoneInfo"in T?ha._fromServerResponse(D,T):"totpInfo"in T?ka._fromServerResponse(D,T):je(D,"internal-error")}}class ha extends Aa{constructor(D){super("phone",D),this.phoneNumber=D.phoneInfo}static _fromServerResponse(D,T){return new ha(T)}}class ka extends Aa{constructor(D){super("totp",D)}static _fromServerResponse(D,T){return new ka(T)}}function dl(L,D,T){var U;ut((null===(U=T.url)||void 0===U?void 0:U.length)>0,L,"invalid-continue-uri"),ut(typeof T.dynamicLinkDomain>"u"||T.dynamicLinkDomain.length>0,L,"invalid-dynamic-link-domain"),D.continueUrl=T.url,D.dynamicLinkDomain=T.dynamicLinkDomain,D.canHandleCodeInApp=T.handleCodeInApp,T.iOS&&(ut(T.iOS.bundleId.length>0,L,"missing-ios-bundle-id"),D.iOSBundleId=T.iOS.bundleId),T.android&&(ut(T.android.packageName.length>0,L,"missing-android-pkg-name"),D.androidInstallApp=T.android.installApp,D.androidMinimumVersionCode=T.android.minimumVersion,D.androidPackageName=T.android.packageName)}function Ra(){return Ra=(0,M.Z)(function*(L,D,T){var U;const ue=pr(L),xe={requestType:"PASSWORD_RESET",email:D,clientType:"CLIENT_TYPE_WEB"};if(null!==(U=ue._getRecaptchaConfig())&&void 0!==U&&U.emailPasswordEnabled){const dt=yield Is(ue,xe,"getOobCode",!0);T&&dl(ue,dt,T),yield Xt(ue,dt)}else T&&dl(ue,xe,T),yield Xt(ue,xe).catch(function(){var dt=(0,M.Z)(function*(nn){if("auth/missing-recaptcha-token"!==nn.code)return Promise.reject(nn);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Yn=yield Is(ue,xe,"getOobCode",!0);T&&dl(ue,Yn,T),yield Xt(ue,Yn)}});return function(nn){return dt.apply(this,arguments)}}())}),Ra.apply(this,arguments)}function hl(){return(hl=(0,M.Z)(function*(L,D,T){yield mo((0,W.m9)(L),{oobCode:D,newPassword:T})})).apply(this,arguments)}function bo(){return(bo=(0,M.Z)(function*(L,D){yield Fo((0,W.m9)(L),{oobCode:D})})).apply(this,arguments)}function Mc(L,D){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,M.Z)(function*(L,D){const T=(0,W.m9)(L),U=yield mo(T,{oobCode:D}),ue=U.requestType;switch(ut(ue,T,"internal-error"),ue){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ut(U.newEmail,T,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ut(U.mfaInfo,T,"internal-error");default:ut(U.email,T,"internal-error")}let xe=null;return U.mfaInfo&&(xe=Aa._fromServerResponse(pr(T),U.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===U.requestType?U.newEmail:U.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===U.requestType?U.email:U.newEmail)||null,multiFactorInfo:xe},operation:ue}})).apply(this,arguments)}function Kl(){return(Kl=(0,M.Z)(function*(L,D){const{data:T}=yield Mc((0,W.m9)(L),D);return T.email})).apply(this,arguments)}function Ic(){return Ic=(0,M.Z)(function*(L,D,T){var U;const ue=pr(L),xe={returnSecureToken:!0,email:D,password:T,clientType:"CLIENT_TYPE_WEB"};let dt;if(null!==(U=ue._getRecaptchaConfig())&&void 0!==U&&U.emailPasswordEnabled){const di=yield Is(ue,xe,"signUpPassword");dt=Zs(ue,di)}else dt=Zs(ue,xe).catch(function(){var di=(0,M.Z)(function*(xi){if("auth/missing-recaptcha-token"===xi.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Si=yield Is(ue,xe,"signUpPassword");return Zs(ue,Si)}return Promise.reject(xi)});return function(xi){return di.apply(this,arguments)}}());const nn=yield dt.catch(di=>Promise.reject(di)),Yn=yield Ls._fromIdTokenResponse(ue,"signIn",nn);return yield ue._updateCurrentUser(Yn.user),Yn}),Ic.apply(this,arguments)}function mc(){return mc=(0,M.Z)(function*(L,D,T){var U;const ue=pr(L),xe={requestType:"EMAIL_SIGNIN",email:D,clientType:"CLIENT_TYPE_WEB"};function dt(nn,Yn){ut(Yn.handleCodeInApp,ue,"argument-error"),Yn&&dl(ue,nn,Yn)}if(null!==(U=ue._getRecaptchaConfig())&&void 0!==U&&U.emailPasswordEnabled){const nn=yield Is(ue,xe,"getOobCode",!0);dt(nn,T),yield Wn(ue,nn)}else dt(xe,T),yield Wn(ue,xe).catch(function(){var nn=(0,M.Z)(function*(Yn){if("auth/missing-recaptcha-token"!==Yn.code)return Promise.reject(Yn);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const di=yield Is(ue,xe,"getOobCode",!0);dt(di,T),yield Wn(ue,di)}});return function(Yn){return nn.apply(this,arguments)}}())}),mc.apply(this,arguments)}function na(){return(na=(0,M.Z)(function*(L,D,T){const U=(0,W.m9)(L),ue=Zr.credentialWithLink(D,T||ai());return ut(ue._tenantId===(U.tenantId||null),U,"tenant-id-mismatch"),te(U,ue)})).apply(this,arguments)}function ss(L,D){return Al.apply(this,arguments)}function Al(){return(Al=(0,M.Z)(function*(L,D){return Dt(L,"POST","/v1/accounts:createAuthUri",Ht(L,D))})).apply(this,arguments)}function ro(){return(ro=(0,M.Z)(function*(L,D){const U={identifier:D,continueUri:Gn()?ai():"http://localhost"},{signinMethods:ue}=yield ss((0,W.m9)(L),U);return ue||[]})).apply(this,arguments)}function uo(){return(uo=(0,M.Z)(function*(L,D){const T=(0,W.m9)(L),ue={requestType:"VERIFY_EMAIL",idToken:yield L.getIdToken()};D&&dl(T.auth,ue,D);const{email:xe}=yield zt(T.auth,ue);xe!==L.email&&(yield L.reload())})).apply(this,arguments)}function ja(){return(ja=(0,M.Z)(function*(L,D,T){const U=(0,W.m9)(L),xe={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield L.getIdToken(),newEmail:D};T&&dl(U.auth,xe,T);const{email:dt}=yield nr(U.auth,xe);dt!==L.email&&(yield L.reload())})).apply(this,arguments)}function Oa(L,D){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,M.Z)(function*(L,D){return Dt(L,"POST","/v1/accounts:update",D)})).apply(this,arguments)}function To(){return(To=(0,M.Z)(function*(L,{displayName:D,photoURL:T}){if(void 0===D&&void 0===T)return;const U=(0,W.m9)(L),xe={idToken:yield U.getIdToken(),displayName:D,photoUrl:T,returnSecureToken:!0},dt=yield we(U,Oa(U.auth,xe));U.displayName=dt.displayName||null,U.photoURL=dt.photoUrl||null;const nn=U.providerData.find(({providerId:Yn})=>"password"===Yn);nn&&(nn.displayName=U.displayName,nn.photoURL=U.photoURL),yield U._updateTokensIfNecessary(dt)})).apply(this,arguments)}function gc(L,D,T){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,M.Z)(function*(L,D,T){const{auth:U}=L,xe={idToken:yield L.getIdToken(),returnSecureToken:!0};D&&(xe.email=D),T&&(xe.password=T);const dt=yield we(L,uc(U,xe));yield L._updateTokensIfNecessary(dt,!0)})).apply(this,arguments)}class cr{constructor(D,T,U={}){this.isNewUser=D,this.providerId=T,this.profile=U}}class za extends cr{constructor(D,T,U,ue){super(D,T,U),this.username=ue}}class Vr extends cr{constructor(D,T){super(D,"facebook.com",T)}}class X extends za{constructor(D,T){super(D,"github.com",T,"string"==typeof T?.login?T?.login:null)}}class me extends cr{constructor(D,T){super(D,"google.com",T)}}class re extends za{constructor(D,T,U){super(D,"twitter.com",T,U)}}function Re(L){const{user:D,_tokenResponse:T}=L;return D.isAnonymous&&!T?{providerId:null,isNewUser:!1,profile:null}:function Ts(L){var D,T;if(!L)return null;const{providerId:U}=L,ue=L.rawUserInfo?JSON.parse(L.rawUserInfo):{},xe=L.isNewUser||"identitytoolkit#SignupNewUserResponse"===L.kind;if(!U&&L?.idToken){const dt=null===(T=null===(D=Ot(L.idToken))||void 0===D?void 0:D.firebase)||void 0===T?void 0:T.sign_in_provider;if(dt)return new cr(xe,"anonymous"!==dt&&"custom"!==dt?dt:null)}if(!U)return null;switch(U){case"facebook.com":return new Vr(xe,ue);case"github.com":return new X(xe,ue);case"google.com":return new me(xe,ue);case"twitter.com":return new re(xe,ue,L.screenName||null);case"custom":case"anonymous":return new cr(xe,null);default:return new cr(xe,U,ue)}}(T)}class Ar{constructor(D,T,U){this.type=D,this.credential=T,this.auth=U}static _fromIdtoken(D,T){return new Ar("enroll",D,T)}static _fromMfaPendingCredential(D){return new Ar("signin",D)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(D){var T,U;if(D?.multiFactorSession){if(null!==(T=D.multiFactorSession)&&void 0!==T&&T.pendingCredential)return Ar._fromMfaPendingCredential(D.multiFactorSession.pendingCredential);if(null!==(U=D.multiFactorSession)&&void 0!==U&&U.idToken)return Ar._fromIdtoken(D.multiFactorSession.idToken)}return null}}class Ao{constructor(D,T,U){this.session=D,this.hints=T,this.signInResolver=U}static _fromError(D,T){const U=pr(D),ue=T.customData._serverResponse,xe=(ue.mfaInfo||[]).map(nn=>Aa._fromServerResponse(U,nn));ut(ue.mfaPendingCredential,U,"internal-error");const dt=Ar._fromMfaPendingCredential(ue.mfaPendingCredential);return new Ao(dt,xe,function(){var nn=(0,M.Z)(function*(Yn){const di=yield Yn._process(U,dt);delete ue.mfaInfo,delete ue.mfaPendingCredential;const xi=Object.assign(Object.assign({},ue),{idToken:di.idToken,refreshToken:di.refreshToken});switch(T.operationType){case"signIn":const Si=yield Ls._fromIdTokenResponse(U,T.operationType,xi);return yield U._updateCurrentUser(Si.user),Si;case"reauthenticate":return ut(T.user,U,"internal-error"),Ls._forOperation(T.user,T.operationType,xi);default:je(U,"internal-error")}});return function(Yn){return nn.apply(this,arguments)}}())}resolveSignIn(D){var T=this;return(0,M.Z)(function*(){return T.signInResolver(D)})()}}function As(L,D){return Dt(L,"POST","/v2/accounts/mfaEnrollment:start",Ht(L,D))}class so{constructor(D){this.user=D,this.enrolledFactors=[],D._onReload(T=>{T.mfaInfo&&(this.enrolledFactors=T.mfaInfo.map(U=>Aa._fromServerResponse(D.auth,U)))})}static _fromUser(D){return new so(D)}getSession(){var D=this;return(0,M.Z)(function*(){return Ar._fromIdtoken(yield D.user.getIdToken(),D.user.auth)})()}enroll(D,T){var U=this;return(0,M.Z)(function*(){const ue=D,xe=yield U.getSession(),dt=yield we(U.user,ue._process(U.user.auth,xe,T));return yield U.user._updateTokensIfNecessary(dt),U.user.reload()})()}unenroll(D){var T=this;return(0,M.Z)(function*(){const U="string"==typeof D?D:D.uid,ue=yield T.user.getIdToken();try{const xe=yield we(T.user,function ql(L,D){return Dt(L,"POST","/v2/accounts/mfaEnrollment:withdraw",Ht(L,D))}(T.user.auth,{idToken:ue,mfaEnrollmentId:U}));T.enrolledFactors=T.enrolledFactors.filter(({uid:dt})=>dt!==U),yield T.user._updateTokensIfNecessary(xe),yield T.user.reload()}catch(xe){throw xe}})()}}const _c=new WeakMap,_u="__sak";class vu{constructor(D,T){this.storageRetriever=D,this.type=T}_isAvailable(){try{return this.storage?(this.storage.setItem(_u,"1"),this.storage.removeItem(_u),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(D,T){return this.storage.setItem(D,JSON.stringify(T)),Promise.resolve()}_get(D){const T=this.storage.getItem(D);return Promise.resolve(T?JSON.parse(T):null)}_remove(D){return this.storage.removeItem(D),Promise.resolve()}get storage(){return this.storageRetriever()}}const Co=(()=>{class L extends vu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(T,U)=>this.onStorageEvent(T,U),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function yc(){const L=(0,W.z$)();return Ce(L)||Ee(L)}()&&function Ri(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Qn(),this._shouldAllowMigration=!0}forAllChangedKeys(T){for(const U of Object.keys(this.listeners)){const ue=this.storage.getItem(U),xe=this.localCache[U];ue!==xe&&T(U,xe,ue)}}onStorageEvent(T,U=!1){if(!T.key)return void this.forAllChangedKeys((nn,Yn,di)=>{this.notifyListeners(nn,di)});const ue=T.key;if(U?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const nn=this.storage.getItem(ue);if(T.newValue!==nn)null!==T.newValue?this.storage.setItem(ue,T.newValue):this.storage.removeItem(ue);else if(this.localCache[ue]===T.newValue&&!U)return}const xe=()=>{const nn=this.storage.getItem(ue);!U&&this.localCache[ue]===nn||this.notifyListeners(ue,nn)},dt=this.storage.getItem(ue);!function cn(){return(0,W.w1)()&&10===document.documentMode}()||dt===T.newValue||T.newValue===T.oldValue?xe():setTimeout(xe,10)}notifyListeners(T,U){this.localCache[T]=U;const ue=this.listeners[T];if(ue)for(const xe of Array.from(ue))xe(U&&JSON.parse(U))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((T,U,ue)=>{this.onStorageEvent(new StorageEvent("storage",{key:T,oldValue:U,newValue:ue}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(T,U){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[T]||(this.listeners[T]=new Set,this.localCache[T]=this.storage.getItem(T)),this.listeners[T].add(U)}_removeListener(T,U){this.listeners[T]&&(this.listeners[T].delete(U),0===this.listeners[T].size&&delete this.listeners[T]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(T,U){var ue=()=>super._set,xe=this;return(0,M.Z)(function*(){yield ue().call(xe,T,U),xe.localCache[T]=JSON.stringify(U)})()}_get(T){var U=()=>super._get,ue=this;return(0,M.Z)(function*(){const xe=yield U().call(ue,T);return ue.localCache[T]=JSON.stringify(xe),xe})()}_remove(T){var U=()=>super._remove,ue=this;return(0,M.Z)(function*(){yield U().call(ue,T),delete ue.localCache[T]})()}}return L.type="LOCAL",L})(),pl=(()=>{class L extends vu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(T,U){}_removeListener(T,U){}}return L.type="SESSION",L})();let Rs=(()=>{class L{constructor(T){this.eventTarget=T,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(T){const U=this.receivers.find(xe=>xe.isListeningto(T));if(U)return U;const ue=new L(T);return this.receivers.push(ue),ue}isListeningto(T){return this.eventTarget===T}handleEvent(T){var U=this;return(0,M.Z)(function*(){const ue=T,{eventId:xe,eventType:dt,data:nn}=ue.data,Yn=U.handlersMap[dt];if(!Yn?.size)return;ue.ports[0].postMessage({status:"ack",eventId:xe,eventType:dt});const di=Array.from(Yn).map(function(){var Si=(0,M.Z)(function*($s){return $s(ue.origin,nn)});return function($s){return Si.apply(this,arguments)}}()),xi=yield function Kn(L){return Promise.all(L.map(function(){var D=(0,M.Z)(function*(T){try{return{fulfilled:!0,value:yield T}}catch(U){return{fulfilled:!1,reason:U}}});return function(T){return D.apply(this,arguments)}}()))}(di);ue.ports[0].postMessage({status:"done",eventId:xe,eventType:dt,response:xi})})()}_subscribe(T,U){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[T]||(this.handlersMap[T]=new Set),this.handlersMap[T].add(U)}_unsubscribe(T,U){this.handlersMap[T]&&U&&this.handlersMap[T].delete(U),(!U||0===this.handlersMap[T].size)&&delete this.handlersMap[T],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return L.receivers=[],L})();function Os(L="",D=10){let T="";for(let U=0;U<D;U++)T+=Math.floor(10*Math.random());return L+T}class Zu{constructor(D){this.target=D,this.handlers=new Set}removeMessageHandler(D){D.messageChannel&&(D.messageChannel.port1.removeEventListener("message",D.onMessage),D.messageChannel.port1.close()),this.handlers.delete(D)}_send(D,T,U=50){var ue=this;return(0,M.Z)(function*(){const xe=typeof MessageChannel<"u"?new MessageChannel:null;if(!xe)throw new Error("connection_unavailable");let dt,nn;return new Promise((Yn,di)=>{const xi=Os("",20);xe.port1.start();const Si=setTimeout(()=>{di(new Error("unsupported_event"))},U);nn={messageChannel:xe,onMessage($s){const vl=$s;if(vl.data.eventId===xi)switch(vl.data.status){case"ack":clearTimeout(Si),dt=setTimeout(()=>{di(new Error("timeout"))},3e3);break;case"done":clearTimeout(dt),Yn(vl.data.response);break;default:clearTimeout(Si),clearTimeout(dt),di(new Error("invalid_response"))}}},ue.handlers.add(nn),xe.port1.addEventListener("message",nn.onMessage),ue.target.postMessage({eventType:D,eventId:xi,data:T},[xe.port2])}).finally(()=>{nn&&ue.removeMessageHandler(nn)})})()}}function ni(){return window}function Hc(){return typeof ni().WorkerGlobalScope<"u"&&"function"==typeof ni().importScripts}function fn(){return(fn=(0,M.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Hs="firebaseLocalStorageDb",$a="firebaseLocalStorage",bc="fbase_key";class Zl{constructor(D){this.request=D}toPromise(){return new Promise((D,T)=>{this.request.addEventListener("success",()=>{D(this.request.result)}),this.request.addEventListener("error",()=>{T(this.request.error)})})}}function Qu(L,D){return L.transaction([$a],D?"readwrite":"readonly").objectStore($a)}function yu(){const L=indexedDB.open(Hs,1);return new Promise((D,T)=>{L.addEventListener("error",()=>{T(L.error)}),L.addEventListener("upgradeneeded",()=>{const U=L.result;try{U.createObjectStore($a,{keyPath:bc})}catch(ue){T(ue)}}),L.addEventListener("success",(0,M.Z)(function*(){const U=L.result;U.objectStoreNames.contains($a)?D(U):(U.close(),yield function os(){const L=indexedDB.deleteDatabase(Hs);return new Zl(L).toPromise()}(),D(yield yu()))}))})}function Td(L,D,T){return Rh.apply(this,arguments)}function Rh(){return(Rh=(0,M.Z)(function*(L,D,T){const U=Qu(L,!0).put({[bc]:D,value:T});return new Zl(U).toPromise()})).apply(this,arguments)}function Zi(){return(Zi=(0,M.Z)(function*(L,D){const T=Qu(L,!1).get(D),U=yield new Zl(T).toPromise();return void 0===U?null:U.value})).apply(this,arguments)}function Ac(L,D){const T=Qu(L,!0).delete(D);return new Zl(T).toPromise()}const js=(()=>{class L{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var T=this;return(0,M.Z)(function*(){return T.db||(T.db=yield yu()),T.db})()}_withRetries(T){var U=this;return(0,M.Z)(function*(){let ue=0;for(;;)try{const xe=yield U._openDb();return yield T(xe)}catch(xe){if(ue++>3)throw xe;U.db&&(U.db.close(),U.db=void 0)}})()}initializeServiceWorkerMessaging(){var T=this;return(0,M.Z)(function*(){return Hc()?T.initializeReceiver():T.initializeSender()})()}initializeReceiver(){var T=this;return(0,M.Z)(function*(){T.receiver=Rs._getInstance(function is(){return Hc()?self:null}()),T.receiver._subscribe("keyChanged",function(){var U=(0,M.Z)(function*(ue,xe){return{keyProcessed:(yield T._poll()).includes(xe.key)}});return function(ue,xe){return U.apply(this,arguments)}}()),T.receiver._subscribe("ping",function(){var U=(0,M.Z)(function*(ue,xe){return["keyChanged"]});return function(ue,xe){return U.apply(this,arguments)}}())})()}initializeSender(){var T=this;return(0,M.Z)(function*(){var U,ue;if(T.activeServiceWorker=yield function ci(){return fn.apply(this,arguments)}(),!T.activeServiceWorker)return;T.sender=new Zu(T.activeServiceWorker);const xe=yield T.sender._send("ping",{},800);!xe||(null===(U=xe[0])||void 0===U?void 0:U.fulfilled)&&(null===(ue=xe[0])||void 0===ue?void 0:ue.value.includes("keyChanged"))&&(T.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(T){var U=this;return(0,M.Z)(function*(){if(U.sender&&U.activeServiceWorker&&function kn(){var L;return(null===(L=navigator?.serviceWorker)||void 0===L?void 0:L.controller)||null}()===U.activeServiceWorker)try{yield U.sender._send("keyChanged",{key:T},U.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,M.Z)(function*(){try{if(!indexedDB)return!1;const T=yield yu();return yield Td(T,_u,"1"),yield Ac(T,_u),!0}catch{}return!1})()}_withPendingWrite(T){var U=this;return(0,M.Z)(function*(){U.pendingWrites++;try{yield T()}finally{U.pendingWrites--}})()}_set(T,U){var ue=this;return(0,M.Z)(function*(){return ue._withPendingWrite((0,M.Z)(function*(){return yield ue._withRetries(xe=>Td(xe,T,U)),ue.localCache[T]=U,ue.notifyServiceWorker(T)}))})()}_get(T){var U=this;return(0,M.Z)(function*(){const ue=yield U._withRetries(xe=>function ml(L,D){return Zi.apply(this,arguments)}(xe,T));return U.localCache[T]=ue,ue})()}_remove(T){var U=this;return(0,M.Z)(function*(){return U._withPendingWrite((0,M.Z)(function*(){return yield U._withRetries(ue=>Ac(ue,T)),delete U.localCache[T],U.notifyServiceWorker(T)}))})()}_poll(){var T=this;return(0,M.Z)(function*(){const U=yield T._withRetries(dt=>{const nn=Qu(dt,!1).getAll();return new Zl(nn).toPromise()});if(!U)return[];if(0!==T.pendingWrites)return[];const ue=[],xe=new Set;for(const{fbase_key:dt,value:nn}of U)xe.add(dt),JSON.stringify(T.localCache[dt])!==JSON.stringify(nn)&&(T.notifyListeners(dt,nn),ue.push(dt));for(const dt of Object.keys(T.localCache))T.localCache[dt]&&!xe.has(dt)&&(T.notifyListeners(dt,null),ue.push(dt));return ue})()}notifyListeners(T,U){this.localCache[T]=U;const ue=this.listeners[T];if(ue)for(const xe of Array.from(ue))xe(U)}startPolling(){var T=this;this.stopPolling(),this.pollTimer=setInterval((0,M.Z)(function*(){return T._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(T,U){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[T]||(this.listeners[T]=new Set,this._get(T)),this.listeners[T].add(U)}_removeListener(T,U){this.listeners[T]&&(this.listeners[T].delete(U),0===this.listeners[T].size&&delete this.listeners[T]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return L.type="LOCAL",L})();function qi(L,D){return Dt(L,"POST","/v2/accounts/mfaSignIn:start",Ht(L,D))}const wo=1e12;class oo{constructor(D){this.auth=D,this.counter=wo,this._widgets=new Map}render(D,T){const U=this.counter;return this._widgets.set(U,new wu(D,this.auth.name,T||{})),this.counter++,U}reset(D){var T;const U=D||wo;null===(T=this._widgets.get(U))||void 0===T||T.delete(),this._widgets.delete(U)}getResponse(D){var T;return(null===(T=this._widgets.get(D||wo))||void 0===T?void 0:T.getResponse())||""}execute(D){var T=this;return(0,M.Z)(function*(){var U;return null===(U=T._widgets.get(D||wo))||void 0===U||U.execute(),""})()}}class wu{constructor(D,T,U){this.params=U,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const ue="string"==typeof D?document.getElementById(D):D;ut(ue,"argument-error",{appName:T}),this.container=ue,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function G(L){const D=[],T="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let U=0;U<L;U++)D.push(T.charAt(Math.floor(Math.random()*T.length)));return D.join("")}(50);const{callback:D,"expired-callback":T}=this.params;if(D)try{D(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,T)try{T()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const $=Ms("rcb"),V=new yi(3e4,6e4);class ae{constructor(){var D;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(D=ni().grecaptcha)||void 0===D||!D.render)}load(D,T=""){return ut(function Ie(L){return L.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(L)}(T),D,"argument-error"),this.shouldResolveImmediately(T)&&Yi(ni().grecaptcha)?Promise.resolve(ni().grecaptcha):new Promise((U,ue)=>{const xe=ni().setTimeout(()=>{ue(Te(D,"network-request-failed"))},V.get());ni()[$]=()=>{ni().clearTimeout(xe),delete ni()[$];const nn=ni().grecaptcha;if(!nn||!Yi(nn))return void ue(Te(D,"internal-error"));const Yn=nn.render;nn.render=(di,xi)=>{const Si=Yn(di,xi);return this.counter++,Si},this.hostLanguage=T,U(nn)},es(`https://www.google.com/recaptcha/api.js??${(0,W.xO)({onload:$,render:"explicit",hl:T})}`).catch(()=>{clearTimeout(xe),ue(Te(D,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(D){var T;return!(null===(T=ni().grecaptcha)||void 0===T||!T.render)&&(D===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class st{load(D){return(0,M.Z)(function*(){return new oo(D)})()}clearedOneInstance(){}}const vt="recaptcha",mn={theme:"light",type:"image"};class ii{constructor(D,T=Object.assign({},mn),U){this.parameters=T,this.type=vt,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=pr(U),this.isInvisible="invisible"===this.parameters.size,ut(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const ue="string"==typeof D?document.getElementById(D):D;ut(ue,this.auth,"argument-error"),this.container=ue,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new st:new ae,this.validateStartingState()}verify(){var D=this;return(0,M.Z)(function*(){D.assertNotDestroyed();const T=yield D.render(),U=D.getAssertedRecaptcha();return U.getResponse(T)||new Promise(xe=>{const dt=nn=>{!nn||(D.tokenChangeListeners.delete(dt),xe(nn))};D.tokenChangeListeners.add(dt),D.isInvisible&&U.execute(T)})})()}render(){try{this.assertNotDestroyed()}catch(D){return Promise.reject(D)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(D=>{throw this.renderPromise=null,D})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(D=>{this.container.removeChild(D)})}validateStartingState(){ut(!this.parameters.sitekey,this.auth,"argument-error"),ut(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ut(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(D){return T=>{if(this.tokenChangeListeners.forEach(U=>U(T)),"function"==typeof D)D(T);else if("string"==typeof D){const U=ni()[D];"function"==typeof U&&U(T)}}}assertNotDestroyed(){ut(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var D=this;return(0,M.Z)(function*(){if(yield D.init(),!D.widgetId){let T=D.container;if(!D.isInvisible){const U=document.createElement("div");T.appendChild(U),T=U}D.widgetId=D.getAssertedRecaptcha().render(T,D.parameters)}return D.widgetId})()}init(){var D=this;return(0,M.Z)(function*(){ut(Gn()&&!Hc(),D.auth,"internal-error"),yield function ir(){let L=null;return new Promise(D=>{"complete"!==document.readyState?(L=()=>D(),window.addEventListener("load",L)):D()}).catch(D=>{throw L&&window.removeEventListener("load",L),D})}(),D.recaptcha=yield D._recaptchaLoader.load(D.auth,D.auth.languageCode||void 0);const T=yield function $t(L){return Sn.apply(this,arguments)}(D.auth);ut(T,D.auth,"internal-error"),D.parameters.sitekey=T})()}getAssertedRecaptcha(){return ut(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Tt{constructor(D,T){this.verificationId=D,this.onConfirmation=T}confirm(D){const T=ts._fromVerification(this.verificationId,D);return this.onConfirmation(T)}}function fs(){return(fs=(0,M.Z)(function*(L,D,T){const U=pr(L),ue=yield Wa(U,D,(0,W.m9)(T));return new Tt(ue,xe=>te(U,xe))})).apply(this,arguments)}function ko(){return(ko=(0,M.Z)(function*(L,D,T){const U=(0,W.m9)(L);yield Cr(!1,U,"phone");const ue=yield Wa(U.auth,D,(0,W.m9)(T));return new Tt(ue,xe=>hn(U,xe))})).apply(this,arguments)}function jc(){return(jc=(0,M.Z)(function*(L,D,T){const U=(0,W.m9)(L),ue=yield Wa(U.auth,D,(0,W.m9)(T));return new Tt(ue,xe=>Wi(U,xe))})).apply(this,arguments)}function Wa(L,D,T){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,M.Z)(function*(L,D,T){var U;const ue=yield T.verify();try{let xe;if(ut("string"==typeof ue,L,"argument-error"),ut(T.type===vt,L,"argument-error"),xe="string"==typeof D?{phoneNumber:D}:D,"session"in xe){const dt=xe.session;if("phoneNumber"in xe)return ut("enroll"===dt.type,L,"internal-error"),(yield As(L,{idToken:dt.credential,phoneEnrollmentInfo:{phoneNumber:xe.phoneNumber,recaptchaToken:ue}})).phoneSessionInfo.sessionInfo;{ut("signin"===dt.type,L,"internal-error");const nn=(null===(U=xe.multiFactorHint)||void 0===U?void 0:U.uid)||xe.multiFactorUid;return ut(nn,L,"missing-multi-factor-info"),(yield qi(L,{mfaPendingCredential:dt.credential,mfaEnrollmentId:nn,phoneSignInInfo:{recaptchaToken:ue}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:dt}=yield ua(L,{phoneNumber:xe.phoneNumber,recaptchaToken:ue});return dt}}finally{T._reset()}})).apply(this,arguments)}function sh(){return(sh=(0,M.Z)(function*(L,D){yield Tl((0,W.m9)(L),D)})).apply(this,arguments)}let kc=(()=>{class L{constructor(T){this.providerId=L.PROVIDER_ID,this.auth=pr(T)}verifyPhoneNumber(T,U){return Wa(this.auth,T,(0,W.m9)(U))}static credential(T,U){return ts._fromVerification(T,U)}static credentialFromResult(T){return L.credentialFromTaggedObject(T)}static credentialFromError(T){return L.credentialFromTaggedObject(T.customData||{})}static credentialFromTaggedObject({_tokenResponse:T}){if(!T)return null;const{phoneNumber:U,temporaryProof:ue}=T;return U&&ue?ts._fromTokenResponse(U,ue):null}}return L.PROVIDER_ID="phone",L.PHONE_SIGN_IN_METHOD="phone",L})();function Vo(L,D){return D?Ii(D):(ut(L._popupRedirectResolver,L,"argument-error"),L._popupRedirectResolver)}class Ql extends po{constructor(D){super("custom","custom"),this.params=D}_getIdTokenResponse(D){return Bo(D,this._buildIdpRequest())}_linkToIdToken(D,T){return Bo(D,this._buildIdpRequest(T))}_getReauthenticationResolver(D){return Bo(D,this._buildIdpRequest())}_buildIdpRequest(D){const T={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return D&&(T.idToken=D),T}}function Ya(L){return ce(L.auth,new Ql(L),L.bypassAuthState)}function kf(L){const{auth:D,user:T}=L;return ut(T,D,"internal-error"),hc(T,new Ql(L),L.bypassAuthState)}function vs(L){return Ad.apply(this,arguments)}function Ad(){return(Ad=(0,M.Z)(function*(L){const{auth:D,user:T}=L;return ut(T,D,"internal-error"),Tl(T,new Ql(L),L.bypassAuthState)})).apply(this,arguments)}class xu{constructor(D,T,U,ue,xe=!1){this.auth=D,this.resolver=U,this.user=ue,this.bypassAuthState=xe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(T)?T:[T]}execute(){var D=this;return new Promise(function(){var T=(0,M.Z)(function*(U,ue){D.pendingPromise={resolve:U,reject:ue};try{D.eventManager=yield D.resolver._initialize(D.auth),yield D.onExecution(),D.eventManager.registerConsumer(D)}catch(xe){D.reject(xe)}});return function(U,ue){return T.apply(this,arguments)}}())}onAuthEvent(D){var T=this;return(0,M.Z)(function*(){const{urlResponse:U,sessionId:ue,postBody:xe,tenantId:dt,error:nn,type:Yn}=D;if(nn)return void T.reject(nn);const di={auth:T.auth,requestUri:U,sessionId:ue,tenantId:dt||void 0,postBody:xe||void 0,user:T.user,bypassAuthState:T.bypassAuthState};try{T.resolve(yield T.getIdpTask(Yn)(di))}catch(xi){T.reject(xi)}})()}onError(D){this.reject(D)}getIdpTask(D){switch(D){case"signInViaPopup":case"signInViaRedirect":return Ya;case"linkViaPopup":case"linkViaRedirect":return vs;case"reauthViaPopup":case"reauthViaRedirect":return kf;default:je(this.auth,"internal-error")}}resolve(D){pn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(D),this.unregisterAndCleanUp()}reject(D){pn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(D),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Uo=new yi(2e3,1e4);function ao(){return(ao=(0,M.Z)(function*(L,D,T){const U=pr(L);ct(L,D,no);const ue=Vo(U,T);return new Qh(U,"signInViaPopup",D,ue).executeNotNull()})).apply(this,arguments)}function Do(){return(Do=(0,M.Z)(function*(L,D,T){const U=(0,W.m9)(L);ct(U.auth,D,no);const ue=Vo(U.auth,T);return new Qh(U.auth,"reauthViaPopup",D,ue,U).executeNotNull()})).apply(this,arguments)}function Su(){return(Su=(0,M.Z)(function*(L,D,T){const U=(0,W.m9)(L);ct(U.auth,D,no);const ue=Vo(U.auth,T);return new Qh(U.auth,"linkViaPopup",D,ue,U).executeNotNull()})).apply(this,arguments)}let Qh=(()=>{class L extends xu{constructor(T,U,ue,xe,dt){super(T,U,xe,dt),this.provider=ue,this.authWindow=null,this.pollId=null,L.currentPopupAction&&L.currentPopupAction.cancel(),L.currentPopupAction=this}executeNotNull(){var T=this;return(0,M.Z)(function*(){const U=yield T.execute();return ut(U,T.auth,"internal-error"),U})()}onExecution(){var T=this;return(0,M.Z)(function*(){pn(1===T.filter.length,"Popup operations only handle one event");const U=Os();T.authWindow=yield T.resolver._openPopup(T.auth,T.provider,T.filter[0],U),T.authWindow.associatedEvent=U,T.resolver._originValidation(T.auth).catch(ue=>{T.reject(ue)}),T.resolver._isIframeWebStorageSupported(T.auth,ue=>{ue||T.reject(Te(T.auth,"web-storage-unsupported"))}),T.pollUserCancellation()})()}get eventId(){var T;return(null===(T=this.authWindow)||void 0===T?void 0:T.associatedEvent)||null}cancel(){this.reject(Te(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,L.currentPopupAction=null}pollUserCancellation(){const T=()=>{var U,ue;this.pollId=null!==(ue=null===(U=this.authWindow)||void 0===U?void 0:U.window)&&void 0!==ue&&ue.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Te(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(T,Uo.get())};T()}}return L.currentPopupAction=null,L})();const Xl=new Map;class Ol extends xu{constructor(D,T,U=!1){super(D,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],T,void 0,U),this.eventId=null}execute(){var D=()=>super.execute,T=this;return(0,M.Z)(function*(){let U=Xl.get(T.auth._key());if(!U){try{const xe=(yield function Mu(L,D){return Rd.apply(this,arguments)}(T.resolver,T.auth))?yield D().call(T):null;U=()=>Promise.resolve(xe)}catch(ue){U=()=>Promise.reject(ue)}Xl.set(T.auth._key(),U)}return T.bypassAuthState||Xl.set(T.auth._key(),()=>Promise.resolve(null)),U()})()}onAuthEvent(D){var T=()=>super.onAuthEvent,U=this;return(0,M.Z)(function*(){if("signInViaRedirect"===D.type)return T().call(U,D);if("unknown"!==D.type){if(D.eventId){const ue=yield U.auth._redirectUserForId(D.eventId);if(ue)return U.user=ue,T().call(U,D);U.resolve(null)}}else U.resolve(null)})()}onExecution(){return(0,M.Z)(function*(){})()}cleanUp(){}}function Rd(){return(Rd=(0,M.Z)(function*(L,D){const T=ah(D),U=Pd(L);if(!(yield U._isAvailable()))return!1;const ue="true"===(yield U._get(T));return yield U._remove(T),ue})).apply(this,arguments)}function Rc(L,D){return Od.apply(this,arguments)}function Od(){return(Od=(0,M.Z)(function*(L,D){return Pd(L)._set(ah(D),"true")})).apply(this,arguments)}function Oc(L,D){Xl.set(L._key(),D)}function Pd(L){return Ii(L._redirectPersistence)}function ah(L){return mt("pendingRedirect",L.config.apiKey,L.name)}function ra(){return(ra=(0,M.Z)(function*(L,D,T){const U=pr(L);ct(L,D,no),yield U._initializationPromise;const ue=Vo(U,T);return yield Rc(ue,U),ue._openRedirect(U,D,"signInViaRedirect")})).apply(this,arguments)}function Jl(){return(Jl=(0,M.Z)(function*(L,D,T){const U=(0,W.m9)(L);ct(U.auth,D,no),yield U.auth._initializationPromise;const ue=Vo(U.auth,T);yield Rc(ue,U.auth);const xe=yield ys(U);return ue._openRedirect(U.auth,D,"reauthViaRedirect",xe)})).apply(this,arguments)}function ec(){return(ec=(0,M.Z)(function*(L,D,T){const U=(0,W.m9)(L);ct(U.auth,D,no),yield U.auth._initializationPromise;const ue=Vo(U.auth,T);yield Cr(!1,U,D.providerId),yield Rc(ue,U.auth);const xe=yield ys(U);return ue._openRedirect(U.auth,D,"linkViaRedirect",xe)})).apply(this,arguments)}function ps(){return(ps=(0,M.Z)(function*(L,D){return yield pr(L)._initializationPromise,zc(L,D,!1)})).apply(this,arguments)}function zc(L,D){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,M.Z)(function*(L,D,T=!1){const U=pr(L),ue=Vo(U,D),dt=yield new Ol(U,ue,T).execute();return dt&&!T&&(delete dt.user._redirectEventId,yield U._persistUserIfCurrent(dt.user),yield U._setRedirectUser(null,D)),dt})).apply(this,arguments)}function ys(L){return Z.apply(this,arguments)}function Z(){return(Z=(0,M.Z)(function*(L){const D=Os(`${L.uid}:::`);return L._redirectEventId=D,yield L.auth._setRedirectUser(L),yield L.auth._persistUserIfCurrent(L),D})).apply(this,arguments)}class ve{constructor(D){this.auth=D,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(D){this.consumers.add(D),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,D)&&(this.sendToConsumer(this.queuedRedirectEvent,D),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(D){this.consumers.delete(D)}onEvent(D){if(this.hasEventBeenHandled(D))return!1;let T=!1;return this.consumers.forEach(U=>{this.isEventForConsumer(D,U)&&(T=!0,this.sendToConsumer(D,U),this.saveEventToCache(D))}),this.hasHandledPotentialRedirect||!function Yt(L){switch(L.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Gt(L);default:return!1}}(D)||(this.hasHandledPotentialRedirect=!0,T||(this.queuedRedirectEvent=D,T=!0)),T}sendToConsumer(D,T){var U;if(D.error&&!Gt(D)){const ue=(null===(U=D.error.code)||void 0===U?void 0:U.split("auth/")[1])||"internal-error";T.onError(Te(this.auth,ue))}else T.onAuthEvent(D)}isEventForConsumer(D,T){const U=null===T.eventId||!!D.eventId&&D.eventId===T.eventId;return T.filter.includes(D.type)&&U}hasEventBeenHandled(D){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ot(D))}saveEventToCache(D){this.cachedEventUids.add(ot(D)),this.lastProcessedEventTime=Date.now()}}function ot(L){return[L.type,L.eventId,L.sessionId,L.tenantId].filter(D=>D).join("-")}function Gt({type:L,error:D}){return"unknown"===L&&"auth/no-auth-event"===D?.code}function Bn(L){return pi.apply(this,arguments)}function pi(){return(pi=(0,M.Z)(function*(L,D={}){return Dt(L,"GET","/v1/projects",D)})).apply(this,arguments)}const ri=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ai=/^https?/;function dr(){return(dr=(0,M.Z)(function*(L){if(L.config.emulator)return;const{authorizedDomains:D}=yield Bn(L);for(const T of D)try{if(Ka(T))return}catch{}je(L,"unauthorized-domain")})).apply(this,arguments)}function Ka(L){const D=ai(),{protocol:T,hostname:U}=new URL(D);if(L.startsWith("chrome-extension://")){const dt=new URL(L);return""===dt.hostname&&""===U?"chrome-extension:"===T&&L.replace("chrome-extension://","")===D.replace("chrome-extension://",""):"chrome-extension:"===T&&dt.hostname===U}if(!Ai.test(T))return!1;if(ri.test(L))return U===L;const ue=L.replace(/\./g,"\\.");return new RegExp("^(.+\\."+ue+"|"+ue+")$","i").test(U)}const qa=new yi(3e4,6e4);function Cc(){const L=ni().___jsl;if(L?.H)for(const D of Object.keys(L.H))if(L.H[D].r=L.H[D].r||[],L.H[D].L=L.H[D].L||[],L.H[D].r=[...L.H[D].L],L.CP)for(let T=0;T<L.CP.length;T++)L.CP[T]=null}let wc=null;function jo(L){return wc=wc||function Pl(L){return new Promise((D,T)=>{var U,ue,xe;function dt(){Cc(),gapi.load("gapi.iframes",{callback:()=>{D(gapi.iframes.getContext())},ontimeout:()=>{Cc(),T(Te(L,"network-request-failed"))},timeout:qa.get()})}if(null!==(ue=null===(U=ni().gapi)||void 0===U?void 0:U.iframes)&&void 0!==ue&&ue.Iframe)D(gapi.iframes.getContext());else{if(null===(xe=ni().gapi)||void 0===xe||!xe.load){const nn=Ms("iframefcb");return ni()[nn]=()=>{gapi.load?dt():T(Te(L,"network-request-failed"))},es(`https://apis.google.com/js/api.js?onload=${nn}`).catch(Yn=>T(Yn))}dt()}}).catch(D=>{throw wc=null,D})}(L),wc}const Ro=new yi(5e3,15e3),lh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gc(L){const D=L.config;ut(D.authDomain,L,"auth-domain-config-required");const T=D.emulator?bt(D,"emulator/auth/iframe"):`https://${L.config.authDomain}/__/auth/iframe`,U={apiKey:D.apiKey,appName:L.name,v:Le.SDK_VERSION},ue=tl.get(L.config.apiHost);ue&&(U.eid=ue);const xe=L._getFrameworks();return xe.length&&(U.fw=xe.join(",")),`${T}?${(0,W.xO)(U).slice(1)}`}function Ec(){return Ec=(0,M.Z)(function*(L){const D=yield jo(L),T=ni().gapi;return ut(T,L,"internal-error"),D.open({where:document.body,url:Gc(L),messageHandlersFilter:T.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lh,dontclear:!0},U=>new Promise(function(){var ue=(0,M.Z)(function*(xe,dt){yield U.restyle({setHideOnLeave:!1});const nn=Te(L,"network-request-failed"),Yn=ni().setTimeout(()=>{dt(nn)},Ro.get());function di(){ni().clearTimeout(Yn),xe(U)}U.ping(di).then(di,()=>{dt(nn)})});return function(xe,dt){return ue.apply(this,arguments)}}()))}),Ec.apply(this,arguments)}const ef={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ed{constructor(D){this.window=D,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ld=encodeURIComponent("fac");function zo(L,D,T,U,ue,xe){return Na.apply(this,arguments)}function Na(){return(Na=(0,M.Z)(function*(L,D,T,U,ue,xe){ut(L.config.authDomain,L,"auth-domain-config-required"),ut(L.config.apiKey,L,"invalid-api-key");const dt={apiKey:L.config.apiKey,appName:L.name,authType:T,redirectUrl:U,v:Le.SDK_VERSION,eventId:ue};if(D instanceof no){D.setDefaultLanguage(L.languageCode),dt.providerId=D.providerId||"",(0,W.xb)(D.getCustomParameters())||(dt.customParameters=JSON.stringify(D.getCustomParameters()));for(const[xi,Si]of Object.entries(xe||{}))dt[xi]=Si}if(D instanceof _s){const xi=D.getScopes().filter(Si=>""!==Si);xi.length>0&&(dt.scopes=xi.join(","))}L.tenantId&&(dt.tid=L.tenantId);const nn=dt;for(const xi of Object.keys(nn))void 0===nn[xi]&&delete nn[xi];const Yn=yield L._getAppCheckToken(),di=Yn?`#${Ld}=${encodeURIComponent(Yn)}`:"";return`${zs(L)}?${(0,W.xO)(nn).slice(1)}${di}`})).apply(this,arguments)}function zs({config:L}){return L.emulator?bt(L,"emulator/auth/handler"):`https://${L.authDomain}/__/auth/handler`}const Fl="webStorageSupport";class pp extends class td{constructor(D){this.factorId=D}_process(D,T,U){switch(T.type){case"enroll":return this._finalizeEnroll(D,T.credential,U);case"signin":return this._finalizeSignIn(D,T.credential);default:return vn("unexpected MultiFactorSessionType")}}}{constructor(D){super("phone"),this.credential=D}static _fromCredential(D){return new pp(D)}_finalizeEnroll(D,T,U){return function ks(L,D){return Dt(L,"POST","/v2/accounts/mfaEnrollment:finalize",Ht(L,D))}(D,{idToken:T,displayName:U,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(D,T){return function Xu(L,D){return Dt(L,"POST","/v2/accounts/mfaSignIn:finalize",Ht(L,D))}(D,{mfaPendingCredential:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Pf=(()=>{class L{constructor(){}static assertion(T){return pp._fromCredential(T)}}return L.FACTOR_ID="phone",L})();var nd="@firebase/auth";class tf{constructor(D){this.auth=D,this.internalListeners=new Map}getUid(){var D;return this.assertAuthConfigured(),(null===(D=this.auth.currentUser)||void 0===D?void 0:D.uid)||null}getToken(D){var T=this;return(0,M.Z)(function*(){return T.assertAuthConfigured(),yield T.auth._initializationPromise,T.auth.currentUser?{accessToken:yield T.auth.currentUser.getIdToken(D)}:null})()}addAuthTokenListener(D){if(this.assertAuthConfigured(),this.internalListeners.has(D))return;const T=this.auth.onIdTokenChanged(U=>{D(U?.stsTokenManager.accessToken||null)});this.internalListeners.set(D,T),this.updateProactiveRefresh()}removeAuthTokenListener(D){this.assertAuthConfigured();const T=this.internalListeners.get(D);!T||(this.internalListeners.delete(D),T(),this.updateProactiveRefresh())}assertAuthConfigured(){ut(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function $c(){return window}function Pc(){return(Pc=(0,M.Z)(function*(L,D,T){var U;const{BuildInfo:ue}=$c();pn(D.sessionId,"AuthEvent did not contain a session ID");const xe=yield gp(D.sessionId),dt={};return Ee()?dt.ibi=ue.packageName:et()?dt.apn=ue.packageName:je(L,"operation-not-supported-in-this-environment"),ue.displayName&&(dt.appDisplayName=ue.displayName),dt.sessionId=xe,zo(L,T,D.type,void 0,null!==(U=D.eventId)&&void 0!==U?U:void 0,dt)})).apply(this,arguments)}function uh(){return(uh=(0,M.Z)(function*(L){const{BuildInfo:D}=$c(),T={};Ee()?T.iosBundleId=D.packageName:et()?T.androidPackageName=D.packageName:je(L,"operation-not-supported-in-this-environment"),yield Bn(L,T)})).apply(this,arguments)}function zd(){return(zd=(0,M.Z)(function*(L,D,T){const{cordova:U}=$c();let ue=()=>{};try{yield new Promise((xe,dt)=>{let nn=null;function Yn(){var Si;xe();const $s=null===(Si=U.plugins.browsertab)||void 0===Si?void 0:Si.close;"function"==typeof $s&&$s(),"function"==typeof T?.close&&T.close()}function di(){nn||(nn=window.setTimeout(()=>{dt(Te(L,"redirect-cancelled-by-user"))},2e3))}function xi(){"visible"===document?.visibilityState&&di()}D.addPassiveListener(Yn),document.addEventListener("resume",di,!1),et()&&document.addEventListener("visibilitychange",xi,!1),ue=()=>{D.removePassiveListener(Yn),document.removeEventListener("resume",di,!1),document.removeEventListener("visibilitychange",xi,!1),nn&&window.clearTimeout(nn)}})}finally{ue()}})).apply(this,arguments)}function gp(L){return Nh.apply(this,arguments)}function Nh(){return(Nh=(0,M.Z)(function*(L){const D=Go(L),T=yield crypto.subtle.digest("SHA-256",D);return Array.from(new Uint8Array(T)).map(ue=>ue.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Go(L){if(pn(/[0-9a-zA-Z]+/.test(L),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(L);const D=new ArrayBuffer(L.length),T=new Uint8Array(D);for(let U=0;U<L.length;U++)T[U]=L.charCodeAt(U);return T}(0,W.Pz)("authIdTokenMaxAge"),function nf(L){(0,Le._registerComponent)(new at.wA("auth",(D,{options:T})=>{const U=D.getProvider("app").getImmediate(),ue=D.getProvider("heartbeat"),xe=D.getProvider("app-check-internal"),{apiKey:dt,authDomain:nn}=U.options;ut(dt&&!dt.includes(":"),"invalid-api-key",{appName:U.name});const Yn={apiKey:dt,authDomain:nn,clientPlatform:L,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wt(L)},di=new Da(U,ue,xe,Yn);return function Lr(L,D){const T=D?.persistence||[],U=(Array.isArray(T)?T:[T]).map(Ii);D?.errorMap&&L._updateErrorMap(D.errorMap),L._initializeWithPersistence(U,D?.popupRedirectResolver)}(di,T),di},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((D,T,U)=>{D.getProvider("auth-internal").initialize()})),(0,Le._registerComponent)(new at.wA("auth-internal",D=>{const T=pr(D.getProvider("auth").getImmediate());return new tf(T)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Le.registerVersion)(nd,"0.23.2",function Ou(L){switch(L){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(L)),(0,Le.registerVersion)(nd,"0.23.2","esm2017")}("Browser");class Pu extends ve{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(D=>{this.resolveInialized=D})}addPassiveListener(D){this.passiveListeners.add(D)}removePassiveListener(D){this.passiveListeners.delete(D)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(D){return this.resolveInialized(),this.passiveListeners.forEach(T=>T(D)),super.onEvent(D)}initialized(){var D=this;return(0,M.Z)(function*(){yield D.initPromise})()}}function Yc(L){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,M.Z)(function*(L){const D=yield nc()._get(Kc(L));return D&&(yield nc()._remove(Kc(L))),D})).apply(this,arguments)}function Ss(){const L=[],D="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<20;T++){const U=Math.floor(Math.random()*D.length);L.push(D.charAt(U))}return L.join("")}function nc(){return Ii(Co)}function Kc(L){return mt("authEvent",L.config.apiKey,L.name)}function Bl(L){if(!L?.includes("?"))return{};const[D,...T]=L.split("?");return(0,W.zd)(T.join("?"))}function Fh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Te("no-auth-event")}}function Nc(){var L;return(null===(L=self?.location)||void 0===L?void 0:L.protocol)||null}function ic(L=(0,W.z$)()){return!("file:"!==Nc()&&"ionic:"!==Nc()&&"capacitor:"!==Nc()||!L.toLowerCase().match(/iphone|ipad|ipod|android/))}function wr(){try{const L=self.localStorage,D=Os();if(L)return L.setItem(D,"1"),L.removeItem(D),!function $d(L=(0,W.z$)()){return function sd(){return(0,W.w1)()&&11===document?.documentMode}()||function hh(L=(0,W.z$)()){return/Edge\/\d+/.test(L)}(L)}()||(0,W.hl)()}catch{return Wd()&&(0,W.hl)()}return!1}function Wd(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Yd(){return(function Ff(){return"http:"===Nc()||"https:"===Nc()}()||(0,W.ru)()||ic())&&!function dh(){return(0,W.b$)()||(0,W.UG)()}()&&wr()&&!Wd()}function uf(){return ic()&&typeof document<"u"}function Xc(){return(Xc=(0,M.Z)(function*(){return!!uf()&&new Promise(L=>{const D=setTimeout(()=>{L(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(D),L(!0)})})})).apply(this,arguments)}const sa={LOCAL:"local",NONE:"none",SESSION:"session"},Lh=ut,ph="persistence";function Jc(L){return od.apply(this,arguments)}function od(){return(od=(0,M.Z)(function*(L){yield L._initializationPromise;const D=gh(),T=mt(ph,L.config.apiKey,L.name);D&&D.setItem(T,L._getPersistence())})).apply(this,arguments)}function gh(){var L;try{return(null===(L=function fh(){return typeof window<"u"?window:null}())||void 0===L?void 0:L.sessionStorage)||null}catch{return null}}const Fc=ut;class rc{constructor(){this.browserResolver=Ii(class Hp{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pl,this._completeRedirectFn=zc,this._overrideRedirectResult=Oc}_openPopup(D,T,U,ue){var xe=this;return(0,M.Z)(function*(){var dt;pn(null===(dt=xe.eventManagers[D._key()])||void 0===dt?void 0:dt.manager,"_initialize() not called before _openPopup()");const nn=yield zo(D,T,U,ai(),ue);return function ku(L,D,T,U=500,ue=600){const xe=Math.max((window.screen.availHeight-ue)/2,0).toString(),dt=Math.max((window.screen.availWidth-U)/2,0).toString();let nn="";const Yn=Object.assign(Object.assign({},ef),{width:U.toString(),height:ue.toString(),top:xe,left:dt}),di=(0,W.z$)().toLowerCase();T&&(nn=gt(di)?"_blank":T),_e(di)&&(D=D||"http://localhost",Yn.scrollbars="yes");const xi=Object.entries(Yn).reduce(($s,[vl,Bh])=>`${$s}${vl}=${Bh},`,"");if(function ft(L=(0,W.z$)()){var D;return Ee(L)&&!(null===(D=window.navigator)||void 0===D||!D.standalone)}(di)&&"_self"!==nn)return function Ph(L,D){const T=document.createElement("a");T.href=L,T.target=D;const U=document.createEvent("MouseEvent");U.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),T.dispatchEvent(U)}(D||"",nn),new ed(null);const Si=window.open(D||"",nn,xi);ut(Si,L,"popup-blocked");try{Si.focus()}catch{}return new ed(Si)}(D,nn,Os())})()}_openRedirect(D,T,U,ue){var xe=this;return(0,M.Z)(function*(){return yield xe._originValidation(D),function Ni(L){ni().location.href=L}(yield zo(D,T,U,ai(),ue)),new Promise(()=>{})})()}_initialize(D){const T=D._key();if(this.eventManagers[T]){const{manager:ue,promise:xe}=this.eventManagers[T];return ue?Promise.resolve(ue):(pn(xe,"If manager is not set, promise should be"),xe)}const U=this.initAndGetManager(D);return this.eventManagers[T]={promise:U},U.catch(()=>{delete this.eventManagers[T]}),U}initAndGetManager(D){var T=this;return(0,M.Z)(function*(){const U=yield function Jh(L){return Ec.apply(this,arguments)}(D),ue=new ve(D);return U.register("authEvent",xe=>(ut(xe?.authEvent,D,"invalid-auth-event"),{status:ue.onEvent(xe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),T.eventManagers[D._key()]={manager:ue},T.iframes[D._key()]=U,ue})()}_isIframeWebStorageSupported(D,T){this.iframes[D._key()].send(Fl,{type:Fl},ue=>{var xe;const dt=null===(xe=ue?.[0])||void 0===xe?void 0:xe[Fl];void 0!==dt&&T(!!dt),je(D,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(D){const T=D._key();return this.originValidationPromises[T]||(this.originValidationPromises[T]=function mr(L){return dr.apply(this,arguments)}(D)),this.originValidationPromises[T]}get _shouldInitProactively(){return Qn()||Ce()||Ee()}}),this.cordovaResolver=Ii(class lf{constructor(){this._redirectPersistence=pl,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=zc,this._overrideRedirectResult=Oc}_initialize(D){var T=this;return(0,M.Z)(function*(){const U=D._key();let ue=T.eventManagers.get(U);return ue||(ue=new Pu(D),T.eventManagers.set(U,ue),T.attachCallbackListeners(D,ue)),ue})()}_openPopup(D){je(D,"operation-not-supported-in-this-environment")}_openRedirect(D,T,U,ue){var xe=this;return(0,M.Z)(function*(){!function id(L){var D,T,U,ue,xe,dt,nn,Yn,di,xi;const Si=$c();ut("function"==typeof(null===(D=Si?.universalLinks)||void 0===D?void 0:D.subscribe),L,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ut(typeof(null===(T=Si?.BuildInfo)||void 0===T?void 0:T.packageName)<"u",L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ut("function"==typeof(null===(xe=null===(ue=null===(U=Si?.cordova)||void 0===U?void 0:U.plugins)||void 0===ue?void 0:ue.browsertab)||void 0===xe?void 0:xe.openUrl),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ut("function"==typeof(null===(Yn=null===(nn=null===(dt=Si?.cordova)||void 0===dt?void 0:dt.plugins)||void 0===nn?void 0:nn.browsertab)||void 0===Yn?void 0:Yn.isAvailable),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ut("function"==typeof(null===(xi=null===(di=Si?.cordova)||void 0===di?void 0:di.InAppBrowser)||void 0===xi?void 0:xi.open),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(D);const dt=yield xe._initialize(D);yield dt.initialized(),dt.resetRedirect(),function Iu(){Xl.clear()}(),yield xe._originValidation(D);const nn=function af(L,D,T=null){return{type:D,eventId:T,urlResponse:null,sessionId:Ss(),postBody:null,tenantId:L.tenantId,error:Te(L,"no-auth-event")}}(D,U,ue);yield function lo(L,D){return nc()._set(Kc(L),D)}(D,nn);const Yn=yield function Hd(L,D,T){return Pc.apply(this,arguments)}(D,nn,T),di=yield function Ll(L){const{cordova:D}=$c();return new Promise(T=>{D.plugins.browsertab.isAvailable(U=>{let ue=null;U?D.plugins.browsertab.openUrl(L):ue=D.InAppBrowser.open(L,function De(L=(0,W.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(L)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(L)}()?"_blank":"_system","location=yes"),T(ue)})})}(Yn);return function Wc(L,D,T){return zd.apply(this,arguments)}(D,dt,di)})()}_isIframeWebStorageSupported(D,T){throw new Error("Method not implemented.")}_originValidation(D){const T=D._key();return this.originValidationPromises[T]||(this.originValidationPromises[T]=function jd(L){return uh.apply(this,arguments)}(D)),this.originValidationPromises[T]}attachCallbackListeners(D,T){const{universalLinks:U,handleOpenURL:ue,BuildInfo:xe}=$c(),dt=setTimeout((0,M.Z)(function*(){yield Yc(D),T.onEvent(Fh())}),500),nn=function(){var xi=(0,M.Z)(function*(Si){clearTimeout(dt);const $s=yield Yc(D);let vl=null;$s&&Si?.url&&(vl=function ma(L,D){var T,U;const ue=function qc(L){const D=Bl(L),T=D.link?decodeURIComponent(D.link):void 0,U=Bl(T).link,ue=D.deep_link_id?decodeURIComponent(D.deep_link_id):void 0;return Bl(ue).link||ue||U||T||L}(D);if(ue.includes("/__/auth/callback")){const xe=Bl(ue),dt=xe.firebaseError?function rd(L){try{return JSON.parse(L)}catch{return null}}(decodeURIComponent(xe.firebaseError)):null,nn=null===(U=null===(T=dt?.code)||void 0===T?void 0:T.split("auth/"))||void 0===U?void 0:U[1],Yn=nn?Te(nn):null;return Yn?{type:L.type,eventId:L.eventId,tenantId:L.tenantId,error:Yn,urlResponse:null,sessionId:null,postBody:null}:{type:L.type,eventId:L.eventId,tenantId:L.tenantId,sessionId:L.sessionId,urlResponse:ue,postBody:null}}return null}($s,Si.url)),T.onEvent(vl||Fh())});return function($s){return xi.apply(this,arguments)}}();typeof U<"u"&&"function"==typeof U.subscribe&&U.subscribe(null,nn);const Yn=ue,di=`${xe.packageName.toLowerCase()}://`;$c().handleOpenURL=function(){var xi=(0,M.Z)(function*(Si){if(Si.toLowerCase().startsWith(di)&&nn({url:Si}),"function"==typeof Yn)try{Yn(Si)}catch($s){console.error($s)}});return function(Si){return xi.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=pl,this._completeRedirectFn=zc,this._overrideRedirectResult=Oc}_initialize(D){var T=this;return(0,M.Z)(function*(){return yield T.selectUnderlyingResolver(),T.assertedUnderlyingResolver._initialize(D)})()}_openPopup(D,T,U,ue){var xe=this;return(0,M.Z)(function*(){return yield xe.selectUnderlyingResolver(),xe.assertedUnderlyingResolver._openPopup(D,T,U,ue)})()}_openRedirect(D,T,U,ue){var xe=this;return(0,M.Z)(function*(){return yield xe.selectUnderlyingResolver(),xe.assertedUnderlyingResolver._openRedirect(D,T,U,ue)})()}_isIframeWebStorageSupported(D,T){this.assertedUnderlyingResolver._isIframeWebStorageSupported(D,T)}_originValidation(D){return this.assertedUnderlyingResolver._originValidation(D)}get _shouldInitProactively(){return uf()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Fc(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var D=this;return(0,M.Z)(function*(){if(D.underlyingResolver)return;const T=yield function Qc(){return Xc.apply(this,arguments)}();D.underlyingResolver=T?D.cordovaResolver:D.browserResolver})()}}function df(L){return L.unwrap()}function hf(L){return Cs(L)}function Cs(L){const{_tokenResponse:D}=L instanceof W.ZR?L.customData:L;if(!D)return null;if(!(L instanceof W.ZR)&&"temporaryProof"in D&&"phoneNumber"in D)return kc.credentialFromResult(L);const T=D.providerId;if(!T||"password"===T)return null;let U;switch(T){case"google.com":U=ll;break;case"facebook.com":U=qs;break;case"github.com":U=Xo;break;case"twitter.com":U=Ml;break;default:const{oauthIdToken:ue,oauthAccessToken:xe,oauthTokenSecret:dt,pendingToken:nn,nonce:Yn}=D;return xe||dt||ue||nn?nn?T.startsWith("saml.")?Qr._create(T,nn):qr._fromParams({providerId:T,signInMethod:T,pendingToken:nn,idToken:ue,accessToken:xe}):new jr(T).credential({idToken:ue,accessToken:xe,rawNonce:Yn}):null}return L instanceof W.ZR?U.credentialFromError(L):U.credentialFromResult(L)}function ga(L,D){return D.catch(T=>{throw T instanceof W.ZR&&function Lu(L,D){var T;const U=null===(T=D.customData)||void 0===T?void 0:T._tokenResponse;if("auth/multi-factor-auth-required"===D?.code)D.resolver=new nu(L,function ho(L,D){var T;const U=(0,W.m9)(L),ue=D;return ut(D.customData.operationType,U,"argument-error"),ut(null===(T=ue.customData._serverResponse)||void 0===T?void 0:T.mfaPendingCredential,U,"argument-error"),Ao._fromError(U,ue)}(L,D));else if(U){const ue=Cs(D),xe=D;ue&&(xe.credential=ue,xe.tenantId=U.tenantId||void 0,xe.email=U.email||void 0,xe.phoneNumber=U.phoneNumber||void 0)}}(L,T),T}).then(T=>{const ue=T.user;return{operationType:T.operationType,credential:hf(T),additionalUserInfo:Re(T),user:Wo.getOrCreate(ue)}})}function tu(L,D){return sc.apply(this,arguments)}function sc(){return(sc=(0,M.Z)(function*(L,D){const T=yield D;return{verificationId:T.verificationId,confirm:U=>ga(L,T.confirm(U))}})).apply(this,arguments)}class nu{constructor(D,T){this.resolver=T,this.auth=function Fu(L){return L.wrapped()}(D)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(D){return ga(df(this.auth),this.resolver.resolveSignIn(D))}}class Wo{constructor(D){this._delegate=D,this.multiFactor=function vc(L){const D=(0,W.m9)(L);return _c.has(D)||_c.set(D,so._fromUser(D)),_c.get(D)}(D)}static getOrCreate(D){return Wo.USER_MAP.has(D)||Wo.USER_MAP.set(D,new Wo(D)),Wo.USER_MAP.get(D)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(D){return this._delegate.getIdTokenResult(D)}getIdToken(D){return this._delegate.getIdToken(D)}linkAndRetrieveDataWithCredential(D){return this.linkWithCredential(D)}linkWithCredential(D){var T=this;return(0,M.Z)(function*(){return ga(T.auth,hn(T._delegate,D))})()}linkWithPhoneNumber(D,T){var U=this;return(0,M.Z)(function*(){return tu(U.auth,function Rl(L,D,T){return ko.apply(this,arguments)}(U._delegate,D,T))})()}linkWithPopup(D){var T=this;return(0,M.Z)(function*(){return ga(T.auth,function Ju(L,D,T){return Su.apply(this,arguments)}(T._delegate,D,rc))})()}linkWithRedirect(D){var T=this;return(0,M.Z)(function*(){return yield Jc(pr(T.auth)),function Ho(L,D,T){return function Tu(L,D,T){return ec.apply(this,arguments)}(L,D,T)}(T._delegate,D,rc)})()}reauthenticateAndRetrieveDataWithCredential(D){return this.reauthenticateWithCredential(D)}reauthenticateWithCredential(D){var T=this;return(0,M.Z)(function*(){return ga(T.auth,Wi(T._delegate,D))})()}reauthenticateWithPhoneNumber(D,T){return tu(this.auth,function Eo(L,D,T){return jc.apply(this,arguments)}(this._delegate,D,T))}reauthenticateWithPopup(D){return ga(this.auth,function Zh(L,D,T){return Do.apply(this,arguments)}(this._delegate,D,rc))}reauthenticateWithRedirect(D){var T=this;return(0,M.Z)(function*(){return yield Jc(pr(T.auth)),function Fd(L,D,T){return function dp(L,D,T){return Jl.apply(this,arguments)}(L,D,T)}(T._delegate,D,rc)})()}sendEmailVerification(D){return function fl(L,D){return uo.apply(this,arguments)}(this._delegate,D)}unlink(D){var T=this;return(0,M.Z)(function*(){return yield function yo(L,D){return Ta.apply(this,arguments)}(T._delegate,D),T})()}updateEmail(D){return function ia(L,D){return gc((0,W.m9)(L),D,null)}(this._delegate,D)}updatePassword(D){return function pa(L,D){return gc((0,W.m9)(L),null,D)}(this._delegate,D)}updatePhoneNumber(D){return function Du(L,D){return sh.apply(this,arguments)}(this._delegate,D)}updateProfile(D){return function kl(L,D){return To.apply(this,arguments)}(this._delegate,D)}verifyBeforeUpdateEmail(D,T){return function el(L,D,T){return ja.apply(this,arguments)}(this._delegate,D,T)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Wo.USER_MAP=new WeakMap;const Lc=ut;let _p=(()=>{class L{constructor(T,U){if(this.app=T,U.isInitialized())return this._delegate=U.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ue}=T.options;Lc(ue,"invalid-api-key",{appName:T.name}),Lc(ue,"invalid-api-key",{appName:T.name});const xe=typeof window<"u"?rc:void 0;this._delegate=U.initialize({options:{persistence:iu(ue,T.name),popupRedirectResolver:xe}}),this._delegate._updateErrorMap(tt),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Wo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(T){this._delegate.languageCode=T}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(T){this._delegate.tenantId=T}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(T,U){!function aa(L,D,T){const U=pr(L);ut(U._canInitEmulator,U,"emulator-config-failed"),ut(/^https?:\/\//.test(D),U,"invalid-emulator-scheme");const ue=!!T?.disableWarnings,xe=Kr(D),{host:dt,port:nn}=function Fs(L){const D=Kr(L),T=/(\/\/)?([^?#/]+)/.exec(L.substr(D.length));if(!T)return{host:"",port:null};const U=T[2].split("@").pop()||"",ue=/^(\[[^\]]+\])(:|$)/.exec(U);if(ue){const xe=ue[1];return{host:xe,port:la(U.substr(xe.length+1))}}{const[xe,dt]=U.split(":");return{host:xe,port:la(dt)}}}(D);U.config.emulator={url:`${xe}//${dt}${null===nn?"":`:${nn}`}/`},U.settings.appVerificationDisabledForTesting=!0,U.emulatorConfig=Object.freeze({host:dt,port:nn,protocol:xe.replace(":",""),options:Object.freeze({disableWarnings:ue})}),ue||function xa(){function L(){const D=document.createElement("p"),T=D.style;D.innerText="Running in emulator mode. Do not use with production credentials.",T.position="fixed",T.width="100%",T.backgroundColor="#ffffff",T.border=".1em solid #000000",T.color="#b50000",T.bottom="0px",T.left="0px",T.margin="0px",T.zIndex="10000",T.textAlign="center",D.classList.add("firebase-emulator-warning"),document.body.appendChild(D)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",L):L())}()}(this._delegate,T,U)}applyActionCode(T){return function fc(L,D){return bo.apply(this,arguments)}(this._delegate,T)}checkActionCode(T){return Mc(this._delegate,T)}confirmPasswordReset(T,U){return function ea(L,D,T){return hl.apply(this,arguments)}(this._delegate,T,U)}createUserWithEmailAndPassword(T,U){var ue=this;return(0,M.Z)(function*(){return ga(ue._delegate,function pc(L,D,T){return Ic.apply(this,arguments)}(ue._delegate,T,U))})()}fetchProvidersForEmail(T){return this.fetchSignInMethodsForEmail(T)}fetchSignInMethodsForEmail(T){return function qu(L,D){return ro.apply(this,arguments)}(this._delegate,T)}isSignInWithEmailLink(T){return function ta(L,D){return"EMAIL_SIGNIN"===da.parseLink(D)?.operation}(0,T)}getRedirectResult(){var T=this;return(0,M.Z)(function*(){Lc(Yd(),T._delegate,"operation-not-supported-in-this-environment");const U=yield function Rf(L,D){return ps.apply(this,arguments)}(T._delegate,rc);return U?ga(T._delegate,Promise.resolve(U)):{credential:null,user:null}})()}addFrameworkForLogging(T){!function Zc(L,D){pr(L)._logFramework(D)}(this._delegate,T)}onAuthStateChanged(T,U,ue){const{next:xe,error:dt,complete:nn}=Bu(T,U,ue);return this._delegate.onAuthStateChanged(xe,dt,nn)}onIdTokenChanged(T,U,ue){const{next:xe,error:dt,complete:nn}=Bu(T,U,ue);return this._delegate.onIdTokenChanged(xe,dt,nn)}sendSignInLinkToEmail(T,U){return function fa(L,D,T){return mc.apply(this,arguments)}(this._delegate,T,U)}sendPasswordResetEmail(T,U){return function Yl(L,D,T){return Ra.apply(this,arguments)}(this._delegate,T,U||void 0)}setPersistence(T){var U=this;return(0,M.Z)(function*(){let ue;switch(function mh(L,D){Lh(Object.values(sa).includes(D),L,"invalid-persistence-type"),(0,W.b$)()?Lh(D!==sa.SESSION,L,"unsupported-persistence-type"):(0,W.UG)()?Lh(D===sa.NONE,L,"unsupported-persistence-type"):Wd()?Lh(D===sa.NONE||D===sa.LOCAL&&(0,W.hl)(),L,"unsupported-persistence-type"):Lh(D===sa.NONE||wr(),L,"unsupported-persistence-type")}(U._delegate,T),T){case sa.SESSION:ue=pl;break;case sa.LOCAL:ue=(yield Ii(js)._isAvailable())?js:Co;break;case sa.NONE:ue=Gi;break;default:return je("argument-error",{appName:U._delegate.name})}return U._delegate.setPersistence(ue)})()}signInAndRetrieveDataWithCredential(T){return this.signInWithCredential(T)}signInAnonymously(){return ga(this._delegate,function vo(L){return gu.apply(this,arguments)}(this._delegate))}signInWithCredential(T){return ga(this._delegate,te(this._delegate,T))}signInWithCustomToken(T){return ga(this._delegate,function Jo(L,D){return ul.apply(this,arguments)}(this._delegate,T))}signInWithEmailAndPassword(T,U){return ga(this._delegate,function Tc(L,D,T){return te((0,W.m9)(L),Zr.credential(D,T))}(this._delegate,T,U))}signInWithEmailLink(T,U){return ga(this._delegate,function ns(L,D,T){return na.apply(this,arguments)}(this._delegate,T,U))}signInWithPhoneNumber(T,U){return tu(this._delegate,function kr(L,D,T){return fs.apply(this,arguments)}(this._delegate,T,U))}signInWithPopup(T){var U=this;return(0,M.Z)(function*(){return Lc(Yd(),U._delegate,"operation-not-supported-in-this-environment"),ga(U._delegate,function kd(L,D,T){return ao.apply(this,arguments)}(U._delegate,T,rc))})()}signInWithRedirect(T){var U=this;return(0,M.Z)(function*(){return Lc(Yd(),U._delegate,"operation-not-supported-in-this-environment"),yield Jc(U._delegate),function Xh(L,D,T){return function Nd(L,D,T){return ra.apply(this,arguments)}(L,D,T)}(U._delegate,T,rc)})()}updateCurrentUser(T){return this._delegate.updateCurrentUser(T)}verifyPasswordResetCode(T){return function Ja(L,D){return Kl.apply(this,arguments)}(this._delegate,T)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return L.Persistence=sa,L})();function Bu(L,D,T){let U=L;"function"!=typeof L&&({next:U,error:D,complete:T}=L);const ue=U;return{next:dt=>ue(dt&&Wo.getOrCreate(dt)),error:D,complete:T}}function iu(L,D){const T=function eu(L,D){const T=gh();if(!T)return[];const U=mt(ph,L,D);switch(T.getItem(U)){case sa.NONE:return[Gi];case sa.LOCAL:return[js,pl];case sa.SESSION:return[pl];default:return[]}}(L,D);if(typeof self<"u"&&!T.includes(js)&&T.push(js),typeof window<"u")for(const U of[Co,pl])T.includes(U)||T.push(U);return T.includes(Gi)||T.push(Gi),T}class _h{constructor(){this.providerId="phone",this._delegate=new kc(df(J.Z.auth()))}static credential(D,T){return kc.credential(D,T)}verifyPhoneNumber(D,T){return this._delegate.verifyPhoneNumber(D,T)}unwrap(){return this._delegate}}_h.PHONE_SIGN_IN_METHOD=kc.PHONE_SIGN_IN_METHOD,_h.PROVIDER_ID=kc.PROVIDER_ID;const ff=ut;class vp{constructor(D,T,U=J.Z.app()){var ue;ff(null===(ue=U.options)||void 0===ue?void 0:ue.apiKey,"invalid-api-key",{appName:U.name}),this._delegate=new ii(D,T,U.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function vh(L){L.INTERNAL.registerComponent(new at.wA("auth-compat",D=>{const T=D.getProvider("app-compat").getImmediate(),U=D.getProvider("auth");return new _p(T,U)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Zr,FacebookAuthProvider:qs,GithubAuthProvider:Xo,GoogleAuthProvider:ll,OAuthProvider:jr,SAMLAuthProvider:zr,PhoneAuthProvider:_h,PhoneMultiFactorGenerator:Pf,RecaptchaVerifier:vp,TwitterAuthProvider:Ml,Auth:_p,AuthCredential:po,Error:W.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),L.registerVersion("@firebase/auth-compat","0.4.2")}(J.Z)},7861:(Hn,Mt,z)=>{z.d(Mt,{S:()=>dd,C:()=>Om});var M=z(4650),J=z(6895);function W(f){return f+.5|0}const Le=(f,l,h)=>Math.max(Math.min(f,h),l);function b(f){return Le(W(2.55*f),0,255)}function at(f){return Le(W(255*f),0,255)}function Ve(f){return Le(W(f/2.55)/100,0,1)}function qe(f){return Le(W(100*f),0,100)}const Ae={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ue=[..."0123456789ABCDEF"],Ge=f=>Ue[15&f],kt=f=>Ue[(240&f)>>4]+Ue[15&f],it=f=>(240&f)>>4==(15&f);const pt=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function En(f,l,h){const g=l*Math.min(h,1-h),y=(I,O=(I+f/30)%12)=>h-g*Math.max(Math.min(O-3,9-O,1),-1);return[y(0),y(8),y(4)]}function _t(f,l,h){const g=(y,I=(y+f/60)%6)=>h-h*l*Math.max(Math.min(I,4-I,1),0);return[g(5),g(3),g(1)]}function je(f,l,h){const g=En(f,1,.5);let y;for(l+h>1&&(y=1/(l+h),l*=y,h*=y),y=0;y<3;y++)g[y]*=1-l-h,g[y]+=l;return g}function Be(f){const h=f.r/255,g=f.g/255,y=f.b/255,I=Math.max(h,g,y),O=Math.min(h,g,y),F=(I+O)/2;let j,Q,de;return I!==O&&(de=I-O,Q=F>.5?de/(2-I-O):de/(I+O),j=function Te(f,l,h,g,y){return f===y?(l-h)/g+(l<h?6:0):l===y?(h-f)/g+2:(f-l)/g+4}(h,g,y,de,I),j=60*j+.5),[0|j,Q||0,F]}function ct(f,l,h,g){return(Array.isArray(l)?f(l[0],l[1],l[2]):f(l,h,g)).map(at)}function lt(f,l,h){return ct(En,f,l,h)}function pn(f){return(f%360+360)%360}const or={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Ei={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let bt;const qt=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,Dt=f=>f<=.0031308?12.92*f:1.055*Math.pow(f,1/2.4)-.055,xn=f=>f<=.04045?f/12.92:Math.pow((f+.055)/1.055,2.4);function Vt(f,l,h){if(f){let g=Be(f);g[l]=Math.max(0,Math.min(g[l]+g[l]*h,0===l?360:1)),g=lt(g),f.r=g[0],f.g=g[1],f.b=g[2]}}function on(f,l){return f&&Object.assign(l||{},f)}function Cn(f){var l={r:0,g:0,b:0,a:255};return Array.isArray(f)?f.length>=3&&(l={r:f[0],g:f[1],b:f[2],a:255},f.length>3&&(l.a=at(f[3]))):(l=on(f,{r:0,g:0,b:0,a:1})).a=at(l.a),l}function tn(f){return"r"===f.charAt(0)?function en(f){const l=qt.exec(f);let g,y,I,h=255;if(l){if(l[7]!==g){const O=+l[7];h=l[8]?b(O):Le(255*O,0,255)}return g=+l[1],y=+l[3],I=+l[5],g=255&(l[2]?b(g):Le(g,0,255)),y=255&(l[4]?b(y):Le(y,0,255)),I=255&(l[6]?b(I):Le(I,0,255)),{r:g,g:y,b:I,a:h}}}(f):function ai(f){const l=pt.exec(f);let g,h=255;if(!l)return;l[5]!==g&&(h=l[6]?b(+l[5]):at(+l[5]));const y=pn(+l[2]),I=+l[3]/100,O=+l[4]/100;return g="hwb"===l[1]?function ut(f,l,h){return ct(je,f,l,h)}(y,I,O):"hsv"===l[1]?function vn(f,l,h){return ct(_t,f,l,h)}(y,I,O):lt(y,I,O),{r:g[0],g:g[1],b:g[2],a:h}}(f)}class Mn{constructor(l){if(l instanceof Mn)return l;const h=typeof l;let g;"object"===h?g=Cn(l):"string"===h&&(g=function xt(f){var h,l=f.length;return"#"===f[0]&&(4===l||5===l?h={r:255&17*Ae[f[1]],g:255&17*Ae[f[2]],b:255&17*Ae[f[3]],a:5===l?17*Ae[f[4]]:255}:(7===l||9===l)&&(h={r:Ae[f[1]]<<4|Ae[f[2]],g:Ae[f[3]]<<4|Ae[f[4]],b:Ae[f[5]]<<4|Ae[f[6]],a:9===l?Ae[f[7]]<<4|Ae[f[8]]:255})),h}(l)||function It(f){bt||(bt=function yi(){const f={},l=Object.keys(Ei),h=Object.keys(or);let g,y,I,O,F;for(g=0;g<l.length;g++){for(O=F=l[g],y=0;y<h.length;y++)I=h[y],F=F.replace(I,or[I]);I=parseInt(Ei[O],16),f[F]=[I>>16&255,I>>8&255,255&I]}return f}(),bt.transparent=[0,0,0,0]);const l=bt[f.toLowerCase()];return l&&{r:l[0],g:l[1],b:l[2],a:4===l.length?l[3]:255}}(l)||tn(l)),this._rgb=g,this._valid=!!g}get valid(){return this._valid}get rgb(){var l=on(this._rgb);return l&&(l.a=Ve(l.a)),l}set rgb(l){this._rgb=Cn(l)}rgbString(){return this._valid?function Ht(f){return f&&(f.a<255?`rgba(${f.r}, ${f.g}, ${f.b}, ${Ve(f.a)})`:`rgb(${f.r}, ${f.g}, ${f.b})`)}(this._rgb):void 0}hexString(){return this._valid?function Ct(f){var l=(f=>it(f.r)&&it(f.g)&&it(f.b)&&it(f.a))(f)?Ge:kt;return f?"#"+l(f.r)+l(f.g)+l(f.b)+((f,l)=>f<255?l(f):"")(f.a,l):void 0}(this._rgb):void 0}hslString(){return this._valid?function Qi(f){if(!f)return;const l=Be(f),h=l[0],g=qe(l[1]),y=qe(l[2]);return f.a<255?`hsla(${h}, ${g}%, ${y}%, ${Ve(f.a)})`:`hsl(${h}, ${g}%, ${y}%)`}(this._rgb):void 0}mix(l,h){if(l){const g=this.rgb,y=l.rgb;let I;const O=h===I?.5:h,F=2*O-1,j=g.a-y.a,Q=((F*j==-1?F:(F+j)/(1+F*j))+1)/2;I=1-Q,g.r=255&Q*g.r+I*y.r+.5,g.g=255&Q*g.g+I*y.g+.5,g.b=255&Q*g.b+I*y.b+.5,g.a=O*g.a+(1-O)*y.a,this.rgb=g}return this}interpolate(l,h){return l&&(this._rgb=function St(f,l,h){const g=xn(Ve(f.r)),y=xn(Ve(f.g)),I=xn(Ve(f.b));return{r:at(Dt(g+h*(xn(Ve(l.r))-g))),g:at(Dt(y+h*(xn(Ve(l.g))-y))),b:at(Dt(I+h*(xn(Ve(l.b))-I))),a:f.a+h*(l.a-f.a)}}(this._rgb,l._rgb,h)),this}clone(){return new Mn(this.rgb)}alpha(l){return this._rgb.a=at(l),this}clearer(l){return this._rgb.a*=1-l,this}greyscale(){const l=this._rgb,h=W(.3*l.r+.59*l.g+.11*l.b);return l.r=l.g=l.b=h,this}opaquer(l){return this._rgb.a*=1+l,this}negate(){const l=this._rgb;return l.r=255-l.r,l.g=255-l.g,l.b=255-l.b,this}lighten(l){return Vt(this._rgb,2,l),this}darken(l){return Vt(this._rgb,2,-l),this}saturate(l){return Vt(this._rgb,1,l),this}desaturate(l){return Vt(this._rgb,1,-l),this}rotate(l){return function Gn(f,l){var h=Be(f);h[0]=pn(h[0]+l),h=lt(h),f.r=h[0],f.g=h[1],f.b=h[2]}(this._rgb,l),this}}function wn(){}const oi=(()=>{let f=0;return()=>f++})();function qn(f){return null===f||typeof f>"u"}function mi(f){if(Array.isArray&&Array.isArray(f))return!0;const l=Object.prototype.toString.call(f);return"[object"===l.slice(0,7)&&"Array]"===l.slice(-6)}function dn(f){return null!==f&&"[object Object]"===Object.prototype.toString.call(f)}function li(f){return("number"==typeof f||f instanceof Number)&&isFinite(+f)}function bn(f,l){return li(f)?f:l}function On(f,l){return typeof f>"u"?l:f}const Nn=(f,l)=>"string"==typeof f&&f.endsWith("%")?parseFloat(f)/100*l:+f;function $n(f,l,h){if(f&&"function"==typeof f.call)return f.apply(h,l)}function Ot(f,l,h,g){let y,I,O;if(mi(f))if(I=f.length,g)for(y=I-1;y>=0;y--)l.call(h,f[y],y);else for(y=0;y<I;y++)l.call(h,f[y],y);else if(dn(f))for(O=Object.keys(f),I=O.length,y=0;y<I;y++)l.call(h,f[O[y]],O[y])}function ze(f,l){let h,g,y,I;if(!f||!l||f.length!==l.length)return!1;for(h=0,g=f.length;h<g;++h)if(y=f[h],I=l[h],y.datasetIndex!==I.datasetIndex||y.index!==I.index)return!1;return!0}function we(f){if(mi(f))return f.map(we);if(dn(f)){const l=Object.create(null),h=Object.keys(f),g=h.length;let y=0;for(;y<g;++y)l[h[y]]=we(f[h[y]]);return l}return f}function ke(f){return-1===["__proto__","prototype","constructor"].indexOf(f)}function Ze(f,l,h,g){if(!ke(f))return;const y=l[f],I=h[f];dn(y)&&dn(I)?Zt(y,I,g):l[f]=we(I)}function Zt(f,l,h){const g=mi(l)?l:[l],y=g.length;if(!dn(f))return f;const I=(h=h||{}).merger||Ze;let O;for(let F=0;F<y;++F){if(O=g[F],!dn(O))continue;const j=Object.keys(O);for(let Q=0,de=j.length;Q<de;++Q)I(j[Q],f,O,h)}return f}function _n(f,l){return Zt(f,l,{merger:Zn})}function Zn(f,l,h){if(!ke(f))return;const g=l[f],y=h[f];dn(g)&&dn(y)?_n(g,y):Object.prototype.hasOwnProperty.call(l,f)||(l[f]=we(y))}const Lt={"":f=>f,x:f=>f.x,y:f=>f.y};function Ke(f,l){return(Lt[l]||(Lt[l]=function Ye(f){const l=function sn(f){const l=f.split("."),h=[];let g="";for(const y of l)g+=y,g.endsWith("\\")?g=g.slice(0,-1)+".":(h.push(g),g="");return h}(f);return h=>{for(const g of l){if(""===g)break;h=h&&h[g]}return h}}(l)))(f)}function Je(f){return f.charAt(0).toUpperCase()+f.slice(1)}const Jt=f=>typeof f<"u",ti=f=>"function"==typeof f,Fi=(f,l)=>{if(f.size!==l.size)return!1;for(const h of f)if(!l.has(h))return!1;return!0},Bi=Math.PI,Ii=2*Bi,br=Ii+Bi,Gi=Number.POSITIVE_INFINITY,mt=Bi/180,Me=Bi/2,Qe=Bi/4,_e=2*Bi/3,Ce=Math.log10,gt=Math.sign;function We(f,l,h){return Math.abs(f-l)<h}function et(f){const l=Math.round(f);f=We(f,l,f/1e3)?l:f;const h=Math.pow(10,Math.floor(Ce(f))),g=f/h;return(g<=1?1:g<=2?2:g<=5?5:10)*h}function pe(f){return!isNaN(parseFloat(f))&&isFinite(f)}function De(f,l,h){let g,y,I;for(g=0,y=f.length;g<y;g++)I=f[g][h],isNaN(I)||(l.min=Math.min(l.min,I),l.max=Math.max(l.max,I))}function ft(f){return f*(Bi/180)}function cn(f){return f*(180/Bi)}function Qn(f){if(!li(f))return;let l=1,h=0;for(;Math.round(f*l)/l!==f;)l*=10,h++;return h}function Ri(f,l){const h=l.x-f.x,g=l.y-f.y,y=Math.sqrt(h*h+g*g);let I=Math.atan2(g,h);return I<-.5*Bi&&(I+=Ii),{angle:I,distance:y}}function Wt(f,l){return Math.sqrt(Math.pow(l.x-f.x,2)+Math.pow(l.y-f.y,2))}function $t(f,l){return(f-l+br)%Ii-Bi}function Sn(f){return(f%Ii+Ii)%Ii}function Ln(f,l,h,g){const y=Sn(f),I=Sn(l),O=Sn(h),F=Sn(I-y),j=Sn(O-y),Q=Sn(y-I),de=Sn(y-O);return y===I||y===O||g&&I===O||F>j&&Q<de}function fi(f,l,h){return Math.max(l,Math.min(h,f))}function Ji(f,l,h,g=1e-6){return f>=Math.min(l,h)-g&&f<=Math.max(l,h)+g}function er(f,l,h){h=h||(O=>f[O]<l);let I,g=f.length-1,y=0;for(;g-y>1;)I=y+g>>1,h(I)?y=I:g=I;return{lo:y,hi:g}}const tr=(f,l,h,g)=>er(f,h,g?y=>{const I=f[y][l];return I<h||I===h&&f[y+1][l]===h}:y=>f[y][l]<h),es=(f,l,h)=>er(f,h,g=>f[g][l]>=h),Ys=["push","pop","shift","splice","unshift"];function Ea(f,l){const h=f._chartjs;if(!h)return;const g=h.listeners,y=g.indexOf(l);-1!==y&&g.splice(y,1),!(g.length>0)&&(Ys.forEach(I=>{delete f[I]}),delete f._chartjs)}function Or(f){const l=new Set(f);return l.size===f.length?f:Array.from(l)}const Ft=typeof window>"u"?function(f){return f()}:window.requestAnimationFrame;function to(f,l){let h=[],g=!1;return function(...y){h=y,g||(g=!0,Ft.call(window,()=>{g=!1,f.apply(l,h)}))}}const pr=f=>"start"===f?"left":"end"===f?"right":"center",Er=(f,l,h)=>"start"===f?l:"end"===f?h:(l+h)/2;function Lr(f,l,h){const g=l.length;let y=0,I=g;if(f._sorted){const{iScale:O,_parsed:F}=f,j=O.axis,{min:Q,max:de,minDefined:ye,maxDefined:Fe}=O.getUserBounds();ye&&(y=fi(Math.min(tr(F,j,Q).lo,h?g:tr(l,j,O.getPixelForValue(Q)).lo),0,g-1)),I=Fe?fi(Math.max(tr(F,O.axis,de,!0).hi+1,h?0:tr(l,j,O.getPixelForValue(de),!0).hi+1),y,g)-y:g-y}return{start:y,count:I}}function aa(f){const{xScale:l,yScale:h,_scaleRanges:g}=f,y={xmin:l.min,xmax:l.max,ymin:h.min,ymax:h.max};if(!g)return f._scaleRanges=y,!0;const I=g.xmin!==l.min||g.xmax!==l.max||g.ymin!==h.min||g.ymax!==h.max;return Object.assign(g,y),I}const Kr=f=>0===f||1===f,Fs=(f,l,h)=>-Math.pow(2,10*(f-=1))*Math.sin((f-l)*Ii/h),la=(f,l,h)=>Math.pow(2,-10*f)*Math.sin((f-l)*Ii/h)+1,xa={linear:f=>f,easeInQuad:f=>f*f,easeOutQuad:f=>-f*(f-2),easeInOutQuad:f=>(f/=.5)<1?.5*f*f:-.5*(--f*(f-2)-1),easeInCubic:f=>f*f*f,easeOutCubic:f=>(f-=1)*f*f+1,easeInOutCubic:f=>(f/=.5)<1?.5*f*f*f:.5*((f-=2)*f*f+2),easeInQuart:f=>f*f*f*f,easeOutQuart:f=>-((f-=1)*f*f*f-1),easeInOutQuart:f=>(f/=.5)<1?.5*f*f*f*f:-.5*((f-=2)*f*f*f-2),easeInQuint:f=>f*f*f*f*f,easeOutQuint:f=>(f-=1)*f*f*f*f+1,easeInOutQuint:f=>(f/=.5)<1?.5*f*f*f*f*f:.5*((f-=2)*f*f*f*f+2),easeInSine:f=>1-Math.cos(f*Me),easeOutSine:f=>Math.sin(f*Me),easeInOutSine:f=>-.5*(Math.cos(Bi*f)-1),easeInExpo:f=>0===f?0:Math.pow(2,10*(f-1)),easeOutExpo:f=>1===f?1:1-Math.pow(2,-10*f),easeInOutExpo:f=>Kr(f)?f:f<.5?.5*Math.pow(2,10*(2*f-1)):.5*(2-Math.pow(2,-10*(2*f-1))),easeInCirc:f=>f>=1?f:-(Math.sqrt(1-f*f)-1),easeOutCirc:f=>Math.sqrt(1-(f-=1)*f),easeInOutCirc:f=>(f/=.5)<1?-.5*(Math.sqrt(1-f*f)-1):.5*(Math.sqrt(1-(f-=2)*f)+1),easeInElastic:f=>Kr(f)?f:Fs(f,.075,.3),easeOutElastic:f=>Kr(f)?f:la(f,.075,.3),easeInOutElastic:f=>Kr(f)?f:f<.5?.5*Fs(2*f,.1125,.45):.5+.5*la(2*f-1,.1125,.45),easeInBack:f=>f*f*(2.70158*f-1.70158),easeOutBack:f=>(f-=1)*f*(2.70158*f+1.70158)+1,easeInOutBack(f){let l=1.70158;return(f/=.5)<1?f*f*((1+(l*=1.525))*f-l)*.5:.5*((f-=2)*f*((1+(l*=1.525))*f+l)+2)},easeInBounce:f=>1-xa.easeOutBounce(1-f),easeOutBounce:f=>f<1/2.75?7.5625*f*f:f<2/2.75?7.5625*(f-=1.5/2.75)*f+.75:f<2.5/2.75?7.5625*(f-=2.25/2.75)*f+.9375:7.5625*(f-=2.625/2.75)*f+.984375,easeInOutBounce:f=>f<.5?.5*xa.easeInBounce(2*f):.5*xa.easeOutBounce(2*f-1)+.5};function po(f){if(f&&"object"==typeof f){const l=f.toString();return"[object CanvasPattern]"===l||"[object CanvasGradient]"===l}return!1}function mo(f){return po(f)?f:new Mn(f)}function gs(f){return po(f)?f:new Mn(f).saturate(.5).darken(.1).hexString()}const uc=["x","y","borderWidth","radius","tension"],Ua=["color","borderColor","backgroundColor"],Pr=new Map;function Za(f,l,h){return function Dl(f,l){l=l||{};const h=f+JSON.stringify(l);let g=Pr.get(h);return g||(g=new Intl.NumberFormat(f,l),Pr.set(h,g)),g}(l,h).format(f)}const ca={values:f=>mi(f)?f:""+f,numeric(f,l,h){if(0===f)return"0";const g=this.chart.options.locale;let y,I=f;if(h.length>1){const Q=Math.max(Math.abs(h[0].value),Math.abs(h[h.length-1].value));(Q<1e-4||Q>1e15)&&(y="scientific"),I=function zt(f,l){let h=l.length>3?l[2].value-l[1].value:l[1].value-l[0].value;return Math.abs(h)>=1&&f!==Math.floor(f)&&(h=f-Math.floor(f)),h}(f,h)}const O=Ce(Math.abs(I)),F=isNaN(O)?1:Math.max(Math.min(-1*Math.floor(O),20),0),j={notation:y,minimumFractionDigits:F,maximumFractionDigits:F};return Object.assign(j,this.options.ticks.format),Za(f,g,j)},logarithmic(f,l,h){if(0===f)return"0";const g=h[l].significand||f/Math.pow(10,Math.floor(Ce(f)));return[1,2,3,5,10,15].includes(g)||l>.8*h.length?ca.numeric.call(this,f,l,h):""}};var Pt={formatters:ca};const Dn=Object.create(null),Wn=Object.create(null);function Li(f,l){if(!l)return f;const h=l.split(".");for(let g=0,y=h.length;g<y;++g){const I=h[g];f=f[I]||(f[I]=Object.create(null))}return f}function nr(f,l,h){return"string"==typeof l?Zt(Li(f,l),h):Zt(Li(f,""),l)}class lr{constructor(l,h){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=g=>g.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(g,y)=>gs(y.backgroundColor),this.hoverBorderColor=(g,y)=>gs(y.borderColor),this.hoverColor=(g,y)=>gs(y.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(l),this.apply(h)}set(l,h){return nr(this,l,h)}get(l){return Li(this,l)}describe(l,h){return nr(Wn,l,h)}override(l,h){return nr(Dn,l,h)}route(l,h,g,y){const I=Li(this,l),O=Li(this,g),F="_"+h;Object.defineProperties(I,{[F]:{value:I[h],writable:!0},[h]:{enumerable:!0,get(){const j=this[F],Q=O[y];return dn(j)?Object.assign({},Q,j):On(j,Q)},set(j){this[F]=j}}})}apply(l){l.forEach(h=>h(this))}}var Ui=new lr({_scriptable:f=>!f.startsWith("on"),_indexable:f=>"events"!==f,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function Fo(f){f.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),f.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:l=>"onProgress"!==l&&"onComplete"!==l&&"fn"!==l}),f.set("animations",{colors:{type:"color",properties:Ua},numbers:{type:"number",properties:uc}}),f.describe("animations",{_fallback:"animation"}),f.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:l=>0|l}}}})},function dc(f){f.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function Xt(f){f.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(l,h)=>h.lineWidth,tickColor:(l,h)=>h.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Pt.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),f.route("scale.ticks","color","","color"),f.route("scale.grid","color","","borderColor"),f.route("scale.border","color","","borderColor"),f.route("scale.title","color","","color"),f.describe("scale",{_fallback:!1,_scriptable:l=>!l.startsWith("before")&&!l.startsWith("after")&&"callback"!==l&&"parser"!==l,_indexable:l=>"borderDash"!==l&&"tickBorderDash"!==l&&"dash"!==l}),f.describe("scales",{_fallback:"scale"}),f.describe("scale.ticks",{_scriptable:l=>"backdropPadding"!==l&&"callback"!==l,_indexable:l=>"backdropPadding"!==l})}]);function Qo(f,l,h,g,y){let I=l[y];return I||(I=l[y]=f.measureText(y).width,h.push(y)),I>g&&(g=I),g}function Lo(f,l,h,g){let y=(g=g||{}).data=g.data||{},I=g.garbageCollect=g.garbageCollect||[];g.font!==l&&(y=g.data={},I=g.garbageCollect=[],g.font=l),f.save(),f.font=l;let O=0;const F=h.length;let j,Q,de,ye,Fe;for(j=0;j<F;j++)if(ye=h[j],null==ye||mi(ye)){if(mi(ye))for(Q=0,de=ye.length;Q<de;Q++)Fe=ye[Q],null!=Fe&&!mi(Fe)&&(O=Qo(f,y,I,O,Fe))}else O=Qo(f,y,I,O,ye);f.restore();const nt=I.length/2;if(nt>h.length){for(j=0;j<nt;j++)delete y[I[j]];I.splice(0,nt)}return O}function _o(f,l,h){const g=f.currentDevicePixelRatio,y=0!==h?Math.max(h/2,.5):0;return Math.round((l-y)*g)/g+y}function Bo(f,l){(l=l||f.getContext("2d")).save(),l.resetTransform(),l.clearRect(0,0,f.width,f.height),l.restore()}function Ks(f,l,h,g){zl(f,l,h,g,null)}function zl(f,l,h,g,y){let I,O,F,j,Q,de,ye,Fe;const nt=l.pointStyle,At=l.rotation,Bt=l.radius;let Kt=(At||0)*mt;if(nt&&"object"==typeof nt&&(I=nt.toString(),"[object HTMLImageElement]"===I||"[object HTMLCanvasElement]"===I))return f.save(),f.translate(h,g),f.rotate(Kt),f.drawImage(nt,-nt.width/2,-nt.height/2,nt.width,nt.height),void f.restore();if(!(isNaN(Bt)||Bt<=0)){switch(f.beginPath(),nt){default:y?f.ellipse(h,g,y/2,Bt,0,0,Ii):f.arc(h,g,Bt,0,Ii),f.closePath();break;case"triangle":de=y?y/2:Bt,f.moveTo(h+Math.sin(Kt)*de,g-Math.cos(Kt)*Bt),Kt+=_e,f.lineTo(h+Math.sin(Kt)*de,g-Math.cos(Kt)*Bt),Kt+=_e,f.lineTo(h+Math.sin(Kt)*de,g-Math.cos(Kt)*Bt),f.closePath();break;case"rectRounded":Q=.516*Bt,j=Bt-Q,O=Math.cos(Kt+Qe)*j,ye=Math.cos(Kt+Qe)*(y?y/2-Q:j),F=Math.sin(Kt+Qe)*j,Fe=Math.sin(Kt+Qe)*(y?y/2-Q:j),f.arc(h-ye,g-F,Q,Kt-Bi,Kt-Me),f.arc(h+Fe,g-O,Q,Kt-Me,Kt),f.arc(h+ye,g+F,Q,Kt,Kt+Me),f.arc(h-Fe,g+O,Q,Kt+Me,Kt+Bi),f.closePath();break;case"rect":if(!At){j=Math.SQRT1_2*Bt,de=y?y/2:j,f.rect(h-de,g-j,2*de,2*j);break}Kt+=Qe;case"rectRot":ye=Math.cos(Kt)*(y?y/2:Bt),O=Math.cos(Kt)*Bt,F=Math.sin(Kt)*Bt,Fe=Math.sin(Kt)*(y?y/2:Bt),f.moveTo(h-ye,g-F),f.lineTo(h+Fe,g-O),f.lineTo(h+ye,g+F),f.lineTo(h-Fe,g+O),f.closePath();break;case"crossRot":Kt+=Qe;case"cross":ye=Math.cos(Kt)*(y?y/2:Bt),O=Math.cos(Kt)*Bt,F=Math.sin(Kt)*Bt,Fe=Math.sin(Kt)*(y?y/2:Bt),f.moveTo(h-ye,g-F),f.lineTo(h+ye,g+F),f.moveTo(h+Fe,g-O),f.lineTo(h-Fe,g+O);break;case"star":ye=Math.cos(Kt)*(y?y/2:Bt),O=Math.cos(Kt)*Bt,F=Math.sin(Kt)*Bt,Fe=Math.sin(Kt)*(y?y/2:Bt),f.moveTo(h-ye,g-F),f.lineTo(h+ye,g+F),f.moveTo(h+Fe,g-O),f.lineTo(h-Fe,g+O),Kt+=Qe,ye=Math.cos(Kt)*(y?y/2:Bt),O=Math.cos(Kt)*Bt,F=Math.sin(Kt)*Bt,Fe=Math.sin(Kt)*(y?y/2:Bt),f.moveTo(h-ye,g-F),f.lineTo(h+ye,g+F),f.moveTo(h+Fe,g-O),f.lineTo(h-Fe,g+O);break;case"line":O=y?y/2:Math.cos(Kt)*Bt,F=Math.sin(Kt)*Bt,f.moveTo(h-O,g-F),f.lineTo(h+O,g+F);break;case"dash":f.moveTo(h,g),f.lineTo(h+Math.cos(Kt)*(y?y/2:Bt),g+Math.sin(Kt)*Bt);break;case!1:f.closePath()}f.fill(),l.borderWidth>0&&f.stroke()}}function qr(f,l,h){return h=h||.5,!l||f&&f.x>l.left-h&&f.x<l.right+h&&f.y>l.top-h&&f.y<l.bottom+h}function ua(f,l){f.save(),f.beginPath(),f.rect(l.left,l.top,l.right-l.left,l.bottom-l.top),f.clip()}function Mo(f){f.restore()}function al(f,l,h,g,y){if(!l)return f.lineTo(h.x,h.y);if("middle"===y){const I=(l.x+h.x)/2;f.lineTo(I,l.y),f.lineTo(I,h.y)}else"after"===y!=!!g?f.lineTo(l.x,h.y):f.lineTo(h.x,l.y);f.lineTo(h.x,h.y)}function Qa(f,l,h,g){if(!l)return f.lineTo(h.x,h.y);f.bezierCurveTo(g?l.cp1x:l.cp2x,g?l.cp1y:l.cp2y,g?h.cp2x:h.cp1x,g?h.cp2y:h.cp1y,h.x,h.y)}function Gl(f,l,h,g,y){if(y.strikethrough||y.underline){const I=f.measureText(g),O=l-I.actualBoundingBoxLeft,F=l+I.actualBoundingBoxRight,j=h-I.actualBoundingBoxAscent,Q=h+I.actualBoundingBoxDescent,de=y.strikethrough?(j+Q)/2:Q;f.strokeStyle=f.fillStyle,f.beginPath(),f.lineWidth=y.decorationWidth||2,f.moveTo(O,de),f.lineTo(F,de),f.stroke()}}function $l(f,l){const h=f.fillStyle;f.fillStyle=l.color,f.fillRect(l.left,l.top,l.width,l.height),f.fillStyle=h}function Wl(f,l,h,g,y,I={}){const O=mi(l)?l:[l],F=I.strokeWidth>0&&""!==I.strokeColor;let j,Q;for(f.save(),f.font=y.string,function mu(f,l){l.translation&&f.translate(l.translation[0],l.translation[1]),qn(l.rotation)||f.rotate(l.rotation),l.color&&(f.fillStyle=l.color),l.textAlign&&(f.textAlign=l.textAlign),l.textBaseline&&(f.textBaseline=l.textBaseline)}(f,I),j=0;j<O.length;++j)Q=O[j],I.backdrop&&$l(f,I.backdrop),F&&(I.strokeColor&&(f.strokeStyle=I.strokeColor),qn(I.strokeWidth)||(f.lineWidth=I.strokeWidth),f.strokeText(Q,h,g,I.maxWidth)),f.fillText(Q,h,g,I.maxWidth),Gl(f,h,g,Q,I),g+=Number(y.lineHeight);f.restore()}function Mr(f,l){const{x:h,y:g,w:y,h:I,radius:O}=l;f.arc(h+O.topLeft,g+O.topLeft,O.topLeft,1.5*Bi,Bi,!0),f.lineTo(h,g+I-O.bottomLeft),f.arc(h+O.bottomLeft,g+I-O.bottomLeft,O.bottomLeft,Bi,Me,!0),f.lineTo(h+y-O.bottomRight,g+I),f.arc(h+y-O.bottomRight,g+I-O.bottomRight,O.bottomRight,Me,0,!0),f.lineTo(h+y,g+O.topRight),f.arc(h+y-O.topRight,g+O.topRight,O.topRight,0,-Me,!0),f.lineTo(h+O.topLeft,g)}const ts=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,xl=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Sl(f,l){const h=(""+f).match(ts);if(!h||"normal"===h[1])return 1.2*l;switch(f=+h[2],h[3]){case"px":return f;case"%":f/=100}return l*f}const da=f=>+f||0;function ls(f,l){const h={},g=dn(l),y=g?Object.keys(l):l,I=dn(f)?g?O=>On(f[O],f[l[O]]):O=>f[O]:()=>f;for(const O of y)h[O]=da(I(O));return h}function Zr(f){return ls(f,{top:"y",right:"x",bottom:"y",left:"x"})}function no(f){return ls(f,["topLeft","topRight","bottomLeft","bottomRight"])}function _s(f){const l=Zr(f);return l.width=l.left+l.right,l.height=l.top+l.bottom,l}function jr(f,l){let h=On((f=f||{}).size,(l=l||Ui.font).size);"string"==typeof h&&(h=parseInt(h,10));let g=On(f.style,l.style);g&&!(""+g).match(xl)&&(console.warn('Invalid font style specified: "'+g+'"'),g=void 0);const y={family:On(f.family,l.family),lineHeight:Sl(On(f.lineHeight,l.lineHeight),h),size:h,style:g,weight:On(f.weight,l.weight),string:""};return y.string=function go(f){return!f||qn(f.size)||qn(f.family)?null:(f.style?f.style+" ":"")+(f.weight?f.weight+" ":"")+f.size+"px "+f.family}(y),y}function qs(f,l,h,g){let I,O,F,y=!0;for(I=0,O=f.length;I<O;++I)if(F=f[I],void 0!==F&&(void 0!==l&&"function"==typeof F&&(F=F(l),y=!1),void 0!==h&&mi(F)&&(F=F[h%F.length],y=!1),void 0!==F))return g&&!y&&(g.cacheable=!1),F}function Xo(f,l){return Object.assign(Object.create(f),l)}function io(f,l=[""],h,g,y=(()=>f[0])){const I=h||f;typeof g>"u"&&(g=Tl("_fallback",f));const O={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:f,_rootScopes:I,_fallback:g,_getTarget:y,override:F=>io([F,...f],l,I,g)};return new Proxy(O,{deleteProperty:(F,j)=>(delete F[j],delete F._keys,delete f[0][j],!0),get:(F,j)=>Zs(F,j,()=>function Ta(f,l,h,g){let y;for(const I of l)if(y=Tl(zr(I,f),h),typeof y<"u")return Ml(f,y)?Ma(h,g,f,y):y}(j,l,f,F)),getOwnPropertyDescriptor:(F,j)=>Reflect.getOwnPropertyDescriptor(F._scopes[0],j),getPrototypeOf:()=>Reflect.getPrototypeOf(f[0]),has:(F,j)=>Un(F).includes(j),ownKeys:F=>Un(F),set(F,j,Q){const de=F._storage||(F._storage=y());return F[j]=de[j]=Q,delete F._keys,!0}})}function Qr(f,l,h,g){const y={_cacheable:!1,_proxy:f,_context:l,_subProxy:h,_stack:new Set,_descriptors:Io(f,g),setContext:I=>Qr(f,I,h,g),override:I=>Qr(f.override(I),l,h,g)};return new Proxy(y,{deleteProperty:(I,O)=>(delete I[O],delete f[O],!0),get:(I,O,F)=>Zs(I,O,()=>function Sa(f,l,h){const{_proxy:g,_context:y,_subProxy:I,_descriptors:O}=f;let F=g[l];return ti(F)&&O.isScriptable(l)&&(F=function Ls(f,l,h,g){const{_proxy:y,_context:I,_subProxy:O,_stack:F}=h;if(F.has(f))throw new Error("Recursion detected: "+Array.from(F).join("->")+"->"+f);F.add(f);let j=l(I,O||g);return F.delete(f),Ml(f,j)&&(j=Ma(y._scopes,y,f,j)),j}(l,F,f,h)),mi(F)&&F.length&&(F=function $i(f,l,h,g){const{_proxy:y,_context:I,_subProxy:O,_descriptors:F}=h;if(typeof I.index<"u"&&g(f))return l[I.index%l.length];if(dn(l[0])){const j=l,Q=y._scopes.filter(de=>de!==j);l=[];for(const de of j){const ye=Ma(Q,y,f,de);l.push(Qr(ye,I,O&&O[f],F))}}return l}(l,F,f,O.isIndexable)),Ml(l,F)&&(F=Qr(F,y,I&&I[l],O)),F}(I,O,F)),getOwnPropertyDescriptor:(I,O)=>I._descriptors.allKeys?Reflect.has(f,O)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(f,O),getPrototypeOf:()=>Reflect.getPrototypeOf(f),has:(I,O)=>Reflect.has(f,O),ownKeys:()=>Reflect.ownKeys(f),set:(I,O,F)=>(f[O]=F,delete I[O],!0)})}function Io(f,l={scriptable:!0,indexable:!0}){const{_scriptable:h=l.scriptable,_indexable:g=l.indexable,_allKeys:y=l.allKeys}=f;return{allKeys:y,scriptable:h,indexable:g,isScriptable:ti(h)?h:()=>h,isIndexable:ti(g)?g:()=>g}}const zr=(f,l)=>f?f+Je(l):l,Ml=(f,l)=>dn(l)&&"adapters"!==f&&(null===Object.getPrototypeOf(l)||l.constructor===Object);function Zs(f,l,h){if(Object.prototype.hasOwnProperty.call(f,l))return f[l];const g=h();return f[l]=g,g}function vo(f,l,h){return ti(f)?f(l,h):f}const gu=(f,l)=>!0===f?l:"string"==typeof f?Ke(l,f):void 0;function Il(f,l,h,g,y){for(const I of l){const O=gu(h,I);if(O){f.add(O);const F=vo(O._fallback,h,y);if(typeof F<"u"&&F!==h&&F!==g)return F}else if(!1===O&&typeof g<"u"&&h!==g)return null}return!1}function Ma(f,l,h,g){const y=l._rootScopes,I=vo(l._fallback,h,g),O=[...f,...y],F=new Set;F.add(g);let j=Ia(F,O,h,I||h,g);return!(null===j||typeof I<"u"&&I!==h&&(j=Ia(F,O,I,j,g),null===j))&&io(Array.from(F),[""],y,I,()=>function yo(f,l,h){const g=f._getTarget();l in g||(g[l]={});const y=g[l];return mi(y)&&dn(h)?h:y||{}}(l,h,g))}function Ia(f,l,h,g,y){for(;h;)h=Il(f,l,h,g,y);return h}function Tl(f,l){for(const h of l){if(!h)continue;const g=h[f];if(typeof g<"u")return g}}function Un(f){let l=f._keys;return l||(l=f._keys=function Cr(f){const l=new Set;for(const h of f)for(const g of Object.keys(h).filter(y=>!y.startsWith("_")))l.add(g);return Array.from(l)}(f._scopes)),l}function Ha(f,l,h,g){const{iScale:y}=f,{key:I="r"}=this._parsing,O=new Array(g);let F,j,Q,de;for(F=0,j=g;F<j;++F)Q=F+h,de=l[Q],O[F]={r:y.parse(Ke(de,I),Q)};return O}const hc=Number.EPSILON||1e-14,Br=(f,l)=>l<f.length&&!f[l].skip&&f[l],ce=f=>"x"===f?"y":"x";function oe(f,l,h,g){const y=f.skip?l:f,I=l,O=h.skip?l:h,F=Wt(I,y),j=Wt(O,I);let Q=F/(F+j),de=j/(F+j);Q=isNaN(Q)?0:Q,de=isNaN(de)?0:de;const ye=g*Q,Fe=g*de;return{previous:{x:I.x-ye*(O.x-y.x),y:I.y-ye*(O.y-y.y)},next:{x:I.x+Fe*(O.x-y.x),y:I.y+Fe*(O.y-y.y)}}}function gi(f,l,h){return Math.max(Math.min(f,h),l)}function cl(f,l,h,g,y){let I,O,F,j;if(l.spanGaps&&(f=f.filter(Q=>!Q.skip)),"monotone"===l.cubicInterpolationMode)!function hn(f,l="x"){const h=ce(l),g=f.length,y=Array(g).fill(0),I=Array(g);let O,F,j,Q=Br(f,0);for(O=0;O<g;++O)if(F=j,j=Q,Q=Br(f,O+1),j){if(Q){const de=Q[l]-j[l];y[O]=0!==de?(Q[h]-j[h])/de:0}I[O]=F?Q?gt(y[O-1])!==gt(y[O])?0:(y[O-1]+y[O])/2:y[O-1]:y[O]}(function te(f,l,h){const g=f.length;let y,I,O,F,j,Q=Br(f,0);for(let de=0;de<g-1;++de)if(j=Q,Q=Br(f,de+1),j&&Q){if(We(l[de],0,hc)){h[de]=h[de+1]=0;continue}y=h[de]/l[de],I=h[de+1]/l[de],F=Math.pow(y,2)+Math.pow(I,2),!(F<=9)&&(O=3/Math.sqrt(F),h[de]=y*O*l[de],h[de+1]=I*O*l[de])}})(f,y,I),function Oe(f,l,h="x"){const g=ce(h),y=f.length;let I,O,F,j=Br(f,0);for(let Q=0;Q<y;++Q){if(O=F,F=j,j=Br(f,Q+1),!F)continue;const de=F[h],ye=F[g];O&&(I=(de-O[h])/3,F[`cp1${h}`]=de-I,F[`cp1${g}`]=ye-I*l[Q]),j&&(I=(j[h]-de)/3,F[`cp2${h}`]=de+I,F[`cp2${g}`]=ye+I*l[Q])}}(f,I,l)}(f,y);else{let Q=g?f[f.length-1]:f[0];for(I=0,O=f.length;I<O;++I)F=f[I],j=oe(Q,F,f[Math.min(I+1,O-(g?0:1))%O],l.tension),F.cp1x=j.previous.x,F.cp1y=j.previous.y,F.cp2x=j.next.x,F.cp2y=j.next.y,Q=F}l.capBezierPoints&&function Wi(f,l){let h,g,y,I,O,F=qr(f[0],l);for(h=0,g=f.length;h<g;++h)O=I,I=F,F=h<g-1&&qr(f[h+1],l),I&&(y=f[h],O&&(y.cp1x=gi(y.cp1x,l.left,l.right),y.cp1y=gi(y.cp1y,l.top,l.bottom)),F&&(y.cp2x=gi(y.cp2x,l.left,l.right),y.cp2y=gi(y.cp2y,l.top,l.bottom)))}(f,h)}function ar(){return typeof window<"u"&&typeof document<"u"}function Ds(f){let l=f.parentNode;return l&&"[object ShadowRoot]"===l.toString()&&(l=l.host),l}function Jo(f,l,h){let g;return"string"==typeof f?(g=parseInt(f,10),-1!==f.indexOf("%")&&(g=g/100*l.parentNode[h])):g=f,g}const ul=f=>f.ownerDocument.defaultView.getComputedStyle(f,null),ha=["top","right","bottom","left"];function ka(f,l,h){const g={};h=h?"-"+h:"";for(let y=0;y<4;y++){const I=ha[y];g[I]=parseFloat(f[l+"-"+I+h])||0}return g.width=g.left+g.right,g.height=g.top+g.bottom,g}function Ra(f,l){if("native"in f)return f;const{canvas:h,currentDevicePixelRatio:g}=l,y=ul(h),I="border-box"===y.boxSizing,O=ka(y,"padding"),F=ka(y,"border","width"),{x:j,y:Q,box:de}=function Yl(f,l){const h=f.touches,g=h&&h.length?h[0]:f,{offsetX:y,offsetY:I}=g;let F,j,O=!1;if(((f,l,h)=>(f>0||l>0)&&(!h||!h.shadowRoot))(y,I,f.target))F=y,j=I;else{const Q=l.getBoundingClientRect();F=g.clientX-Q.left,j=g.clientY-Q.top,O=!0}return{x:F,y:j,box:O}}(f,h),ye=O.left+(de&&F.left),Fe=O.top+(de&&F.top);let{width:nt,height:At}=l;return I&&(nt-=O.width+F.width,At-=O.height+F.height),{x:Math.round((j-ye)/nt*h.width/g),y:Math.round((Q-Fe)/At*h.height/g)}}const hl=f=>Math.round(10*f)/10;function bo(f,l,h){const g=l||1,y=Math.floor(f.height*g),I=Math.floor(f.width*g);f.height=Math.floor(f.height),f.width=Math.floor(f.width);const O=f.canvas;return O.style&&(h||!O.style.height&&!O.style.width)&&(O.style.height=`${f.height}px`,O.style.width=`${f.width}px`),(f.currentDevicePixelRatio!==g||O.height!==y||O.width!==I)&&(f.currentDevicePixelRatio=g,O.height=y,O.width=I,f.ctx.setTransform(g,0,0,g,0,0),!0)}const Mc=function(){let f=!1;try{const l={get passive(){return f=!0,!1}};ar()&&(window.addEventListener("test",null,l),window.removeEventListener("test",null,l))}catch{}return f}();function Xa(f,l){const h=function Aa(f,l){return ul(f).getPropertyValue(l)}(f,l),g=h&&h.match(/^(\d+)(\.\d+)?px$/);return g?+g[1]:void 0}function Ja(f,l,h,g){return{x:f.x+h*(l.x-f.x),y:f.y+h*(l.y-f.y)}}function Kl(f,l,h,g){return{x:f.x+h*(l.x-f.x),y:"middle"===g?h<.5?f.y:l.y:"after"===g?h<1?f.y:l.y:h>0?l.y:f.y}}function pc(f,l,h,g){const y={x:f.cp2x,y:f.cp2y},I={x:l.cp1x,y:l.cp1y},O=Ja(f,y,h),F=Ja(y,I,h),j=Ja(I,l,h),Q=Ja(O,F,h),de=Ja(F,j,h);return Ja(Q,de,h)}function fa(f,l,h){return f?function(f,l){return{x:h=>f+f+l-h,setWidth(h){l=h},textAlign:h=>"center"===h?h:"right"===h?"left":"right",xPlus:(h,g)=>h-g,leftForLtr:(h,g)=>h-g}}(l,h):{x:f=>f,setWidth(f){},textAlign:f=>f,xPlus:(f,l)=>f+l,leftForLtr:(f,l)=>f}}function mc(f,l){let h,g;("ltr"===l||"rtl"===l)&&(h=f.canvas.style,g=[h.getPropertyValue("direction"),h.getPropertyPriority("direction")],h.setProperty("direction",l,"important"),f.prevTextDirection=g)}function ta(f,l){void 0!==l&&(delete f.prevTextDirection,f.canvas.style.setProperty("direction",l[0],l[1]))}function ns(f){return"angle"===f?{between:Ln,compare:$t,normalize:Sn}:{between:Ji,compare:(l,h)=>l-h,normalize:l=>l}}function na({start:f,end:l,count:h,loop:g,style:y}){return{start:f%h,end:l%h,loop:g&&(l-f+1)%h==0,style:y}}function Al(f,l,h){if(!h)return[f];const{property:g,start:y,end:I}=h,O=l.length,{compare:F,between:j,normalize:Q}=ns(g),{start:de,end:ye,loop:Fe,style:nt}=function ss(f,l,h){const{property:g,start:y,end:I}=h,{between:O,normalize:F}=ns(g),j=l.length;let Fe,nt,{start:Q,end:de,loop:ye}=f;if(ye){for(Q+=j,de+=j,Fe=0,nt=j;Fe<nt&&O(F(l[Q%j][g]),y,I);++Fe)Q--,de--;Q%=j,de%=j}return de<Q&&(de+=j),{start:Q,end:de,loop:ye,style:f.style}}(f,l,h),At=[];let gn,Tn,si,Bt=!1,Kt=null;for(let Mi=de,wi=de;Mi<=ye;++Mi)Tn=l[Mi%O],!Tn.skip&&(gn=Q(Tn[g]),gn!==si&&(Bt=j(gn,y,I),null===Kt&&(Bt||j(y,si,gn)&&0!==F(y,si))&&(Kt=0===F(gn,y)?Mi:wi),null!==Kt&&(!Bt||0===F(I,gn)||j(I,si,gn))&&(At.push(na({start:Kt,end:Mi,loop:Fe,count:O,style:nt})),Kt=null),wi=Mi,si=gn));return null!==Kt&&At.push(na({start:Kt,end:ye,loop:Fe,count:O,style:nt})),At}function qu(f,l){const h=[],g=f.segments;for(let y=0;y<g.length;y++){const I=Al(g[y],f.points,l);I.length&&h.push(...I)}return h}function Oa(f){return{backgroundColor:f.backgroundColor,borderCapStyle:f.borderCapStyle,borderDash:f.borderDash,borderDashOffset:f.borderDashOffset,borderJoinStyle:f.borderJoinStyle,borderWidth:f.borderWidth,borderColor:f.borderColor}}function Xe(f,l){if(!l)return!1;const h=[],g=function(y,I){return po(I)?(h.includes(I)||h.push(I),h.indexOf(I)):I};return JSON.stringify(f,g)!==JSON.stringify(l,g)}class kl{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(l,h,g,y){const O=h.duration;h.listeners[y].forEach(F=>F({chart:l,initial:h.initial,numSteps:O,currentStep:Math.min(g-h.start,O)}))}_refresh(){this._request||(this._running=!0,this._request=Ft.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(l=Date.now()){let h=0;this._charts.forEach((g,y)=>{if(!g.running||!g.items.length)return;const I=g.items;let j,O=I.length-1,F=!1;for(;O>=0;--O)j=I[O],j._active?(j._total>g.duration&&(g.duration=j._total),j.tick(l),F=!0):(I[O]=I[I.length-1],I.pop());F&&(y.draw(),this._notify(y,g,l,"progress")),I.length||(g.running=!1,this._notify(y,g,l,"complete"),g.initial=!1),h+=I.length}),this._lastDate=l,0===h&&(this._running=!1)}_getAnims(l){const h=this._charts;let g=h.get(l);return g||(g={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},h.set(l,g)),g}listen(l,h,g){this._getAnims(l).listeners[h].push(g)}add(l,h){!h||!h.length||this._getAnims(l).items.push(...h)}has(l){return this._getAnims(l).items.length>0}start(l){const h=this._charts.get(l);!h||(h.running=!0,h.start=Date.now(),h.duration=h.items.reduce((g,y)=>Math.max(g,y._duration),0),this._refresh())}running(l){if(!this._running)return!1;const h=this._charts.get(l);return!(!h||!h.running||!h.items.length)}stop(l){const h=this._charts.get(l);if(!h||!h.items.length)return;const g=h.items;let y=g.length-1;for(;y>=0;--y)g[y].cancel();h.items=[],this._notify(l,h,Date.now(),"complete")}remove(l){return this._charts.delete(l)}}var To=new kl;const ia="transparent",pa={boolean:(f,l,h)=>h>.5?l:f,color(f,l,h){const g=mo(f||ia),y=g.valid&&mo(l||ia);return y&&y.valid?y.mix(g,h).hexString():l},number:(f,l,h)=>f+(l-f)*h};class gc{constructor(l,h,g,y){const I=h[g];y=qs([l.to,y,I,l.from]);const O=qs([l.from,I,y]);this._active=!0,this._fn=l.fn||pa[l.type||typeof O],this._easing=xa[l.easing]||xa.linear,this._start=Math.floor(Date.now()+(l.delay||0)),this._duration=this._total=Math.floor(l.duration),this._loop=!!l.loop,this._target=h,this._prop=g,this._from=O,this._to=y,this._promises=void 0}active(){return this._active}update(l,h,g){if(this._active){this._notify(!1);const y=this._target[this._prop],I=g-this._start,O=this._duration-I;this._start=g,this._duration=Math.floor(Math.max(O,l.duration)),this._total+=I,this._loop=!!l.loop,this._to=qs([l.to,h,y,l.from]),this._from=qs([l.from,y,h])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(l){const h=l-this._start,g=this._duration,y=this._prop,I=this._from,O=this._loop,F=this._to;let j;if(this._active=I!==F&&(O||h<g),!this._active)return this._target[y]=F,void this._notify(!0);h<0?this._target[y]=I:(j=h/g%2,j=O&&j>1?2-j:j,j=this._easing(Math.min(1,Math.max(0,j))),this._target[y]=this._fn(I,F,j))}wait(){const l=this._promises||(this._promises=[]);return new Promise((h,g)=>{l.push({res:h,rej:g})})}_notify(l){const h=l?"res":"rej",g=this._promises||[];for(let y=0;y<g.length;y++)g[y][h]()}}class Bs{constructor(l,h){this._chart=l,this._properties=new Map,this.configure(h)}configure(l){if(!dn(l))return;const h=Object.keys(Ui.animation),g=this._properties;Object.getOwnPropertyNames(l).forEach(y=>{const I=l[y];if(!dn(I))return;const O={};for(const F of h)O[F]=I[F];(mi(I.properties)&&I.properties||[y]).forEach(F=>{(F===y||!g.has(F))&&g.set(F,O)})})}_animateOptions(l,h){const g=h.options,y=function cr(f,l){if(!l)return;let h=f.options;if(h)return h.$shared&&(f.options=h=Object.assign({},h,{$shared:!1,$animations:{}})),h;f.options=l}(l,g);if(!y)return[];const I=this._createAnimations(y,g);return g.$shared&&function Ts(f,l){const h=[],g=Object.keys(l);for(let y=0;y<g.length;y++){const I=f[g[y]];I&&I.active()&&h.push(I.wait())}return Promise.all(h)}(l.options.$animations,g).then(()=>{l.options=g},()=>{}),I}_createAnimations(l,h){const g=this._properties,y=[],I=l.$animations||(l.$animations={}),O=Object.keys(h),F=Date.now();let j;for(j=O.length-1;j>=0;--j){const Q=O[j];if("$"===Q.charAt(0))continue;if("options"===Q){y.push(...this._animateOptions(l,h));continue}const de=h[Q];let ye=I[Q];const Fe=g.get(Q);if(ye){if(Fe&&ye.active()){ye.update(Fe,de,F);continue}ye.cancel()}Fe&&Fe.duration?(I[Q]=ye=new gc(Fe,l,Q,de),y.push(ye)):l[Q]=de}return y}update(l,h){if(0===this._properties.size)return void Object.assign(l,h);const g=this._createAnimations(l,h);return g.length?(To.add(this._chart,g),!0):void 0}}function za(f,l){const h=f&&f.options||{},g=h.reverse,y=void 0===h.min?l:0,I=void 0===h.max?l:0;return{start:g?I:y,end:g?y:I}}function me(f,l){const h=[],g=f._getSortedDatasetMetas(l);let y,I;for(y=0,I=g.length;y<I;++y)h.push(g[y].index);return h}function re(f,l,h,g={}){const y=f.keys,I="single"===g.mode;let O,F,j,Q;if(null!==l){for(O=0,F=y.length;O<F;++O){if(j=+y[O],j===h){if(g.all)continue;break}Q=f.values[j],li(Q)&&(I||0===l||gt(l)===gt(Q))&&(l+=Q)}return l}}function Et(f,l){const h=f&&f.options.stacked;return h||void 0===h&&void 0!==l.stack}function Di(f,l,h){const g=f[l]||(f[l]={});return g[h]||(g[h]={})}function yr(f,l,h,g){for(const y of l.getMatchingVisibleMetas(g).reverse()){const I=f[y.index];if(h&&I>0||!h&&I<0)return y.index}return null}function sr(f,l){const{chart:h,_cachedMeta:g}=f,y=h._stacks||(h._stacks={}),{iScale:I,vScale:O,index:F}=g,j=I.axis,Q=O.axis,de=function ln(f,l,h){return`${f.id}.${l.id}.${h.stack||h.type}`}(I,O,g),ye=l.length;let Fe;for(let nt=0;nt<ye;++nt){const At=l[nt],{[j]:Bt,[Q]:Kt}=At;Fe=(At._stacks||(At._stacks={}))[Q]=Di(y,de,Bt),Fe[F]=Kt,Fe._top=yr(Fe,O,!0,g.type),Fe._bottom=yr(Fe,O,!1,g.type),(Fe._visualValues||(Fe._visualValues={}))[F]=Kt}}function ur(f,l){const h=f.scales;return Object.keys(h).filter(g=>h[g].axis===l).shift()}function Dr(f,l){const h=f.controller.index,g=f.vScale&&f.vScale.axis;if(g){l=l||f._parsed;for(const y of l){const I=y._stacks;if(!I||void 0===I[g]||void 0===I[g][h])return;delete I[g][h],void 0!==I[g]._visualValues&&void 0!==I[g]._visualValues[h]&&delete I[g]._visualValues[h]}}}const Ar=f=>"reset"===f||"none"===f,Ao=(f,l)=>l?f:Object.assign({},f);class As{constructor(l,h){this.chart=l,this._ctx=l.ctx,this.index=h,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const l=this._cachedMeta;this.configure(),this.linkScales(),l._stacked=Et(l.vScale,l),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(l){this.index!==l&&Dr(this._cachedMeta),this.index=l}linkScales(){const l=this.chart,h=this._cachedMeta,g=this.getDataset(),y=(ye,Fe,nt,At)=>"x"===ye?Fe:"r"===ye?At:nt,I=h.xAxisID=On(g.xAxisID,ur(l,"x")),O=h.yAxisID=On(g.yAxisID,ur(l,"y")),F=h.rAxisID=On(g.rAxisID,ur(l,"r")),j=h.indexAxis,Q=h.iAxisID=y(j,I,O,F),de=h.vAxisID=y(j,O,I,F);h.xScale=this.getScaleForId(I),h.yScale=this.getScaleForId(O),h.rScale=this.getScaleForId(F),h.iScale=this.getScaleForId(Q),h.vScale=this.getScaleForId(de)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(l){return this.chart.scales[l]}_getOtherScale(l){const h=this._cachedMeta;return l===h.iScale?h.vScale:h.iScale}reset(){this._update("reset")}_destroy(){const l=this._cachedMeta;this._data&&Ea(this._data,this),l._stacked&&Dr(l)}_dataCheck(){const l=this.getDataset(),h=l.data||(l.data=[]),g=this._data;if(dn(h))this._data=function Re(f){const l=Object.keys(f),h=new Array(l.length);let g,y,I;for(g=0,y=l.length;g<y;++g)I=l[g],h[g]={x:I,y:f[I]};return h}(h);else if(g!==h){if(g){Ea(g,this);const y=this._cachedMeta;Dr(y),y._parsed=[]}h&&Object.isExtensible(h)&&function Zo(f,l){f._chartjs?f._chartjs.listeners.push(l):(Object.defineProperty(f,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[l]}}),Ys.forEach(h=>{const g="_onData"+Je(h),y=f[h];Object.defineProperty(f,h,{configurable:!0,enumerable:!1,value(...I){const O=y.apply(this,I);return f._chartjs.listeners.forEach(F=>{"function"==typeof F[g]&&F[g](...I)}),O}})}))}(h,this),this._syncList=[],this._data=h}}addElements(){const l=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(l.dataset=new this.datasetElementType)}buildOrUpdateElements(l){const h=this._cachedMeta,g=this.getDataset();let y=!1;this._dataCheck();const I=h._stacked;h._stacked=Et(h.vScale,h),h.stack!==g.stack&&(y=!0,Dr(h),h.stack=g.stack),this._resyncElements(l),(y||I!==h._stacked)&&sr(this,h._parsed)}configure(){const l=this.chart.config,h=l.datasetScopeKeys(this._type),g=l.getOptionScopes(this.getDataset(),h,!0);this.options=l.createResolver(g,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(l,h){const{_cachedMeta:g,_data:y}=this,{iScale:I,_stacked:O}=g,F=I.axis;let de,ye,Fe,j=0===l&&h===y.length||g._sorted,Q=l>0&&g._parsed[l-1];if(!1===this._parsing)g._parsed=y,g._sorted=!0,Fe=y;else{Fe=mi(y[l])?this.parseArrayData(g,y,l,h):dn(y[l])?this.parseObjectData(g,y,l,h):this.parsePrimitiveData(g,y,l,h);const nt=()=>null===ye[F]||Q&&ye[F]<Q[F];for(de=0;de<h;++de)g._parsed[de+l]=ye=Fe[de],j&&(nt()&&(j=!1),Q=ye);g._sorted=j}O&&sr(this,Fe)}parsePrimitiveData(l,h,g,y){const{iScale:I,vScale:O}=l,F=I.axis,j=O.axis,Q=I.getLabels(),de=I===O,ye=new Array(y);let Fe,nt,At;for(Fe=0,nt=y;Fe<nt;++Fe)At=Fe+g,ye[Fe]={[F]:de||I.parse(Q[At],At),[j]:O.parse(h[At],At)};return ye}parseArrayData(l,h,g,y){const{xScale:I,yScale:O}=l,F=new Array(y);let j,Q,de,ye;for(j=0,Q=y;j<Q;++j)de=j+g,ye=h[de],F[j]={x:I.parse(ye[0],de),y:O.parse(ye[1],de)};return F}parseObjectData(l,h,g,y){const{xScale:I,yScale:O}=l,{xAxisKey:F="x",yAxisKey:j="y"}=this._parsing,Q=new Array(y);let de,ye,Fe,nt;for(de=0,ye=y;de<ye;++de)Fe=de+g,nt=h[Fe],Q[de]={x:I.parse(Ke(nt,F),Fe),y:O.parse(Ke(nt,j),Fe)};return Q}getParsed(l){return this._cachedMeta._parsed[l]}getDataElement(l){return this._cachedMeta.data[l]}applyStack(l,h,g){const I=this._cachedMeta,O=h[l.axis];return re({keys:me(this.chart,!0),values:h._stacks[l.axis]._visualValues},O,I.index,{mode:g})}updateRangeFromParsed(l,h,g,y){const I=g[h.axis];let O=null===I?NaN:I;const F=y&&g._stacks[h.axis];y&&F&&(y.values=F,O=re(y,I,this._cachedMeta.index)),l.min=Math.min(l.min,O),l.max=Math.max(l.max,O)}getMinMax(l,h){const g=this._cachedMeta,y=g._parsed,I=g._sorted&&l===g.iScale,O=y.length,F=this._getOtherScale(l),j=((f,l,h)=>f&&!l.hidden&&l._stacked&&{keys:me(this.chart,!0),values:null})(h,g),Q={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:de,max:ye}=function Pn(f){const{min:l,max:h,minDefined:g,maxDefined:y}=f.getUserBounds();return{min:g?l:Number.NEGATIVE_INFINITY,max:y?h:Number.POSITIVE_INFINITY}}(F);let Fe,nt;function At(){nt=y[Fe];const Bt=nt[F.axis];return!li(nt[l.axis])||de>Bt||ye<Bt}for(Fe=0;Fe<O&&(At()||(this.updateRangeFromParsed(Q,l,nt,j),!I));++Fe);if(I)for(Fe=O-1;Fe>=0;--Fe)if(!At()){this.updateRangeFromParsed(Q,l,nt,j);break}return Q}getAllParsedValues(l){const h=this._cachedMeta._parsed,g=[];let y,I,O;for(y=0,I=h.length;y<I;++y)O=h[y][l.axis],li(O)&&g.push(O);return g}getMaxOverflow(){return!1}getLabelAndValue(l){const h=this._cachedMeta,g=h.iScale,y=h.vScale,I=this.getParsed(l);return{label:g?""+g.getLabelForValue(I[g.axis]):"",value:y?""+y.getLabelForValue(I[y.axis]):""}}_update(l){const h=this._cachedMeta;this.update(l||"default"),h._clip=function X(f){let l,h,g,y;return dn(f)?(l=f.top,h=f.right,g=f.bottom,y=f.left):l=h=g=y=f,{top:l,right:h,bottom:g,left:y,disabled:!1===f}}(On(this.options.clip,function Vr(f,l,h){if(!1===h)return!1;const g=za(f,h),y=za(l,h);return{top:y.end,right:g.end,bottom:y.start,left:g.start}}(h.xScale,h.yScale,this.getMaxOverflow())))}update(l){}draw(){const l=this._ctx,g=this._cachedMeta,y=g.data||[],I=this.chart.chartArea,O=[],F=this._drawStart||0,j=this._drawCount||y.length-F,Q=this.options.drawActiveElementsOnTop;let de;for(g.dataset&&g.dataset.draw(l,I,F,j),de=F;de<F+j;++de){const ye=y[de];ye.hidden||(ye.active&&Q?O.push(ye):ye.draw(l,I))}for(de=0;de<O.length;++de)O[de].draw(l,I)}getStyle(l,h){const g=h?"active":"default";return void 0===l&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(g):this.resolveDataElementOptions(l||0,g)}getContext(l,h,g){const y=this.getDataset();let I;if(l>=0&&l<this._cachedMeta.data.length){const O=this._cachedMeta.data[l];I=O.$context||(O.$context=function Vs(f,l,h){return Xo(f,{active:!1,dataIndex:l,parsed:void 0,raw:void 0,element:h,index:l,mode:"default",type:"data"})}(this.getContext(),l,O)),I.parsed=this.getParsed(l),I.raw=y.data[l],I.index=I.dataIndex=l}else I=this.$context||(this.$context=function hr(f,l){return Xo(f,{active:!1,dataset:void 0,datasetIndex:l,index:l,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),I.dataset=y,I.index=I.datasetIndex=this.index;return I.active=!!h,I.mode=g,I}resolveDatasetElementOptions(l){return this._resolveElementOptions(this.datasetElementType.id,l)}resolveDataElementOptions(l,h){return this._resolveElementOptions(this.dataElementType.id,h,l)}_resolveElementOptions(l,h="default",g){const y="active"===h,I=this._cachedDataOpts,O=l+"-"+h,F=I[O],j=this.enableOptionSharing&&Jt(g);if(F)return Ao(F,j);const Q=this.chart.config,de=Q.datasetElementScopeKeys(this._type,l),ye=y?[`${l}Hover`,"hover",l,""]:[l,""],Fe=Q.getOptionScopes(this.getDataset(),de),nt=Object.keys(Ui.elements[l]),Bt=Q.resolveNamedOptions(Fe,nt,()=>this.getContext(g,y,h),ye);return Bt.$shared&&(Bt.$shared=j,I[O]=Object.freeze(Ao(Bt,j))),Bt}_resolveAnimations(l,h,g){const y=this.chart,I=this._cachedDataOpts,O=`animation-${h}`,F=I[O];if(F)return F;let j;if(!1!==y.options.animation){const de=this.chart.config,ye=de.datasetAnimationScopeKeys(this._type,h),Fe=de.getOptionScopes(this.getDataset(),ye);j=de.createResolver(Fe,this.getContext(l,g,h))}const Q=new Bs(y,j&&j.animations);return j&&j._cacheable&&(I[O]=Object.freeze(Q)),Q}getSharedOptions(l){if(l.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},l))}includeOptions(l,h){return!h||Ar(l)||this.chart._animationsDisabled}_getSharedOptions(l,h){const g=this.resolveDataElementOptions(l,h),y=this._sharedOptions,I=this.getSharedOptions(g),O=this.includeOptions(h,I)||I!==y;return this.updateSharedOptions(I,h,g),{sharedOptions:I,includeOptions:O}}updateElement(l,h,g,y){Ar(y)?Object.assign(l,g):this._resolveAnimations(h,y).update(l,g)}updateSharedOptions(l,h,g){l&&!Ar(h)&&this._resolveAnimations(void 0,h).update(l,g)}_setStyle(l,h,g,y){l.active=y;const I=this.getStyle(h,y);this._resolveAnimations(h,g,y).update(l,{options:!y&&this.getSharedOptions(I)||I})}removeHoverStyle(l,h,g){this._setStyle(l,g,"active",!1)}setHoverStyle(l,h,g){this._setStyle(l,g,"active",!0)}_removeDatasetHoverStyle(){const l=this._cachedMeta.dataset;l&&this._setStyle(l,void 0,"active",!1)}_setDatasetHoverStyle(){const l=this._cachedMeta.dataset;l&&this._setStyle(l,void 0,"active",!0)}_resyncElements(l){const h=this._data,g=this._cachedMeta.data;for(const[F,j,Q]of this._syncList)this[F](j,Q);this._syncList=[];const y=g.length,I=h.length,O=Math.min(I,y);O&&this.parse(0,O),I>y?this._insertElements(y,I-y,l):I<y&&this._removeElements(I,y-I)}_insertElements(l,h,g=!0){const y=this._cachedMeta,I=y.data,O=l+h;let F;const j=Q=>{for(Q.length+=h,F=Q.length-1;F>=O;F--)Q[F]=Q[F-h]};for(j(I),F=l;F<O;++F)I[F]=new this.dataElementType;this._parsing&&j(y._parsed),this.parse(l,h),g&&this.updateElements(I,l,h,"reset")}updateElements(l,h,g,y){}_removeElements(l,h){const g=this._cachedMeta;if(this._parsing){const y=g._parsed.splice(l,h);g._stacked&&Dr(g,y)}g.data.splice(l,h)}_sync(l){if(this._parsing)this._syncList.push(l);else{const[h,g,y]=l;this[h](g,y)}this.chart._dataChanges.push([this.index,...l])}_onDataPush(){const l=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-l,l])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(l,h){h&&this._sync(["_removeElements",l,h]);const g=arguments.length-2;g&&this._sync(["_insertElements",l,g])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Us(f){const l=f.iScale,h=function ks(f,l){if(!f._cache.$bar){const h=f.getMatchingVisibleMetas(l);let g=[];for(let y=0,I=h.length;y<I;y++)g=g.concat(h[y].controller.getAllParsedValues(f));f._cache.$bar=Or(g.sort((y,I)=>y-I))}return f._cache.$bar}(l,f.type);let y,I,O,F,g=l._length;const j=()=>{32767===O||-32768===O||(Jt(F)&&(g=Math.min(g,Math.abs(O-F)||g)),F=O)};for(y=0,I=h.length;y<I;++y)O=l.getPixelForValue(h[y]),j();for(F=void 0,y=0,I=l.ticks.length;y<I;++y)O=l.getPixelForTick(y),j();return g}function _c(f,l,h,g){return mi(f)?function so(f,l,h,g){const y=h.parse(f[0],g),I=h.parse(f[1],g),O=Math.min(y,I),F=Math.max(y,I);let j=O,Q=F;Math.abs(O)>Math.abs(F)&&(j=F,Q=O),l[h.axis]=Q,l._custom={barStart:j,barEnd:Q,start:y,end:I,min:O,max:F}}(f,l,h,g):l[h.axis]=h.parse(f,g),l}function vc(f,l,h,g){const y=f.iScale,I=f.vScale,O=y.getLabels(),F=y===I,j=[];let Q,de,ye,Fe;for(Q=h,de=h+g;Q<de;++Q)Fe=l[Q],ye={},ye[y.axis]=F||y.parse(O[Q],Q),j.push(_c(Fe,ye,I,Q));return j}function _u(f){return f&&void 0!==f.barStart&&void 0!==f.barEnd}function Qs(f,l,h,g){let y=l.borderSkipped;const I={};if(!y)return void(f.borderSkipped=I);if(!0===y)return void(f.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:O,end:F,reverse:j,top:Q,bottom:de}=function yc(f){let l,h,g,y,I;return f.horizontal?(l=f.base>f.x,h="left",g="right"):(l=f.base<f.y,h="bottom",g="top"),l?(y="end",I="start"):(y="start",I="end"),{start:h,end:g,reverse:l,top:y,bottom:I}}(f);"middle"===y&&h&&(f.enableBorderRadius=!0,(h._top||0)===g?y=Q:(h._bottom||0)===g?y=de:(I[Gs(de,O,F,j)]=!0,y=Q)),I[Gs(y,O,F,j)]=!0,f.borderSkipped=I}function Gs(f,l,h,g){return g?(f=function Ga(f,l,h){return f===l?h:f===h?l:f}(f,l,h),f=Co(f,h,l)):f=Co(f,l,h),f}function Co(f,l,h){return"start"===f?l:"end"===f?h:f}function Pa(f,{inflateAmount:l},h){f.inflateAmount="auto"===l?1===h?.33:0:l}ki(As,"defaults",{}),ki(As,"datasetElementType",null),ki(As,"dataElementType",null);class pl extends As{parsePrimitiveData(l,h,g,y){return vc(l,h,g,y)}parseArrayData(l,h,g,y){return vc(l,h,g,y)}parseObjectData(l,h,g,y){const{iScale:I,vScale:O}=l,{xAxisKey:F="x",yAxisKey:j="y"}=this._parsing,Q="x"===I.axis?F:j,de="x"===O.axis?F:j,ye=[];let Fe,nt,At,Bt;for(Fe=g,nt=g+y;Fe<nt;++Fe)Bt=h[Fe],At={},At[I.axis]=I.parse(Ke(Bt,Q),Fe),ye.push(_c(Ke(Bt,de),At,O,Fe));return ye}updateRangeFromParsed(l,h,g,y){super.updateRangeFromParsed(l,h,g,y);const I=g._custom;I&&h===this._cachedMeta.vScale&&(l.min=Math.min(l.min,I.min),l.max=Math.max(l.max,I.max))}getMaxOverflow(){return 0}getLabelAndValue(l){const h=this._cachedMeta,{iScale:g,vScale:y}=h,I=this.getParsed(l),O=I._custom,F=_u(O)?"["+O.start+", "+O.end+"]":""+y.getLabelForValue(I[y.axis]);return{label:""+g.getLabelForValue(I[g.axis]),value:F}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(l){const h=this._cachedMeta;this.updateElements(h.data,0,h.data.length,l)}updateElements(l,h,g,y){const I="reset"===y,{index:O,_cachedMeta:{vScale:F}}=this,j=F.getBasePixel(),Q=F.isHorizontal(),de=this._getRuler(),{sharedOptions:ye,includeOptions:Fe}=this._getSharedOptions(h,y);for(let nt=h;nt<h+g;nt++){const At=this.getParsed(nt),Bt=I||qn(At[F.axis])?{base:j,head:j}:this._calculateBarValuePixels(nt),Kt=this._calculateBarIndexPixels(nt,de),gn=(At._stacks||{})[F.axis],Tn={horizontal:Q,base:Bt.base,enableBorderRadius:!gn||_u(At._custom)||O===gn._top||O===gn._bottom,x:Q?Bt.head:Kt.center,y:Q?Kt.center:Bt.head,height:Q?Kt.size:Math.abs(Bt.size),width:Q?Math.abs(Bt.size):Kt.size};Fe&&(Tn.options=ye||this.resolveDataElementOptions(nt,l[nt].active?"active":y));const si=Tn.options||l[nt].options;Qs(Tn,si,gn,O),Pa(Tn,si,de.ratio),this.updateElement(l[nt],nt,Tn,y)}}_getStacks(l,h){const{iScale:g}=this._cachedMeta,y=g.getMatchingVisibleMetas(this._type).filter(j=>j.controller.options.grouped),I=g.options.stacked,O=[],F=j=>{const Q=j.controller.getParsed(h),de=Q&&Q[j.vScale.axis];if(qn(de)||isNaN(de))return!0};for(const j of y)if((void 0===h||!F(j))&&((!1===I||-1===O.indexOf(j.stack)||void 0===I&&void 0===j.stack)&&O.push(j.stack),j.index===l))break;return O.length||O.push(void 0),O}_getStackCount(l){return this._getStacks(void 0,l).length}_getStackIndex(l,h,g){const y=this._getStacks(l,g),I=void 0!==h?y.indexOf(h):-1;return-1===I?y.length-1:I}_getRuler(){const l=this.options,h=this._cachedMeta,g=h.iScale,y=[];let I,O;for(I=0,O=h.data.length;I<O;++I)y.push(g.getPixelForValue(this.getParsed(I)[g.axis],I));const F=l.barThickness;return{min:F||Us(h),pixels:y,start:g._startPixel,end:g._endPixel,stackCount:this._getStackCount(),scale:g,grouped:l.grouped,ratio:F?1:l.categoryPercentage*l.barPercentage}}_calculateBarValuePixels(l){const{_cachedMeta:{vScale:h,_stacked:g,index:y},options:{base:I,minBarLength:O}}=this,F=I||0,j=this.getParsed(l),Q=j._custom,de=_u(Q);let At,Bt,ye=j[h.axis],Fe=0,nt=g?this.applyStack(h,j,g):ye;nt!==ye&&(Fe=nt-ye,nt=ye),de&&(ye=Q.barStart,nt=Q.barEnd-Q.barStart,0!==ye&&gt(ye)!==gt(Q.barEnd)&&(Fe=0),Fe+=ye);const Kt=qn(I)||de?Fe:I;let gn=h.getPixelForValue(Kt);if(At=this.chart.getDataVisibility(l)?h.getPixelForValue(Fe+nt):gn,Bt=At-gn,Math.abs(Bt)<O){Bt=function vu(f,l,h){return 0!==f?gt(f):(l.isHorizontal()?1:-1)*(l.min>=h?1:-1)}(Bt,h,F)*O,ye===F&&(gn-=Bt/2);const Tn=h.getPixelForDecimal(0),si=h.getPixelForDecimal(1),Jn=Math.min(Tn,si),jn=Math.max(Tn,si);gn=Math.max(Math.min(gn,jn),Jn),At=gn+Bt,g&&!de&&(j._stacks[h.axis]._visualValues[y]=h.getValueForPixel(At)-h.getValueForPixel(gn))}if(gn===h.getPixelForValue(F)){const Tn=gt(Bt)*h.getLineWidthForValue(F)/2;gn+=Tn,Bt-=Tn}return{size:Bt,base:gn,head:At,center:At+Bt/2}}_calculateBarIndexPixels(l,h){const g=h.scale,y=this.options,I=y.skipNull,O=On(y.maxBarThickness,1/0);let F,j;if(h.grouped){const Q=I?this._getStackCount(l):h.stackCount,de="flex"===y.barThickness?function ql(f,l,h,g){const y=l.pixels,I=y[f];let O=f>0?y[f-1]:null,F=f<y.length-1?y[f+1]:null;const j=h.categoryPercentage;null===O&&(O=I-(null===F?l.end-l.start:F-I)),null===F&&(F=I+I-O);const Q=I-(I-Math.min(O,F))/2*j;return{chunk:Math.abs(F-O)/2*j/g,ratio:h.barPercentage,start:Q}}(l,h,y,Q):function xs(f,l,h,g){const y=h.barThickness;let I,O;return qn(y)?(I=l.min*h.categoryPercentage,O=h.barPercentage):(I=y*g,O=1),{chunk:I/g,ratio:O,start:l.pixels[f]-I/2}}(l,h,y,Q),ye=this._getStackIndex(this.index,this._cachedMeta.stack,I?l:void 0);F=de.start+de.chunk*ye+de.chunk/2,j=Math.min(O,de.chunk*de.ratio)}else F=g.getPixelForValue(this.getParsed(l)[g.axis],l),j=Math.min(O,h.min*h.ratio);return{base:F-j/2,head:F+j/2,center:F,size:j}}draw(){const l=this._cachedMeta,h=l.vScale,g=l.data,y=g.length;let I=0;for(;I<y;++I)null!==this.getParsed(I)[h.axis]&&g[I].draw(this._ctx)}}ki(pl,"id","bar"),ki(pl,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ki(pl,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Kn extends As{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(l,h,g,y){const I=super.parsePrimitiveData(l,h,g,y);for(let O=0;O<I.length;O++)I[O]._custom=this.resolveDataElementOptions(O+g).radius;return I}parseArrayData(l,h,g,y){const I=super.parseArrayData(l,h,g,y);for(let O=0;O<I.length;O++)I[O]._custom=On(h[g+O][2],this.resolveDataElementOptions(O+g).radius);return I}parseObjectData(l,h,g,y){const I=super.parseObjectData(l,h,g,y);for(let O=0;O<I.length;O++){const F=h[g+O];I[O]._custom=On(F&&F.r&&+F.r,this.resolveDataElementOptions(O+g).radius)}return I}getMaxOverflow(){const l=this._cachedMeta.data;let h=0;for(let g=l.length-1;g>=0;--g)h=Math.max(h,l[g].size(this.resolveDataElementOptions(g))/2);return h>0&&h}getLabelAndValue(l){const h=this._cachedMeta,g=this.chart.data.labels||[],{xScale:y,yScale:I}=h,O=this.getParsed(l),F=y.getLabelForValue(O.x),j=I.getLabelForValue(O.y),Q=O._custom;return{label:g[l]||"",value:"("+F+", "+j+(Q?", "+Q:"")+")"}}update(l){const h=this._cachedMeta.data;this.updateElements(h,0,h.length,l)}updateElements(l,h,g,y){const I="reset"===y,{iScale:O,vScale:F}=this._cachedMeta,{sharedOptions:j,includeOptions:Q}=this._getSharedOptions(h,y),de=O.axis,ye=F.axis;for(let Fe=h;Fe<h+g;Fe++){const nt=l[Fe],At=!I&&this.getParsed(Fe),Bt={},Kt=Bt[de]=I?O.getPixelForDecimal(.5):O.getPixelForValue(At[de]),gn=Bt[ye]=I?F.getBasePixel():F.getPixelForValue(At[ye]);Bt.skip=isNaN(Kt)||isNaN(gn),Q&&(Bt.options=j||this.resolveDataElementOptions(Fe,nt.active?"active":y),I&&(Bt.options.radius=0)),this.updateElement(nt,Fe,Bt,y)}}resolveDataElementOptions(l,h){const g=this.getParsed(l);let y=super.resolveDataElementOptions(l,h);y.$shared&&(y=Object.assign({},y,{$shared:!1}));const I=y.radius;return"active"!==h&&(y.radius=0),y.radius+=On(g&&g._custom,I),y}}ki(Kn,"id","bubble"),ki(Kn,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),ki(Kn,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class Os extends As{constructor(l,h){super(l,h),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(l,h){const g=this.getDataset().data,y=this._cachedMeta;if(!1===this._parsing)y._parsed=g;else{let O,F,I=j=>+g[j];if(dn(g[l])){const{key:j="value"}=this._parsing;I=Q=>+Ke(g[Q],j)}for(O=l,F=l+h;O<F;++O)y._parsed[O]=I(O)}}_getRotation(){return ft(this.options.rotation-90)}_getCircumference(){return ft(this.options.circumference)}_getRotationExtents(){let l=Ii,h=-Ii;for(let g=0;g<this.chart.data.datasets.length;++g)if(this.chart.isDatasetVisible(g)&&this.chart.getDatasetMeta(g).type===this._type){const y=this.chart.getDatasetMeta(g).controller,I=y._getRotation(),O=y._getCircumference();l=Math.min(l,I),h=Math.max(h,I+O)}return{rotation:l,circumference:h-l}}update(l){const h=this.chart,{chartArea:g}=h,y=this._cachedMeta,I=y.data,O=this.getMaxBorderWidth()+this.getMaxOffset(I)+this.options.spacing,F=Math.max((Math.min(g.width,g.height)-O)/2,0),j=Math.min(((f,l)=>"string"==typeof f&&f.endsWith("%")?parseFloat(f)/100:+f/l)(this.options.cutout,F),1),Q=this._getRingWeight(this.index),{circumference:de,rotation:ye}=this._getRotationExtents(),{ratioX:Fe,ratioY:nt,offsetX:At,offsetY:Bt}=function Rs(f,l,h){let g=1,y=1,I=0,O=0;if(l<Ii){const F=f,j=F+l,Q=Math.cos(F),de=Math.sin(F),ye=Math.cos(j),Fe=Math.sin(j),nt=(si,Jn,jn)=>Ln(si,F,j,!0)?1:Math.max(Jn,Jn*h,jn,jn*h),At=(si,Jn,jn)=>Ln(si,F,j,!0)?-1:Math.min(Jn,Jn*h,jn,jn*h),Bt=nt(0,Q,ye),Kt=nt(Me,de,Fe),gn=At(Bi,Q,ye),Tn=At(Bi+Me,de,Fe);g=(Bt-gn)/2,y=(Kt-Tn)/2,I=-(Bt+gn)/2,O=-(Kt+Tn)/2}return{ratioX:g,ratioY:y,offsetX:I,offsetY:O}}(ye,de,j),Tn=Math.max(Math.min((g.width-O)/Fe,(g.height-O)/nt)/2,0),si=Nn(this.options.radius,Tn),jn=(si-Math.max(si*j,0))/this._getVisibleDatasetWeightTotal();this.offsetX=At*si,this.offsetY=Bt*si,y.total=this.calculateTotal(),this.outerRadius=si-jn*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-jn*Q,0),this.updateElements(I,0,I.length,l)}_circumference(l,h){const g=this.options,y=this._cachedMeta,I=this._getCircumference();return h&&g.animation.animateRotate||!this.chart.getDataVisibility(l)||null===y._parsed[l]||y.data[l].hidden?0:this.calculateCircumference(y._parsed[l]*I/Ii)}updateElements(l,h,g,y){const I="reset"===y,O=this.chart,F=O.chartArea,de=(F.left+F.right)/2,ye=(F.top+F.bottom)/2,Fe=I&&O.options.animation.animateScale,nt=Fe?0:this.innerRadius,At=Fe?0:this.outerRadius,{sharedOptions:Bt,includeOptions:Kt}=this._getSharedOptions(h,y);let Tn,gn=this._getRotation();for(Tn=0;Tn<h;++Tn)gn+=this._circumference(Tn,I);for(Tn=h;Tn<h+g;++Tn){const si=this._circumference(Tn,I),Jn=l[Tn],jn={x:de+this.offsetX,y:ye+this.offsetY,startAngle:gn,endAngle:gn+si,circumference:si,outerRadius:At,innerRadius:nt};Kt&&(jn.options=Bt||this.resolveDataElementOptions(Tn,Jn.active?"active":y)),gn+=si,this.updateElement(Jn,Tn,jn,y)}}calculateTotal(){const l=this._cachedMeta,h=l.data;let y,g=0;for(y=0;y<h.length;y++){const I=l._parsed[y];null!==I&&!isNaN(I)&&this.chart.getDataVisibility(y)&&!h[y].hidden&&(g+=Math.abs(I))}return g}calculateCircumference(l){const h=this._cachedMeta.total;return h>0&&!isNaN(l)?Ii*(Math.abs(l)/h):0}getLabelAndValue(l){const g=this.chart,y=g.data.labels||[],I=Za(this._cachedMeta._parsed[l],g.options.locale);return{label:y[l]||"",value:I}}getMaxBorderWidth(l){let h=0;const g=this.chart;let y,I,O,F,j;if(!l)for(y=0,I=g.data.datasets.length;y<I;++y)if(g.isDatasetVisible(y)){O=g.getDatasetMeta(y),l=O.data,F=O.controller;break}if(!l)return 0;for(y=0,I=l.length;y<I;++y)j=F.resolveDataElementOptions(y),"inner"!==j.borderAlign&&(h=Math.max(h,j.borderWidth||0,j.hoverBorderWidth||0));return h}getMaxOffset(l){let h=0;for(let g=0,y=l.length;g<y;++g){const I=this.resolveDataElementOptions(g);h=Math.max(h,I.offset||0,I.hoverOffset||0)}return h}_getRingWeightOffset(l){let h=0;for(let g=0;g<l;++g)this.chart.isDatasetVisible(g)&&(h+=this._getRingWeight(g));return h}_getRingWeight(l){return Math.max(On(this.chart.data.datasets[l].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ki(Os,"id","doughnut"),ki(Os,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ki(Os,"descriptors",{_scriptable:l=>"spacing"!==l,_indexable:l=>"spacing"!==l&&!l.startsWith("borderDash")&&!l.startsWith("hoverBorderDash")}),ki(Os,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(l){const h=l.data;if(h.labels.length&&h.datasets.length){const{labels:{pointStyle:g,color:y}}=l.legend.options;return h.labels.map((I,O)=>{const j=l.getDatasetMeta(0).controller.getStyle(O);return{text:I,fillStyle:j.backgroundColor,strokeStyle:j.borderColor,fontColor:y,lineWidth:j.borderWidth,pointStyle:g,hidden:!l.getDataVisibility(O),index:O}})}return[]}},onClick(l,h,g){g.chart.toggleDataVisibility(h.index),g.chart.update()}}}});class Zu extends As{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(l){const h=this._cachedMeta,{dataset:g,data:y=[],_dataset:I}=h,O=this.chart._animationsDisabled;let{start:F,count:j}=Lr(h,y,O);this._drawStart=F,this._drawCount=j,aa(h)&&(F=0,j=y.length),g._chart=this.chart,g._datasetIndex=this.index,g._decimated=!!I._decimated,g.points=y;const Q=this.resolveDatasetElementOptions(l);this.options.showLine||(Q.borderWidth=0),Q.segment=this.options.segment,this.updateElement(g,void 0,{animated:!O,options:Q},l),this.updateElements(y,F,j,l)}updateElements(l,h,g,y){const I="reset"===y,{iScale:O,vScale:F,_stacked:j,_dataset:Q}=this._cachedMeta,{sharedOptions:de,includeOptions:ye}=this._getSharedOptions(h,y),Fe=O.axis,nt=F.axis,{spanGaps:At,segment:Bt}=this.options,Kt=pe(At)?At:Number.POSITIVE_INFINITY,gn=this.chart._animationsDisabled||I||"none"===y,Tn=h+g,si=l.length;let Jn=h>0&&this.getParsed(h-1);for(let jn=0;jn<si;++jn){const bi=l[jn],Ci=gn?bi:{};if(jn<h||jn>=Tn){Ci.skip=!0;continue}const Mi=this.getParsed(jn),wi=qn(Mi[nt]),$r=Ci[Fe]=O.getPixelForValue(Mi[Fe],jn),Xr=Ci[nt]=I||wi?F.getBasePixel():F.getPixelForValue(j?this.applyStack(F,Mi,j):Mi[nt],jn);Ci.skip=isNaN($r)||isNaN(Xr)||wi,Ci.stop=jn>0&&Math.abs(Mi[Fe]-Jn[Fe])>Kt,Bt&&(Ci.parsed=Mi,Ci.raw=Q.data[jn]),ye&&(Ci.options=de||this.resolveDataElementOptions(jn,bi.active?"active":y)),gn||this.updateElement(bi,jn,Ci,y),Jn=Mi}}getMaxOverflow(){const l=this._cachedMeta,h=l.dataset,g=h.options&&h.options.borderWidth||0,y=l.data||[];if(!y.length)return g;const I=y[0].size(this.resolveDataElementOptions(0)),O=y[y.length-1].size(this.resolveDataElementOptions(y.length-1));return Math.max(g,I,O)/2}draw(){const l=this._cachedMeta;l.dataset.updateControlPoints(this.chart.chartArea,l.iScale.axis),super.draw()}}ki(Zu,"id","line"),ki(Zu,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ki(Zu,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class ni extends As{constructor(l,h){super(l,h),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(l){const g=this.chart,y=g.data.labels||[],I=Za(this._cachedMeta._parsed[l].r,g.options.locale);return{label:y[l]||"",value:I}}parseObjectData(l,h,g,y){return Ha.bind(this)(l,h,g,y)}update(l){const h=this._cachedMeta.data;this._updateRadius(),this.updateElements(h,0,h.length,l)}getMinMax(){const h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((g,y)=>{const I=this.getParsed(y).r;!isNaN(I)&&this.chart.getDataVisibility(y)&&(I<h.min&&(h.min=I),I>h.max&&(h.max=I))}),h}_updateRadius(){const l=this.chart,h=l.chartArea,g=l.options,y=Math.min(h.right-h.left,h.bottom-h.top),I=Math.max(y/2,0),F=(I-Math.max(g.cutoutPercentage?I/100*g.cutoutPercentage:1,0))/l.getVisibleDatasetCount();this.outerRadius=I-F*this.index,this.innerRadius=this.outerRadius-F}updateElements(l,h,g,y){const I="reset"===y,O=this.chart,j=O.options.animation,Q=this._cachedMeta.rScale,de=Q.xCenter,ye=Q.yCenter,Fe=Q.getIndexAngle(0)-.5*Bi;let At,nt=Fe;const Bt=360/this.countVisibleElements();for(At=0;At<h;++At)nt+=this._computeAngle(At,y,Bt);for(At=h;At<h+g;At++){const Kt=l[At];let gn=nt,Tn=nt+this._computeAngle(At,y,Bt),si=O.getDataVisibility(At)?Q.getDistanceFromCenterForValue(this.getParsed(At).r):0;nt=Tn,I&&(j.animateScale&&(si=0),j.animateRotate&&(gn=Tn=Fe));const Jn={x:de,y:ye,innerRadius:0,outerRadius:si,startAngle:gn,endAngle:Tn,options:this.resolveDataElementOptions(At,Kt.active?"active":y)};this.updateElement(Kt,At,Jn,y)}}countVisibleElements(){let h=0;return this._cachedMeta.data.forEach((g,y)=>{!isNaN(this.getParsed(y).r)&&this.chart.getDataVisibility(y)&&h++}),h}_computeAngle(l,h,g){return this.chart.getDataVisibility(l)?ft(this.resolveDataElementOptions(l,h).angle||g):0}}ki(ni,"id","polarArea"),ki(ni,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),ki(ni,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(l){const h=l.data;if(h.labels.length&&h.datasets.length){const{labels:{pointStyle:g,color:y}}=l.legend.options;return h.labels.map((I,O)=>{const j=l.getDatasetMeta(0).controller.getStyle(O);return{text:I,fillStyle:j.backgroundColor,strokeStyle:j.borderColor,fontColor:y,lineWidth:j.borderWidth,pointStyle:g,hidden:!l.getDataVisibility(O),index:O}})}return[]}},onClick(l,h,g){g.chart.toggleDataVisibility(h.index),g.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Ni extends Os{}ki(Ni,"id","pie"),ki(Ni,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Hc extends As{getLabelAndValue(l){const h=this._cachedMeta.vScale,g=this.getParsed(l);return{label:h.getLabels()[l],value:""+h.getLabelForValue(g[h.axis])}}parseObjectData(l,h,g,y){return Ha.bind(this)(l,h,g,y)}update(l){const h=this._cachedMeta,g=h.dataset,y=h.data||[],I=h.iScale.getLabels();if(g.points=y,"resize"!==l){const O=this.resolveDatasetElementOptions(l);this.options.showLine||(O.borderWidth=0),this.updateElement(g,void 0,{_loop:!0,_fullLoop:I.length===y.length,options:O},l)}this.updateElements(y,0,y.length,l)}updateElements(l,h,g,y){const I=this._cachedMeta.rScale,O="reset"===y;for(let F=h;F<h+g;F++){const j=l[F],Q=this.resolveDataElementOptions(F,j.active?"active":y),de=I.getPointPositionForValue(F,this.getParsed(F).r),ye=O?I.xCenter:de.x,Fe=O?I.yCenter:de.y,nt={x:ye,y:Fe,angle:de.angle,skip:isNaN(ye)||isNaN(Fe),options:Q};this.updateElement(j,F,nt,y)}}}ki(Hc,"id","radar"),ki(Hc,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),ki(Hc,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class ci extends As{getLabelAndValue(l){const h=this._cachedMeta,g=this.chart.data.labels||[],{xScale:y,yScale:I}=h,O=this.getParsed(l),F=y.getLabelForValue(O.x),j=I.getLabelForValue(O.y);return{label:g[l]||"",value:"("+F+", "+j+")"}}update(l){const h=this._cachedMeta,{data:g=[]}=h,y=this.chart._animationsDisabled;let{start:I,count:O}=Lr(h,g,y);if(this._drawStart=I,this._drawCount=O,aa(h)&&(I=0,O=g.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:F,_dataset:j}=h;F._chart=this.chart,F._datasetIndex=this.index,F._decimated=!!j._decimated,F.points=g;const Q=this.resolveDatasetElementOptions(l);Q.segment=this.options.segment,this.updateElement(F,void 0,{animated:!y,options:Q},l)}else this.datasetElementType&&(delete h.dataset,this.datasetElementType=!1);this.updateElements(g,I,O,l)}addElements(){const{showLine:l}=this.options;!this.datasetElementType&&l&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(l,h,g,y){const I="reset"===y,{iScale:O,vScale:F,_stacked:j,_dataset:Q}=this._cachedMeta,de=this.resolveDataElementOptions(h,y),ye=this.getSharedOptions(de),Fe=this.includeOptions(y,ye),nt=O.axis,At=F.axis,{spanGaps:Bt,segment:Kt}=this.options,gn=pe(Bt)?Bt:Number.POSITIVE_INFINITY,Tn=this.chart._animationsDisabled||I||"none"===y;let si=h>0&&this.getParsed(h-1);for(let Jn=h;Jn<h+g;++Jn){const jn=l[Jn],bi=this.getParsed(Jn),Ci=Tn?jn:{},Mi=qn(bi[At]),wi=Ci[nt]=O.getPixelForValue(bi[nt],Jn),$r=Ci[At]=I||Mi?F.getBasePixel():F.getPixelForValue(j?this.applyStack(F,bi,j):bi[At],Jn);Ci.skip=isNaN(wi)||isNaN($r)||Mi,Ci.stop=Jn>0&&Math.abs(bi[nt]-si[nt])>gn,Kt&&(Ci.parsed=bi,Ci.raw=Q.data[Jn]),Fe&&(Ci.options=ye||this.resolveDataElementOptions(Jn,jn.active?"active":y)),Tn||this.updateElement(jn,Jn,Ci,y),si=bi}this.updateSharedOptions(ye,y,de)}getMaxOverflow(){const l=this._cachedMeta,h=l.data||[];if(!this.options.showLine){let F=0;for(let j=h.length-1;j>=0;--j)F=Math.max(F,h[j].size(this.resolveDataElementOptions(j))/2);return F>0&&F}const g=l.dataset,y=g.options&&g.options.borderWidth||0;if(!h.length)return y;const I=h[0].size(this.resolveDataElementOptions(0)),O=h[h.length-1].size(this.resolveDataElementOptions(h.length-1));return Math.max(y,I,O)/2}}ki(ci,"id","scatter"),ki(ci,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),ki(ci,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var fn=Object.freeze({__proto__:null,BarController:pl,BubbleController:Kn,DoughnutController:Os,LineController:Zu,PieController:Ni,PolarAreaController:ni,RadarController:Hc,ScatterController:ci});function kn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class is{constructor(l){ki(this,"options"),this.options=l||{}}static override(l){Object.assign(is.prototype,l)}init(){}formats(){return kn()}parse(){return kn()}format(){return kn()}add(){return kn()}diff(){return kn()}startOf(){return kn()}endOf(){return kn()}}var Hs__date=is;function Id(f,l,h,g){const{controller:y,data:I,_sorted:O}=f,F=y._cachedMeta.iScale;if(F&&l===F.axis&&"r"!==l&&O&&I.length){const j=F._reversePixels?es:tr;if(!g)return j(I,l,h);if(y._sharedOptions){const Q=I[0],de="function"==typeof Q.getRange&&Q.getRange(l);if(de){const ye=j(I,l,h-de),Fe=j(I,l,h+de);return{lo:ye.lo,hi:Fe.hi}}}}return{lo:0,hi:I.length-1}}function $a(f,l,h,g,y){const I=f.getSortedVisibleDatasetMetas(),O=h[l];for(let F=0,j=I.length;F<j;++F){const{index:Q,data:de}=I[F],{lo:ye,hi:Fe}=Id(I[F],l,O,y);for(let nt=ye;nt<=Fe;++nt){const At=de[nt];At.skip||g(At,Q,nt)}}}function Zl(f,l,h,g,y){const I=[];return!y&&!f.isPointInArea(l)||$a(f,h,l,function(F,j,Q){!y&&!qr(F,f.chartArea,0)||F.inRange(l.x,l.y,g)&&I.push({element:F,datasetIndex:j,index:Q})},!0),I}function yu(f,l,h,g,y,I){return I||f.isPointInArea(l)?"r"!==h||g?function os(f,l,h,g,y,I){let O=[];const F=function bc(f){const l=-1!==f.indexOf("x"),h=-1!==f.indexOf("y");return function(g,y){const I=l?Math.abs(g.x-y.x):0,O=h?Math.abs(g.y-y.y):0;return Math.sqrt(Math.pow(I,2)+Math.pow(O,2))}}(h);let j=Number.POSITIVE_INFINITY;return $a(f,h,l,function Q(de,ye,Fe){const nt=de.inRange(l.x,l.y,y);if(g&&!nt)return;const At=de.getCenterPoint(y);if(!I&&!f.isPointInArea(At)&&!nt)return;const Kt=F(l,At);Kt<j?(O=[{element:de,datasetIndex:ye,index:Fe}],j=Kt):Kt===j&&O.push({element:de,datasetIndex:ye,index:Fe})}),O}(f,l,h,g,y,I):function Qu(f,l,h,g){let y=[];return $a(f,h,l,function I(O,F,j){const{startAngle:Q,endAngle:de}=O.getProps(["startAngle","endAngle"],g),{angle:ye}=Ri(O,{x:l.x,y:l.y});Ln(ye,Q,de)&&y.push({element:O,datasetIndex:F,index:j})}),y}(f,l,h,y):[]}function Td(f,l,h,g,y){const I=[],O="x"===h?"inXRange":"inYRange";let F=!1;return $a(f,h,l,(j,Q,de)=>{j[O](l[h],y)&&(I.push({element:j,datasetIndex:Q,index:de}),F=F||j.inRange(l.x,l.y,y))}),g&&!F?[]:I}var Rh={evaluateInteractionItems:$a,modes:{index(f,l,h,g){const y=Ra(l,f),I=h.axis||"x",O=h.includeInvisible||!1,F=h.intersect?Zl(f,y,I,g,O):yu(f,y,I,!1,g,O),j=[];return F.length?(f.getSortedVisibleDatasetMetas().forEach(Q=>{const de=F[0].index,ye=Q.data[de];ye&&!ye.skip&&j.push({element:ye,datasetIndex:Q.index,index:de})}),j):[]},dataset(f,l,h,g){const y=Ra(l,f),I=h.axis||"xy",O=h.includeInvisible||!1;let F=h.intersect?Zl(f,y,I,g,O):yu(f,y,I,!1,g,O);if(F.length>0){const j=F[0].datasetIndex,Q=f.getDatasetMeta(j).data;F=[];for(let de=0;de<Q.length;++de)F.push({element:Q[de],datasetIndex:j,index:de})}return F},point:(f,l,h,g)=>Zl(f,Ra(l,f),h.axis||"xy",g,h.includeInvisible||!1),nearest:(f,l,h,g)=>yu(f,Ra(l,f),h.axis||"xy",h.intersect,g,h.includeInvisible||!1),x:(f,l,h,g)=>Td(f,Ra(l,f),"x",h.intersect,g),y:(f,l,h,g)=>Td(f,Ra(l,f),"y",h.intersect,g)}};const ml=["left","top","right","bottom"];function Zi(f,l){return f.filter(h=>h.pos===l)}function Ac(f,l){return f.filter(h=>-1===ml.indexOf(h.pos)&&h.box.axis===l)}function bu(f,l){return f.sort((h,g)=>{const y=l?g:h,I=l?h:g;return y.weight===I.weight?y.index-I.index:y.weight-I.weight})}function Xu(f,l,h,g){return Math.max(f[h],l[h])+Math.max(f[g],l[g])}function rs(f,l){f.top=Math.max(f.top,l.top),f.left=Math.max(f.left,l.left),f.bottom=Math.max(f.bottom,l.bottom),f.right=Math.max(f.right,l.right)}function vi(f,l,h,g){const{pos:y,box:I}=h,O=f.maxPadding;if(!dn(y)){h.size&&(f[y]-=h.size);const ye=g[h.stack]||{size:0,count:1};ye.size=Math.max(ye.size,h.horizontal?I.height:I.width),h.size=ye.size/ye.count,f[y]+=h.size}I.getPadding&&rs(O,I.getPadding());const F=Math.max(0,l.outerWidth-Xu(O,f,"left","right")),j=Math.max(0,l.outerHeight-Xu(O,f,"top","bottom")),Q=F!==f.w,de=j!==f.h;return f.w=F,f.h=j,h.horizontal?{same:Q,other:de}:{same:de,other:Q}}function wo(f,l){const h=l.maxPadding;return function g(y){const I={left:0,top:0,right:0,bottom:0};return y.forEach(O=>{I[O]=Math.max(l[O],h[O])}),I}(f?["left","right"]:["top","bottom"])}function oo(f,l,h,g){const y=[];let I,O,F,j,Q,de;for(I=0,O=f.length,Q=0;I<O;++I){F=f[I],j=F.box,j.update(F.width||l.w,F.height||l.h,wo(F.horizontal,l));const{same:ye,other:Fe}=vi(l,h,F,g);Q|=ye&&y.length,de=de||Fe,j.fullSize||y.push(F)}return Q&&oo(y,l,h,g)||de}function wu(f,l,h,g,y){f.top=h,f.left=l,f.right=l+g,f.bottom=h+y,f.width=g,f.height=y}function G(f,l,h,g){const y=h.padding;let{x:I,y:O}=l;for(const F of f){const j=F.box,Q=g[F.stack]||{count:1,placed:0,weight:1},de=F.stackWeight/Q.weight||1;if(F.horizontal){const ye=l.w*de,Fe=Q.size||j.height;Jt(Q.start)&&(O=Q.start),j.fullSize?wu(j,y.left,O,h.outerWidth-y.right-y.left,Fe):wu(j,l.left+Q.placed,O,ye,Fe),Q.start=O,Q.placed+=ye,O=j.bottom}else{const ye=l.h*de,Fe=Q.size||j.width;Jt(Q.start)&&(I=Q.start),j.fullSize?wu(j,I,y.top,Fe,h.outerHeight-y.bottom-y.top):wu(j,I,l.top+Q.placed,Fe,ye),Q.start=I,Q.placed+=ye,I=j.right}}l.x=I,l.y=O}var $={addBox(f,l){f.boxes||(f.boxes=[]),l.fullSize=l.fullSize||!1,l.position=l.position||"top",l.weight=l.weight||0,l._layers=l._layers||function(){return[{z:0,draw(h){l.draw(h)}}]},f.boxes.push(l)},removeBox(f,l){const h=f.boxes?f.boxes.indexOf(l):-1;-1!==h&&f.boxes.splice(h,1)},configure(f,l,h){l.fullSize=h.fullSize,l.position=h.position,l.weight=h.weight},update(f,l,h,g){if(!f)return;const y=_s(f.options.layout.padding),I=Math.max(l-y.width,0),O=Math.max(h-y.height,0),F=function qi(f){const l=function as(f){const l=[];let h,g,y,I,O,F;for(h=0,g=(f||[]).length;h<g;++h)y=f[h],({position:I,options:{stack:O,stackWeight:F=1}}=y),l.push({index:h,box:y,pos:I,horizontal:y.isHorizontal(),weight:y.weight,stack:O&&I+O,stackWeight:F});return l}(f),h=bu(l.filter(Q=>Q.box.fullSize),!0),g=bu(Zi(l,"left"),!0),y=bu(Zi(l,"right")),I=bu(Zi(l,"top"),!0),O=bu(Zi(l,"bottom")),F=Ac(l,"x"),j=Ac(l,"y");return{fullSize:h,leftAndTop:g.concat(I),rightAndBottom:y.concat(j).concat(O).concat(F),chartArea:Zi(l,"chartArea"),vertical:g.concat(y).concat(j),horizontal:I.concat(O).concat(F)}}(f.boxes),j=F.vertical,Q=F.horizontal;Ot(f.boxes,Bt=>{"function"==typeof Bt.beforeLayout&&Bt.beforeLayout()});const de=j.reduce((Bt,Kt)=>Kt.box.options&&!1===Kt.box.options.display?Bt:Bt+1,0)||1,ye=Object.freeze({outerWidth:l,outerHeight:h,padding:y,availableWidth:I,availableHeight:O,vBoxMaxWidth:I/2/de,hBoxMaxHeight:O/2}),Fe=Object.assign({},y);rs(Fe,_s(g));const nt=Object.assign({maxPadding:Fe,w:I,h:O,x:y.left,y:y.top},y),At=function js(f,l){const h=function Ki(f){const l={};for(const h of f){const{stack:g,pos:y,stackWeight:I}=h;if(!g||!ml.includes(y))continue;const O=l[g]||(l[g]={count:0,placed:0,weight:0,size:0});O.count++,O.weight+=I}return l}(f),{vBoxMaxWidth:g,hBoxMaxHeight:y}=l;let I,O,F;for(I=0,O=f.length;I<O;++I){F=f[I];const{fullSize:j}=F.box,Q=h[F.stack],de=Q&&F.stackWeight/Q.weight;F.horizontal?(F.width=de?de*g:j&&l.availableWidth,F.height=y):(F.width=g,F.height=de?de*y:j&&l.availableHeight)}return h}(j.concat(Q),ye);oo(F.fullSize,nt,ye,At),oo(j,nt,ye,At),oo(Q,nt,ye,At)&&oo(j,nt,ye,At),function Cu(f){const l=f.maxPadding;function h(g){const y=Math.max(l[g]-f[g],0);return f[g]+=y,y}f.y+=h("top"),f.x+=h("left"),h("right"),h("bottom")}(nt),G(F.leftAndTop,nt,ye,At),nt.x+=nt.w,nt.y+=nt.h,G(F.rightAndBottom,nt,ye,At),f.chartArea={left:nt.left,top:nt.top,right:nt.left+nt.w,bottom:nt.top+nt.h,height:nt.h,width:nt.w},Ot(F.chartArea,Bt=>{const Kt=Bt.box;Object.assign(Kt,f.chartArea),Kt.update(nt.w,nt.h,{left:0,top:0,right:0,bottom:0})})}};class V{acquireContext(l,h){}releaseContext(l){return!1}addEventListener(l,h,g){}removeEventListener(l,h,g){}getDevicePixelRatio(){return 1}getMaximumSize(l,h,g,y){return h=Math.max(0,h||l.width),g=g||l.height,{width:h,height:Math.max(0,y?Math.floor(h/y):g)}}isAttached(l){return!0}updateConfig(l){}}class ie extends V{acquireContext(l){return l&&l.getContext&&l.getContext("2d")||null}updateConfig(l){l.options.animation=!1}}const ae="$chartjs",Ie={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},st=f=>null===f||""===f,mn=!!Mc&&{passive:!0};function ir(f,l,h){f.canvas.removeEventListener(l,h,mn)}function kr(f,l){for(const h of f)if(h===l||h.contains(l))return!0}function fs(f,l,h){const g=f.canvas,y=new MutationObserver(I=>{let O=!1;for(const F of I)O=O||kr(F.addedNodes,g),O=O&&!kr(F.removedNodes,g);O&&h()});return y.observe(document,{childList:!0,subtree:!0}),y}function Rl(f,l,h){const g=f.canvas,y=new MutationObserver(I=>{let O=!1;for(const F of I)O=O||kr(F.removedNodes,g),O=O&&!kr(F.addedNodes,g);O&&h()});return y.observe(document,{childList:!0,subtree:!0}),y}const ko=new Map;let Eo=0;function jc(){const f=window.devicePixelRatio;f!==Eo&&(Eo=f,ko.forEach((l,h)=>{h.currentDevicePixelRatio!==f&&l()}))}function Du(f,l,h){const g=f.canvas,y=g&&Ds(g);if(!y)return;const I=to((F,j)=>{const Q=y.clientWidth;h(F,j),Q<y.clientWidth&&h()},window),O=new ResizeObserver(F=>{const j=F[0],Q=j.contentRect.width,de=j.contentRect.height;0===Q&&0===de||I(Q,de)});return O.observe(y),function Wa(f,l){ko.size||window.addEventListener("resize",jc),ko.set(f,l)}(f,I),O}function sh(f,l,h){h&&h.disconnect(),"resize"===l&&function Eu(f){ko.delete(f),ko.size||window.removeEventListener("resize",jc)}(f)}function kc(f,l,h){const g=f.canvas,y=to(I=>{null!==f.ctx&&h(function Tt(f,l){const h=Ie[f.type]||f.type,{x:g,y}=Ra(f,l);return{type:h,chart:l,native:f,x:void 0!==g?g:null,y:void 0!==y?y:null}}(I,f))},f);return function ii(f,l,h){f.addEventListener(l,h,mn)}(g,l,y),y}class Vo extends V{acquireContext(l,h){const g=l&&l.getContext&&l.getContext("2d");return g&&g.canvas===l?(function vt(f,l){const h=f.style,g=f.getAttribute("height"),y=f.getAttribute("width");if(f[ae]={initial:{height:g,width:y,style:{display:h.display,height:h.height,width:h.width}}},h.display=h.display||"block",h.boxSizing=h.boxSizing||"border-box",st(y)){const I=Xa(f,"width");void 0!==I&&(f.width=I)}if(st(g))if(""===f.style.height)f.height=f.width/(l||2);else{const I=Xa(f,"height");void 0!==I&&(f.height=I)}}(l,h),g):null}releaseContext(l){const h=l.canvas;if(!h[ae])return!1;const g=h[ae].initial;["height","width"].forEach(I=>{const O=g[I];qn(O)?h.removeAttribute(I):h.setAttribute(I,O)});const y=g.style||{};return Object.keys(y).forEach(I=>{h.style[I]=y[I]}),h.width=h.width,delete h[ae],!0}addEventListener(l,h,g){this.removeEventListener(l,h),(l.$proxies||(l.$proxies={}))[h]=({attach:fs,detach:Rl,resize:Du}[h]||kc)(l,h,g)}removeEventListener(l,h){const g=l.$proxies||(l.$proxies={}),y=g[h];y&&(({attach:sh,detach:sh,resize:sh}[h]||ir)(l,h,y),g[h]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(l,h,g,y){return function fc(f,l,h,g){const y=ul(f),I=ka(y,"margin"),O=Jo(y.maxWidth,f,"clientWidth")||Gi,F=Jo(y.maxHeight,f,"clientHeight")||Gi,j=function ea(f,l,h){let g,y;if(void 0===l||void 0===h){const I=Ds(f);if(I){const O=I.getBoundingClientRect(),F=ul(I),j=ka(F,"border","width"),Q=ka(F,"padding");l=O.width-Q.width-j.width,h=O.height-Q.height-j.height,g=Jo(F.maxWidth,I,"clientWidth"),y=Jo(F.maxHeight,I,"clientHeight")}else l=f.clientWidth,h=f.clientHeight}return{width:l,height:h,maxWidth:g||Gi,maxHeight:y||Gi}}(f,l,h);let{width:Q,height:de}=j;if("content-box"===y.boxSizing){const Fe=ka(y,"border","width"),nt=ka(y,"padding");Q-=nt.width+Fe.width,de-=nt.height+Fe.height}return Q=Math.max(0,Q-I.width),de=Math.max(0,g?Q/g:de-I.height),Q=hl(Math.min(Q,O,j.maxWidth)),de=hl(Math.min(de,F,j.maxHeight)),Q&&!de&&(de=hl(Q/2)),(void 0!==l||void 0!==h)&&g&&j.height&&de>j.height&&(de=j.height,Q=hl(Math.floor(de*g))),{width:Q,height:de}}(l,h,g,y)}isAttached(l){const h=Ds(l);return!(!h||!h.isConnected)}}class Ya{constructor(){ki(this,"x"),ki(this,"y"),ki(this,"active",!1),ki(this,"options"),ki(this,"$animations")}tooltipPosition(l){const{x:h,y:g}=this.getProps(["x","y"],l);return{x:h,y:g}}hasValue(){return pe(this.x)&&pe(this.y)}getProps(l,h){const g=this.$animations;if(!h||!g)return this;const y={};return l.forEach(I=>{y[I]=g[I]&&g[I].active()?g[I]._to:this[I]}),y}}function kd(f,l,h,g,y){const I=On(g,0),O=Math.min(On(y,f.length),f.length);let j,Q,de,F=0;for(h=Math.ceil(h),y&&(j=y-g,h=j/Math.floor(j/h)),de=I;de<0;)F++,de=Math.round(I+F*h);for(Q=Math.max(I,0);Q<O;Q++)Q===de&&(l.push(f[Q]),F++,de=Math.round(I+F*h))}ki(Ya,"defaults",{}),ki(Ya,"defaultRoutes");const Do=(f,l,h)=>"top"===l||"left"===l?f[l]+h:f[l]-h,Ju=(f,l)=>Math.min(l||f,f);function Su(f,l){const h=[],g=f.length/l,y=f.length;let I=0;for(;I<y;I+=g)h.push(f[Math.floor(I)]);return h}function Qh(f,l,h){const g=f.ticks.length,y=Math.min(l,g-1),I=f._startPixel,O=f._endPixel,F=1e-6;let Q,j=f.getPixelForTick(y);if(!(h&&(Q=1===g?Math.max(j-I,O-j):0===l?(f.getPixelForTick(1)-j)/2:(j-f.getPixelForTick(y-1))/2,j+=y<l?Q:-Q,j<I-F||j>O+F)))return j}function Xl(f){return f.drawTicks?f.tickLength:0}function Ol(f,l){if(!f.display)return 0;const h=jr(f.font,l),g=_s(f.padding);return(mi(f.text)?f.text.length:1)*h.lineHeight+g.height}function Rc(f,l,h){let g=pr(f);return(h&&"right"!==l||!h&&"right"===l)&&(g=(f=>"left"===f?"right":"right"===f?"left":f)(g)),g}class Iu extends Ya{constructor(l){super(),this.id=l.id,this.type=l.type,this.options=void 0,this.ctx=l.ctx,this.chart=l.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(l){this.options=l.setContext(this.getContext()),this.axis=l.axis,this._userMin=this.parse(l.min),this._userMax=this.parse(l.max),this._suggestedMin=this.parse(l.suggestedMin),this._suggestedMax=this.parse(l.suggestedMax)}parse(l,h){return l}getUserBounds(){let{_userMin:l,_userMax:h,_suggestedMin:g,_suggestedMax:y}=this;return l=bn(l,Number.POSITIVE_INFINITY),h=bn(h,Number.NEGATIVE_INFINITY),g=bn(g,Number.POSITIVE_INFINITY),y=bn(y,Number.NEGATIVE_INFINITY),{min:bn(l,g),max:bn(h,y),minDefined:li(l),maxDefined:li(h)}}getMinMax(l){let O,{min:h,max:g,minDefined:y,maxDefined:I}=this.getUserBounds();if(y&&I)return{min:h,max:g};const F=this.getMatchingVisibleMetas();for(let j=0,Q=F.length;j<Q;++j)O=F[j].controller.getMinMax(this,l),y||(h=Math.min(h,O.min)),I||(g=Math.max(g,O.max));return h=I&&h>g?g:h,g=y&&h>g?h:g,{min:bn(h,bn(g,h)),max:bn(g,bn(h,g))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const l=this.chart.data;return this.options.labels||(this.isHorizontal()?l.xLabels:l.yLabels)||l.labels||[]}getLabelItems(l=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(l))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){$n(this.options.beforeUpdate,[this])}update(l,h,g){const{beginAtZero:y,grace:I,ticks:O}=this.options,F=O.sampleSize;this.beforeUpdate(),this.maxWidth=l,this.maxHeight=h,this._margins=g=Object.assign({left:0,right:0,top:0,bottom:0},g),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+g.left+g.right:this.height+g.top+g.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function ll(f,l,h){const{min:g,max:y}=f,I=Nn(l,(y-g)/2),O=(F,j)=>h&&0===F?0:F+j;return{min:O(g,-Math.abs(I)),max:O(y,I)}}(this,I,y),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const j=F<this.ticks.length;this._convertTicksToLabels(j?Su(this.ticks,F):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),O.display&&(O.autoSkip||"auto"===O.source)&&(this.ticks=function kf(f,l){const h=f.options.ticks,g=function vs(f){const l=f.options.offset,h=f._tickSize();return Math.floor(Math.min(f._length/h+(l?0:1),f._maxLength/h))}(f),y=Math.min(h.maxTicksLimit||g,g),I=h.major.enabled?function xu(f){const l=[];let h,g;for(h=0,g=f.length;h<g;h++)f[h].major&&l.push(h);return l}(l):[],O=I.length,F=I[0],j=I[O-1],Q=[];if(O>y)return function Uo(f,l,h,g){let O,y=0,I=h[0];for(g=Math.ceil(g),O=0;O<f.length;O++)O===I&&(l.push(f[O]),y++,I=h[y*g])}(l,Q,I,O/y),Q;const de=function Ad(f,l,h){const g=function ao(f){const l=f.length;let h,g;if(l<2)return!1;for(g=f[0],h=1;h<l;++h)if(f[h]-f[h-1]!==g)return!1;return g}(f),y=l.length/h;if(!g)return Math.max(y,1);const I=function $e(f){const l=[],h=Math.sqrt(f);let g;for(g=1;g<h;g++)f%g==0&&(l.push(g),l.push(f/g));return h===(0|h)&&l.push(h),l.sort((y,I)=>y-I).pop(),l}(g);for(let O=0,F=I.length-1;O<F;O++){const j=I[O];if(j>y)return j}return Math.max(y,1)}(I,l,y);if(O>0){let ye,Fe;const nt=O>1?Math.round((j-F)/(O-1)):null;for(kd(l,Q,de,qn(nt)?0:F-nt,F),ye=0,Fe=O-1;ye<Fe;ye++)kd(l,Q,de,I[ye],I[ye+1]);return kd(l,Q,de,j,qn(nt)?l.length:j+nt),Q}return kd(l,Q,de),Q}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),j&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let h,g,l=this.options.reverse;this.isHorizontal()?(h=this.left,g=this.right):(h=this.top,g=this.bottom,l=!l),this._startPixel=h,this._endPixel=g,this._reversePixels=l,this._length=g-h,this._alignToPixels=this.options.alignToPixels}afterUpdate(){$n(this.options.afterUpdate,[this])}beforeSetDimensions(){$n(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){$n(this.options.afterSetDimensions,[this])}_callHooks(l){this.chart.notifyPlugins(l,this.getContext()),$n(this.options[l],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){$n(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(l){const h=this.options.ticks;let g,y,I;for(g=0,y=l.length;g<y;g++)I=l[g],I.label=$n(h.callback,[I.value,g,l],this)}afterTickToLabelConversion(){$n(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){$n(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const l=this.options,h=l.ticks,g=Ju(this.ticks.length,l.ticks.maxTicksLimit),y=h.minRotation||0,I=h.maxRotation;let F,j,Q,O=y;if(!this._isVisible()||!h.display||y>=I||g<=1||!this.isHorizontal())return void(this.labelRotation=y);const de=this._getLabelSizes(),ye=de.widest.width,Fe=de.highest.height,nt=fi(this.chart.width-ye,0,this.maxWidth);F=l.offset?this.maxWidth/g:nt/(g-1),ye+6>F&&(F=nt/(g-(l.offset?.5:1)),j=this.maxHeight-Xl(l.grid)-h.padding-Ol(l.title,this.chart.options.font),Q=Math.sqrt(ye*ye+Fe*Fe),O=cn(Math.min(Math.asin(fi((de.highest.height+6)/F,-1,1)),Math.asin(fi(j/Q,-1,1))-Math.asin(fi(Fe/Q,-1,1)))),O=Math.max(y,Math.min(I,O))),this.labelRotation=O}afterCalculateLabelRotation(){$n(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){$n(this.options.beforeFit,[this])}fit(){const l={width:0,height:0},{chart:h,options:{ticks:g,title:y,grid:I}}=this,O=this._isVisible(),F=this.isHorizontal();if(O){const j=Ol(y,h.options.font);if(F?(l.width=this.maxWidth,l.height=Xl(I)+j):(l.height=this.maxHeight,l.width=Xl(I)+j),g.display&&this.ticks.length){const{first:Q,last:de,widest:ye,highest:Fe}=this._getLabelSizes(),nt=2*g.padding,At=ft(this.labelRotation),Bt=Math.cos(At),Kt=Math.sin(At);F?l.height=Math.min(this.maxHeight,l.height+(g.mirror?0:Kt*ye.width+Bt*Fe.height)+nt):l.width=Math.min(this.maxWidth,l.width+(g.mirror?0:Bt*ye.width+Kt*Fe.height)+nt),this._calculatePadding(Q,de,Kt,Bt)}}this._handleMargins(),F?(this.width=this._length=h.width-this._margins.left-this._margins.right,this.height=l.height):(this.width=l.width,this.height=this._length=h.height-this._margins.top-this._margins.bottom)}_calculatePadding(l,h,g,y){const{ticks:{align:I,padding:O},position:F}=this.options,j=0!==this.labelRotation,Q="top"!==F&&"x"===this.axis;if(this.isHorizontal()){const de=this.getPixelForTick(0)-this.left,ye=this.right-this.getPixelForTick(this.ticks.length-1);let Fe=0,nt=0;j?Q?(Fe=y*l.width,nt=g*h.height):(Fe=g*l.height,nt=y*h.width):"start"===I?nt=h.width:"end"===I?Fe=l.width:"inner"!==I&&(Fe=l.width/2,nt=h.width/2),this.paddingLeft=Math.max((Fe-de+O)*this.width/(this.width-de),0),this.paddingRight=Math.max((nt-ye+O)*this.width/(this.width-ye),0)}else{let de=h.height/2,ye=l.height/2;"start"===I?(de=0,ye=l.height):"end"===I&&(de=h.height,ye=0),this.paddingTop=de+O,this.paddingBottom=ye+O}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){$n(this.options.afterFit,[this])}isHorizontal(){const{axis:l,position:h}=this.options;return"top"===h||"bottom"===h||"x"===l}isFullSize(){return this.options.fullSize}_convertTicksToLabels(l){let h,g;for(this.beforeTickToLabelConversion(),this.generateTickLabels(l),h=0,g=l.length;h<g;h++)qn(l[h].label)&&(l.splice(h,1),g--,h--);this.afterTickToLabelConversion()}_getLabelSizes(){let l=this._labelSizes;if(!l){const h=this.options.ticks.sampleSize;let g=this.ticks;h<g.length&&(g=Su(g,h)),this._labelSizes=l=this._computeLabelSizes(g,g.length,this.options.ticks.maxTicksLimit)}return l}_computeLabelSizes(l,h,g){const{ctx:y,_longestTextCache:I}=this,O=[],F=[],j=Math.floor(h/Ju(h,g));let ye,Fe,nt,At,Bt,Kt,gn,Tn,si,Jn,jn,Q=0,de=0;for(ye=0;ye<h;ye+=j){if(At=l[ye].label,Bt=this._resolveTickFontOptions(ye),y.font=Kt=Bt.string,gn=I[Kt]=I[Kt]||{data:{},gc:[]},Tn=Bt.lineHeight,si=Jn=0,qn(At)||mi(At)){if(mi(At))for(Fe=0,nt=At.length;Fe<nt;++Fe)jn=At[Fe],!qn(jn)&&!mi(jn)&&(si=Qo(y,gn.data,gn.gc,si,jn),Jn+=Tn)}else si=Qo(y,gn.data,gn.gc,si,At),Jn=Tn;O.push(si),F.push(Jn),Q=Math.max(si,Q),de=Math.max(Jn,de)}!function oh(f,l){Ot(f,h=>{const g=h.gc,y=g.length/2;let I;if(y>l){for(I=0;I<y;++I)delete h.data[g[I]];g.splice(0,y)}})}(I,h);const bi=O.indexOf(Q),Ci=F.indexOf(de),Mi=wi=>({width:O[wi]||0,height:F[wi]||0});return{first:Mi(0),last:Mi(h-1),widest:Mi(bi),highest:Mi(Ci),widths:O,heights:F}}getLabelForValue(l){return l}getPixelForValue(l,h){return NaN}getValueForPixel(l){}getPixelForTick(l){const h=this.ticks;return l<0||l>h.length-1?null:this.getPixelForValue(h[l].value)}getPixelForDecimal(l){this._reversePixels&&(l=1-l);const h=this._startPixel+l*this._length;return function Yi(f){return fi(f,-32768,32767)}(this._alignToPixels?_o(this.chart,h,0):h)}getDecimalForPixel(l){const h=(l-this._startPixel)/this._length;return this._reversePixels?1-h:h}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:l,max:h}=this;return l<0&&h<0?h:l>0&&h>0?l:0}getContext(l){const h=this.ticks||[];if(l>=0&&l<h.length){const g=h[l];return g.$context||(g.$context=function Rd(f,l,h){return Xo(f,{tick:h,index:l,type:"tick"})}(this.getContext(),l,g))}return this.$context||(this.$context=function Mu(f,l){return Xo(f,{scale:l,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const l=this.options.ticks,h=ft(this.labelRotation),g=Math.abs(Math.cos(h)),y=Math.abs(Math.sin(h)),I=this._getLabelSizes(),O=l.autoSkipPadding||0,F=I?I.widest.width+O:0,j=I?I.highest.height+O:0;return this.isHorizontal()?j*g>F*y?F/g:j/y:j*y<F*g?j/g:F/y}_isVisible(){const l=this.options.display;return"auto"!==l?!!l:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(l){const h=this.axis,g=this.chart,y=this.options,{grid:I,position:O,border:F}=y,j=I.offset,Q=this.isHorizontal(),ye=this.ticks.length+(j?1:0),Fe=Xl(I),nt=[],At=F.setContext(this.getContext()),Bt=At.display?At.width:0,Kt=Bt/2,gn=function(Js){return _o(g,Js,Bt)};let Tn,si,Jn,jn,bi,Ci,Mi,wi,$r,Xr,Jr,Yo;if("top"===O)Tn=gn(this.bottom),Ci=this.bottom-Fe,wi=Tn-Kt,Xr=gn(l.top)+Kt,Yo=l.bottom;else if("bottom"===O)Tn=gn(this.top),Xr=l.top,Yo=gn(l.bottom)-Kt,Ci=Tn+Kt,wi=this.top+Fe;else if("left"===O)Tn=gn(this.right),bi=this.right-Fe,Mi=Tn-Kt,$r=gn(l.left)+Kt,Jr=l.right;else if("right"===O)Tn=gn(this.left),$r=l.left,Jr=gn(l.right)-Kt,bi=Tn+Kt,Mi=this.left+Fe;else if("x"===h){if("center"===O)Tn=gn((l.top+l.bottom)/2+.5);else if(dn(O)){const Js=Object.keys(O)[0];Tn=gn(this.chart.scales[Js].getPixelForValue(O[Js]))}Xr=l.top,Yo=l.bottom,Ci=Tn+Kt,wi=Ci+Fe}else if("y"===h){if("center"===O)Tn=gn((l.left+l.right)/2);else if(dn(O)){const Js=Object.keys(O)[0];Tn=gn(this.chart.scales[Js].getPixelForValue(O[Js]))}bi=Tn-Kt,Mi=bi-Fe,$r=l.left,Jr=l.right}const xo=On(y.ticks.maxTicksLimit,ye),Ir=Math.max(1,Math.ceil(ye/xo));for(si=0;si<ye;si+=Ir){const Js=this.getContext(si),Hi=I.setContext(Js),ac=F.setContext(Js),La=Hi.lineWidth,wh=Hi.color,eo=ac.dash||[],Eh=ac.dashOffset,gf=Hi.tickWidth,hd=Hi.tickColor,Zd=Hi.tickBorderDash||[],Ba=Hi.tickBorderDashOffset;Jn=Qh(this,si,j),void 0!==Jn&&(jn=_o(g,Jn,La),Q?bi=Mi=$r=Jr=jn:Ci=wi=Xr=Yo=jn,nt.push({tx1:bi,ty1:Ci,tx2:Mi,ty2:wi,x1:$r,y1:Xr,x2:Jr,y2:Yo,width:La,color:wh,borderDash:eo,borderDashOffset:Eh,tickWidth:gf,tickColor:hd,tickBorderDash:Zd,tickBorderDashOffset:Ba}))}return this._ticksLength=ye,this._borderValue=Tn,nt}_computeLabelItems(l){const h=this.axis,g=this.options,{position:y,ticks:I}=g,O=this.isHorizontal(),F=this.ticks,{align:j,crossAlign:Q,padding:de,mirror:ye}=I,Fe=Xl(g.grid),nt=Fe+de,At=ye?-de:nt,Bt=-ft(this.labelRotation),Kt=[];let gn,Tn,si,Jn,jn,bi,Ci,Mi,wi,$r,Xr,Jr,Yo="middle";if("top"===y)bi=this.bottom-At,Ci=this._getXAxisLabelAlignment();else if("bottom"===y)bi=this.top+At,Ci=this._getXAxisLabelAlignment();else if("left"===y){const Ir=this._getYAxisLabelAlignment(Fe);Ci=Ir.textAlign,jn=Ir.x}else if("right"===y){const Ir=this._getYAxisLabelAlignment(Fe);Ci=Ir.textAlign,jn=Ir.x}else if("x"===h){if("center"===y)bi=(l.top+l.bottom)/2+nt;else if(dn(y)){const Ir=Object.keys(y)[0];bi=this.chart.scales[Ir].getPixelForValue(y[Ir])+nt}Ci=this._getXAxisLabelAlignment()}else if("y"===h){if("center"===y)jn=(l.left+l.right)/2-nt;else if(dn(y)){const Ir=Object.keys(y)[0];jn=this.chart.scales[Ir].getPixelForValue(y[Ir])}Ci=this._getYAxisLabelAlignment(Fe).textAlign}"y"===h&&("start"===j?Yo="top":"end"===j&&(Yo="bottom"));const xo=this._getLabelSizes();for(gn=0,Tn=F.length;gn<Tn;++gn){si=F[gn],Jn=si.label;const Ir=I.setContext(this.getContext(gn));Mi=this.getPixelForTick(gn)+I.labelOffset,wi=this._resolveTickFontOptions(gn),$r=wi.lineHeight,Xr=mi(Jn)?Jn.length:1;const Js=Xr/2,Hi=Ir.color,ac=Ir.textStrokeColor,La=Ir.textStrokeWidth;let eo,wh=Ci;if(O?(jn=Mi,"inner"===Ci&&(wh=gn===Tn-1?this.options.reverse?"left":"right":0===gn?this.options.reverse?"right":"left":"center"),Jr="top"===y?"near"===Q||0!==Bt?-Xr*$r+$r/2:"center"===Q?-xo.highest.height/2-Js*$r+$r:$r/2-xo.highest.height:"near"===Q||0!==Bt?$r/2:"center"===Q?xo.highest.height/2-Js*$r:xo.highest.height-Xr*$r,ye&&(Jr*=-1),0!==Bt&&!Ir.showLabelBackdrop&&(jn+=$r/2*Math.sin(Bt))):(bi=Mi,Jr=(1-Xr)*$r/2),Ir.showLabelBackdrop){const Eh=_s(Ir.backdropPadding),gf=xo.heights[gn],hd=xo.widths[gn];let Zd=Jr-Eh.top,Ba=0-Eh.left;switch(Yo){case"middle":Zd-=gf/2;break;case"bottom":Zd-=gf}switch(Ci){case"center":Ba-=hd/2;break;case"right":Ba-=hd;break;case"inner":gn===Tn-1?Ba-=hd:gn>0&&(Ba-=hd/2)}eo={left:Ba,top:Zd,width:hd+Eh.width,height:gf+Eh.height,color:Ir.backdropColor}}Kt.push({label:Jn,font:wi,textOffset:Jr,options:{rotation:Bt,color:Hi,strokeColor:ac,strokeWidth:La,textAlign:wh,textBaseline:Yo,translation:[jn,bi],backdrop:eo}})}return Kt}_getXAxisLabelAlignment(){const{position:l,ticks:h}=this.options;if(-ft(this.labelRotation))return"top"===l?"left":"right";let y="center";return"start"===h.align?y="left":"end"===h.align?y="right":"inner"===h.align&&(y="inner"),y}_getYAxisLabelAlignment(l){const{position:h,ticks:{crossAlign:g,mirror:y,padding:I}}=this.options,F=l+I,j=this._getLabelSizes().widest.width;let Q,de;return"left"===h?y?(de=this.right+I,"near"===g?Q="left":"center"===g?(Q="center",de+=j/2):(Q="right",de+=j)):(de=this.right-F,"near"===g?Q="right":"center"===g?(Q="center",de-=j/2):(Q="left",de=this.left)):"right"===h?y?(de=this.left+I,"near"===g?Q="right":"center"===g?(Q="center",de-=j/2):(Q="left",de-=j)):(de=this.left+F,"near"===g?Q="left":"center"===g?(Q="center",de+=j/2):(Q="right",de=this.right)):Q="right",{textAlign:Q,x:de}}_computeLabelArea(){if(this.options.ticks.mirror)return;const l=this.chart,h=this.options.position;return"left"===h||"right"===h?{top:0,left:this.left,bottom:l.height,right:this.right}:"top"===h||"bottom"===h?{top:this.top,left:0,bottom:this.bottom,right:l.width}:void 0}drawBackground(){const{ctx:l,options:{backgroundColor:h},left:g,top:y,width:I,height:O}=this;h&&(l.save(),l.fillStyle=h,l.fillRect(g,y,I,O),l.restore())}getLineWidthForValue(l){const h=this.options.grid;if(!this._isVisible()||!h.display)return 0;const y=this.ticks.findIndex(I=>I.value===l);return y>=0?h.setContext(this.getContext(y)).lineWidth:0}drawGrid(l){const h=this.options.grid,g=this.ctx,y=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(l));let I,O;const F=(j,Q,de)=>{!de.width||!de.color||(g.save(),g.lineWidth=de.width,g.strokeStyle=de.color,g.setLineDash(de.borderDash||[]),g.lineDashOffset=de.borderDashOffset,g.beginPath(),g.moveTo(j.x,j.y),g.lineTo(Q.x,Q.y),g.stroke(),g.restore())};if(h.display)for(I=0,O=y.length;I<O;++I){const j=y[I];h.drawOnChartArea&&F({x:j.x1,y:j.y1},{x:j.x2,y:j.y2},j),h.drawTicks&&F({x:j.tx1,y:j.ty1},{x:j.tx2,y:j.ty2},{color:j.tickColor,width:j.tickWidth,borderDash:j.tickBorderDash,borderDashOffset:j.tickBorderDashOffset})}}drawBorder(){const{chart:l,ctx:h,options:{border:g,grid:y}}=this,I=g.setContext(this.getContext()),O=g.display?I.width:0;if(!O)return;const F=y.setContext(this.getContext(0)).lineWidth,j=this._borderValue;let Q,de,ye,Fe;this.isHorizontal()?(Q=_o(l,this.left,O)-O/2,de=_o(l,this.right,F)+F/2,ye=Fe=j):(ye=_o(l,this.top,O)-O/2,Fe=_o(l,this.bottom,F)+F/2,Q=de=j),h.save(),h.lineWidth=I.width,h.strokeStyle=I.color,h.beginPath(),h.moveTo(Q,ye),h.lineTo(de,Fe),h.stroke(),h.restore()}drawLabels(l){if(!this.options.ticks.display)return;const g=this.ctx,y=this._computeLabelArea();y&&ua(g,y);const I=this.getLabelItems(l);for(const O of I)Wl(g,O.label,0,O.textOffset,O.font,O.options);y&&Mo(g)}drawTitle(){const{ctx:l,options:{position:h,title:g,reverse:y}}=this;if(!g.display)return;const I=jr(g.font),O=_s(g.padding),F=g.align;let j=I.lineHeight/2;"bottom"===h||"center"===h||dn(h)?(j+=O.bottom,mi(g.text)&&(j+=I.lineHeight*(g.text.length-1))):j+=O.top;const{titleX:Q,titleY:de,maxWidth:ye,rotation:Fe}=function Od(f,l,h,g){const{top:y,left:I,bottom:O,right:F,chart:j}=f,{chartArea:Q,scales:de}=j;let Fe,nt,At,ye=0;const Bt=O-y,Kt=F-I;if(f.isHorizontal()){if(nt=Er(g,I,F),dn(h)){const gn=Object.keys(h)[0];At=de[gn].getPixelForValue(h[gn])+Bt-l}else At="center"===h?(Q.bottom+Q.top)/2+Bt-l:Do(f,h,l);Fe=F-I}else{if(dn(h)){const gn=Object.keys(h)[0];nt=de[gn].getPixelForValue(h[gn])-Kt+l}else nt="center"===h?(Q.left+Q.right)/2-Kt+l:Do(f,h,l);At=Er(g,O,y),ye="left"===h?-Me:Me}return{titleX:nt,titleY:At,maxWidth:Fe,rotation:ye}}(this,j,h,F);Wl(l,g.text,0,0,I,{color:g.color,maxWidth:ye,rotation:Fe,textAlign:Rc(F,h,y),textBaseline:"middle",translation:[Q,de]})}draw(l){!this._isVisible()||(this.drawBackground(),this.drawGrid(l),this.drawBorder(),this.drawTitle(),this.drawLabels(l))}_layers(){const l=this.options,h=l.ticks&&l.ticks.z||0,g=On(l.grid&&l.grid.z,-1),y=On(l.border&&l.border.z,0);return this._isVisible()&&this.draw===Iu.prototype.draw?[{z:g,draw:I=>{this.drawBackground(),this.drawGrid(I),this.drawTitle()}},{z:y,draw:()=>{this.drawBorder()}},{z:h,draw:I=>{this.drawLabels(I)}}]:[{z:h,draw:I=>{this.draw(I)}}]}getMatchingVisibleMetas(l){const h=this.chart.getSortedVisibleDatasetMetas(),g=this.axis+"AxisID",y=[];let I,O;for(I=0,O=h.length;I<O;++I){const F=h[I];F[g]===this.id&&(!l||F.type===l)&&y.push(F)}return y}_resolveTickFontOptions(l){return jr(this.options.ticks.setContext(this.getContext(l)).font)}_maxDigits(){const l=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/l}}class Oc{constructor(l,h,g){this.type=l,this.scope=h,this.override=g,this.items=Object.create(null)}isForType(l){return Object.prototype.isPrototypeOf.call(this.type.prototype,l.prototype)}register(l){const h=Object.getPrototypeOf(l);let g;(function Xh(f){return"id"in f&&"defaults"in f})(h)&&(g=this.register(h));const y=this.items,I=l.id,O=this.scope+"."+I;if(!I)throw new Error("class does not have id: "+l);return I in y||(y[I]=l,function Pd(f,l,h){const g=Zt(Object.create(null),[h?Ui.get(h):{},Ui.get(l),f.defaults]);Ui.set(l,g),f.defaultRoutes&&function ah(f,l){Object.keys(l).forEach(h=>{const g=h.split("."),y=g.pop(),I=[f].concat(g).join("."),O=l[h].split("."),F=O.pop(),j=O.join(".");Ui.route(I,y,j,F)})}(l,f.defaultRoutes),f.descriptors&&Ui.describe(l,f.descriptors)}(l,O,g),this.override&&Ui.override(l.id,l.overrides)),O}get(l){return this.items[l]}unregister(l){const h=this.items,g=l.id,y=this.scope;g in h&&delete h[g],y&&g in Ui[y]&&(delete Ui[y][g],this.override&&delete Dn[g])}}class Nd{constructor(){this.controllers=new Oc(As,"datasets",!0),this.elements=new Oc(Ya,"elements"),this.plugins=new Oc(Object,"plugins"),this.scales=new Oc(Iu,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...l){this._each("register",l)}remove(...l){this._each("unregister",l)}addControllers(...l){this._each("register",l,this.controllers)}addElements(...l){this._each("register",l,this.elements)}addPlugins(...l){this._each("register",l,this.plugins)}addScales(...l){this._each("register",l,this.scales)}getController(l){return this._get(l,this.controllers,"controller")}getElement(l){return this._get(l,this.elements,"element")}getPlugin(l){return this._get(l,this.plugins,"plugin")}getScale(l){return this._get(l,this.scales,"scale")}removeControllers(...l){this._each("unregister",l,this.controllers)}removeElements(...l){this._each("unregister",l,this.elements)}removePlugins(...l){this._each("unregister",l,this.plugins)}removeScales(...l){this._each("unregister",l,this.scales)}_each(l,h,g){[...h].forEach(y=>{const I=g||this._getRegistryForType(y);g||I.isForType(y)||I===this.plugins&&y.id?this._exec(l,I,y):Ot(y,O=>{const F=g||this._getRegistryForType(O);this._exec(l,F,O)})})}_exec(l,h,g){const y=Je(l);$n(g["before"+y],[],g),h[l](g),$n(g["after"+y],[],g)}_getRegistryForType(l){for(let h=0;h<this._typedRegistries.length;h++){const g=this._typedRegistries[h];if(g.isForType(l))return g}return this.plugins}_get(l,h,g){const y=h.get(l);if(void 0===y)throw new Error('"'+l+'" is not a registered '+g+".");return y}}var ra=new Nd;class Fd{constructor(){this._init=[]}notify(l,h,g,y){"beforeInit"===h&&(this._init=this._createDescriptors(l,!0),this._notify(this._init,l,"install"));const I=y?this._descriptors(l).filter(y):this._descriptors(l),O=this._notify(I,l,h,g);return"afterDestroy"===h&&(this._notify(I,l,"stop"),this._notify(this._init,l,"uninstall")),O}_notify(l,h,g,y){y=y||{};for(const I of l){const O=I.plugin;if(!1===$n(O[g],[h,y,I.options],O)&&y.cancelable)return!1}return!0}invalidate(){qn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(l){if(this._cache)return this._cache;const h=this._cache=this._createDescriptors(l);return this._notifyStateChanges(l),h}_createDescriptors(l,h){const g=l&&l.config,y=On(g.options&&g.options.plugins,{}),I=function dp(f){const l={},h=[],g=Object.keys(ra.plugins.items);for(let I=0;I<g.length;I++)h.push(ra.getPlugin(g[I]));const y=f.plugins||[];for(let I=0;I<y.length;I++){const O=y[I];-1===h.indexOf(O)&&(h.push(O),l[O.id]=!0)}return{plugins:h,localIds:l}}(g);return!1!==y||h?function Ho(f,{plugins:l,localIds:h},g,y){const I=[],O=f.getContext();for(const F of l){const j=F.id,Q=Jl(g[j],y);null!==Q&&I.push({plugin:F,options:Tu(f.config,{plugin:F,local:h[j]},Q,O)})}return I}(l,I,y,h):[]}_notifyStateChanges(l){const h=this._oldCache||[],g=this._cache,y=(I,O)=>I.filter(F=>!O.some(j=>F.plugin.id===j.plugin.id));this._notify(y(h,g),l,"stop"),this._notify(y(g,h),l,"start")}}function Jl(f,l){return l||!1!==f?!0===f?{}:f:null}function Tu(f,{plugin:l,local:h},g,y){const I=f.pluginScopeKeys(l),O=f.getOptionScopes(g,I);return h&&l.defaults&&O.push(l.defaults),f.createResolver(O,y,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ec(f,l){return((l.datasets||{})[f]||{}).indexAxis||l.indexAxis||(Ui.datasets[f]||{}).indexAxis||"x"}function zc(f){if("x"===f||"y"===f||"r"===f)return f}function Xs(f){return"top"===f||"bottom"===f?"x":"left"===f||"right"===f?"y":void 0}function ys(f,...l){if(zc(f))return f;for(const h of l){const g=h.axis||Xs(h.position)||f.length>1&&zc(f[0].toLowerCase());if(g)return g}throw new Error(`Cannot determine type of '${f}' axis. Please provide 'axis' or 'position' option.`)}function Z(f,l,h){if(h[l+"AxisID"]===f)return{axis:l}}function ot(f){const l=f.options||(f.options={});l.plugins=On(l.plugins,{}),l.scales=function ve(f,l){const h=Dn[f.type]||{scales:{}},g=l.scales||{},y=ec(f.type,l),I=Object.create(null);return Object.keys(g).forEach(O=>{const F=g[O];if(!dn(F))return console.error(`Invalid scale configuration for scale: ${O}`);if(F._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${O}`);const j=ys(O,F,function se(f,l){if(l.data&&l.data.datasets){const h=l.data.datasets.filter(g=>g.xAxisID===f||g.yAxisID===f);if(h.length)return Z(f,"x",h[0])||Z(f,"y",h[0])}return{}}(O,f),Ui.scales[F.type]),Q=function ps(f,l){return f===l?"_index_":"_value_"}(j,y),de=h.scales||{};I[O]=_n(Object.create(null),[{axis:j},F,de[j],de[Q]])}),f.data.datasets.forEach(O=>{const F=O.type||f.type,j=O.indexAxis||ec(F,l),de=(Dn[F]||{}).scales||{};Object.keys(de).forEach(ye=>{const Fe=function Rf(f,l){let h=f;return"_index_"===f?h=l:"_value_"===f&&(h="x"===l?"y":"x"),h}(ye,j),nt=O[Fe+"AxisID"]||Fe;I[nt]=I[nt]||Object.create(null),_n(I[nt],[{axis:Fe},g[nt],de[ye]])})}),Object.keys(I).forEach(O=>{const F=I[O];_n(F,[Ui.scales[F.type],Ui.scale])}),I}(f,l)}function Gt(f){return(f=f||{}).datasets=f.datasets||[],f.labels=f.labels||[],f}const Bn=new Map,pi=new Set;function ri(f,l){let h=Bn.get(f);return h||(h=l(),Bn.set(f,h),pi.add(h)),h}const Ai=(f,l,h)=>{const g=Ke(l,h);void 0!==g&&f.add(g)};class mr{constructor(l){this._config=function Yt(f){return(f=f||{}).data=Gt(f.data),ot(f),f}(l),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(l){this._config.type=l}get data(){return this._config.data}set data(l){this._config.data=Gt(l)}get options(){return this._config.options}set options(l){this._config.options=l}get plugins(){return this._config.plugins}update(){const l=this._config;this.clearCache(),ot(l)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(l){return ri(l,()=>[[`datasets.${l}`,""]])}datasetAnimationScopeKeys(l,h){return ri(`${l}.transition.${h}`,()=>[[`datasets.${l}.transitions.${h}`,`transitions.${h}`],[`datasets.${l}`,""]])}datasetElementScopeKeys(l,h){return ri(`${l}-${h}`,()=>[[`datasets.${l}.elements.${h}`,`datasets.${l}`,`elements.${h}`,""]])}pluginScopeKeys(l){const h=l.id;return ri(`${this.type}-plugin-${h}`,()=>[[`plugins.${h}`,...l.additionalOptionScopes||[]]])}_cachedScopes(l,h){const g=this._scopeCache;let y=g.get(l);return(!y||h)&&(y=new Map,g.set(l,y)),y}getOptionScopes(l,h,g){const{options:y,type:I}=this,O=this._cachedScopes(l,g),F=O.get(h);if(F)return F;const j=new Set;h.forEach(de=>{l&&(j.add(l),de.forEach(ye=>Ai(j,l,ye))),de.forEach(ye=>Ai(j,y,ye)),de.forEach(ye=>Ai(j,Dn[I]||{},ye)),de.forEach(ye=>Ai(j,Ui,ye)),de.forEach(ye=>Ai(j,Wn,ye))});const Q=Array.from(j);return 0===Q.length&&Q.push(Object.create(null)),pi.has(h)&&O.set(h,Q),Q}chartOptionScopes(){const{options:l,type:h}=this;return[l,Dn[h]||{},Ui.datasets[h]||{},{type:h},Ui,Wn]}resolveNamedOptions(l,h,g,y=[""]){const I={$shared:!0},{resolver:O,subPrefixes:F}=dr(this._resolverCache,l,y);let j=O;(function qa(f,l){const{isScriptable:h,isIndexable:g}=Io(f);for(const y of l){const I=h(y),O=g(y),F=(O||I)&&f[y];if(I&&(ti(F)||Ka(F))||O&&mi(F))return!0}return!1})(O,h)&&(I.$shared=!1,j=Qr(O,g=ti(g)?g():g,this.createResolver(l,g,F)));for(const Q of h)I[Q]=j[Q];return I}createResolver(l,h,g=[""],y){const{resolver:I}=dr(this._resolverCache,l,g);return dn(h)?Qr(I,h,void 0,y):I}}function dr(f,l,h){let g=f.get(l);g||(g=new Map,f.set(l,g));const y=h.join();let I=g.get(y);return I||(I={resolver:io(l,h),subPrefixes:h.filter(F=>!F.toLowerCase().includes("hover"))},g.set(y,I)),I}const Ka=f=>dn(f)&&Object.getOwnPropertyNames(f).some(l=>ti(f[l])),Pl=["top","bottom","left","right","chartArea"];function wc(f,l){return"top"===f||"bottom"===f||-1===Pl.indexOf(f)&&"x"===l}function jo(f,l){return function(h,g){return h[f]===g[f]?h[l]-g[l]:h[f]-g[f]}}function Ro(f){const l=f.chart,h=l.options.animation;l.notifyPlugins("afterRender"),$n(h&&h.onComplete,[f],l)}function Au(f){const l=f.chart,h=l.options.animation;$n(h&&h.onProgress,[f],l)}function tc(f){return ar()&&"string"==typeof f?f=document.getElementById(f):f&&f.length&&(f=f[0]),f&&f.canvas&&(f=f.canvas),f}const lh={},tl=f=>{const l=tc(f);return Object.values(lh).filter(h=>h.canvas===l).pop()};function Gc(f,l,h){const g=Object.keys(f);for(const y of g){const I=+y;if(I>=l){const O=f[y];delete f[y],(h>0||I>l)&&(f[I+h]=O)}}}function Ec(f,l,h){return f.options.clip?f[h]:l[h]}class Nl{static register(...l){ra.add(...l),hp()}static unregister(...l){ra.remove(...l),hp()}constructor(l,h){const g=this.config=new mr(h),y=tc(l),I=tl(y);if(I)throw new Error("Canvas is already in use. Chart with ID '"+I.id+"' must be destroyed before the canvas with ID '"+I.canvas.id+"' can be reused.");const O=g.createResolver(g.chartOptionScopes(),this.getContext());this.platform=new(g.platform||function Ql(f){return!ar()||typeof OffscreenCanvas<"u"&&f instanceof OffscreenCanvas?ie:Vo}(y)),this.platform.updateConfig(g);const F=this.platform.acquireContext(y,O.aspectRatio),j=F&&F.canvas,Q=j&&j.height,de=j&&j.width;this.id=oi(),this.ctx=F,this.canvas=j,this.width=de,this.height=Q,this._options=O,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Fd,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function Da(f,l){let h;return function(...g){return l?(clearTimeout(h),h=setTimeout(f,l,g)):f.apply(this,g),l}}(ye=>this.update(ye),O.resizeDelay||0),this._dataChanges=[],lh[this.id]=this,F&&j?(To.listen(this,"complete",Ro),To.listen(this,"progress",Au),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:l,maintainAspectRatio:h},width:g,height:y,_aspectRatio:I}=this;return qn(l)?h&&I?I:y?g/y:null:l}get data(){return this.config.data}set data(l){this.config.data=l}get options(){return this._options}set options(l){this.config.options=l}get registry(){return ra}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():bo(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Bo(this.canvas,this.ctx),this}stop(){return To.stop(this),this}resize(l,h){To.running(this)?this._resizeBeforeDraw={width:l,height:h}:this._resize(l,h)}_resize(l,h){const g=this.options,O=this.platform.getMaximumSize(this.canvas,l,h,g.maintainAspectRatio&&this.aspectRatio),F=g.devicePixelRatio||this.platform.getDevicePixelRatio(),j=this.width?"resize":"attach";this.width=O.width,this.height=O.height,this._aspectRatio=this.aspectRatio,bo(this,F,!0)&&(this.notifyPlugins("resize",{size:O}),$n(g.onResize,[this,O],this),this.attached&&this._doResize(j)&&this.render())}ensureScalesHaveIDs(){Ot(this.options.scales||{},(g,y)=>{g.id=y})}buildOrUpdateScales(){const l=this.options,h=l.scales,g=this.scales,y=Object.keys(g).reduce((O,F)=>(O[F]=!1,O),{});let I=[];h&&(I=I.concat(Object.keys(h).map(O=>{const F=h[O],j=ys(O,F),Q="r"===j,de="x"===j;return{options:F,dposition:Q?"chartArea":de?"bottom":"left",dtype:Q?"radialLinear":de?"category":"linear"}}))),Ot(I,O=>{const F=O.options,j=F.id,Q=ys(j,F),de=On(F.type,O.dtype);(void 0===F.position||wc(F.position,Q)!==wc(O.dposition))&&(F.position=O.dposition),y[j]=!0;let ye=null;j in g&&g[j].type===de?ye=g[j]:(ye=new(ra.getScale(de))({id:j,type:de,ctx:this.ctx,chart:this}),g[ye.id]=ye),ye.init(F,l)}),Ot(y,(O,F)=>{O||delete g[F]}),Ot(g,O=>{$.configure(this,O,O.options),$.addBox(this,O)})}_updateMetasets(){const l=this._metasets,h=this.data.datasets.length,g=l.length;if(l.sort((y,I)=>y.index-I.index),g>h){for(let y=h;y<g;++y)this._destroyDatasetMeta(y);l.splice(h,g-h)}this._sortedMetasets=l.slice(0).sort(jo("order","index"))}_removeUnreferencedMetasets(){const{_metasets:l,data:{datasets:h}}=this;l.length>h.length&&delete this._stacks,l.forEach((g,y)=>{0===h.filter(I=>I===g._dataset).length&&this._destroyDatasetMeta(y)})}buildOrUpdateControllers(){const l=[],h=this.data.datasets;let g,y;for(this._removeUnreferencedMetasets(),g=0,y=h.length;g<y;g++){const I=h[g];let O=this.getDatasetMeta(g);const F=I.type||this.config.type;if(O.type&&O.type!==F&&(this._destroyDatasetMeta(g),O=this.getDatasetMeta(g)),O.type=F,O.indexAxis=I.indexAxis||ec(F,this.options),O.order=I.order||0,O.index=g,O.label=""+I.label,O.visible=this.isDatasetVisible(g),O.controller)O.controller.updateIndex(g),O.controller.linkScales();else{const j=ra.getController(F),{datasetElementType:Q,dataElementType:de}=Ui.datasets[F];Object.assign(j,{dataElementType:ra.getElement(de),datasetElementType:Q&&ra.getElement(Q)}),O.controller=new j(this,g),l.push(O.controller)}}return this._updateMetasets(),l}_resetElements(){Ot(this.data.datasets,(l,h)=>{this.getDatasetMeta(h).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(l){const h=this.config;h.update();const g=this._options=h.createResolver(h.chartOptionScopes(),this.getContext()),y=this._animationsDisabled=!g.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:l,cancelable:!0}))return;const I=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let O=0;for(let Q=0,de=this.data.datasets.length;Q<de;Q++){const{controller:ye}=this.getDatasetMeta(Q),Fe=!y&&-1===I.indexOf(ye);ye.buildOrUpdateElements(Fe),O=Math.max(+ye.getMaxOverflow(),O)}O=this._minPadding=g.layout.autoPadding?O:0,this._updateLayout(O),y||Ot(I,Q=>{Q.reset()}),this._updateDatasets(l),this.notifyPlugins("afterUpdate",{mode:l}),this._layers.sort(jo("z","_idx"));const{_active:F,_lastEvent:j}=this;j?this._eventHandler(j,!0):F.length&&this._updateHoverStyles(F,F,!0),this.render()}_updateScales(){Ot(this.scales,l=>{$.removeBox(this,l)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const l=this.options,h=new Set(Object.keys(this._listeners)),g=new Set(l.events);(!Fi(h,g)||!!this._responsiveListeners!==l.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:l}=this,h=this._getUniformDataChanges()||[];for(const{method:g,start:y,count:I}of h)Gc(l,y,"_removeElements"===g?-I:I)}_getUniformDataChanges(){const l=this._dataChanges;if(!l||!l.length)return;this._dataChanges=[];const h=this.data.datasets.length,g=I=>new Set(l.filter(O=>O[0]===I).map((O,F)=>F+","+O.splice(1).join(","))),y=g(0);for(let I=1;I<h;I++)if(!Fi(y,g(I)))return;return Array.from(y).map(I=>I.split(",")).map(I=>({method:I[1],start:+I[2],count:+I[3]}))}_updateLayout(l){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;$.update(this,this.width,this.height,l);const h=this.chartArea,g=h.width<=0||h.height<=0;this._layers=[],Ot(this.boxes,y=>{g&&"chartArea"===y.position||(y.configure&&y.configure(),this._layers.push(...y._layers()))},this),this._layers.forEach((y,I)=>{y._idx=I}),this.notifyPlugins("afterLayout")}_updateDatasets(l){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:l,cancelable:!0})){for(let h=0,g=this.data.datasets.length;h<g;++h)this.getDatasetMeta(h).controller.configure();for(let h=0,g=this.data.datasets.length;h<g;++h)this._updateDataset(h,ti(l)?l({datasetIndex:h}):l);this.notifyPlugins("afterDatasetsUpdate",{mode:l})}}_updateDataset(l,h){const g=this.getDatasetMeta(l),y={meta:g,index:l,mode:h,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",y)&&(g.controller._update(h),y.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",y))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(To.has(this)?this.attached&&!To.running(this)&&To.start(this):(this.draw(),Ro({chart:this})))}draw(){let l;if(this._resizeBeforeDraw){const{width:g,height:y}=this._resizeBeforeDraw;this._resize(g,y),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const h=this._layers;for(l=0;l<h.length&&h[l].z<=0;++l)h[l].draw(this.chartArea);for(this._drawDatasets();l<h.length;++l)h[l].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(l){const h=this._sortedMetasets,g=[];let y,I;for(y=0,I=h.length;y<I;++y){const O=h[y];(!l||O.visible)&&g.push(O)}return g}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const l=this.getSortedVisibleDatasetMetas();for(let h=l.length-1;h>=0;--h)this._drawDataset(l[h]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(l){const h=this.ctx,g=l._clip,y=!g.disabled,I=function ef(f,l){const{xScale:h,yScale:g}=f;return h&&g?{left:Ec(h,l,"left"),right:Ec(h,l,"right"),top:Ec(g,l,"top"),bottom:Ec(g,l,"bottom")}:l}(l,this.chartArea),O={meta:l,index:l.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",O)&&(y&&ua(h,{left:!1===g.left?0:I.left-g.left,right:!1===g.right?this.width:I.right+g.right,top:!1===g.top?0:I.top-g.top,bottom:!1===g.bottom?this.height:I.bottom+g.bottom}),l.controller.draw(),y&&Mo(h),O.cancelable=!1,this.notifyPlugins("afterDatasetDraw",O))}isPointInArea(l){return qr(l,this.chartArea,this._minPadding)}getElementsAtEventForMode(l,h,g,y){const I=Rh.modes[h];return"function"==typeof I?I(this,l,g,y):[]}getDatasetMeta(l){const h=this.data.datasets[l],g=this._metasets;let y=g.filter(I=>I&&I._dataset===h).pop();return y||(y={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:h&&h.order||0,index:l,_dataset:h,_parsed:[],_sorted:!1},g.push(y)),y}getContext(){return this.$context||(this.$context=Xo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(l){const h=this.data.datasets[l];if(!h)return!1;const g=this.getDatasetMeta(l);return"boolean"==typeof g.hidden?!g.hidden:!h.hidden}setDatasetVisibility(l,h){this.getDatasetMeta(l).hidden=!h}toggleDataVisibility(l){this._hiddenIndices[l]=!this._hiddenIndices[l]}getDataVisibility(l){return!this._hiddenIndices[l]}_updateVisibility(l,h,g){const y=g?"show":"hide",I=this.getDatasetMeta(l),O=I.controller._resolveAnimations(void 0,y);Jt(h)?(I.data[h].hidden=!g,this.update()):(this.setDatasetVisibility(l,g),O.update(I,{visible:g}),this.update(F=>F.datasetIndex===l?y:void 0))}hide(l,h){this._updateVisibility(l,h,!1)}show(l,h){this._updateVisibility(l,h,!0)}_destroyDatasetMeta(l){const h=this._metasets[l];h&&h.controller&&h.controller._destroy(),delete this._metasets[l]}_stop(){let l,h;for(this.stop(),To.remove(this),l=0,h=this.data.datasets.length;l<h;++l)this._destroyDatasetMeta(l)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:l,ctx:h}=this;this._stop(),this.config.clearCache(),l&&(this.unbindEvents(),Bo(l,h),this.platform.releaseContext(h),this.canvas=null,this.ctx=null),delete lh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...l){return this.canvas.toDataURL(...l)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const l=this._listeners,h=this.platform,g=(I,O)=>{h.addEventListener(this,I,O),l[I]=O},y=(I,O,F)=>{I.offsetX=O,I.offsetY=F,this._eventHandler(I)};Ot(this.options.events,I=>g(I,y))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const l=this._responsiveListeners,h=this.platform,g=(j,Q)=>{h.addEventListener(this,j,Q),l[j]=Q},y=(j,Q)=>{l[j]&&(h.removeEventListener(this,j,Q),delete l[j])},I=(j,Q)=>{this.canvas&&this.resize(j,Q)};let O;const F=()=>{y("attach",F),this.attached=!0,this.resize(),g("resize",I),g("detach",O)};O=()=>{this.attached=!1,y("resize",I),this._stop(),this._resize(0,0),g("attach",F)},h.isAttached(this.canvas)?F():O()}unbindEvents(){Ot(this._listeners,(l,h)=>{this.platform.removeEventListener(this,h,l)}),this._listeners={},Ot(this._responsiveListeners,(l,h)=>{this.platform.removeEventListener(this,h,l)}),this._responsiveListeners=void 0}updateHoverStyle(l,h,g){const y=g?"set":"remove";let I,O,F,j;for("dataset"===h&&(I=this.getDatasetMeta(l[0].datasetIndex),I.controller["_"+y+"DatasetHoverStyle"]()),F=0,j=l.length;F<j;++F){O=l[F];const Q=O&&this.getDatasetMeta(O.datasetIndex).controller;Q&&Q[y+"HoverStyle"](O.element,O.datasetIndex,O.index)}}getActiveElements(){return this._active||[]}setActiveElements(l){const h=this._active||[],g=l.map(({datasetIndex:I,index:O})=>{const F=this.getDatasetMeta(I);if(!F)throw new Error("No dataset found at index "+I);return{datasetIndex:I,element:F.data[O],index:O}});!ze(g,h)&&(this._active=g,this._lastEvent=null,this._updateHoverStyles(g,h))}notifyPlugins(l,h,g){return this._plugins.notify(this,l,h,g)}isPluginEnabled(l){return 1===this._plugins._cache.filter(h=>h.plugin.id===l).length}_updateHoverStyles(l,h,g){const y=this.options.hover,I=(j,Q)=>j.filter(de=>!Q.some(ye=>de.datasetIndex===ye.datasetIndex&&de.index===ye.index)),O=I(h,l),F=g?l:I(l,h);O.length&&this.updateHoverStyle(O,y.mode,!1),F.length&&y.mode&&this.updateHoverStyle(F,y.mode,!0)}_eventHandler(l,h){const g={event:l,replay:h,cancelable:!0,inChartArea:this.isPointInArea(l)},y=O=>(O.options.events||this.options.events).includes(l.native.type);if(!1===this.notifyPlugins("beforeEvent",g,y))return;const I=this._handleEvent(l,h,g.inChartArea);return g.cancelable=!1,this.notifyPlugins("afterEvent",g,y),(I||g.changed)&&this.render(),this}_handleEvent(l,h,g){const{_active:y=[],options:I}=this,F=this._getActiveElements(l,y,g,h),j=function Pi(f){return"mouseup"===f.type||"click"===f.type||"contextmenu"===f.type}(l),Q=function Jh(f,l,h,g){return h&&"mouseout"!==f.type?g?l:f:null}(l,this._lastEvent,g,j);g&&(this._lastEvent=null,$n(I.onHover,[l,F,this],this),j&&$n(I.onClick,[l,F,this],this));const de=!ze(F,y);return(de||h)&&(this._active=F,this._updateHoverStyles(F,y,h)),this._lastEvent=Q,de}_getActiveElements(l,h,g,y){if("mouseout"===l.type)return[];if(!g)return h;const I=this.options.hover;return this.getElementsAtEventForMode(l,I.mode,I,y)}}function hp(){return Ot(Nl.instances,f=>f._plugins.invalidate())}function ku(f,l,h,g){return{x:h+f*Math.cos(l),y:g+f*Math.sin(l)}}function Ph(f,l,h,g,y,I){const{x:O,y:F,startAngle:j,pixelMargin:Q,innerRadius:de}=l,ye=Math.max(l.outerRadius+g+h-Q,0),Fe=de>0?de+g+h+Q:0;let nt=0;const At=y-j;if(g){const Hi=((de>0?de-g:0)+(ye>0?ye-g:0))/2;nt=(At-(0!==Hi?At*Hi/(Hi+g):At))/2}const Kt=(At-Math.max(.001,At*ye-h/Bi)/ye)/2,gn=j+Kt+nt,Tn=y-Kt-nt,{outerStart:si,outerEnd:Jn,innerStart:jn,innerEnd:bi}=function ed(f,l,h,g){const y=function Oh(f){return ls(f,["outerStart","outerEnd","innerStart","innerEnd"])}(f.options.borderRadius),I=(h-l)/2,O=Math.min(I,g*l/2),F=j=>{const Q=(h-Math.min(I,j))*g/2;return fi(j,0,Math.min(I,Q))};return{outerStart:F(y.outerStart),outerEnd:F(y.outerEnd),innerStart:fi(y.innerStart,0,O),innerEnd:fi(y.innerEnd,0,O)}}(l,Fe,ye,Tn-gn),Ci=ye-si,Mi=ye-Jn,wi=gn+si/Ci,$r=Tn-Jn/Mi,Xr=Fe+jn,Jr=Fe+bi,Yo=gn+jn/Xr,xo=Tn-bi/Jr;if(f.beginPath(),I){const Ir=(wi+$r)/2;if(f.arc(O,F,ye,wi,Ir),f.arc(O,F,ye,Ir,$r),Jn>0){const La=ku(Mi,$r,O,F);f.arc(La.x,La.y,Jn,$r,Tn+Me)}const Js=ku(Jr,Tn,O,F);if(f.lineTo(Js.x,Js.y),bi>0){const La=ku(Jr,xo,O,F);f.arc(La.x,La.y,bi,Tn+Me,xo+Math.PI)}const Hi=(Tn-bi/Fe+(gn+jn/Fe))/2;if(f.arc(O,F,Fe,Tn-bi/Fe,Hi,!0),f.arc(O,F,Fe,Hi,gn+jn/Fe,!0),jn>0){const La=ku(Xr,Yo,O,F);f.arc(La.x,La.y,jn,Yo+Math.PI,gn-Me)}const ac=ku(Ci,gn,O,F);if(f.lineTo(ac.x,ac.y),si>0){const La=ku(Ci,wi,O,F);f.arc(La.x,La.y,si,gn-Me,wi)}}else{f.moveTo(O,F);const Ir=Math.cos(wi)*ye+O,Js=Math.sin(wi)*ye+F;f.lineTo(Ir,Js);const Hi=Math.cos($r)*ye+O,ac=Math.sin($r)*ye+F;f.lineTo(Hi,ac)}f.closePath()}ki(Nl,"defaults",Ui),ki(Nl,"instances",lh),ki(Nl,"overrides",Dn),ki(Nl,"registry",ra),ki(Nl,"version","4.4.1"),ki(Nl,"getChart",tl);class Ld extends Ya{constructor(h){super(),ki(this,"circumference"),ki(this,"endAngle"),ki(this,"fullCircles"),ki(this,"innerRadius"),ki(this,"outerRadius"),ki(this,"pixelMargin"),ki(this,"startAngle"),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,h&&Object.assign(this,h)}inRange(h,g,y){const I=this.getProps(["x","y"],y),{angle:O,distance:F}=Ri(I,{x:h,y:g}),{startAngle:j,endAngle:Q,innerRadius:de,outerRadius:ye,circumference:Fe}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],y),nt=(this.options.spacing+this.options.borderWidth)/2,Bt=On(Fe,Q-j)>=Ii||Ln(O,j,Q),Kt=Ji(F,de+nt,ye+nt);return Bt&&Kt}getCenterPoint(h){const{x:g,y,startAngle:I,endAngle:O,innerRadius:F,outerRadius:j}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],h),{offset:Q,spacing:de}=this.options,ye=(I+O)/2,Fe=(F+j+de+Q)/2;return{x:g+Math.cos(ye)*Fe,y:y+Math.sin(ye)*Fe}}tooltipPosition(h){return this.getCenterPoint(h)}draw(h){const{options:g,circumference:y}=this,I=(g.offset||0)/4,O=(g.spacing||0)/2,F=g.circular;if(this.pixelMargin="inner"===g.borderAlign?.33:0,this.fullCircles=y>Ii?Math.floor(y/Ii):0,0===y||this.innerRadius<0||this.outerRadius<0)return;h.save();const j=(this.startAngle+this.endAngle)/2;h.translate(Math.cos(j)*I,Math.sin(j)*I);const de=I*(1-Math.sin(Math.min(Bi,y||0)));h.fillStyle=g.backgroundColor,h.strokeStyle=g.borderColor,function nl(f,l,h,g,y){const{fullCircles:I,startAngle:O,circumference:F}=l;let j=l.endAngle;if(I){Ph(f,l,h,g,j,y);for(let Q=0;Q<I;++Q)f.fill();isNaN(F)||(j=O+(F%Ii||Ii))}Ph(f,l,h,g,j,y),f.fill()}(h,this,de,O,F),function ch(f,l,h,g,y){const{fullCircles:I,startAngle:O,circumference:F,options:j}=l,{borderWidth:Q,borderJoinStyle:de,borderDash:ye,borderDashOffset:Fe}=j,nt="inner"===j.borderAlign;if(!Q)return;f.setLineDash(ye||[]),f.lineDashOffset=Fe,nt?(f.lineWidth=2*Q,f.lineJoin=de||"round"):(f.lineWidth=Q,f.lineJoin=de||"bevel");let At=l.endAngle;if(I){Ph(f,l,h,g,At,y);for(let Bt=0;Bt<I;++Bt)f.stroke();isNaN(F)||(At=O+(F%Ii||Ii))}nt&&function fp(f,l,h){const{startAngle:g,pixelMargin:y,x:I,y:O,outerRadius:F,innerRadius:j}=l;let Q=y/F;f.beginPath(),f.arc(I,O,F,g-Q,h+Q),j>y?(Q=y/j,f.arc(I,O,j,h+Q,g-Q,!0)):f.arc(I,O,y,h+Me,g-Me),f.closePath(),f.clip()}(f,l,At),I||(Ph(f,l,h,g,At,y),f.stroke())}(h,this,de,O,F),h.restore()}}function zo(f,l,h=l){f.lineCap=On(h.borderCapStyle,l.borderCapStyle),f.setLineDash(On(h.borderDash,l.borderDash)),f.lineDashOffset=On(h.borderDashOffset,l.borderDashOffset),f.lineJoin=On(h.borderJoinStyle,l.borderJoinStyle),f.lineWidth=On(h.borderWidth,l.borderWidth),f.strokeStyle=On(h.borderColor,l.borderColor)}function Na(f,l,h){f.lineTo(h.x,h.y)}function Fl(f,l,h={}){const g=f.length,{start:y=0,end:I=g-1}=h,{start:O,end:F}=l,j=Math.max(y,O),Q=Math.min(I,F);return{count:g,start:j,loop:l.loop,ilen:Q<j&&!(y<O&&I<O||y>F&&I>F)?g+Q-j:Q-j}}function Hp(f,l,h,g){const{points:y,options:I}=l,{count:O,start:F,loop:j,ilen:Q}=Fl(y,h,g),de=function zs(f){return f.stepped?al:f.tension||"monotone"===f.cubicInterpolationMode?Qa:Na}(I);let nt,At,Bt,{move:ye=!0,reverse:Fe}=g||{};for(nt=0;nt<=Q;++nt)At=y[(F+(Fe?Q-nt:nt))%O],!At.skip&&(ye?(f.moveTo(At.x,At.y),ye=!1):de(f,Bt,At,Fe,I.stepped),Bt=At);return j&&(At=y[(F+(Fe?Q:0))%O],de(f,Bt,At,Fe,I.stepped)),!!j}function Of(f,l,h,g){const y=l.points,{count:I,start:O,ilen:F}=Fl(y,h,g),{move:j=!0,reverse:Q}=g||{};let Fe,nt,At,Bt,Kt,gn,de=0,ye=0;const Tn=Jn=>(O+(Q?F-Jn:Jn))%I,si=()=>{Bt!==Kt&&(f.lineTo(de,Kt),f.lineTo(de,Bt),f.lineTo(de,gn))};for(j&&(nt=y[Tn(0)],f.moveTo(nt.x,nt.y)),Fe=0;Fe<=F;++Fe){if(nt=y[Tn(Fe)],nt.skip)continue;const Jn=nt.x,jn=nt.y,bi=0|Jn;bi===At?(jn<Bt?Bt=jn:jn>Kt&&(Kt=jn),de=(ye*de+Jn)/++ye):(si(),f.lineTo(Jn,jn),At=bi,ye=0,Bt=Kt=jn),gn=jn}si()}function td(f){const l=f.options;return f._decimated||f._loop||l.tension||"monotone"===l.cubicInterpolationMode||l.stepped||l.borderDash&&l.borderDash.length?Hp:Of}ki(Ld,"id","arc"),ki(Ld,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),ki(Ld,"defaultRoutes",{backgroundColor:"backgroundColor"}),ki(Ld,"descriptors",{_scriptable:!0,_indexable:h=>"borderDash"!==h});const bs="function"==typeof Path2D;class Dc extends Ya{constructor(l){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,l&&Object.assign(this,l)}updateControlPoints(l,h){const g=this.options;!g.tension&&"monotone"!==g.cubicInterpolationMode||g.stepped||this._pointsUpdated||(cl(this._points,g,l,g.spanGaps?this._loop:this._fullLoop,h),this._pointsUpdated=!0)}set points(l){this._points=l,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function uo(f,l){const h=f.points,g=f.options.spanGaps,y=h.length;if(!y)return[];const I=!!f._loop,{start:O,end:F}=function ro(f,l,h,g){let y=0,I=l-1;if(h&&!g)for(;y<l&&!f[y].skip;)y++;for(;y<l&&f[y].skip;)y++;for(y%=l,h&&(I+=y);I>y&&f[I%l].skip;)I--;return I%=l,{start:y,end:I}}(h,y,I,g);return function el(f,l,h,g){return g&&g.setContext&&h?function ja(f,l,h,g){const y=f._chart.getContext(),I=Oa(f.options),{_datasetIndex:O,options:{spanGaps:F}}=f,j=h.length,Q=[];let de=I,ye=l[0].start,Fe=ye;function nt(At,Bt,Kt,gn){const Tn=F?-1:1;if(At!==Bt){for(At+=j;h[At%j].skip;)At-=Tn;for(;h[Bt%j].skip;)Bt+=Tn;At%j!=Bt%j&&(Q.push({start:At%j,end:Bt%j,loop:Kt,style:gn}),de=gn,ye=Bt%j)}}for(const At of l){ye=F?ye:At.start;let Kt,Bt=h[ye%j];for(Fe=ye+1;Fe<=At.end;Fe++){const gn=h[Fe%j];Kt=Oa(g.setContext(Xo(y,{type:"segment",p0:Bt,p1:gn,p0DataIndex:(Fe-1)%j,p1DataIndex:Fe%j,datasetIndex:O}))),Xe(Kt,de)&&nt(ye,Fe-1,At.loop,de),Bt=gn,de=Kt}ye<Fe-1&&nt(ye,Fe-1,At.loop,de)}return Q}(f,l,h,g):l}(f,!0===g?[{start:O,end:F,loop:I}]:function fl(f,l,h,g){const y=f.length,I=[];let j,O=l,F=f[l];for(j=l+1;j<=h;++j){const Q=f[j%y];Q.skip||Q.stop?F.skip||(I.push({start:l%y,end:(j-1)%y,loop:g=!1}),l=O=Q.stop?j:null):(O=j,F.skip&&(l=j)),F=Q}return null!==O&&I.push({start:l%y,end:O%y,loop:g}),I}(h,O,F<O?F+y:F,!!f._fullLoop&&0===O&&F===y-1),h,l)}(this,this.options.segment))}first(){const l=this.segments;return l.length&&this.points[l[0].start]}last(){const l=this.segments,g=l.length;return g&&this.points[l[g-1].end]}interpolate(l,h){const g=this.options,y=l[h],I=this.points,O=qu(this,{property:h,start:y,end:y});if(!O.length)return;const F=[],j=function pp(f){return f.stepped?Kl:f.tension||"monotone"===f.cubicInterpolationMode?pc:Ja}(g);let Q,de;for(Q=0,de=O.length;Q<de;++Q){const{start:ye,end:Fe}=O[Q],nt=I[ye],At=I[Fe];if(nt===At){F.push(nt);continue}const Kt=j(nt,At,Math.abs((y-nt[h])/(At[h]-nt[h])),g.stepped);Kt[h]=l[h],F.push(Kt)}return 1===F.length?F[0]:F}pathSegment(l,h,g){return td(this)(l,this,h,g)}path(l,h,g){const y=this.segments,I=td(this);let O=this._loop;h=h||0,g=g||this.points.length-h;for(const F of y)O&=I(l,this,F,{start:h,end:h+g-1});return!!O}draw(l,h,g,y){(this.points||[]).length&&(this.options||{}).borderWidth&&(l.save(),function Bd(f,l,h,g){bs&&!l.options.segment?function Pf(f,l,h,g){let y=l._path;y||(y=l._path=new Path2D,l.path(y,h,g)&&y.closePath()),zo(f,l.options),f.stroke(y)}(f,l,h,g):function Ur(f,l,h,g){const{segments:y,options:I}=l,O=td(l);for(const F of y)zo(f,I,F.style),f.beginPath(),O(f,l,F,{start:h,end:h+g-1})&&f.closePath(),f.stroke()}(f,l,h,g)}(l,this,g,y),l.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function nd(f,l,h,g){const y=f.options,{[h]:I}=f.getProps([h],g);return Math.abs(l-I)<y.radius+y.hitRadius}ki(Dc,"id","line"),ki(Dc,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ki(Dc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ki(Dc,"descriptors",{_scriptable:!0,_indexable:l=>"borderDash"!==l&&"fill"!==l});class Ru extends Ya{constructor(h){super(),ki(this,"parsed"),ki(this,"skip"),ki(this,"stop"),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,h&&Object.assign(this,h)}inRange(h,g,y){const I=this.options,{x:O,y:F}=this.getProps(["x","y"],y);return Math.pow(h-O,2)+Math.pow(g-F,2)<Math.pow(I.hitRadius+I.radius,2)}inXRange(h,g){return nd(this,h,"x",g)}inYRange(h,g){return nd(this,h,"y",g)}getCenterPoint(h){const{x:g,y}=this.getProps(["x","y"],h);return{x:g,y}}size(h){let g=(h=h||this.options||{}).radius||0;return g=Math.max(g,g&&h.hoverRadius||0),2*(g+(g&&h.borderWidth||0))}draw(h,g){const y=this.options;this.skip||y.radius<.1||!qr(this,g,this.size(y)/2)||(h.strokeStyle=y.borderColor,h.lineWidth=y.borderWidth,h.fillStyle=y.backgroundColor,Ks(h,y,this.x,this.y))}getRange(){const h=this.options||{};return h.radius+h.hitRadius}}function tf(f,l){const{x:h,y:g,base:y,width:I,height:O}=f.getProps(["x","y","base","width","height"],l);let F,j,Q,de,ye;return f.horizontal?(ye=O/2,F=Math.min(h,y),j=Math.max(h,y),Q=g-ye,de=g+ye):(ye=I/2,F=h-ye,j=h+ye,Q=Math.min(g,y),de=Math.max(g,y)),{left:F,top:Q,right:j,bottom:de}}function Ou(f,l,h,g){return f?0:fi(l,h,g)}function rf(f,l,h,g){const y=null===l,I=null===h,F=f&&!(y&&I)&&tf(f,g);return F&&(y||Ji(l,F.left,F.right))&&(I||Ji(h,F.top,F.bottom))}function Ud(f,l){f.rect(l.x,l.y,l.w,l.h)}function $c(f,l,h={}){const g=f.x!==h.x?-l:0,y=f.y!==h.y?-l:0;return{x:f.x+g,y:f.y+y,w:f.w+((f.x+f.w!==h.x+h.w?l:0)-g),h:f.h+((f.y+f.h!==h.y+h.h?l:0)-y),radius:f.radius}}ki(Ru,"id","point"),ki(Ru,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ki(Ru,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class sf extends Ya{constructor(l){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,l&&Object.assign(this,l)}draw(l){const{inflateAmount:h,options:{borderColor:g,backgroundColor:y}}=this,{inner:I,outer:O}=function mp(f){const l=tf(f),h=l.right-l.left,g=l.bottom-l.top,y=function nf(f,l,h){const y=f.borderSkipped,I=Zr(f.options.borderWidth);return{t:Ou(y.top,I.top,0,h),r:Ou(y.right,I.right,0,l),b:Ou(y.bottom,I.bottom,0,h),l:Ou(y.left,I.left,0,l)}}(f,h/2,g/2),I=function Vd(f,l,h){const{enableBorderRadius:g}=f.getProps(["enableBorderRadius"]),y=f.options.borderRadius,I=no(y),O=Math.min(l,h),F=f.borderSkipped,j=g||dn(y);return{topLeft:Ou(!j||F.top||F.left,I.topLeft,0,O),topRight:Ou(!j||F.top||F.right,I.topRight,0,O),bottomLeft:Ou(!j||F.bottom||F.left,I.bottomLeft,0,O),bottomRight:Ou(!j||F.bottom||F.right,I.bottomRight,0,O)}}(f,h/2,g/2);return{outer:{x:l.left,y:l.top,w:h,h:g,radius:I},inner:{x:l.left+y.l,y:l.top+y.t,w:h-y.l-y.r,h:g-y.t-y.b,radius:{topLeft:Math.max(0,I.topLeft-Math.max(y.t,y.l)),topRight:Math.max(0,I.topRight-Math.max(y.t,y.r)),bottomLeft:Math.max(0,I.bottomLeft-Math.max(y.b,y.l)),bottomRight:Math.max(0,I.bottomRight-Math.max(y.b,y.r))}}}}(this),F=function Nf(f){return f.topLeft||f.topRight||f.bottomLeft||f.bottomRight}(O.radius)?Mr:Ud;l.save(),(O.w!==I.w||O.h!==I.h)&&(l.beginPath(),F(l,$c(O,h,I)),l.clip(),F(l,$c(I,-h,O)),l.fillStyle=g,l.fill("evenodd")),l.beginPath(),F(l,$c(I,h)),l.fillStyle=y,l.fill(),l.restore()}inRange(l,h,g){return rf(this,l,h,g)}inXRange(l,h){return rf(this,l,null,h)}inYRange(l,h){return rf(this,null,l,h)}getCenterPoint(l){const{x:h,y:g,base:y,horizontal:I}=this.getProps(["x","y","base","horizontal"],l);return{x:I?(h+y)/2:h,y:I?g:(g+y)/2}}getRange(l){return"x"===l?this.width/2:this.height/2}}ki(sf,"id","bar"),ki(sf,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ki(sf,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var Hd=Object.freeze({__proto__:null,ArcElement:Ld,BarElement:sf,LineElement:Dc,PointElement:Ru});const Pc=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],jd=Pc.map(f=>f.replace("rgb(","rgba(").replace(")",", 0.5)"));function uh(f){return Pc[f%Pc.length]}function Ll(f){return jd[f%jd.length]}function Nh(f){let l;for(l in f)if(f[l].borderColor||f[l].backgroundColor)return!0;return!1}var Fa={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(f,l,h){if(!h.enabled)return;const{data:{datasets:g},options:y}=f.config,{elements:I}=y;if(!h.forceOverride&&(Nh(g)||function Go(f){return f&&(f.borderColor||f.backgroundColor)}(y)||I&&Nh(I)))return;const O=function gp(f){let l=0;return(h,g)=>{const y=f.getDatasetMeta(g).controller;y instanceof Os?l=function zd(f,l){return f.backgroundColor=f.data.map(()=>uh(l++)),l}(h,l):y instanceof ni?l=function id(f,l){return f.backgroundColor=f.data.map(()=>Ll(l++)),l}(h,l):y&&(l=function Wc(f,l){return f.borderColor=uh(l),f.backgroundColor=Ll(l),++l}(h,l))}}(f);g.forEach(O)}};function lo(f){if(f._decimated){const l=f._data;delete f._decimated,delete f._data,Object.defineProperty(f,"data",{configurable:!0,enumerable:!0,writable:!0,value:l})}}function Yc(f){f.data.datasets.forEach(l=>{lo(l)})}var ma={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(f,l,h)=>{if(!h.enabled)return void Yc(f);const g=f.width;f.data.datasets.forEach((y,I)=>{const{_data:O,indexAxis:F}=y,j=f.getDatasetMeta(I),Q=O||y.data;if("y"===qs([F,f.options.indexAxis])||!j.controller.supportsDecimation)return;const de=f.scales[j.xAxisID];if("linear"!==de.type&&"time"!==de.type||f.options.parsing)return;let At,{start:ye,count:Fe}=function Nu(f,l){const h=l.length;let y,g=0;const{iScale:I}=f,{min:O,max:F,minDefined:j,maxDefined:Q}=I.getUserBounds();return j&&(g=fi(tr(l,I.axis,O).lo,0,h-1)),y=Q?fi(tr(l,I.axis,F).hi+1,g,h)-g:h-g,{start:g,count:y}}(j,Q);if(Fe<=(h.threshold||4*g))lo(y);else{switch(qn(O)&&(y._data=Q,delete y.data,Object.defineProperty(y,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(Bt){this._data=Bt}})),h.algorithm){case"lttb":At=function Pu(f,l,h,g,y){const I=y.samples||g;if(I>=h)return f.slice(l,l+h);const O=[],F=(h-2)/(I-2);let j=0;const Q=l+h-1;let ye,Fe,nt,At,Bt,de=l;for(O[j++]=f[de],ye=0;ye<I-2;ye++){let Tn,Kt=0,gn=0;const si=Math.floor((ye+1)*F)+1+l,Jn=Math.min(Math.floor((ye+2)*F)+1,h)+l,jn=Jn-si;for(Tn=si;Tn<Jn;Tn++)Kt+=f[Tn].x,gn+=f[Tn].y;Kt/=jn,gn/=jn;const bi=Math.floor(ye*F)+1+l,Ci=Math.min(Math.floor((ye+1)*F)+1,h)+l,{x:Mi,y:wi}=f[de];for(nt=At=-1,Tn=bi;Tn<Ci;Tn++)At=.5*Math.abs((Mi-Kt)*(f[Tn].y-wi)-(Mi-f[Tn].x)*(gn-wi)),At>nt&&(nt=At,Fe=f[Tn],Bt=Tn);O[j++]=Fe,de=Bt}return O[j++]=f[Q],O}(Q,ye,Fe,g,h);break;case"min-max":At=function af(f,l,h,g){let O,F,j,Q,de,ye,Fe,nt,At,Bt,y=0,I=0;const Kt=[],Tn=f[l].x,Jn=f[l+h-1].x-Tn;for(O=l;O<l+h;++O){F=f[O],j=(F.x-Tn)/Jn*g,Q=F.y;const jn=0|j;if(jn===de)Q<At?(At=Q,ye=O):Q>Bt&&(Bt=Q,Fe=O),y=(I*y+F.x)/++I;else{const bi=O-1;if(!qn(ye)&&!qn(Fe)){const Ci=Math.min(ye,Fe),Mi=Math.max(ye,Fe);Ci!==nt&&Ci!==bi&&Kt.push({...f[Ci],x:y}),Mi!==nt&&Mi!==bi&&Kt.push({...f[Mi],x:y})}O>0&&bi!==nt&&Kt.push(f[bi]),Kt.push(F),de=jn,I=0,At=Bt=Q,ye=Fe=nt=O}}return Kt}(Q,ye,Fe,g);break;default:throw new Error(`Unsupported decimation algorithm '${h.algorithm}'`)}y._decimated=At}})},destroy(f){Yc(f)}};function nc(f,l,h,g){if(g)return;let y=l[f],I=h[f];return"angle"===f&&(y=Sn(y),I=Sn(I)),{property:f,start:y,end:I}}function rd(f,l,h){for(;l>f;l--){const g=h[l];if(!isNaN(g.x)&&!isNaN(g.y))break}return l}function qc(f,l,h,g){return f&&l?g(f[h],l[h]):f?f[h]:l?l[h]:0}function Bl(f,l){let h=[],g=!1;return mi(f)?(g=!0,h=f):h=function Kc(f,l){const{x:h=null,y:g=null}=f||{},y=l.points,I=[];return l.segments.forEach(({start:O,end:F})=>{F=rd(O,F,y);const j=y[O],Q=y[F];null!==g?(I.push({x:j.x,y:g}),I.push({x:Q.x,y:g})):null!==h&&(I.push({x:h,y:j.y}),I.push({x:h,y:Q.y}))}),I}(f,l),h.length?new Dc({points:h,options:{tension:0},_loop:g,_fullLoop:g}):null}function gl(f){return f&&!1!==f.fill}function lf(f,l,h){let y=f[l].fill;const I=[l];let O;if(!h)return y;for(;!1!==y&&-1===I.indexOf(y);){if(!li(y))return y;if(O=f[y],!O)return!1;if(O.visible)return y;I.push(y),y=O.fill}return!1}function Gd(f,l,h){const g=function _l(f){const l=f.options,h=l.fill;let g=On(h&&h.target,h);return void 0===g&&(g=!!l.backgroundColor),!1!==g&&null!==g&&(!0===g?"origin":g)}(f);if(dn(g))return!isNaN(g.value)&&g;let y=parseFloat(g);return li(y)&&Math.floor(y)===y?function Fh(f,l,h,g){return("-"===f||"+"===f)&&(h=l+h),!(h===l||h<0||h>=g)&&h}(g[0],l,y,h):["origin","start","end","stack","shape"].indexOf(g)>=0&&g}function Ff(f,l,h){const g=[];for(let y=0;y<h.length;y++){const I=h[y],{first:O,last:F,point:j}=ic(I,l,"x");if(!(!j||O&&F))if(O)g.unshift(j);else if(f.push(j),!F)break}f.push(...g)}function ic(f,l,h){const g=f.interpolate(l,h);if(!g)return{};const y=g[h],I=f.segments,O=f.points;let F=!1,j=!1;for(let Q=0;Q<I.length;Q++){const de=I[Q],ye=O[de.start][h],Fe=O[de.end][h];if(Ji(y,ye,Fe)){F=y===ye,j=y===Fe;break}}return{first:F,last:j,point:g}}class dh{constructor(l){this.x=l.x,this.y=l.y,this.radius=l.radius}pathSegment(l,h,g){const{x:y,y:I,radius:O}=this;return l.arc(y,I,O,(h=h||{start:0,end:Ii}).end,h.start,!0),!g.bounds}interpolate(l){const{x:h,y:g,radius:y}=this,I=l.angle;return{x:h+Math.cos(I)*y,y:g+Math.sin(I)*y,angle:I}}}function Yd(f,l,h){const g=function sd(f){const{chart:l,fill:h,line:g}=f;if(li(h))return function hh(f,l){const h=f.getDatasetMeta(l);return h&&f.isDatasetVisible(l)?h.dataset:null}(l,h);if("stack"===h)return function cf(f){const{scale:l,index:h,line:g}=f,y=[],I=g.segments,O=g.points,F=function Nc(f,l){const h=[],g=f.getMatchingVisibleMetas("line");for(let y=0;y<g.length;y++){const I=g[y];if(I.index===l)break;I.hidden||h.unshift(I.dataset)}return h}(l,h);F.push(Bl({x:null,y:l.bottom},g));for(let j=0;j<I.length;j++){const Q=I[j];for(let de=Q.start;de<=Q.end;de++)Ff(y,O[de],F)}return new Dc({points:y,options:{}})}(f);if("shape"===h)return!0;const y=function $d(f){return(f.scale||{}).getPointPositionForValue?function Wd(f){const{scale:l,fill:h}=f,g=l.options,y=l.getLabels().length,I=g.reverse?l.max:l.min,O=function $o(f,l,h){let g;return g="start"===f?h:"end"===f?l.options.reverse?l.min:l.max:dn(f)?f.value:l.getBaseValue(),g}(h,l,I),F=[];if(g.grid.circular){const j=l.getPointPositionForValue(0,I);return new dh({x:j.x,y:j.y,radius:l.getDistanceFromCenterForValue(O)})}for(let j=0;j<y;++j)F.push(l.getPointPositionForValue(j,O));return F}(f):function wr(f){const{scale:l={},fill:h}=f,g=function Zc(f,l){let h=null;return"start"===f?h=l.bottom:"end"===f?h=l.top:dn(f)?h=l.getPixelForValue(f.value):l.getBasePixel&&(h=l.getBasePixel()),h}(h,l);if(li(g)){const y=l.isHorizontal();return{x:y?g:null,y:y?null:g}}return null}(f)}(f);return y instanceof dh?y:Bl(y,g)}(l),{line:y,scale:I,axis:O}=l,F=y.options,j=F.fill,Q=F.backgroundColor,{above:de=Q,below:ye=Q}=j||{};g&&y.points.length&&(ua(f,h),function uf(f,l){const{line:h,target:g,above:y,below:I,area:O,scale:F}=l,j=h._loop?"angle":l.axis;f.save(),"x"===j&&I!==y&&(Qc(f,g,O.top),Xc(f,{line:h,target:g,color:y,scale:F,property:j}),f.restore(),f.save(),Qc(f,g,O.bottom)),Xc(f,{line:h,target:g,color:I,scale:F,property:j}),f.restore()}(f,{line:y,target:g,above:de,below:ye,area:h,scale:I,axis:O}),Mo(f))}function Qc(f,l,h){const{segments:g,points:y}=l;let I=!0,O=!1;f.beginPath();for(const F of g){const{start:j,end:Q}=F,de=y[j],ye=y[rd(j,Q,y)];I?(f.moveTo(de.x,de.y),I=!1):(f.lineTo(de.x,h),f.lineTo(de.x,de.y)),O=!!l.pathSegment(f,F,{move:O}),O?f.closePath():f.lineTo(ye.x,h)}f.lineTo(l.first().x,h),f.closePath(),f.clip()}function Xc(f,l){const{line:h,target:g,property:y,color:I,scale:O}=l,F=function Ss(f,l,h){const g=f.segments,y=f.points,I=l.points,O=[];for(const F of g){let{start:j,end:Q}=F;Q=rd(j,Q,y);const de=nc(h,y[j],y[Q],F.loop);if(!l.segments){O.push({source:F,target:de,start:y[j],end:y[Q]});continue}const ye=qu(l,de);for(const Fe of ye){const nt=nc(h,I[Fe.start],I[Fe.end],Fe.loop),At=Al(F,y,nt);for(const Bt of At)O.push({source:Bt,target:Fe,start:{[h]:qc(de,nt,"start",Math.max)},end:{[h]:qc(de,nt,"end",Math.min)}})}}return O}(h,g,y);for(const{source:j,target:Q,start:de,end:ye}of F){const{style:{backgroundColor:Fe=I}={}}=j,nt=!0!==g;f.save(),f.fillStyle=Fe,fh(f,O,nt&&nc(y,de,ye)),f.beginPath();const At=!!h.pathSegment(f,j);let Bt;if(nt){At?f.closePath():sa(f,g,ye,y);const Kt=!!g.pathSegment(f,Q,{move:At,reverse:!0});Bt=At&&Kt,Bt||sa(f,g,de,y)}f.closePath(),f.fill(Bt?"evenodd":"nonzero"),f.restore()}}function fh(f,l,h){const{top:g,bottom:y}=l.chart.chartArea,{property:I,start:O,end:F}=h||{};"x"===I&&(f.beginPath(),f.rect(O,g,F-O,y-g),f.clip())}function sa(f,l,h,g){const y=l.interpolate(h,g);y&&f.lineTo(y.x,y.y)}var Lh={id:"filler",afterDatasetsUpdate(f,l,h){const g=(f.data.datasets||[]).length,y=[];let I,O,F,j;for(O=0;O<g;++O)I=f.getDatasetMeta(O),F=I.dataset,j=null,F&&F.options&&F instanceof Dc&&(j={visible:f.isDatasetVisible(O),index:O,fill:Gd(F,O,g),chart:f,axis:I.controller.options.indexAxis,scale:I.vScale,line:F}),I.$filler=j,y.push(j);for(O=0;O<g;++O)j=y[O],j&&!1!==j.fill&&(j.fill=lf(y,O,h.propagate))},beforeDraw(f,l,h){const g="beforeDraw"===h.drawTime,y=f.getSortedVisibleDatasetMetas(),I=f.chartArea;for(let O=y.length-1;O>=0;--O){const F=y[O].$filler;!F||(F.line.updateControlPoints(I,F.axis),g&&F.fill&&Yd(f.ctx,F,I))}},beforeDatasetsDraw(f,l,h){if("beforeDatasetsDraw"!==h.drawTime)return;const g=f.getSortedVisibleDatasetMetas();for(let y=g.length-1;y>=0;--y){const I=g[y].$filler;gl(I)&&Yd(f.ctx,I,f.chartArea)}},beforeDatasetDraw(f,l,h){const g=l.meta.$filler;!gl(g)||"beforeDatasetDraw"!==h.drawTime||Yd(f.ctx,g,f.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const ph=(f,l)=>{let{boxHeight:h=l,boxWidth:g=l}=f;return f.usePointStyle&&(h=Math.min(h,l),g=f.pointStyleWidth||Math.min(g,l)),{boxWidth:g,boxHeight:h,itemHeight:Math.max(l,h)}};class Jc extends Ya{constructor(l){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=l.chart,this.options=l.options,this.ctx=l.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(l,h,g){this.maxWidth=l,this.maxHeight=h,this._margins=g,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const l=this.options.labels||{};let h=$n(l.generateLabels,[this.chart],this)||[];l.filter&&(h=h.filter(g=>l.filter(g,this.chart.data))),l.sort&&(h=h.sort((g,y)=>l.sort(g,y,this.chart.data))),this.options.reverse&&h.reverse(),this.legendItems=h}fit(){const{options:l,ctx:h}=this;if(!l.display)return void(this.width=this.height=0);const g=l.labels,y=jr(g.font),I=y.size,O=this._computeTitleHeight(),{boxWidth:F,itemHeight:j}=ph(g,I);let Q,de;h.font=y.string,this.isHorizontal()?(Q=this.maxWidth,de=this._fitRows(O,I,F,j)+10):(de=this.maxHeight,Q=this._fitCols(O,y,F,j)+10),this.width=Math.min(Q,l.maxWidth||this.maxWidth),this.height=Math.min(de,l.maxHeight||this.maxHeight)}_fitRows(l,h,g,y){const{ctx:I,maxWidth:O,options:{labels:{padding:F}}}=this,j=this.legendHitBoxes=[],Q=this.lineWidths=[0],de=y+F;let ye=l;I.textAlign="left",I.textBaseline="middle";let Fe=-1,nt=-de;return this.legendItems.forEach((At,Bt)=>{const Kt=g+h/2+I.measureText(At.text).width;(0===Bt||Q[Q.length-1]+Kt+2*F>O)&&(ye+=de,Q[Q.length-(Bt>0?0:1)]=0,nt+=de,Fe++),j[Bt]={left:0,top:nt,row:Fe,width:Kt,height:y},Q[Q.length-1]+=Kt+F}),ye}_fitCols(l,h,g,y){const{ctx:I,maxHeight:O,options:{labels:{padding:F}}}=this,j=this.legendHitBoxes=[],Q=this.columnSizes=[],de=O-l;let ye=F,Fe=0,nt=0,At=0,Bt=0;return this.legendItems.forEach((Kt,gn)=>{const{itemWidth:Tn,itemHeight:si}=function od(f,l,h,g,y){const I=function eu(f,l,h,g){let y=f.text;return y&&"string"!=typeof y&&(y=y.reduce((I,O)=>I.length>O.length?I:O)),l+h.size/2+g.measureText(y).width}(g,f,l,h),O=function gh(f,l,h){let g=f;return"string"!=typeof l.text&&(g=Fc(l,h)),g}(y,g,l.lineHeight);return{itemWidth:I,itemHeight:O}}(g,h,I,Kt,y);gn>0&&nt+si+2*F>de&&(ye+=Fe+F,Q.push({width:Fe,height:nt}),At+=Fe+F,Bt++,Fe=nt=0),j[gn]={left:At,top:nt,col:Bt,width:Tn,height:si},Fe=Math.max(Fe,Tn),nt+=si+F}),ye+=Fe,Q.push({width:Fe,height:nt}),ye}adjustHitBoxes(){if(!this.options.display)return;const l=this._computeTitleHeight(),{legendHitBoxes:h,options:{align:g,labels:{padding:y},rtl:I}}=this,O=fa(I,this.left,this.width);if(this.isHorizontal()){let F=0,j=Er(g,this.left+y,this.right-this.lineWidths[F]);for(const Q of h)F!==Q.row&&(F=Q.row,j=Er(g,this.left+y,this.right-this.lineWidths[F])),Q.top+=this.top+l+y,Q.left=O.leftForLtr(O.x(j),Q.width),j+=Q.width+y}else{let F=0,j=Er(g,this.top+l+y,this.bottom-this.columnSizes[F].height);for(const Q of h)Q.col!==F&&(F=Q.col,j=Er(g,this.top+l+y,this.bottom-this.columnSizes[F].height)),Q.top=j,Q.left+=this.left+y,Q.left=O.leftForLtr(O.x(Q.left),Q.width),j+=Q.height+y}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const l=this.ctx;ua(l,this),this._draw(),Mo(l)}}_draw(){const{options:l,columnSizes:h,lineWidths:g,ctx:y}=this,{align:I,labels:O}=l,F=Ui.color,j=fa(l.rtl,this.left,this.width),Q=jr(O.font),{padding:de}=O,ye=Q.size,Fe=ye/2;let nt;this.drawTitle(),y.textAlign=j.textAlign("left"),y.textBaseline="middle",y.lineWidth=.5,y.font=Q.string;const{boxWidth:At,boxHeight:Bt,itemHeight:Kt}=ph(O,ye),si=this.isHorizontal(),Jn=this._computeTitleHeight();nt=si?{x:Er(I,this.left+de,this.right-g[0]),y:this.top+de+Jn,line:0}:{x:this.left+de,y:Er(I,this.top+Jn+de,this.bottom-h[0].height),line:0},mc(this.ctx,l.textDirection);const jn=Kt+de;this.legendItems.forEach((bi,Ci)=>{y.strokeStyle=bi.fontColor,y.fillStyle=bi.fontColor;const Mi=y.measureText(bi.text).width,wi=j.textAlign(bi.textAlign||(bi.textAlign=O.textAlign)),$r=At+Fe+Mi;let Xr=nt.x,Jr=nt.y;j.setWidth(this.width),si?Ci>0&&Xr+$r+de>this.right&&(Jr=nt.y+=jn,nt.line++,Xr=nt.x=Er(I,this.left+de,this.right-g[nt.line])):Ci>0&&Jr+jn>this.bottom&&(Xr=nt.x=Xr+h[nt.line].width+de,nt.line++,Jr=nt.y=Er(I,this.top+Jn+de,this.bottom-h[nt.line].height)),function(bi,Ci,Mi){if(isNaN(At)||At<=0||isNaN(Bt)||Bt<0)return;y.save();const wi=On(Mi.lineWidth,1);if(y.fillStyle=On(Mi.fillStyle,F),y.lineCap=On(Mi.lineCap,"butt"),y.lineDashOffset=On(Mi.lineDashOffset,0),y.lineJoin=On(Mi.lineJoin,"miter"),y.lineWidth=wi,y.strokeStyle=On(Mi.strokeStyle,F),y.setLineDash(On(Mi.lineDash,[])),O.usePointStyle){const $r={radius:Bt*Math.SQRT2/2,pointStyle:Mi.pointStyle,rotation:Mi.rotation,borderWidth:wi},Xr=j.xPlus(bi,At/2);zl(y,$r,Xr,Ci+Fe,O.pointStyleWidth&&At)}else{const $r=Ci+Math.max((ye-Bt)/2,0),Xr=j.leftForLtr(bi,At),Jr=no(Mi.borderRadius);y.beginPath(),Object.values(Jr).some(Yo=>0!==Yo)?Mr(y,{x:Xr,y:$r,w:At,h:Bt,radius:Jr}):y.rect(Xr,$r,At,Bt),y.fill(),0!==wi&&y.stroke()}y.restore()}(j.x(Xr),Jr,bi),Xr=((f,l,h,g)=>f===(g?"left":"right")?h:"center"===f?(l+h)/2:l)(wi,Xr+At+Fe,si?Xr+$r:this.right,l.rtl),function(bi,Ci,Mi){Wl(y,Mi.text,bi,Ci+Kt/2,Q,{strikethrough:Mi.hidden,textAlign:j.textAlign(Mi.textAlign)})}(j.x(Xr),Jr,bi),si?nt.x+=$r+de:nt.y+="string"!=typeof bi.text?Fc(bi,Q.lineHeight)+de:jn}),ta(this.ctx,l.textDirection)}drawTitle(){const l=this.options,h=l.title,g=jr(h.font),y=_s(h.padding);if(!h.display)return;const I=fa(l.rtl,this.left,this.width),O=this.ctx,F=h.position,Q=y.top+g.size/2;let de,ye=this.left,Fe=this.width;if(this.isHorizontal())Fe=Math.max(...this.lineWidths),de=this.top+Q,ye=Er(l.align,ye,this.right-Fe);else{const At=this.columnSizes.reduce((Bt,Kt)=>Math.max(Bt,Kt.height),0);de=Q+Er(l.align,this.top,this.bottom-At-l.labels.padding-this._computeTitleHeight())}const nt=Er(F,ye,ye+Fe);O.textAlign=I.textAlign(pr(F)),O.textBaseline="middle",O.strokeStyle=h.color,O.fillStyle=h.color,O.font=g.string,Wl(O,h.text,nt,de,g)}_computeTitleHeight(){const l=this.options.title,h=jr(l.font),g=_s(l.padding);return l.display?h.lineHeight+g.height:0}_getLegendItemAt(l,h){let g,y,I;if(Ji(l,this.left,this.right)&&Ji(h,this.top,this.bottom))for(I=this.legendHitBoxes,g=0;g<I.length;++g)if(y=I[g],Ji(l,y.left,y.left+y.width)&&Ji(h,y.top,y.top+y.height))return this.legendItems[g];return null}handleEvent(l){const h=this.options;if(!function rc(f,l){return!(("mousemove"!==f&&"mouseout"!==f||!l.onHover&&!l.onLeave)&&(!l.onClick||"click"!==f&&"mouseup"!==f))}(l.type,h))return;const g=this._getLegendItemAt(l.x,l.y);if("mousemove"===l.type||"mouseout"===l.type){const y=this._hoveredItem,I=((f,l)=>null!==f&&null!==l&&f.datasetIndex===l.datasetIndex&&f.index===l.index)(y,g);y&&!I&&$n(h.onLeave,[l,y,this],this),this._hoveredItem=g,g&&!I&&$n(h.onHover,[l,g,this],this)}else g&&$n(h.onClick,[l,g,this],this)}}function Fc(f,l){return l*(f.text?f.text.length:0)}var df={id:"legend",_element:Jc,start(f,l,h){const g=f.legend=new Jc({ctx:f.ctx,options:h,chart:f});$.configure(f,g,h),$.addBox(f,g)},stop(f){$.removeBox(f,f.legend),delete f.legend},beforeUpdate(f,l,h){const g=f.legend;$.configure(f,g,h),g.options=h},afterUpdate(f){const l=f.legend;l.buildLabels(),l.adjustHitBoxes()},afterEvent(f,l){l.replay||f.legend.handleEvent(l.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(f,l,h){const g=l.datasetIndex,y=h.chart;y.isDatasetVisible(g)?(y.hide(g),l.hidden=!0):(y.show(g),l.hidden=!1)},onHover:null,onLeave:null,labels:{color:f=>f.chart.options.color,boxWidth:40,padding:10,generateLabels(f){const l=f.data.datasets,{labels:{usePointStyle:h,pointStyle:g,textAlign:y,color:I,useBorderRadius:O,borderRadius:F}}=f.legend.options;return f._getSortedDatasetMetas().map(j=>{const Q=j.controller.getStyle(h?0:void 0),de=_s(Q.borderWidth);return{text:l[j.index].label,fillStyle:Q.backgroundColor,fontColor:I,hidden:!j.visible,lineCap:Q.borderCapStyle,lineDash:Q.borderDash,lineDashOffset:Q.borderDashOffset,lineJoin:Q.borderJoinStyle,lineWidth:(de.width+de.height)/4,strokeStyle:Q.borderColor,pointStyle:g||Q.pointStyle,rotation:Q.rotation,textAlign:y||Q.textAlign,borderRadius:O&&(F||Q.borderRadius),datasetIndex:j.index}},this)}},title:{color:f=>f.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:f=>!f.startsWith("on"),labels:{_scriptable:f=>!["generateLabels","filter","sort"].includes(f)}}};class Fu extends Ya{constructor(l){super(),this.chart=l.chart,this.options=l.options,this.ctx=l.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(l,h){const g=this.options;if(this.left=0,this.top=0,!g.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=l,this.height=this.bottom=h;const y=mi(g.text)?g.text.length:1;this._padding=_s(g.padding);const I=y*jr(g.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=I:this.width=I}isHorizontal(){const l=this.options.position;return"top"===l||"bottom"===l}_drawArgs(l){const{top:h,left:g,bottom:y,right:I,options:O}=this,F=O.align;let Q,de,ye,j=0;return this.isHorizontal()?(de=Er(F,g,I),ye=h+l,Q=I-g):("left"===O.position?(de=g+l,ye=Er(F,y,h),j=-.5*Bi):(de=I-l,ye=Er(F,h,y),j=.5*Bi),Q=y-h),{titleX:de,titleY:ye,maxWidth:Q,rotation:j}}draw(){const l=this.ctx,h=this.options;if(!h.display)return;const g=jr(h.font),I=g.lineHeight/2+this._padding.top,{titleX:O,titleY:F,maxWidth:j,rotation:Q}=this._drawArgs(I);Wl(l,h.text,0,0,g,{color:h.color,maxWidth:j,rotation:Q,textAlign:pr(h.align),textBaseline:"middle",translation:[O,F]})}}var Lu={id:"title",_element:Fu,start(f,l,h){!function hf(f,l){const h=new Fu({ctx:f.ctx,options:l,chart:f});$.configure(f,h,l),$.addBox(f,h),f.titleBlock=h}(f,h)},stop(f){$.removeBox(f,f.titleBlock),delete f.titleBlock},beforeUpdate(f,l,h){const g=f.titleBlock;$.configure(f,g,h),g.options=h},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Cs=new WeakMap;var ga={id:"subtitle",start(f,l,h){const g=new Fu({ctx:f.ctx,options:h,chart:f});$.configure(f,g,h),$.addBox(f,g),Cs.set(f,g)},stop(f){$.removeBox(f,Cs.get(f)),Cs.delete(f)},beforeUpdate(f,l,h){const g=Cs.get(f);$.configure(f,g,h),g.options=h},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const tu={average(f){if(!f.length)return!1;let l,h,g=0,y=0,I=0;for(l=0,h=f.length;l<h;++l){const O=f[l].element;if(O&&O.hasValue()){const F=O.tooltipPosition();g+=F.x,y+=F.y,++I}}return{x:g/I,y:y/I}},nearest(f,l){if(!f.length)return!1;let I,O,F,h=l.x,g=l.y,y=Number.POSITIVE_INFINITY;for(I=0,O=f.length;I<O;++I){const j=f[I].element;if(j&&j.hasValue()){const de=Wt(l,j.getCenterPoint());de<y&&(y=de,F=j)}}if(F){const j=F.tooltipPosition();h=j.x,g=j.y}return{x:h,y:g}}};function sc(f,l){return l&&(mi(l)?Array.prototype.push.apply(f,l):f.push(l)),f}function nu(f){return("string"==typeof f||f instanceof String)&&f.indexOf("\n")>-1?f.split("\n"):f}function Wo(f,l){const{element:h,datasetIndex:g,index:y}=l,I=f.getDatasetMeta(g).controller,{label:O,value:F}=I.getLabelAndValue(y);return{chart:f,label:O,parsed:I.getParsed(y),raw:f.data.datasets[g].data[y],formattedValue:F,dataset:I.getDataset(),dataIndex:y,datasetIndex:g,element:h}}function Lc(f,l){const h=f.chart.ctx,{body:g,footer:y,title:I}=f,{boxWidth:O,boxHeight:F}=l,j=jr(l.bodyFont),Q=jr(l.titleFont),de=jr(l.footerFont),ye=I.length,Fe=y.length,nt=g.length,At=_s(l.padding);let Bt=At.height,Kt=0,gn=g.reduce((Jn,jn)=>Jn+jn.before.length+jn.lines.length+jn.after.length,0);gn+=f.beforeBody.length+f.afterBody.length,ye&&(Bt+=ye*Q.lineHeight+(ye-1)*l.titleSpacing+l.titleMarginBottom),gn&&(Bt+=nt*(l.displayColors?Math.max(F,j.lineHeight):j.lineHeight)+(gn-nt)*j.lineHeight+(gn-1)*l.bodySpacing),Fe&&(Bt+=l.footerMarginTop+Fe*de.lineHeight+(Fe-1)*l.footerSpacing);let Tn=0;const si=function(Jn){Kt=Math.max(Kt,h.measureText(Jn).width+Tn)};return h.save(),h.font=Q.string,Ot(f.title,si),h.font=j.string,Ot(f.beforeBody.concat(f.afterBody),si),Tn=l.displayColors?O+2+l.boxPadding:0,Ot(g,Jn=>{Ot(Jn.before,si),Ot(Jn.lines,si),Ot(Jn.after,si)}),Tn=0,h.font=de.string,Ot(f.footer,si),h.restore(),Kt+=At.width,{width:Kt,height:Bt}}function iu(f,l,h,g){const{x:y,width:I}=h,{width:O,chartArea:{left:F,right:j}}=f;let Q="center";return"center"===g?Q=y<=(F+j)/2?"left":"right":y<=I/2?Q="left":y>=O-I/2&&(Q="right"),function Bu(f,l,h,g){const{x:y,width:I}=g,O=h.caretSize+h.caretPadding;if("left"===f&&y+I+O>l.width||"right"===f&&y-I-O<0)return!0}(Q,f,l,h)&&(Q="center"),Q}function _h(f,l,h){const g=h.yAlign||l.yAlign||function _p(f,l){const{y:h,height:g}=l;return h<g/2?"top":h>f.height-g/2?"bottom":"center"}(f,h);return{xAlign:h.xAlign||l.xAlign||iu(f,l,h,g),yAlign:g}}function ad(f,l,h,g){const{caretSize:y,caretPadding:I,cornerRadius:O}=f,{xAlign:F,yAlign:j}=h,Q=y+I,{topLeft:de,topRight:ye,bottomLeft:Fe,bottomRight:nt}=no(O);let At=function ff(f,l){let{x:h,width:g}=f;return"right"===l?h-=g:"center"===l&&(h-=g/2),h}(l,F);const Bt=function vp(f,l,h){let{y:g,height:y}=f;return"top"===l?g+=h:g-="bottom"===l?y+h:y/2,g}(l,j,Q);return"center"===j?"left"===F?At+=Q:"right"===F&&(At-=Q):"left"===F?At-=Math.max(de,Fe)+y:"right"===F&&(At+=Math.max(ye,nt)+y),{x:fi(At,0,g.width-l.width),y:fi(Bt,0,g.height-l.height)}}function vh(f,l,h){const g=_s(h.padding);return"center"===l?f.x+f.width/2:"right"===l?f.x+f.width-g.right:f.x+g.left}function L(f){return sc([],nu(f))}function T(f,l){const h=l&&l.dataset&&l.dataset.tooltip&&l.dataset.tooltip.callbacks;return h?f.override(h):f}const U={beforeTitle:wn,title(f){if(f.length>0){const l=f[0],h=l.chart.data.labels,g=h?h.length:0;if(this&&this.options&&"dataset"===this.options.mode)return l.dataset.label||"";if(l.label)return l.label;if(g>0&&l.dataIndex<g)return h[l.dataIndex]}return""},afterTitle:wn,beforeBody:wn,beforeLabel:wn,label(f){if(this&&this.options&&"dataset"===this.options.mode)return f.label+": "+f.formattedValue||f.formattedValue;let l=f.dataset.label||"";l&&(l+=": ");const h=f.formattedValue;return qn(h)||(l+=h),l},labelColor(f){const h=f.chart.getDatasetMeta(f.datasetIndex).controller.getStyle(f.dataIndex);return{borderColor:h.borderColor,backgroundColor:h.backgroundColor,borderWidth:h.borderWidth,borderDash:h.borderDash,borderDashOffset:h.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(f){const h=f.chart.getDatasetMeta(f.datasetIndex).controller.getStyle(f.dataIndex);return{pointStyle:h.pointStyle,rotation:h.rotation}},afterLabel:wn,afterBody:wn,beforeFooter:wn,footer:wn,afterFooter:wn};function ue(f,l,h,g){const y=f[l].call(h,g);return typeof y>"u"?U[l].call(h,g):y}class xe extends Ya{constructor(l){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=l.chart,this.options=l.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(l){this.options=l,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const l=this._cachedAnimations;if(l)return l;const h=this.chart,g=this.options.setContext(this.getContext()),y=g.enabled&&h.options.animation&&g.animations,I=new Bs(this.chart,y);return y._cacheable&&(this._cachedAnimations=Object.freeze(I)),I}getContext(){return this.$context||(this.$context=function D(f,l,h){return Xo(f,{tooltip:l,tooltipItems:h,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(l,h){const{callbacks:g}=h,y=ue(g,"beforeTitle",this,l),I=ue(g,"title",this,l),O=ue(g,"afterTitle",this,l);let F=[];return F=sc(F,nu(y)),F=sc(F,nu(I)),F=sc(F,nu(O)),F}getBeforeBody(l,h){return L(ue(h.callbacks,"beforeBody",this,l))}getBody(l,h){const{callbacks:g}=h,y=[];return Ot(l,I=>{const O={before:[],lines:[],after:[]},F=T(g,I);sc(O.before,nu(ue(F,"beforeLabel",this,I))),sc(O.lines,ue(F,"label",this,I)),sc(O.after,nu(ue(F,"afterLabel",this,I))),y.push(O)}),y}getAfterBody(l,h){return L(ue(h.callbacks,"afterBody",this,l))}getFooter(l,h){const{callbacks:g}=h,y=ue(g,"beforeFooter",this,l),I=ue(g,"footer",this,l),O=ue(g,"afterFooter",this,l);let F=[];return F=sc(F,nu(y)),F=sc(F,nu(I)),F=sc(F,nu(O)),F}_createItems(l){const h=this._active,g=this.chart.data,y=[],I=[],O=[];let j,Q,F=[];for(j=0,Q=h.length;j<Q;++j)F.push(Wo(this.chart,h[j]));return l.filter&&(F=F.filter((de,ye,Fe)=>l.filter(de,ye,Fe,g))),l.itemSort&&(F=F.sort((de,ye)=>l.itemSort(de,ye,g))),Ot(F,de=>{const ye=T(l.callbacks,de);y.push(ue(ye,"labelColor",this,de)),I.push(ue(ye,"labelPointStyle",this,de)),O.push(ue(ye,"labelTextColor",this,de))}),this.labelColors=y,this.labelPointStyles=I,this.labelTextColors=O,this.dataPoints=F,F}update(l,h){const g=this.options.setContext(this.getContext()),y=this._active;let I,O=[];if(y.length){const F=tu[g.position].call(this,y,this._eventPosition);O=this._createItems(g),this.title=this.getTitle(O,g),this.beforeBody=this.getBeforeBody(O,g),this.body=this.getBody(O,g),this.afterBody=this.getAfterBody(O,g),this.footer=this.getFooter(O,g);const j=this._size=Lc(this,g),Q=Object.assign({},F,j),de=_h(this.chart,g,Q),ye=ad(g,Q,de,this.chart);this.xAlign=de.xAlign,this.yAlign=de.yAlign,I={opacity:1,x:ye.x,y:ye.y,width:j.width,height:j.height,caretX:F.x,caretY:F.y}}else 0!==this.opacity&&(I={opacity:0});this._tooltipItems=O,this.$context=void 0,I&&this._resolveAnimations().update(this,I),l&&g.external&&g.external.call(this,{chart:this.chart,tooltip:this,replay:h})}drawCaret(l,h,g,y){const I=this.getCaretPosition(l,g,y);h.lineTo(I.x1,I.y1),h.lineTo(I.x2,I.y2),h.lineTo(I.x3,I.y3)}getCaretPosition(l,h,g){const{xAlign:y,yAlign:I}=this,{caretSize:O,cornerRadius:F}=g,{topLeft:j,topRight:Q,bottomLeft:de,bottomRight:ye}=no(F),{x:Fe,y:nt}=l,{width:At,height:Bt}=h;let Kt,gn,Tn,si,Jn,jn;return"center"===I?(Jn=nt+Bt/2,"left"===y?(Kt=Fe,gn=Kt-O,si=Jn+O,jn=Jn-O):(Kt=Fe+At,gn=Kt+O,si=Jn-O,jn=Jn+O),Tn=Kt):(gn="left"===y?Fe+Math.max(j,de)+O:"right"===y?Fe+At-Math.max(Q,ye)-O:this.caretX,"top"===I?(si=nt,Jn=si-O,Kt=gn-O,Tn=gn+O):(si=nt+Bt,Jn=si+O,Kt=gn+O,Tn=gn-O),jn=si),{x1:Kt,x2:gn,x3:Tn,y1:si,y2:Jn,y3:jn}}drawTitle(l,h,g){const y=this.title,I=y.length;let O,F,j;if(I){const Q=fa(g.rtl,this.x,this.width);for(l.x=vh(this,g.titleAlign,g),h.textAlign=Q.textAlign(g.titleAlign),h.textBaseline="middle",O=jr(g.titleFont),F=g.titleSpacing,h.fillStyle=g.titleColor,h.font=O.string,j=0;j<I;++j)h.fillText(y[j],Q.x(l.x),l.y+O.lineHeight/2),l.y+=O.lineHeight+F,j+1===I&&(l.y+=g.titleMarginBottom-F)}}_drawColorBox(l,h,g,y,I){const O=this.labelColors[g],F=this.labelPointStyles[g],{boxHeight:j,boxWidth:Q}=I,de=jr(I.bodyFont),ye=vh(this,"left",I),Fe=y.x(ye),At=h.y+(j<de.lineHeight?(de.lineHeight-j)/2:0);if(I.usePointStyle){const Bt={radius:Math.min(Q,j)/2,pointStyle:F.pointStyle,rotation:F.rotation,borderWidth:1},Kt=y.leftForLtr(Fe,Q)+Q/2,gn=At+j/2;l.strokeStyle=I.multiKeyBackground,l.fillStyle=I.multiKeyBackground,Ks(l,Bt,Kt,gn),l.strokeStyle=O.borderColor,l.fillStyle=O.backgroundColor,Ks(l,Bt,Kt,gn)}else{l.lineWidth=dn(O.borderWidth)?Math.max(...Object.values(O.borderWidth)):O.borderWidth||1,l.strokeStyle=O.borderColor,l.setLineDash(O.borderDash||[]),l.lineDashOffset=O.borderDashOffset||0;const Bt=y.leftForLtr(Fe,Q),Kt=y.leftForLtr(y.xPlus(Fe,1),Q-2),gn=no(O.borderRadius);Object.values(gn).some(Tn=>0!==Tn)?(l.beginPath(),l.fillStyle=I.multiKeyBackground,Mr(l,{x:Bt,y:At,w:Q,h:j,radius:gn}),l.fill(),l.stroke(),l.fillStyle=O.backgroundColor,l.beginPath(),Mr(l,{x:Kt,y:At+1,w:Q-2,h:j-2,radius:gn}),l.fill()):(l.fillStyle=I.multiKeyBackground,l.fillRect(Bt,At,Q,j),l.strokeRect(Bt,At,Q,j),l.fillStyle=O.backgroundColor,l.fillRect(Kt,At+1,Q-2,j-2))}l.fillStyle=this.labelTextColors[g]}drawBody(l,h,g){const{body:y}=this,{bodySpacing:I,bodyAlign:O,displayColors:F,boxHeight:j,boxWidth:Q,boxPadding:de}=g,ye=jr(g.bodyFont);let Fe=ye.lineHeight,nt=0;const At=fa(g.rtl,this.x,this.width),Bt=function(Mi){h.fillText(Mi,At.x(l.x+nt),l.y+Fe/2),l.y+=Fe+I},Kt=At.textAlign(O);let gn,Tn,si,Jn,jn,bi,Ci;for(h.textAlign=O,h.textBaseline="middle",h.font=ye.string,l.x=vh(this,Kt,g),h.fillStyle=g.bodyColor,Ot(this.beforeBody,Bt),nt=F&&"right"!==Kt?"center"===O?Q/2+de:Q+2+de:0,Jn=0,bi=y.length;Jn<bi;++Jn){for(gn=y[Jn],Tn=this.labelTextColors[Jn],h.fillStyle=Tn,Ot(gn.before,Bt),si=gn.lines,F&&si.length&&(this._drawColorBox(h,l,Jn,At,g),Fe=Math.max(ye.lineHeight,j)),jn=0,Ci=si.length;jn<Ci;++jn)Bt(si[jn]),Fe=ye.lineHeight;Ot(gn.after,Bt)}nt=0,Fe=ye.lineHeight,Ot(this.afterBody,Bt),l.y-=I}drawFooter(l,h,g){const y=this.footer,I=y.length;let O,F;if(I){const j=fa(g.rtl,this.x,this.width);for(l.x=vh(this,g.footerAlign,g),l.y+=g.footerMarginTop,h.textAlign=j.textAlign(g.footerAlign),h.textBaseline="middle",O=jr(g.footerFont),h.fillStyle=g.footerColor,h.font=O.string,F=0;F<I;++F)h.fillText(y[F],j.x(l.x),l.y+O.lineHeight/2),l.y+=O.lineHeight+g.footerSpacing}}drawBackground(l,h,g,y){const{xAlign:I,yAlign:O}=this,{x:F,y:j}=l,{width:Q,height:de}=g,{topLeft:ye,topRight:Fe,bottomLeft:nt,bottomRight:At}=no(y.cornerRadius);h.fillStyle=y.backgroundColor,h.strokeStyle=y.borderColor,h.lineWidth=y.borderWidth,h.beginPath(),h.moveTo(F+ye,j),"top"===O&&this.drawCaret(l,h,g,y),h.lineTo(F+Q-Fe,j),h.quadraticCurveTo(F+Q,j,F+Q,j+Fe),"center"===O&&"right"===I&&this.drawCaret(l,h,g,y),h.lineTo(F+Q,j+de-At),h.quadraticCurveTo(F+Q,j+de,F+Q-At,j+de),"bottom"===O&&this.drawCaret(l,h,g,y),h.lineTo(F+nt,j+de),h.quadraticCurveTo(F,j+de,F,j+de-nt),"center"===O&&"left"===I&&this.drawCaret(l,h,g,y),h.lineTo(F,j+ye),h.quadraticCurveTo(F,j,F+ye,j),h.closePath(),h.fill(),y.borderWidth>0&&h.stroke()}_updateAnimationTarget(l){const h=this.chart,g=this.$animations,y=g&&g.x,I=g&&g.y;if(y||I){const O=tu[l.position].call(this,this._active,this._eventPosition);if(!O)return;const F=this._size=Lc(this,l),j=Object.assign({},O,this._size),Q=_h(h,l,j),de=ad(l,j,Q,h);(y._to!==de.x||I._to!==de.y)&&(this.xAlign=Q.xAlign,this.yAlign=Q.yAlign,this.width=F.width,this.height=F.height,this.caretX=O.x,this.caretY=O.y,this._resolveAnimations().update(this,de))}}_willRender(){return!!this.opacity}draw(l){const h=this.options.setContext(this.getContext());let g=this.opacity;if(!g)return;this._updateAnimationTarget(h);const y={width:this.width,height:this.height},I={x:this.x,y:this.y};g=Math.abs(g)<.001?0:g;const O=_s(h.padding);h.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(l.save(),l.globalAlpha=g,this.drawBackground(I,l,y,h),mc(l,h.textDirection),I.y+=O.top,this.drawTitle(I,l,h),this.drawBody(I,l,h),this.drawFooter(I,l,h),ta(l,h.textDirection),l.restore())}getActiveElements(){return this._active||[]}setActiveElements(l,h){const g=this._active,y=l.map(({datasetIndex:F,index:j})=>{const Q=this.chart.getDatasetMeta(F);if(!Q)throw new Error("Cannot find a dataset at index "+F);return{datasetIndex:F,element:Q.data[j],index:j}}),I=!ze(g,y),O=this._positionChanged(y,h);(I||O)&&(this._active=y,this._eventPosition=h,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(l,h,g=!0){if(h&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const y=this.options,I=this._active||[],O=this._getActiveElements(l,I,h,g),F=this._positionChanged(O,l),j=h||!ze(O,I)||F;return j&&(this._active=O,(y.enabled||y.external)&&(this._eventPosition={x:l.x,y:l.y},this.update(!0,h))),j}_getActiveElements(l,h,g,y){const I=this.options;if("mouseout"===l.type)return[];if(!y)return h.filter(F=>this.chart.data.datasets[F.datasetIndex]&&void 0!==this.chart.getDatasetMeta(F.datasetIndex).controller.getParsed(F.index));const O=this.chart.getElementsAtEventForMode(l,I.mode,I,g);return I.reverse&&O.reverse(),O}_positionChanged(l,h){const{caretX:g,caretY:y,options:I}=this,O=tu[I.position].call(this,l,h);return!1!==O&&(g!==O.x||y!==O.y)}}ki(xe,"positioners",tu);var nn=Object.freeze({__proto__:null,Colors:Fa,Decimation:ma,Filler:Lh,Legend:df,SubTitle:ga,Title:Lu,Tooltip:{id:"tooltip",_element:xe,positioners:tu,afterInit(f,l,h){h&&(f.tooltip=new xe({chart:f,options:h}))},beforeUpdate(f,l,h){f.tooltip&&f.tooltip.initialize(h)},reset(f,l,h){f.tooltip&&f.tooltip.initialize(h)},afterDraw(f){const l=f.tooltip;if(l&&l._willRender()){const h={tooltip:l};if(!1===f.notifyPlugins("beforeTooltipDraw",{...h,cancelable:!0}))return;l.draw(f.ctx),f.notifyPlugins("afterTooltipDraw",h)}},afterEvent(f,l){f.tooltip&&f.tooltip.handleEvent(l.event,l.replay,l.inChartArea)&&(l.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(f,l)=>l.bodyFont.size,boxWidth:(f,l)=>l.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:U},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:f=>"filter"!==f&&"itemSort"!==f&&"external"!==f,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]}});function Si(f){const l=this.getLabels();return f>=0&&f<l.length?l[f]:f}class $s extends Iu{constructor(l){super(l),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(l){const h=this._addedLabels;if(h.length){const g=this.getLabels();for(const{index:y,label:I}of h)g[y]===I&&g.splice(y,1);this._addedLabels=[]}super.init(l)}parse(l,h){if(qn(l))return null;const g=this.getLabels();return((f,l)=>null===f?null:fi(Math.round(f),0,l))(h=isFinite(h)&&g[h]===l?h:function di(f,l,h,g){const y=f.indexOf(l);return-1===y?((f,l,h,g)=>("string"==typeof l?(h=f.push(l)-1,g.unshift({index:h,label:l})):isNaN(l)&&(h=null),h))(f,l,h,g):y!==f.lastIndexOf(l)?h:y}(g,l,On(h,l),this._addedLabels),g.length-1)}determineDataLimits(){const{minDefined:l,maxDefined:h}=this.getUserBounds();let{min:g,max:y}=this.getMinMax(!0);"ticks"===this.options.bounds&&(l||(g=0),h||(y=this.getLabels().length-1)),this.min=g,this.max=y}buildTicks(){const l=this.min,h=this.max,g=this.options.offset,y=[];let I=this.getLabels();I=0===l&&h===I.length-1?I:I.slice(l,h+1),this._valueRange=Math.max(I.length-(g?0:1),1),this._startValue=this.min-(g?.5:0);for(let O=l;O<=h;O++)y.push({value:O});return y}getLabelForValue(l){return Si.call(this,l)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(l){return"number"!=typeof l&&(l=this.parse(l)),null===l?NaN:this.getPixelForDecimal((l-this._startValue)/this._valueRange)}getPixelForTick(l){const h=this.ticks;return l<0||l>h.length-1?null:this.getPixelForValue(h[l].value)}getValueForPixel(l){return Math.round(this._startValue+this.getDecimalForPixel(l)*this._valueRange)}getBasePixel(){return this.bottom}}function Bh(f,l,{horizontal:h,minRotation:g}){const y=ft(g),I=(h?Math.sin(y):Math.cos(y))||.001;return Math.min(l/I,.75*l*(""+f).length)}ki($s,"id","category"),ki($s,"defaults",{ticks:{callback:Si}});class Vu extends Iu{constructor(l){super(l),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(l,h){return qn(l)||("number"==typeof l||l instanceof Number)&&!isFinite(+l)?null:+l}handleTickRangeOptions(){const{beginAtZero:l}=this.options,{minDefined:h,maxDefined:g}=this.getUserBounds();let{min:y,max:I}=this;const O=j=>y=h?y:j,F=j=>I=g?I:j;if(l){const j=gt(y),Q=gt(I);j<0&&Q<0?F(0):j>0&&Q>0&&O(0)}if(y===I){let j=0===I?1:Math.abs(.05*I);F(I+j),l||O(y-j)}this.min=y,this.max=I}getTickLimit(){const l=this.options.ticks;let y,{maxTicksLimit:h,stepSize:g}=l;return g?(y=Math.ceil(this.max/g)-Math.floor(this.min/g)+1,y>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${g} would result generating up to ${y} ticks. Limiting to 1000.`),y=1e3)):(y=this.computeTickLimit(),h=h||11),h&&(y=Math.min(h,y)),y}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const l=this.options,h=l.ticks;let g=this.getTickLimit();g=Math.max(2,g);const O=function vl(f,l){const h=[],{bounds:y,step:I,min:O,max:F,precision:j,count:Q,maxTicks:de,maxDigits:ye,includeBounds:Fe}=f,nt=I||1,At=de-1,{min:Bt,max:Kt}=l,gn=!qn(O),Tn=!qn(F),si=!qn(Q),Jn=(Kt-Bt)/(ye+1);let bi,Ci,Mi,wi,jn=et((Kt-Bt)/At/nt)*nt;if(jn<1e-14&&!gn&&!Tn)return[{value:Bt},{value:Kt}];wi=Math.ceil(Kt/jn)-Math.floor(Bt/jn),wi>At&&(jn=et(wi*jn/At/nt)*nt),qn(j)||(bi=Math.pow(10,j),jn=Math.ceil(jn*bi)/bi),"ticks"===y?(Ci=Math.floor(Bt/jn)*jn,Mi=Math.ceil(Kt/jn)*jn):(Ci=Bt,Mi=Kt),gn&&Tn&&I&&function Ee(f,l){const h=Math.round(f);return h-l<=f&&h+l>=f}((F-O)/I,jn/1e3)?(wi=Math.round(Math.min((F-O)/jn,de)),jn=(F-O)/wi,Ci=O,Mi=F):si?(Ci=gn?O:Ci,Mi=Tn?F:Mi,wi=Q-1,jn=(Mi-Ci)/wi):(wi=(Mi-Ci)/jn,wi=We(wi,Math.round(wi),jn/1e3)?Math.round(wi):Math.ceil(wi));const $r=Math.max(Qn(jn),Qn(Ci));bi=Math.pow(10,qn(j)?$r:j),Ci=Math.round(Ci*bi)/bi,Mi=Math.round(Mi*bi)/bi;let Xr=0;for(gn&&(Fe&&Ci!==O?(h.push({value:O}),Ci<O&&Xr++,We(Math.round((Ci+Xr*jn)*bi)/bi,O,Bh(O,Jn,f))&&Xr++):Ci<O&&Xr++);Xr<wi;++Xr){const Jr=Math.round((Ci+Xr*jn)*bi)/bi;if(Tn&&Jr>F)break;h.push({value:Jr})}return Tn&&Fe&&Mi!==F?h.length&&We(h[h.length-1].value,F,Bh(F,Jn,f))?h[h.length-1].value=F:h.push({value:F}):(!Tn||Mi===F)&&h.push({value:Mi}),h}({maxTicks:g,bounds:l.bounds,min:l.min,max:l.max,precision:h.precision,step:h.stepSize,count:h.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:h.minRotation||0,includeBounds:!1!==h.includeBounds},this._range||this);return"ticks"===l.bounds&&De(O,this,"value"),l.reverse?(O.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),O}configure(){const l=this.ticks;let h=this.min,g=this.max;if(super.configure(),this.options.offset&&l.length){const y=(g-h)/Math.max(l.length-1,1)/2;h-=y,g+=y}this._startValue=h,this._endValue=g,this._valueRange=g-h}getLabelForValue(l){return Za(l,this.chart.options.locale,this.options.ticks.format)}}class Uu extends Vu{determineDataLimits(){const{min:l,max:h}=this.getMinMax(!0);this.min=li(l)?l:0,this.max=li(h)?h:1,this.handleTickRangeOptions()}computeTickLimit(){const l=this.isHorizontal(),h=l?this.width:this.height,g=ft(this.options.ticks.minRotation),y=(l?Math.sin(g):Math.cos(g))||.001,I=this._resolveTickFontOptions(0);return Math.ceil(h/Math.min(40,I.lineHeight/y))}getPixelForValue(l){return null===l?NaN:this.getPixelForDecimal((l-this._startValue)/this._valueRange)}getValueForPixel(l){return this._startValue+this.getDecimalForPixel(l)*this._valueRange}}ki(Uu,"id","linear"),ki(Uu,"defaults",{ticks:{callback:Pt.formatters.numeric}});const oc=f=>Math.floor(Ce(f)),yl=(f,l)=>Math.pow(10,oc(f)+l);function ld(f){return f/Math.pow(10,oc(f))==1}function Vh(f,l,h){const g=Math.pow(10,h),y=Math.floor(f/g);return Math.ceil(l/g)-y}class yh extends Iu{constructor(l){super(l),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(l,h){const g=Vu.prototype.parse.apply(this,[l,h]);if(0!==g)return li(g)&&g>0?g:null;this._zero=!0}determineDataLimits(){const{min:l,max:h}=this.getMinMax(!0);this.min=li(l)?Math.max(0,l):null,this.max=li(h)?Math.max(0,h):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!li(this._userMin)&&(this.min=l===yl(this.min,0)?yl(this.min,-1):yl(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:l,maxDefined:h}=this.getUserBounds();let g=this.min,y=this.max;const I=F=>g=l?g:F,O=F=>y=h?y:F;g===y&&(g<=0?(I(1),O(10)):(I(yl(g,-1)),O(yl(y,1)))),g<=0&&I(yl(y,-1)),y<=0&&O(yl(g,1)),this.min=g,this.max=y}buildTicks(){const l=this.options,g=function cd(f,{min:l,max:h}){l=bn(f.min,l);const g=[],y=oc(l);let I=function pf(f,l){let g=oc(l-f);for(;Vh(f,l,g)>10;)g++;for(;Vh(f,l,g)<10;)g--;return Math.min(g,oc(f))}(l,h),O=I<0?Math.pow(10,Math.abs(I)):1;const F=Math.pow(10,I),j=y>I?Math.pow(10,y):0,Q=Math.round((l-j)*O)/O,de=Math.floor((l-j)/F/10)*F*10;let ye=Math.floor((Q-de)/Math.pow(10,I)),Fe=bn(f.min,Math.round((j+de+ye*Math.pow(10,I))*O)/O);for(;Fe<h;)g.push({value:Fe,major:ld(Fe),significand:ye}),ye>=10?ye=ye<15?15:20:ye++,ye>=20&&(I++,ye=2,O=I>=0?1:O),Fe=Math.round((j+de+ye*Math.pow(10,I))*O)/O;const nt=bn(f.max,Fe);return g.push({value:nt,major:ld(nt),significand:ye}),g}({min:this._userMin,max:this._userMax},this);return"ticks"===l.bounds&&De(g,this,"value"),l.reverse?(g.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),g}getLabelForValue(l){return void 0===l?"0":Za(l,this.chart.options.locale,this.options.ticks.format)}configure(){const l=this.min;super.configure(),this._startValue=Ce(l),this._valueRange=Ce(this.max)-Ce(l)}getPixelForValue(l){return(void 0===l||0===l)&&(l=this.min),null===l||isNaN(l)?NaN:this.getPixelForDecimal(l===this.min?0:(Ce(l)-this._startValue)/this._valueRange)}getValueForPixel(l){const h=this.getDecimalForPixel(l);return Math.pow(10,this._startValue+h*this._valueRange)}}function Kd(f){const l=f.ticks;if(l.display&&f.display){const h=_s(l.backdropPadding);return On(l.font&&l.font.size,Ui.font.size)+h.height}return 0}function bh(f,l,h){return h=mi(h)?h:[h],{w:Lo(f,l.string,h),h:h.length*l.lineHeight}}function fo(f,l,h,g,y){return f===g||f===y?{start:l-h/2,end:l+h/2}:f<g||f>y?{start:l-h,end:l}:{start:l,end:l+h}}function hg(f,l,h,g,y){const I=Math.abs(Math.sin(h)),O=Math.abs(Math.cos(h));let F=0,j=0;g.start<l.l?(F=(l.l-g.start)/I,f.l=Math.min(f.l,l.l-F)):g.end>l.r&&(F=(g.end-l.r)/I,f.r=Math.max(f.r,l.r+F)),y.start<l.t?(j=(l.t-y.start)/O,f.t=Math.min(f.t,l.t-j)):y.end>l.b&&(j=(y.end-l.b)/O,f.b=Math.max(f.b,l.b+j))}function zp(f,l,h){const g=f.drawingArea,{extra:y,additionalAngle:I,padding:O,size:F}=h,j=f.getPointPosition(l,g+y+O,I),Q=Math.round(cn(Sn(j.angle+Me))),de=function fr(f,l,h){return 90===h||270===h?f-=l/2:(h>270||h<90)&&(f-=l),f}(j.y,F.h,Q),ye=function Rm(f){return 0===f||180===f?"center":f<180?"left":"right"}(Q),Fe=function Ws(f,l,h){return"right"===h?f-=l:"center"===h&&(f-=l/2),f}(j.x,F.w,ye);return{visible:!0,x:j.x,y:de,textAlign:ye,left:Fe,top:de,right:Fe+F.w,bottom:de+F.h}}function mf(f,l){if(!l)return!0;const{left:h,top:g,right:y,bottom:I}=f;return!(qr({x:h,y:g},l)||qr({x:h,y:I},l)||qr({x:y,y:g},l)||qr({x:y,y:I},l))}function Hr(f,l,h){const{left:g,top:y,right:I,bottom:O}=h,{backdropColor:F}=l;if(!qn(F)){const j=no(l.borderRadius),Q=_s(l.backdropPadding);f.fillStyle=F;const de=g-Q.left,ye=y-Q.top,Fe=I-g+Q.width,nt=O-y+Q.height;Object.values(j).some(At=>0!==At)?(f.beginPath(),Mr(f,{x:de,y:ye,w:Fe,h:nt,radius:j}),f.fill()):f.fillRect(de,ye,Fe,nt)}}function Ps(f,l,h,g){const{ctx:y}=f;if(h)y.arc(f.xCenter,f.yCenter,l,0,Ii);else{let I=f.getPointPosition(0,l);y.moveTo(I.x,I.y);for(let O=1;O<g;O++)I=f.getPointPosition(O,l),y.lineTo(I.x,I.y)}}ki(yh,"id","logarithmic"),ki(yh,"defaults",{ticks:{callback:Pt.formatters.logarithmic,major:{enabled:!0}}});class xc extends Vu{constructor(l){super(l),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const l=this._padding=_s(Kd(this.options)/2),h=this.width=this.maxWidth-l.width,g=this.height=this.maxHeight-l.height;this.xCenter=Math.floor(this.left+h/2+l.left),this.yCenter=Math.floor(this.top+g/2+l.top),this.drawingArea=Math.floor(Math.min(h,g)/2)}determineDataLimits(){const{min:l,max:h}=this.getMinMax(!1);this.min=li(l)&&!isNaN(l)?l:0,this.max=li(h)&&!isNaN(h)?h:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Kd(this.options))}generateTickLabels(l){Vu.prototype.generateTickLabels.call(this,l),this._pointLabels=this.getLabels().map((h,g)=>{const y=$n(this.options.pointLabels.callback,[h,g],this);return y||0===y?y:""}).filter((h,g)=>this.chart.getDataVisibility(g))}fit(){const l=this.options;l.display&&l.pointLabels.display?function jp(f){const l={l:f.left+f._padding.left,r:f.right-f._padding.right,t:f.top+f._padding.top,b:f.bottom-f._padding.bottom},h=Object.assign({},l),g=[],y=[],I=f._pointLabels.length,O=f.options.pointLabels,F=O.centerPointLabels?Bi/I:0;for(let j=0;j<I;j++){const Q=O.setContext(f.getPointLabelContext(j));y[j]=Q.padding;const de=f.getPointPosition(j,f.drawingArea+y[j],F),ye=jr(Q.font),Fe=bh(f.ctx,ye,f._pointLabels[j]);g[j]=Fe;const nt=Sn(f.getIndexAngle(j)+F),At=Math.round(cn(nt));hg(h,l,nt,fo(At,de.x,Fe.w,0,180),fo(At,de.y,Fe.h,90,270))}f.setCenterPoint(l.l-h.l,h.r-l.r,l.t-h.t,h.b-l.b),f._pointLabelItems=function Ch(f,l,h){const g=[],y=f._pointLabels.length,I=f.options,{centerPointLabels:O,display:F}=I.pointLabels,j={extra:Kd(I)/2,additionalAngle:O?Bi/y:0};let Q;for(let de=0;de<y;de++){j.padding=h[de],j.size=l[de];const ye=zp(f,de,j);g.push(ye),"auto"===F&&(ye.visible=mf(ye,Q),ye.visible&&(Q=ye))}return g}(f,g,y)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(l,h,g,y){this.xCenter+=Math.floor((l-h)/2),this.yCenter+=Math.floor((g-y)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(l,h,g,y))}getIndexAngle(l){return Sn(l*(Ii/(this._pointLabels.length||1))+ft(this.options.startAngle||0))}getDistanceFromCenterForValue(l){if(qn(l))return NaN;const h=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-l)*h:(l-this.min)*h}getValueForDistanceFromCenter(l){if(qn(l))return NaN;const h=l/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-h:this.min+h}getPointLabelContext(l){const h=this._pointLabels||[];if(l>=0&&l<h.length){const g=h[l];return function Lf(f,l,h){return Xo(f,{label:h,index:l,type:"pointLabel"})}(this.getContext(),l,g)}}getPointPosition(l,h,g=0){const y=this.getIndexAngle(l)-Me+g;return{x:Math.cos(y)*h+this.xCenter,y:Math.sin(y)*h+this.yCenter,angle:y}}getPointPositionForValue(l,h){return this.getPointPosition(l,this.getDistanceFromCenterForValue(h))}getBasePosition(l){return this.getPointPositionForValue(l||0,this.getBaseValue())}getPointLabelPosition(l){const{left:h,top:g,right:y,bottom:I}=this._pointLabelItems[l];return{left:h,top:g,right:y,bottom:I}}drawBackground(){const{backgroundColor:l,grid:{circular:h}}=this.options;if(l){const g=this.ctx;g.save(),g.beginPath(),Ps(this,this.getDistanceFromCenterForValue(this._endValue),h,this._pointLabels.length),g.closePath(),g.fillStyle=l,g.fill(),g.restore()}}drawGrid(){const l=this.ctx,h=this.options,{angleLines:g,grid:y,border:I}=h,O=this._pointLabels.length;let F,j,Q;if(h.pointLabels.display&&function Uh(f,l){const{ctx:h,options:{pointLabels:g}}=f;for(let y=l-1;y>=0;y--){const I=f._pointLabelItems[y];if(!I.visible)continue;const O=g.setContext(f.getPointLabelContext(y));Hr(h,O,I);const F=jr(O.font),{x:j,y:Q,textAlign:de}=I;Wl(h,f._pointLabels[y],j,Q+F.lineHeight/2,F,{color:O.color,textAlign:de,textBaseline:"middle"})}}(this,O),y.display&&this.ticks.forEach((de,ye)=>{if(0!==ye){j=this.getDistanceFromCenterForValue(de.value);const Fe=this.getContext(ye),nt=y.setContext(Fe),At=I.setContext(Fe);!function _a(f,l,h,g,y){const I=f.ctx,O=l.circular,{color:F,lineWidth:j}=l;!O&&!g||!F||!j||h<0||(I.save(),I.strokeStyle=F,I.lineWidth=j,I.setLineDash(y.dash),I.lineDashOffset=y.dashOffset,I.beginPath(),Ps(f,h,O,g),I.closePath(),I.stroke(),I.restore())}(this,nt,j,O,At)}}),g.display){for(l.save(),F=O-1;F>=0;F--){const de=g.setContext(this.getPointLabelContext(F)),{color:ye,lineWidth:Fe}=de;!Fe||!ye||(l.lineWidth=Fe,l.strokeStyle=ye,l.setLineDash(de.borderDash),l.lineDashOffset=de.borderDashOffset,j=this.getDistanceFromCenterForValue(h.ticks.reverse?this.min:this.max),Q=this.getPointPosition(F,j),l.beginPath(),l.moveTo(this.xCenter,this.yCenter),l.lineTo(Q.x,Q.y),l.stroke())}l.restore()}}drawBorder(){}drawLabels(){const l=this.ctx,h=this.options,g=h.ticks;if(!g.display)return;const y=this.getIndexAngle(0);let I,O;l.save(),l.translate(this.xCenter,this.yCenter),l.rotate(y),l.textAlign="center",l.textBaseline="middle",this.ticks.forEach((F,j)=>{if(0===j&&!h.reverse)return;const Q=g.setContext(this.getContext(j)),de=jr(Q.font);if(I=this.getDistanceFromCenterForValue(this.ticks[j].value),Q.showLabelBackdrop){l.font=de.string,O=l.measureText(F.label).width,l.fillStyle=Q.backdropColor;const ye=_s(Q.backdropPadding);l.fillRect(-O/2-ye.left,-I-de.size/2-ye.top,O+ye.width,de.size+ye.height)}Wl(l,F.label,0,-I,de,{color:Q.color,strokeColor:Q.textStrokeColor,strokeWidth:Q.textStrokeWidth})}),l.restore()}drawTitle(){}}ki(xc,"id","radialLinear"),ki(xc,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Pt.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:l=>l,padding:5,centerPointLabels:!1}}),ki(xc,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),ki(xc,"descriptors",{angleLines:{_fallback:"grid"}});const ud={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Gr=Object.keys(ud);function Fr(f,l){return f-l}function il(f,l){if(qn(l))return null;const h=f._adapter,{parser:g,round:y,isoWeekday:I}=f._parseOpts;let O=l;return"function"==typeof g&&(O=g(O)),li(O)||(O="string"==typeof g?h.parse(O,g):h.parse(O)),null===O?null:(y&&(O="week"!==y||!pe(I)&&!0!==I?h.startOf(O,y):h.startOf(O,"isoWeek",I)),+O)}function Gp(f,l,h,g){const y=Gr.length;for(let I=Gr.indexOf(f);I<y-1;++I){const O=ud[Gr[I]],F=O.steps?O.steps:Number.MAX_SAFE_INTEGER;if(O.common&&Math.ceil((h-l)/(F*O.size))<=g)return Gr[I]}return Gr[y-1]}function $p(f,l,h){if(h){if(h.length){const{lo:g,hi:y}=er(h,l);f[h[g]>=l?h[g]:h[y]]=!0}}else f[l]=!0}function yp(f,l,h){const g=[],y={},I=l.length;let O,F;for(O=0;O<I;++O)F=l[O],y[F]=O,g.push({value:F,major:!1});return 0!==I&&h?function Wp(f,l,h,g){const y=f._adapter,I=+y.startOf(l[0].value,g),O=l[l.length-1].value;let F,j;for(F=I;F<=O;F=+y.add(F,1,g))j=h[F],j>=0&&(l[j].major=!0);return l}(f,g,y,h):g}class qd extends Iu{constructor(l){super(l),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(l,h={}){const g=l.time||(l.time={}),y=this._adapter=new Hs__date(l.adapters.date);y.init(h),_n(g.displayFormats,y.formats()),this._parseOpts={parser:g.parser,round:g.round,isoWeekday:g.isoWeekday},super.init(l),this._normalized=h.normalized}parse(l,h){return void 0===l?null:il(this,l)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const l=this.options,h=this._adapter,g=l.time.unit||"day";let{min:y,max:I,minDefined:O,maxDefined:F}=this.getUserBounds();function j(Q){!O&&!isNaN(Q.min)&&(y=Math.min(y,Q.min)),!F&&!isNaN(Q.max)&&(I=Math.max(I,Q.max))}(!O||!F)&&(j(this._getLabelBounds()),("ticks"!==l.bounds||"labels"!==l.ticks.source)&&j(this.getMinMax(!1))),y=li(y)&&!isNaN(y)?y:+h.startOf(Date.now(),g),I=li(I)&&!isNaN(I)?I:+h.endOf(Date.now(),g)+1,this.min=Math.min(y,I-1),this.max=Math.max(y+1,I)}_getLabelBounds(){const l=this.getLabelTimestamps();let h=Number.POSITIVE_INFINITY,g=Number.NEGATIVE_INFINITY;return l.length&&(h=l[0],g=l[l.length-1]),{min:h,max:g}}buildTicks(){const l=this.options,h=l.time,g=l.ticks,y="labels"===g.source?this.getLabelTimestamps():this._generate();"ticks"===l.bounds&&y.length&&(this.min=this._userMin||y[0],this.max=this._userMax||y[y.length-1]);const I=this.min,F=function Ms(f,l,h){let g=0,y=f.length;for(;g<y&&f[g]<l;)g++;for(;y>g&&f[y-1]>h;)y--;return g>0||y<f.length?f.slice(g,y):f}(y,I,this.max);return this._unit=h.unit||(g.autoSkip?Gp(h.minUnit,this.min,this.max,this._getLabelCapacity(I)):function Bf(f,l,h,g,y){for(let I=Gr.length-1;I>=Gr.indexOf(h);I--){const O=Gr[I];if(ud[O].common&&f._adapter.diff(y,g,O)>=l-1)return O}return Gr[h?Gr.indexOf(h):0]}(this,F.length,h.minUnit,this.min,this.max)),this._majorUnit=g.major.enabled&&"year"!==this._unit?function Vl(f){for(let l=Gr.indexOf(f)+1,h=Gr.length;l<h;++l)if(ud[Gr[l]].common)return Gr[l]}(this._unit):void 0,this.initOffsets(y),l.reverse&&F.reverse(),yp(this,F,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(l=>+l.value))}initOffsets(l=[]){let y,I,h=0,g=0;this.options.offset&&l.length&&(y=this.getDecimalForValue(l[0]),h=1===l.length?1-y:(this.getDecimalForValue(l[1])-y)/2,I=this.getDecimalForValue(l[l.length-1]),g=1===l.length?I:(I-this.getDecimalForValue(l[l.length-2]))/2);const O=l.length<3?.5:.25;h=fi(h,0,O),g=fi(g,0,O),this._offsets={start:h,end:g,factor:1/(h+1+g)}}_generate(){const l=this._adapter,h=this.min,g=this.max,y=this.options,I=y.time,O=I.unit||Gp(I.minUnit,h,g,this._getLabelCapacity(h)),F=On(y.ticks.stepSize,1),j="week"===O&&I.isoWeekday,Q=pe(j)||!0===j,de={};let Fe,nt,ye=h;if(Q&&(ye=+l.startOf(ye,"isoWeek",j)),ye=+l.startOf(ye,Q?"day":O),l.diff(g,h,O)>1e5*F)throw new Error(h+" and "+g+" are too far apart with stepSize of "+F+" "+O);const At="data"===y.ticks.source&&this.getDataTimestamps();for(Fe=ye,nt=0;Fe<g;Fe=+l.add(Fe,F,O),nt++)$p(de,Fe,At);return(Fe===g||"ticks"===y.bounds||1===nt)&&$p(de,Fe,At),Object.keys(de).sort(Fr).map(Bt=>+Bt)}getLabelForValue(l){const g=this.options.time;return this._adapter.format(l,g.tooltipFormat?g.tooltipFormat:g.displayFormats.datetime)}format(l,h){return this._adapter.format(l,h||this.options.time.displayFormats[this._unit])}_tickFormatFunction(l,h,g,y){const I=this.options,O=I.ticks.callback;if(O)return $n(O,[l,h,g],this);const F=I.time.displayFormats,j=this._unit,Q=this._majorUnit,ye=Q&&F[Q],Fe=g[h];return this._adapter.format(l,y||(Q&&ye&&Fe&&Fe.major?ye:j&&F[j]))}generateTickLabels(l){let h,g,y;for(h=0,g=l.length;h<g;++h)y=l[h],y.label=this._tickFormatFunction(y.value,h,l)}getDecimalForValue(l){return null===l?NaN:(l-this.min)/(this.max-this.min)}getPixelForValue(l){const h=this._offsets,g=this.getDecimalForValue(l);return this.getPixelForDecimal((h.start+g)*h.factor)}getValueForPixel(l){const h=this._offsets,g=this.getDecimalForPixel(l)/h.factor-h.end;return this.min+g*(this.max-this.min)}_getLabelSize(l){const h=this.options.ticks,g=this.ctx.measureText(l).width,y=ft(this.isHorizontal()?h.maxRotation:h.minRotation),I=Math.cos(y),O=Math.sin(y),F=this._resolveTickFontOptions(0).size;return{w:g*I+F*O,h:g*O+F*I}}_getLabelCapacity(l){const h=this.options.time,g=h.displayFormats,y=g[h.unit]||g.millisecond,I=this._tickFormatFunction(l,0,yp(this,[l],this._majorUnit),y),O=this._getLabelSize(I),F=Math.floor(this.isHorizontal()?this.width/O.w:this.height/O.h)-1;return F>0?F:1}getDataTimestamps(){let h,g,l=this._cache.data||[];if(l.length)return l;const y=this.getMatchingVisibleMetas();if(this._normalized&&y.length)return this._cache.data=y[0].controller.getAllParsedValues(this);for(h=0,g=y.length;h<g;++h)l=l.concat(y[h].controller.getAllParsedValues(this));return this._cache.data=this.normalize(l)}getLabelTimestamps(){const l=this._cache.labels||[];let h,g;if(l.length)return l;const y=this.getLabels();for(h=0,g=y.length;h<g;++h)l.push(il(this,y[h]));return this._cache.labels=this._normalized?l:this.normalize(l)}normalize(l){return Or(l.sort(Fr))}}function bl(f,l,h){let I,O,F,j,g=0,y=f.length-1;h?(l>=f[g].pos&&l<=f[y].pos&&({lo:g,hi:y}=tr(f,"pos",l)),({pos:I,time:F}=f[g]),({pos:O,time:j}=f[y])):(l>=f[g].time&&l<=f[y].time&&({lo:g,hi:y}=tr(f,"time",l)),({time:I,pos:F}=f[g]),({time:O,pos:j}=f[y]));const Q=O-I;return Q?F+(j-F)*(l-I)/Q:F}ki(qd,"id","time"),ki(qd,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class Vf extends qd{constructor(l){super(l),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const l=this._getTimestampsForTable(),h=this._table=this.buildLookupTable(l);this._minPos=bl(h,this.min),this._tableRange=bl(h,this.max)-this._minPos,super.initOffsets(l)}buildLookupTable(l){const{min:h,max:g}=this,y=[],I=[];let O,F,j,Q,de;for(O=0,F=l.length;O<F;++O)Q=l[O],Q>=h&&Q<=g&&y.push(Q);if(y.length<2)return[{time:h,pos:0},{time:g,pos:1}];for(O=0,F=y.length;O<F;++O)de=y[O+1],j=y[O-1],Q=y[O],Math.round((de+j)/2)!==Q&&I.push({time:Q,pos:O/(F-1)});return I}_generate(){const l=this.min,h=this.max;let g=super.getDataTimestamps();return(!g.includes(l)||!g.length)&&g.splice(0,0,l),(!g.includes(h)||1===g.length)&&g.push(h),g.sort((y,I)=>y-I)}_getTimestampsForTable(){let l=this._cache.all||[];if(l.length)return l;const h=this.getDataTimestamps(),g=this.getLabelTimestamps();return l=h.length&&g.length?this.normalize(h.concat(g)):h.length?h:g,l=this._cache.all=l,l}getDecimalForValue(l){return(bl(this._table,l)-this._minPos)/this._tableRange}getValueForPixel(l){const h=this._offsets,g=this.getDecimalForPixel(l)/h.factor-h.end;return bl(this._table,g*this._tableRange+this._minPos,!0)}}ki(Vf,"id","timeseries"),ki(Vf,"defaults",qd.defaults),Nl.register(fn,Hd,nn,Object.freeze({__proto__:null,CategoryScale:$s,LinearScale:Uu,LogarithmicScale:yh,RadialLinearScale:xc,TimeScale:qd,TimeSeriesScale:Vf}));const fg=Nl;let Om=(()=>{class f{constructor(h){this.el=h,this.plugins=[],this.responsive=!0,this.onDataSelect=new M.vpe,this._options={}}get data(){return this._data}set data(h){this._data=h,this.reinit()}get options(){return this._options}set options(h){this._options=h,this.reinit()}ngAfterViewInit(){this.initChart(),this.initialized=!0}onCanvasClick(h){if(this.chart){const g=this.chart.getElementsAtEventForMode(h,"nearest",{intersect:!0},!1),y=this.chart.getElementsAtEventForMode(h,"dataset",{intersect:!0},!1);g&&g[0]&&y&&this.onDataSelect.emit({originalEvent:h,element:g[0],dataset:y})}}initChart(){let h=this.options||{};h.responsive=this.responsive,h.responsive&&(this.height||this.width)&&(h.maintainAspectRatio=!1),this.chart=new fg(this.el.nativeElement.children[0].children[0],{type:this.type,data:this.data,options:this.options,plugins:this.plugins})}getCanvas(){return this.el.nativeElement.children[0].children[0]}getBase64Image(){return this.chart.toBase64Image()}generateLegend(){if(this.chart)return this.chart.generateLegend()}refresh(){this.chart&&this.chart.update()}reinit(){this.chart&&(this.chart.destroy(),this.initChart())}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.initialized=!1,this.chart=null)}}return f.\u0275fac=function(h){return new(h||f)(M.Y36(M.SBq))},f.\u0275cmp=M.Xpm({type:f,selectors:[["p-chart"]],hostAttrs:[1,"p-element"],inputs:{type:"type",plugins:"plugins",width:"width",height:"height",responsive:"responsive",data:"data",options:"options"},outputs:{onDataSelect:"onDataSelect"},decls:2,vars:6,consts:[[2,"position","relative"],[3,"click"]],template:function(h,g){1&h&&(M.TgZ(0,"div",0)(1,"canvas",1),M.NdJ("click",function(I){return g.onCanvasClick(I)}),M.qZA()()),2&h&&(M.Udp("width",g.responsive&&!g.width?null:g.width)("height",g.responsive&&!g.height?null:g.height),M.xp6(1),M.uIk("width",g.responsive&&!g.width?null:g.width)("height",g.responsive&&!g.height?null:g.height))},encapsulation:2,changeDetection:0}),f})(),dd=(()=>{class f{}return f.\u0275fac=function(h){return new(h||f)},f.\u0275mod=M.oAB({type:f}),f.\u0275inj=M.cJS({imports:[J.ez]}),f})()},5861:(Hn,Mt,z)=>{function M(W,Le,b,be,at,Ve,qe){try{var Ae=W[Ve](qe),Ue=Ae.value}catch(Ge){return void b(Ge)}Ae.done?Le(Ue):Promise.resolve(Ue).then(be,at)}function J(W){return function(){var Le=this,b=arguments;return new Promise(function(be,at){var Ve=W.apply(Le,b);function qe(Ue){M(Ve,be,at,qe,Ae,"next",Ue)}function Ae(Ue){M(Ve,be,at,qe,Ae,"throw",Ue)}qe(void 0)})}}z.d(Mt,{Z:()=>J})},7582:(Hn,Mt,z)=>{function Le(bt,It){var qt={};for(var en in bt)Object.prototype.hasOwnProperty.call(bt,en)&&It.indexOf(en)<0&&(qt[en]=bt[en]);if(null!=bt&&"function"==typeof Object.getOwnPropertySymbols){var Ht=0;for(en=Object.getOwnPropertySymbols(bt);Ht<en.length;Ht++)It.indexOf(en[Ht])<0&&Object.prototype.propertyIsEnumerable.call(bt,en[Ht])&&(qt[en[Ht]]=bt[en[Ht]])}return qt}function Ge(bt,It,qt,en){return new(qt||(qt=Promise))(function(Dt,xn){function St(Cn){try{on(en.next(Cn))}catch(tn){xn(tn)}}function Vt(Cn){try{on(en.throw(Cn))}catch(tn){xn(tn)}}function on(Cn){Cn.done?Dt(Cn.value):function Ht(Dt){return Dt instanceof qt?Dt:new qt(function(xn){xn(Dt)})}(Cn.value).then(St,Vt)}on((en=en.apply(bt,It||[])).next())})}function _t(bt){return this instanceof _t?(this.v=bt,this):new _t(bt)}function je(bt,It,qt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ht,en=qt.apply(bt,It||[]),Dt=[];return Ht={},xn("next"),xn("throw"),xn("return"),Ht[Symbol.asyncIterator]=function(){return this},Ht;function xn(Mn){en[Mn]&&(Ht[Mn]=function(jt){return new Promise(function(wn,oi){Dt.push([Mn,jt,wn,oi])>1||St(Mn,jt)})})}function St(Mn,jt){try{!function Vt(Mn){Mn.value instanceof _t?Promise.resolve(Mn.value.v).then(on,Cn):tn(Dt[0][2],Mn)}(en[Mn](jt))}catch(wn){tn(Dt[0][3],wn)}}function on(Mn){St("next",Mn)}function Cn(Mn){St("throw",Mn)}function tn(Mn,jt){Mn(jt),Dt.shift(),Dt.length&&St(Dt[0][0],Dt[0][1])}}function Be(bt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var qt,It=bt[Symbol.asyncIterator];return It?It.call(bt):(bt=function xt(bt){var It="function"==typeof Symbol&&Symbol.iterator,qt=It&&bt[It],en=0;if(qt)return qt.call(bt);if(bt&&"number"==typeof bt.length)return{next:function(){return bt&&en>=bt.length&&(bt=void 0),{value:bt&&bt[en++],done:!bt}}};throw new TypeError(It?"Object is not iterable.":"Symbol.iterator is not defined.")}(bt),qt={},en("next"),en("throw"),en("return"),qt[Symbol.asyncIterator]=function(){return this},qt);function en(Dt){qt[Dt]=bt[Dt]&&function(xn){return new Promise(function(St,Vt){!function Ht(Dt,xn,St,Vt){Promise.resolve(Vt).then(function(on){Dt({value:on,done:St})},xn)}(St,Vt,(xn=bt[Dt](xn)).done,xn.value)})}}}z.d(Mt,{FC:()=>je,KL:()=>Be,_T:()=>Le,mG:()=>Ge,qq:()=>_t}),"function"==typeof SuppressedError&&SuppressedError}},Hn=>{Hn(Hn.s=923)}]);